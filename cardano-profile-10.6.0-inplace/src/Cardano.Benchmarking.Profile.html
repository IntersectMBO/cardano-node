<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE Trustworthy #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Benchmarking.Profile</span><span>
</span><span id="line-7"></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#addEras"><span class="hs-identifier">addEras</span></a></span><span>
</span><span id="line-8"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#realize"><span class="hs-identifier">realize</span></a></span><span>
</span><span id="line-9"></span><span>       </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html#foldM"><span class="hs-identifier">foldM</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Maybe.html"><span class="hs-identifier">Data.Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Maybe.html#catMaybes"><span class="hs-identifier">catMaybes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/System.IO.Unsafe.html"><span class="hs-identifier">System.IO.Unsafe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.IO.Unsafe.html#unsafePerformIO"><span class="hs-identifier">unsafePerformIO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stack.html"><span class="hs-identifier">GHC.Stack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier">HasCallStack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- Package: aeson.</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.KeyMap</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">KeyMap</span></span><span>
</span><span id="line-21"></span><span class="hs-comment">-- Package: containers.</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Strict.html"><span class="hs-identifier">Data.Map.Strict</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-23"></span><span class="hs-comment">-- Package: text.</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span>            </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-25"></span><span class="hs-comment">-- Package: scientific.</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/4m9a4kp43ngm3wz3k1bkxqq4xvd1dpl5-scientific-lib-scientific-0.3.8.0-haddock-doc/share/doc/scientific/html/src/Data.Scientific.html"><span class="hs-identifier">Data.Scientific</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Scientific</span></span><span>
</span><span id="line-27"></span><span class="hs-comment">-- Package: self.</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Genesis.html"><span class="hs-identifier">Cardano.Benchmarking.Profile.Genesis</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Genesis</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html"><span class="hs-identifier">Cardano.Benchmarking.Profile.Types</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Types</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Paths_cardano_profile.html"><span class="hs-identifier">Paths_cardano_profile</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Paths</span></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#realize"><span class="hs-identifier hs-type">realize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span>
</span><span id="line-35"></span><span id="realize"><span class="annot"><span class="annottext">realize :: HasCallStack =&gt; Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#realize"><span class="hs-identifier hs-var hs-var">realize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-comment">-- Compose the profile in the same order as the `jq` profile machinery!</span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-comment">-- 1) `addUnusedDefaults`: Adds all properties that are the same for all</span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-comment">--                         profiles. This are all candidates to be removed</span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-comment">--                         when we finally switch from `jq` to this.</span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-comment">-- 2) `shelleyAlonzoConway`: Given an epoch number (&quot;pparamsEpoch&quot;</span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-comment">--                           property) creates the &quot;genesis&quot; property</span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-comment">--                           using &quot;epoch-timeline.json&quot; and applying the</span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-comment">--                           genesis specific overlays (&quot;pparamsOverlays&quot;</span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-comment">--                           property).</span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-comment">-- 3) `overlay`: Applies an optional JSON object as an &quot;overlay&quot;. The</span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-comment">--               object is read from an envar (&quot;WB_PROFILE_OVERLAY&quot;) in</span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-comment">--               the `main` function and can override anything (some may</span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-comment">--               overridden by later steps) as long as the result is a</span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-comment">--               valid `Profile`.</span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-comment">-- 4)  `derive`: Fills the &quot;derive&quot; property.</span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-comment">-- 5)  `finalize`: Applies fixes (porting infelicities) needed to fill</span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-comment">--                 the &quot;cli_args&quot; property that is also filled here.</span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-comment">-- 6) &quot;presets&quot;: A special case of `overlay` above. The JSON file to apply</span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-comment">--               as an overlay has its name defined in the &quot;preset&quot;</span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-comment">--               property. This file has to be defined in the Cabal file.</span><span>
</span><span id="line-56"></span><span>    </span><span class="annot"><span class="annottext">HasCallStack =&gt; Profile -&gt; Profile
Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#preset"><span class="hs-identifier hs-var">preset</span></a></span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><span class="annottext">(Profile -&gt; Profile) -&gt; (Profile -&gt; Profile) -&gt; Profile -&gt; Profile
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#finalize"><span class="hs-identifier hs-var">finalize</span></a></span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><span class="annottext">(Profile -&gt; Profile) -&gt; (Profile -&gt; Profile) -&gt; Profile -&gt; Profile
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#derive"><span class="hs-identifier hs-var">derive</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><span class="annottext">(Profile -&gt; Profile) -&gt; (Profile -&gt; Profile) -&gt; Profile -&gt; Profile
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; Profile -&gt; Profile
Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#overlay"><span class="hs-identifier hs-var">overlay</span></a></span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><span class="annottext">(Profile -&gt; Profile) -&gt; (Profile -&gt; Profile) -&gt; Profile -&gt; Profile
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#shelleyAlonzoConway"><span class="hs-identifier hs-var">shelleyAlonzoConway</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><span class="annottext">(Profile -&gt; Profile) -&gt; (Profile -&gt; Profile) -&gt; Profile -&gt; Profile
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#addUnusedDefaults"><span class="hs-identifier hs-var">addUnusedDefaults</span></a></span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span class="hs-comment">{-

When defining profiles try keeping the same order as in the `Profile` type:
- Name and description
- Scenario
- Composition
- Era and genesis
- Node
- Generator
- Tracer
- Cluster
- Analysis

And common modifiers `P.traceForwardingOn  . P.newTracing . P.tracerRtview`
next to the name.

-}</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="hs-comment">-- Step 1.</span><span>
</span><span id="line-82"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#addUnusedDefaults"><span class="hs-identifier hs-type">addUnusedDefaults</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span>
</span><span id="line-85"></span><span id="addUnusedDefaults"><span class="annot"><span class="annottext">addUnusedDefaults :: Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#addUnusedDefaults"><span class="hs-identifier hs-var hs-var">addUnusedDefaults</span></a></span></span><span> </span><span id="local-6989586621679142978"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679142978"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679142978"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#genesis"><span class="hs-identifier hs-var">Types.genesis</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-87"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679142980"><span class="annot"><a href="#local-6989586621679142980"><span class="hs-identifier hs-var hs-var">genesis</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Genesis
</span><a href="Cardano.Benchmarking.Profile.Types.html#genesis"><span class="hs-identifier hs-var">Types.genesis</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679142978"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-88"></span><span>        </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><a href="#local-6989586621679142980"><span class="hs-identifier hs-type">genesis</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-89"></span><span>              </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#network_magic"><span class="hs-identifier hs-var">Types.network_magic</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">42</span></span><span>
</span><span id="line-90"></span><span>            </span><span class="hs-comment">-- TODO: Remove property?</span><span>
</span><span id="line-91"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#single_shot"><span class="hs-identifier hs-var">Types.single_shot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-type">True</span></a></span><span>
</span><span id="line-92"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#generator"><span class="hs-identifier hs-var">Types.generator</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-94"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679142984"><span class="annot"><a href="#local-6989586621679142984"><span class="hs-identifier hs-var hs-var">generator</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Generator
</span><a href="Cardano.Benchmarking.Profile.Types.html#generator"><span class="hs-identifier hs-var">Types.generator</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679142978"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-95"></span><span>        </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><a href="#local-6989586621679142984"><span class="hs-identifier hs-type">generator</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-96"></span><span>              </span><span class="hs-comment">-- TODO: Remove property?</span><span>
</span><span id="line-97"></span><span>              </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#add_tx_size"><span class="hs-identifier hs-var">Types.add_tx_size</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">100</span></span><span>
</span><span id="line-98"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-99"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#analysis"><span class="hs-identifier hs-var">Types.analysis</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-100"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679142987"><span class="annot"><a href="#local-6989586621679142987"><span class="hs-identifier hs-var hs-var">analysis</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Analysis
</span><a href="Cardano.Benchmarking.Profile.Types.html#analysis"><span class="hs-identifier hs-var">Types.analysis</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679142978"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-101"></span><span>        </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><a href="#local-6989586621679142987"><span class="hs-identifier hs-type">analysis</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-102"></span><span>              </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#cluster_base_startup_overhead_s"><span class="hs-identifier hs-var">Types.cluster_base_startup_overhead_s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">40</span></span><span>
</span><span id="line-103"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#start_log_spread_s"><span class="hs-identifier hs-var">Types.start_log_spread_s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">120</span></span><span>
</span><span id="line-104"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#last_log_spread_s"><span class="hs-identifier hs-var">Types.last_log_spread_s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">120</span></span><span>
</span><span id="line-105"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#silence_since_last_block_s"><span class="hs-identifier hs-var">Types.silence_since_last_block_s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">120</span></span><span>
</span><span id="line-106"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#tx_loss_ratio"><span class="hs-identifier hs-var">Types.tx_loss_ratio</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">0.02</span></span><span>
</span><span id="line-107"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#finish_patience"><span class="hs-identifier hs-var">Types.finish_patience</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">21</span></span><span>
</span><span id="line-108"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-comment">-- Step 2.</span><span>
</span><span id="line-112"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-comment">-- | Fill the &quot;genesis&quot; object &quot;shelley&quot;, &quot;alonzo&quot; and &quot;conway&quot; properties</span><span>
</span><span id="line-115"></span><span class="hs-comment">--   using the profile's epoch number and overlay names.</span><span>
</span><span id="line-116"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#shelleyAlonzoConway"><span class="hs-identifier hs-type">shelleyAlonzoConway</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span>
</span><span id="line-117"></span><span id="shelleyAlonzoConway"><span class="annot"><span class="annottext">shelleyAlonzoConway :: Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#shelleyAlonzoConway"><span class="hs-identifier hs-var hs-var">shelleyAlonzoConway</span></a></span></span><span> </span><span id="local-6989586621679142994"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679142994"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679142997"><span class="annot"><span class="annottext">epochNumber :: Integer
</span><a href="#local-6989586621679142997"><span class="hs-identifier hs-var hs-var">epochNumber</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; Profile -&gt; Integer
Profile -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.html#getEpochNumber"><span class="hs-identifier hs-var">getEpochNumber</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679142994"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-119"></span><span>      </span><span class="hs-comment">-- Collects all the genesis properties from &quot;epoch-timeline.json&quot;.</span><span>
</span><span id="line-120"></span><span>      </span><span id="local-6989586621679142999"><span class="annot"><span class="annottext">epoch :: Epoch
</span><a href="#local-6989586621679142999"><span class="hs-identifier hs-var hs-var">epoch</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO Epoch -&gt; Epoch
forall a. IO a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.IO.Unsafe.html#unsafePerformIO"><span class="hs-identifier hs-var">unsafePerformIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO Epoch -&gt; Epoch) -&gt; IO Epoch -&gt; Epoch
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; IO Epoch
</span><a href="Cardano.Benchmarking.Profile.Genesis.html#epochTimeline"><span class="hs-identifier hs-var">Genesis.epochTimeline</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679142997"><span class="hs-identifier hs-var">epochNumber</span></a></span><span>
</span><span id="line-121"></span><span>      </span><span class="hs-comment">-- Apply the genesis overlays (&quot;pparamsOverlays&quot;).</span><span>
</span><span id="line-122"></span><span>      </span><span id="local-6989586621679143003"><span class="annot"><span class="annottext">epoch' :: Epoch
</span><a href="#local-6989586621679143003"><span class="hs-identifier hs-var hs-var">epoch'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO Epoch -&gt; Epoch
forall a. IO a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.IO.Unsafe.html#unsafePerformIO"><span class="hs-identifier hs-var">unsafePerformIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO Epoch -&gt; Epoch) -&gt; IO Epoch -&gt; Epoch
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Epoch -&gt; String -&gt; IO Epoch) -&gt; Epoch -&gt; [String] -&gt; IO Epoch
forall (t :: * -&gt; *) (m :: * -&gt; *) b a.
(Foldable t, Monad m) =&gt;
(b -&gt; a -&gt; m b) -&gt; b -&gt; t a -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html#foldM"><span class="hs-identifier hs-var">foldM</span></a></span><span>
</span><span id="line-123"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(String -&gt; Epoch -&gt; IO Epoch) -&gt; Epoch -&gt; String -&gt; IO Epoch
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Epoch -&gt; IO Epoch
</span><a href="Cardano.Benchmarking.Profile.html#genesisOverlay"><span class="hs-identifier hs-var">genesisOverlay</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>        </span><span class="annot"><span class="annottext">Epoch
</span><a href="#local-6989586621679142999"><span class="hs-identifier hs-var">epoch</span></a></span><span>
</span><span id="line-125"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Genesis -&gt; [String]
</span><a href="Cardano.Benchmarking.Profile.Types.html#pparamsOverlays"><span class="hs-identifier hs-var">Types.pparamsOverlays</span></a></span><span> </span><span class="annot"><span class="annottext">(Genesis -&gt; [String]) -&gt; Genesis -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Genesis
</span><a href="Cardano.Benchmarking.Profile.Types.html#genesis"><span class="hs-identifier hs-var">Types.genesis</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679142994"><span class="hs-identifier hs-var">profile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>      </span><span class="hs-comment">-- Any property that was set before by the user takes precedence.</span><span>
</span><span id="line-127"></span><span>      </span><span id="local-6989586621679143008"><span class="annot"><span class="annottext">epoch'' :: Epoch
</span><a href="#local-6989586621679143008"><span class="hs-identifier hs-var hs-var">epoch''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Epoch -&gt; Epoch -&gt; Epoch
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span>
</span><span id="line-128"></span><span>                  </span><span class="annot"><span class="annottext">Epoch
</span><a href="#local-6989586621679143003"><span class="hs-identifier hs-var">epoch'</span></a></span><span>
</span><span id="line-129"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (KeyMap Value)
-&gt; Maybe (KeyMap Value) -&gt; Maybe (KeyMap Value) -&gt; Epoch
</span><a href="Cardano.Benchmarking.Profile.Genesis.html#Epoch"><span class="hs-identifier hs-var">Genesis.Epoch</span></a></span><span>
</span><span id="line-130"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KeyMap Value -&gt; Maybe (KeyMap Value)
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyMap Value -&gt; Maybe (KeyMap Value))
-&gt; KeyMap Value -&gt; Maybe (KeyMap Value)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; KeyMap Value
</span><a href="Cardano.Benchmarking.Profile.Types.html#shelley"><span class="hs-identifier hs-var">Types.shelley</span></a></span><span> </span><span class="annot"><span class="annottext">(Genesis -&gt; KeyMap Value) -&gt; Genesis -&gt; KeyMap Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Genesis
</span><a href="Cardano.Benchmarking.Profile.Types.html#genesis"><span class="hs-identifier hs-var">Types.genesis</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679142994"><span class="hs-identifier hs-var">profile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KeyMap Value -&gt; Maybe (KeyMap Value)
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyMap Value -&gt; Maybe (KeyMap Value))
-&gt; KeyMap Value -&gt; Maybe (KeyMap Value)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; KeyMap Value
</span><a href="Cardano.Benchmarking.Profile.Types.html#alonzo"><span class="hs-identifier hs-var">Types.alonzo</span></a></span><span>  </span><span class="annot"><span class="annottext">(Genesis -&gt; KeyMap Value) -&gt; Genesis -&gt; KeyMap Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Genesis
</span><a href="Cardano.Benchmarking.Profile.Types.html#genesis"><span class="hs-identifier hs-var">Types.genesis</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679142994"><span class="hs-identifier hs-var">profile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>                    </span><span class="hs-special">(</span><span>       </span><span class="annot"><span class="annottext">Genesis -&gt; Maybe (KeyMap Value)
</span><a href="Cardano.Benchmarking.Profile.Types.html#conway"><span class="hs-identifier hs-var">Types.conway</span></a></span><span>  </span><span class="annot"><span class="annottext">(Genesis -&gt; Maybe (KeyMap Value))
-&gt; Genesis -&gt; Maybe (KeyMap Value)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Genesis
</span><a href="Cardano.Benchmarking.Profile.Types.html#genesis"><span class="hs-identifier hs-var">Types.genesis</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679142994"><span class="hs-identifier hs-var">profile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>                  </span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>      </span><span id="local-6989586621679143013"><span class="annot"><span class="annottext">genesis :: (Genesis -&gt; Genesis) -&gt; Profile -&gt; Profile
</span><a href="#local-6989586621679143013"><span class="hs-identifier hs-var hs-var">genesis</span></a></span></span><span> </span><span id="local-6989586621679143014"><span class="annot"><span class="annottext">Genesis -&gt; Genesis
</span><a href="#local-6989586621679143014"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679143015"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143015"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143015"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#genesis"><span class="hs-identifier hs-var">Types.genesis</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143014"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#genesis"><span class="hs-identifier hs-var">Types.genesis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679143015"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-comment">-- Fill the profile's genesis field.</span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Genesis -&gt; Genesis) -&gt; Profile -&gt; Profile
</span><a href="#local-6989586621679143013"><span class="hs-identifier hs-var">genesis</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679143016"><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143016"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143016"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-137"></span><span>      </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#pparamsEpoch"><span class="hs-identifier hs-var">Types.pparamsEpoch</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679142997"><span class="hs-identifier hs-type">epochNumber</span></a></span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#shelley"><span class="hs-identifier hs-var">Types.shelley</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-139"></span><span>        </span><span class="hs-comment">-- The &quot;shelley&quot; object in &quot;epoch-timeline.json&quot; entries is directly the</span><span>
</span><span id="line-140"></span><span>        </span><span class="hs-comment">-- &quot;protocolParams&quot; object used in the node's &quot;shelley-genesis.json&quot;.</span><span>
</span><span id="line-141"></span><span>        </span><span class="hs-comment">-- We have to add &quot;slotLength&quot;, &quot;epochLength&quot;, &quot;securityParam&quot; and</span><span>
</span><span id="line-142"></span><span>        </span><span class="hs-comment">-- &quot;activeSlotsCoeff&quot; that are treated as first class citizens in this</span><span>
</span><span id="line-143"></span><span>        </span><span class="hs-comment">-- library, instead of JSON/KeyMap.</span><span>
</span><span id="line-144"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Genesis.html#shelley"><span class="hs-identifier hs-var">Genesis.shelley</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679143008"><span class="hs-identifier hs-type">epoch''</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-145"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679143019"><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143019"><span class="hs-identifier hs-var">sheyKeyMap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(KeyMap Value -&gt; (Key, Value) -&gt; KeyMap Value)
-&gt; KeyMap Value -&gt; [(Key, Value)] -&gt; KeyMap Value
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldl"><span class="hs-identifier hs-var">foldl</span></a></span><span>
</span><span id="line-146"></span><span>            </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679143021"><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143021"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679143022"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679143022"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679143023"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679143023"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; Value -&gt; KeyMap Value -&gt; KeyMap Value
forall v. Key -&gt; v -&gt; KeyMap v -&gt; KeyMap v
</span><span class="hs-identifier hs-var">KeyMap.insert</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679143022"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679143023"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143021"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>            </span><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143019"><span class="hs-identifier hs-var">sheyKeyMap</span></a></span><span>
</span><span id="line-148"></span><span>            </span><span class="hs-special">[</span><span>
</span><span id="line-149"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;slotLength&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; Scientific
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#realToFrac"><span class="hs-identifier hs-var">realToFrac</span></a></span><span> </span><span class="annot"><span class="annottext">(NominalDiffTime -&gt; Scientific) -&gt; NominalDiffTime -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; NominalDiffTime
</span><a href="Cardano.Benchmarking.Profile.Types.html#slot_duration"><span class="hs-identifier hs-var">Types.slot_duration</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143016"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;epochLength&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#epoch_length"><span class="hs-identifier hs-var">Types.epoch_length</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143016"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;securityParam&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#parameter_k"><span class="hs-identifier hs-var">Types.parameter_k</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143016"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;activeSlotsCoeff&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Scientific
</span><a href="Cardano.Benchmarking.Profile.Types.html#active_slots_coeff"><span class="hs-identifier hs-var">Types.active_slots_coeff</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143016"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;protocolParams&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-154"></span><span>                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Key -&gt; KeyMap Value -&gt; Maybe Value
forall v. Key -&gt; KeyMap v -&gt; Maybe v
</span><span class="hs-identifier hs-var">KeyMap.lookup</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;protocolParams&quot;</span></span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143019"><span class="hs-identifier hs-var">sheyKeyMap</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-155"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679143031"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679143031"><span class="hs-identifier hs-var">shey</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679143031"><span class="hs-identifier hs-var">shey</span></a></span><span>
</span><span id="line-156"></span><span>                  </span><span class="annot"><span class="annottext">Maybe Value
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Value
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No \&quot;protocolParams\&quot; JSON object in \&quot;shelley\&quot; property&quot;</span></span><span>
</span><span id="line-157"></span><span>              </span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-159"></span><span>          </span><span class="annot"><span class="annottext">Maybe (KeyMap Value)
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; KeyMap Value
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No \&quot;shelley\&quot; JSON object from epoch-timeline.json&quot;</span></span><span>
</span><span id="line-160"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#alonzo"><span class="hs-identifier hs-var">Types.alonzo</span></a></span><span>  </span><span class="hs-glyph">=</span><span>
</span><span id="line-161"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Genesis.html#alonzo"><span class="hs-identifier hs-var">Genesis.alonzo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679143008"><span class="hs-identifier hs-type">epoch''</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-162"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679143034"><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143034"><span class="hs-identifier hs-var">alzo</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143034"><span class="hs-identifier hs-var">alzo</span></a></span><span>
</span><span id="line-163"></span><span>          </span><span class="annot"><span class="annottext">Maybe (KeyMap Value)
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; KeyMap Value
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No \&quot;alonzo\&quot; JSON object from epoch-timeline.json&quot;</span></span><span>
</span><span id="line-164"></span><span>    </span><span class="hs-comment">-- The only &quot;optional&quot; genesis property.</span><span>
</span><span id="line-165"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#conway"><span class="hs-identifier hs-var">Types.conway</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Genesis.html#conway"><span class="hs-identifier hs-var">Genesis.conway</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679143008"><span class="hs-identifier hs-type">epoch''</span></a></span><span>
</span><span id="line-166"></span><span>    </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679142994"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#getEpochNumber"><span class="hs-identifier hs-type">getEpochNumber</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-169"></span><span id="getEpochNumber"><span class="annot"><span class="annottext">getEpochNumber :: HasCallStack =&gt; Profile -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.html#getEpochNumber"><span class="hs-identifier hs-var hs-var">getEpochNumber</span></a></span></span><span> </span><span id="local-6989586621679143047"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143047"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679143048"><span class="annot"><span class="annottext">number :: Integer
</span><a href="#local-6989586621679143048"><span class="hs-identifier hs-var hs-var">number</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#pparamsEpoch"><span class="hs-identifier hs-var">Types.pparamsEpoch</span></a></span><span> </span><span class="annot"><span class="annottext">(Genesis -&gt; Integer) -&gt; Genesis -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Genesis
</span><a href="Cardano.Benchmarking.Profile.Types.html#genesis"><span class="hs-identifier hs-var">Types.genesis</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143047"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143048"><span class="hs-identifier hs-var">number</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C%3D"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-172"></span><span>     </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">String -&gt; Integer
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Integer) -&gt; String -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Profile \&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Profile -&gt; String
</span><a href="Cardano.Benchmarking.Profile.Types.html#name"><span class="hs-identifier hs-var">Types.name</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143047"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\&quot; has epoch number = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143048"><span class="hs-identifier hs-var">number</span></a></span><span>
</span><span id="line-173"></span><span>     </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143048"><span class="hs-identifier hs-var">number</span></a></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">-- The genesis overlay files are applied to the &quot;genesis&quot; property and the ones</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- available are defined as functions in `Primitives`.</span><span>
</span><span id="line-177"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#genesisOverlay"><span class="hs-identifier hs-type">genesisOverlay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Genesis.html#Epoch"><span class="hs-identifier hs-type">Genesis.Epoch</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Genesis.html#Epoch"><span class="hs-identifier hs-type">Genesis.Epoch</span></a></span><span>
</span><span id="line-178"></span><span id="genesisOverlay"><span class="annot"><span class="annottext">genesisOverlay :: String -&gt; Epoch -&gt; IO Epoch
</span><a href="Cardano.Benchmarking.Profile.html#genesisOverlay"><span class="hs-identifier hs-var hs-var">genesisOverlay</span></a></span></span><span> </span><span id="local-6989586621679143052"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143052"><span class="hs-identifier hs-var">overlayName</span></a></span></span><span> </span><span id="local-6989586621679143053"><span class="annot"><span class="annottext">Epoch
</span><a href="#local-6989586621679143053"><span class="hs-identifier hs-var">epochParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679143057"><span class="annot"><span class="annottext">dataFileName :: String
</span><a href="#local-6989586621679143057"><span class="hs-identifier hs-var hs-var">dataFileName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;data/genesis/overlays/&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143052"><span class="hs-identifier hs-var">overlayName</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.json&quot;</span></span><span>
</span><span id="line-180"></span><span>  </span><span id="local-6989586621679143058"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143058"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
</span><a href="Paths_cardano_profile.html#getDataFileName"><span class="hs-identifier hs-var">Paths.getDataFileName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143057"><span class="hs-identifier hs-var">dataFileName</span></a></span><span>
</span><span id="line-181"></span><span>  </span><span id="local-6989586621679143060"><span class="annot"><span class="annottext">Either String Epoch
</span><a href="#local-6989586621679143060"><span class="hs-identifier hs-var">eitherValue</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO (Either String Epoch)
forall a. FromJSON a =&gt; String -&gt; IO (Either String a)
</span><span class="hs-identifier hs-var">Aeson.eitherDecodeFileStrict</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143058"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-182"></span><span>  </span><span class="annot"><span class="annottext">Epoch -&gt; IO Epoch
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Epoch -&gt; IO Epoch) -&gt; Epoch -&gt; IO Epoch
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either String Epoch
</span><a href="#local-6989586621679143060"><span class="hs-identifier hs-var">eitherValue</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-183"></span><span>    </span><span class="hs-comment">-- Right-biased merge of both JSON objects at all depths.</span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679143062"><span class="annot"><span class="annottext">Epoch
</span><a href="#local-6989586621679143062"><span class="hs-identifier hs-var">epoch</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Epoch
</span><a href="#local-6989586621679143053"><span class="hs-identifier hs-var">epochParams</span></a></span><span> </span><span class="annot"><span class="annottext">Epoch -&gt; Epoch -&gt; Epoch
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Epoch
</span><a href="#local-6989586621679143062"><span class="hs-identifier hs-var">epoch</span></a></span><span>
</span><span id="line-185"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679143063"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143063"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Epoch
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Epoch) -&gt; String -&gt; Epoch
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143058"><span class="hs-identifier hs-var">fp</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143063"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-comment">-- Step 3.</span><span>
</span><span id="line-188"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-comment">-- Merges the profile with a JSON object stored in the &quot;overlay&quot; property.</span><span>
</span><span id="line-191"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#overlay"><span class="hs-identifier hs-type">overlay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span>
</span><span id="line-192"></span><span id="overlay"><span class="annot"><span class="annottext">overlay :: HasCallStack =&gt; Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#overlay"><span class="hs-identifier hs-var hs-var">overlay</span></a></span></span><span> </span><span id="local-6989586621679143073"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143073"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-193"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679143074"><span class="annot"><span class="annottext">overlaykeyMap :: KeyMap Value
</span><a href="#local-6989586621679143074"><span class="hs-identifier hs-var hs-var">overlaykeyMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; KeyMap Value
</span><a href="Cardano.Benchmarking.Profile.Types.html#overlay"><span class="hs-identifier hs-var">Types.overlay</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143073"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="hs-comment">-- An `Aeson.Object`.</span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143074"><span class="hs-identifier hs-var">overlaykeyMap</span></a></span><span> </span><span class="annot"><span class="annottext">KeyMap Value -&gt; KeyMap Value -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%2F%3D"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">KeyMap Value
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-195"></span><span>     </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; KeyMap Value -&gt; Profile -&gt; Profile
KeyMap Value -&gt; Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#applyOverlay"><span class="hs-identifier hs-var">applyOverlay</span></a></span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143074"><span class="hs-identifier hs-var">overlaykeyMap</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143073"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-196"></span><span>     </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143073"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span class="hs-comment">-- Step 4.</span><span>
</span><span id="line-199"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-comment">-- Fills the &quot;derive&quot; property.</span><span>
</span><span id="line-202"></span><span class="hs-comment">-- &quot;derive&quot; needs above &quot;shelley&quot;, &quot;alonzo&quot; and &quot;conway&quot; properties.</span><span>
</span><span id="line-203"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#derive"><span class="hs-identifier hs-type">derive</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span>
</span><span id="line-204"></span><span id="derive"><span class="annot"><span class="annottext">derive :: Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#derive"><span class="hs-identifier hs-var hs-var">derive</span></a></span></span><span> </span><span id="local-6989586621679143078"><span class="annot"><span class="annottext">p :: Profile
</span><a href="#local-6989586621679143078"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Scenario
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679143080"><span class="annot"><span class="annottext">Composition
</span><a href="#local-6989586621679143080"><span class="hs-identifier hs-var">comp</span></a></span></span><span> </span><span id="local-6989586621679143081"><span class="annot"><span class="annottext">Era
</span><a href="#local-6989586621679143081"><span class="hs-identifier hs-var">_era</span></a></span></span><span> </span><span id="local-6989586621679143082"><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143082"><span class="hs-identifier hs-var">gsis</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe ChainDB
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679143083"><span class="annot"><span class="annottext">Node
</span><a href="#local-6989586621679143083"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679143084"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679143084"><span class="hs-identifier hs-var">gtor</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Workload]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Tracer
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe Cluster
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679143085"><span class="annot"><span class="annottext">Analysis
</span><a href="#local-6989586621679143085"><span class="hs-identifier hs-var">ana</span></a></span></span><span> </span><span class="annot"><span class="annottext">Derived
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CliArgs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-205"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span>
</span><span id="line-206"></span><span>      </span><span class="hs-comment">-- Absolute/epoch durations:</span><span>
</span><span id="line-207"></span><span>      </span><span class="hs-comment">----------------------------</span><span>
</span><span id="line-208"></span><span>      </span><span id="local-6989586621679143086"><span class="annot"><span class="annottext">slot_duration :: NominalDiffTime
</span><a href="#local-6989586621679143086"><span class="hs-identifier hs-var hs-var">slot_duration</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; NominalDiffTime
</span><a href="Cardano.Benchmarking.Profile.Types.html#slot_duration"><span class="hs-identifier hs-var">Types.slot_duration</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143082"><span class="hs-identifier hs-var">gsis</span></a></span><span> </span><span class="hs-comment">-- NominalDiffTime</span><span>
</span><span id="line-209"></span><span>      </span><span id="local-6989586621679143087"><span class="annot"><span class="annottext">slots_per_epoch :: Integer
</span><a href="#local-6989586621679143087"><span class="hs-identifier hs-var hs-var">slots_per_epoch</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#epoch_length"><span class="hs-identifier hs-var">Types.epoch_length</span></a></span><span>  </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143082"><span class="hs-identifier hs-var">gsis</span></a></span><span> </span><span class="hs-comment">-- Integer</span><span>
</span><span id="line-210"></span><span>      </span><span class="hs-comment">-- Derived NominalDiffTime.</span><span>
</span><span id="line-211"></span><span>      </span><span id="local-6989586621679143090"><span class="annot"><span class="annottext">epoch_duration :: NominalDiffTime
</span><a href="#local-6989586621679143090"><span class="hs-identifier hs-var hs-var">epoch_duration</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; NominalDiffTime
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143087"><span class="hs-identifier hs-var">slots_per_epoch</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; NominalDiffTime -&gt; NominalDiffTime
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621679143086"><span class="hs-identifier hs-var">slot_duration</span></a></span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span>      </span><span class="hs-comment">-- Block/probable durations:</span><span>
</span><span id="line-214"></span><span>      </span><span class="hs-comment">----------------------------</span><span>
</span><span id="line-215"></span><span>      </span><span id="local-6989586621679143092"><span class="annot"><span class="annottext">active_slots_coeff :: Scientific
</span><a href="#local-6989586621679143092"><span class="hs-identifier hs-var hs-var">active_slots_coeff</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Scientific
</span><a href="Cardano.Benchmarking.Profile.Types.html#active_slots_coeff"><span class="hs-identifier hs-var">Types.active_slots_coeff</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143082"><span class="hs-identifier hs-var">gsis</span></a></span><span> </span><span class="hs-comment">-- Scientific</span><span>
</span><span id="line-216"></span><span>      </span><span class="hs-comment">-- Helper Scientific.</span><span>
</span><span id="line-217"></span><span>      </span><span id="local-6989586621679143095"><span class="annot"><span class="annottext">block_per_epoch :: Scientific
</span><a href="#local-6989586621679143095"><span class="hs-identifier hs-var hs-var">block_per_epoch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143087"><span class="hs-identifier hs-var">slots_per_epoch</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Scientific -&gt; Scientific
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679143092"><span class="hs-identifier hs-var">active_slots_coeff</span></a></span><span>
</span><span id="line-218"></span><span>      </span><span class="hs-comment">-- Helper NominalDiffTime.</span><span>
</span><span id="line-219"></span><span>      </span><span id="local-6989586621679143101"><span class="annot"><span class="annottext">_block_duration :: NominalDiffTime
</span><a href="#local-6989586621679143101"><span class="hs-identifier hs-var hs-var">_block_duration</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621679143086"><span class="hs-identifier hs-var">slot_duration</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; NominalDiffTime -&gt; NominalDiffTime
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%2F"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; NominalDiffTime
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#realToFrac"><span class="hs-identifier hs-var">realToFrac</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679143092"><span class="hs-identifier hs-var">active_slots_coeff</span></a></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span>      </span><span class="hs-comment">-- Effective durations:</span><span>
</span><span id="line-222"></span><span>      </span><span class="hs-comment">-----------------------</span><span>
</span><span id="line-223"></span><span>      </span><span class="hs-comment">-- If the nodes have a &quot;--shutdown-on-*&quot; parameter we use this to</span><span>
</span><span id="line-224"></span><span>      </span><span class="hs-comment">-- calculate the epochs of the run, if there is none, we use the epochs</span><span>
</span><span id="line-225"></span><span>      </span><span class="hs-comment">-- from the generator config.</span><span>
</span><span id="line-226"></span><span>      </span><span class="hs-comment">-- Force it to a Double or get an error:</span><span>
</span><span id="line-227"></span><span>      </span><span class="hs-comment">-- -- `fromRational` has been applied to a repeating decimal</span><span>
</span><span id="line-228"></span><span>      </span><span id="local-6989586621679143114"><span class="annot"><span class="annottext">requested_epochs :: Double
</span><a href="#local-6989586621679143114"><span class="hs-identifier hs-var hs-var">requested_epochs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- A Double.</span><span>
</span><span id="line-229"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Node -&gt; Maybe Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#shutdown_on_slot_synced"><span class="hs-identifier hs-var">Types.shutdown_on_slot_synced</span></a></span><span> </span><span class="annot"><span class="annottext">Node
</span><a href="#local-6989586621679143083"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-230"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679143116"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143116"><span class="hs-identifier hs-var">shutdown_slots</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-231"></span><span>            </span><span class="annot"><span class="annottext">Integer -&gt; Double
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143116"><span class="hs-identifier hs-var">shutdown_slots</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%2F"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Double
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143087"><span class="hs-identifier hs-var">slots_per_epoch</span></a></span><span>
</span><span id="line-232"></span><span>          </span><span class="annot"><span class="annottext">Maybe Integer
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Node -&gt; Maybe Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#shutdown_on_block_synced"><span class="hs-identifier hs-var">Types.shutdown_on_block_synced</span></a></span><span> </span><span class="annot"><span class="annottext">Node
</span><a href="#local-6989586621679143083"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-233"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679143118"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143118"><span class="hs-identifier hs-var">shutdown_blocks</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-234"></span><span>              </span><span class="annot"><span class="annottext">Integer -&gt; Double
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143118"><span class="hs-identifier hs-var">shutdown_blocks</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%2F"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Double
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#realToFrac"><span class="hs-identifier hs-var">realToFrac</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679143095"><span class="hs-identifier hs-var">block_per_epoch</span></a></span><span>
</span><span id="line-235"></span><span>            </span><span class="hs-comment">-- If it does not come from the node, it comes from the generator.</span><span>
</span><span id="line-236"></span><span>            </span><span class="annot"><span class="annottext">Maybe Integer
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Double
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Double) -&gt; Integer -&gt; Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Generator -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#epochs"><span class="hs-identifier hs-var">Types.epochs</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679143084"><span class="hs-identifier hs-var">gtor</span></a></span><span>
</span><span id="line-237"></span><span>      </span><span class="hs-comment">-- Derived Integer.</span><span>
</span><span id="line-238"></span><span>      </span><span class="hs-comment">-- 1.0001 epochs is a 2 epochs profile!</span><span>
</span><span id="line-239"></span><span>      </span><span id="local-6989586621679143132"><span class="annot"><span class="annottext">requested_epochs_ceiling :: Integer
</span><a href="#local-6989586621679143132"><span class="hs-identifier hs-var hs-var">requested_epochs_ceiling</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Integer
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#ceiling"><span class="hs-identifier hs-var">ceiling</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679143114"><span class="hs-identifier hs-var">requested_epochs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span>      </span><span class="hs-comment">-- Generator:</span><span>
</span><span id="line-242"></span><span>      </span><span class="hs-comment">-------------</span><span>
</span><span id="line-243"></span><span>      </span><span id="local-6989586621679143134"><span class="annot"><span class="annottext">tps_ :: Scientific
</span><a href="#local-6989586621679143134"><span class="hs-identifier hs-var hs-var">tps_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Generator -&gt; Scientific
</span><a href="Cardano.Benchmarking.Profile.Types.html#tps"><span class="hs-identifier hs-var">Types.tps</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679143084"><span class="hs-identifier hs-var">gtor</span></a></span><span> </span><span class="hs-comment">-- Scientific</span><span>
</span><span id="line-244"></span><span>      </span><span id="local-6989586621679143138"><span class="annot"><span class="annottext">generator_requested_duration :: NominalDiffTime
</span><a href="#local-6989586621679143138"><span class="hs-identifier hs-var hs-var">generator_requested_duration</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- NominalDiffTime</span><span>
</span><span id="line-245"></span><span>        </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621679143090"><span class="hs-identifier hs-var">epoch_duration</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; NominalDiffTime -&gt; NominalDiffTime
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; NominalDiffTime
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143132"><span class="hs-identifier hs-var">requested_epochs_ceiling</span></a></span><span>
</span><span id="line-246"></span><span>      </span><span class="hs-comment">-- Helpers NominalDiffTime.</span><span>
</span><span id="line-247"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679143141"><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621679143141"><span class="hs-identifier hs-var">generator_duration</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679143142"><span class="annot"><span class="annottext">Maybe NominalDiffTime
</span><a href="#local-6989586621679143142"><span class="hs-identifier hs-var">maybe_shutdown_time</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-248"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Node -&gt; Maybe Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#shutdown_on_slot_synced"><span class="hs-identifier hs-var">Types.shutdown_on_slot_synced</span></a></span><span> </span><span class="annot"><span class="annottext">Node
</span><a href="#local-6989586621679143083"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-249"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679143143"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143143"><span class="hs-identifier hs-var">shutdown_slots</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-250"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679143146"><span class="annot"><span class="annottext">shutdown_time :: NominalDiffTime
</span><a href="#local-6989586621679143146"><span class="hs-identifier hs-var hs-var">shutdown_time</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; NominalDiffTime
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143143"><span class="hs-identifier hs-var">shutdown_slots</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; NominalDiffTime -&gt; NominalDiffTime
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621679143086"><span class="hs-identifier hs-var">slot_duration</span></a></span><span>
</span><span id="line-251"></span><span>            </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NominalDiffTime -&gt; NominalDiffTime -&gt; NominalDiffTime
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#min"><span class="hs-identifier hs-var">min</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621679143138"><span class="hs-identifier hs-var">generator_requested_duration</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621679143146"><span class="hs-identifier hs-var">shutdown_time</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; Maybe NominalDiffTime
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621679143146"><span class="hs-identifier hs-var">shutdown_time</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>          </span><span class="annot"><span class="annottext">Maybe Integer
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621679143138"><span class="hs-identifier hs-var">generator_requested_duration</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe NominalDiffTime
forall a. Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>      </span><span class="hs-comment">-- Integer.</span><span>
</span><span id="line-254"></span><span>      </span><span id="local-6989586621679143160"><span class="annot"><span class="annottext">generator_tx_count :: Integer
</span><a href="#local-6989586621679143160"><span class="hs-identifier hs-var hs-var">generator_tx_count</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Integer
forall b. Integral b =&gt; Scientific -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#ceiling"><span class="hs-identifier hs-var">ceiling</span></a></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Integer) -&gt; Scientific -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Generator -&gt; Maybe Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#tx_count"><span class="hs-identifier hs-var">Types.tx_count</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679143084"><span class="hs-identifier hs-var">gtor</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-255"></span><span>        </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679143162"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143162"><span class="hs-identifier hs-var">tx_count</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143162"><span class="hs-identifier hs-var">tx_count</span></a></span><span>
</span><span id="line-256"></span><span>        </span><span class="annot"><span class="annottext">Maybe Integer
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; Scientific
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#realToFrac"><span class="hs-identifier hs-var">realToFrac</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621679143141"><span class="hs-identifier hs-var">generator_duration</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Scientific -&gt; Scientific
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679143134"><span class="hs-identifier hs-var">tps_</span></a></span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span>      </span><span class="hs-comment">-- UTxO:</span><span>
</span><span id="line-259"></span><span>      </span><span class="hs-comment">--------</span><span>
</span><span id="line-260"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679143164"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143164"><span class="hs-identifier hs-var">effective_delegators</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679143165"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143165"><span class="hs-identifier hs-var">delegators_effective</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-261"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679143166"><span class="annot"><span class="annottext">d :: Integer
</span><a href="#local-6989586621679143166"><span class="hs-identifier hs-var hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#delegators"><span class="hs-identifier hs-var">Types.delegators</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143082"><span class="hs-identifier hs-var">gsis</span></a></span><span>
</span><span id="line-262"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143166"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#max"><span class="hs-identifier hs-var">max</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143166"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Composition -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#n_pools"><span class="hs-identifier hs-var">Types.n_pools</span></a></span><span> </span><span class="annot"><span class="annottext">Composition
</span><a href="#local-6989586621679143080"><span class="hs-identifier hs-var">comp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>      </span><span id="local-6989586621679143171"><span class="annot"><span class="annottext">utxo_generated :: Integer
</span><a href="#local-6989586621679143171"><span class="hs-identifier hs-var hs-var">utxo_generated</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143160"><span class="hs-identifier hs-var">generator_tx_count</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Generator -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#inputs_per_tx"><span class="hs-identifier hs-var">Types.inputs_per_tx</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679143084"><span class="hs-identifier hs-var">gtor</span></a></span><span>
</span><span id="line-264"></span><span>      </span><span id="local-6989586621679143175"><span class="annot"><span class="annottext">utxo_stuffed :: Integer
</span><a href="#local-6989586621679143175"><span class="hs-identifier hs-var hs-var">utxo_stuffed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#max"><span class="hs-identifier hs-var">max</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#utxo"><span class="hs-identifier hs-var">Types.utxo</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143082"><span class="hs-identifier hs-var">gsis</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span>      </span><span class="hs-comment">-- Dataset:</span><span>
</span><span id="line-267"></span><span>      </span><span class="hs-comment">-----------</span><span>
</span><span id="line-268"></span><span>      </span><span id="local-6989586621679143181"><span class="annot"><span class="annottext">dataset_measure :: Integer
</span><a href="#local-6989586621679143181"><span class="hs-identifier hs-var hs-var">dataset_measure</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-269"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#utxo"><span class="hs-identifier hs-var">Types.utxo</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143082"><span class="hs-identifier hs-var">gsis</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-270"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-271"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#utxo"><span class="hs-identifier hs-var">Types.utxo</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143082"><span class="hs-identifier hs-var">gsis</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#delegators"><span class="hs-identifier hs-var">Types.delegators</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143082"><span class="hs-identifier hs-var">gsis</span></a></span><span>
</span><span id="line-272"></span><span>      </span><span class="hs-comment">-- NominalDiffTime.</span><span>
</span><span id="line-273"></span><span>      </span><span id="local-6989586621679143188"><span class="annot"><span class="annottext">dataset_induced_startup_delay_optimistic :: NominalDiffTime
</span><a href="#local-6989586621679143188"><span class="hs-identifier hs-var hs-var">dataset_induced_startup_delay_optimistic</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-274"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143181"><span class="hs-identifier hs-var">dataset_measure</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10000</span></span><span>
</span><span id="line-275"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Analysis -&gt; NominalDiffTime
</span><a href="Cardano.Benchmarking.Profile.Types.html#cluster_base_startup_overhead_s"><span class="hs-identifier hs-var">Types.cluster_base_startup_overhead_s</span></a></span><span> </span><span class="annot"><span class="annottext">Analysis
</span><a href="#local-6989586621679143085"><span class="hs-identifier hs-var">ana</span></a></span><span>
</span><span id="line-276"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; NominalDiffTime
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143181"><span class="hs-identifier hs-var">dataset_measure</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; NominalDiffTime -&gt; NominalDiffTime
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%2F"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><span class="hs-number">50000</span></span><span>
</span><span id="line-277"></span><span>      </span><span class="hs-comment">-- NominalDiffTime</span><span>
</span><span id="line-278"></span><span>      </span><span id="local-6989586621679143195"><span class="annot"><span class="annottext">dataset_induced_startup_delay_conservative :: NominalDiffTime
</span><a href="#local-6989586621679143195"><span class="hs-identifier hs-var hs-var">dataset_induced_startup_delay_conservative</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-279"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143181"><span class="hs-identifier hs-var">dataset_measure</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10000</span></span><span>
</span><span id="line-280"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Analysis -&gt; NominalDiffTime
</span><a href="Cardano.Benchmarking.Profile.Types.html#cluster_base_startup_overhead_s"><span class="hs-identifier hs-var">Types.cluster_base_startup_overhead_s</span></a></span><span> </span><span class="annot"><span class="annottext">Analysis
</span><a href="#local-6989586621679143085"><span class="hs-identifier hs-var">ana</span></a></span><span>
</span><span id="line-281"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; NominalDiffTime
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143181"><span class="hs-identifier hs-var">dataset_measure</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; NominalDiffTime -&gt; NominalDiffTime
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%2F"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><span class="hs-number">2500</span></span><span>
</span><span id="line-282"></span><span>      </span><span class="hs-comment">-- NominalDiffTime.</span><span>
</span><span id="line-283"></span><span>      </span><span id="local-6989586621679143197"><span class="annot"><span class="annottext">genesis_future_offset :: NominalDiffTime
</span><a href="#local-6989586621679143197"><span class="hs-identifier hs-var hs-var">genesis_future_offset</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-284"></span><span>          </span><span class="annot"><span class="annottext">NominalDiffTime
</span><a href="#local-6989586621679143188"><span class="hs-identifier hs-var">dataset_induced_startup_delay_optimistic</span></a></span><span>
</span><span id="line-285"></span><span>        </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; NominalDiffTime -&gt; NominalDiffTime
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; NominalDiffTime
</span><a href="Cardano.Benchmarking.Profile.Types.html#extra_future_offset"><span class="hs-identifier hs-var">Types.extra_future_offset</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143082"><span class="hs-identifier hs-var">gsis</span></a></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span>        </span><span class="hs-comment">-- Supply:</span><span>
</span><span id="line-288"></span><span>        </span><span class="hs-comment">----------</span><span>
</span><span id="line-289"></span><span>      </span><span id="local-6989586621679143200"><span class="annot"><span class="annottext">supply_delegated :: Integer
</span><a href="#local-6989586621679143200"><span class="hs-identifier hs-var hs-var">supply_delegated</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#per_pool_balance"><span class="hs-identifier hs-var">Types.per_pool_balance</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143082"><span class="hs-identifier hs-var">gsis</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Composition -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#n_pools"><span class="hs-identifier hs-var">Types.n_pools</span></a></span><span> </span><span class="annot"><span class="annottext">Composition
</span><a href="#local-6989586621679143080"><span class="hs-identifier hs-var">comp</span></a></span><span>
</span><span id="line-290"></span><span>      </span><span id="local-6989586621679143203"><span class="annot"><span class="annottext">supply_total :: Integer
</span><a href="#local-6989586621679143203"><span class="hs-identifier hs-var hs-var">supply_total</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143200"><span class="hs-identifier hs-var">supply_delegated</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#funds_balance"><span class="hs-identifier hs-var">Types.funds_balance</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143082"><span class="hs-identifier hs-var">gsis</span></a></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span>      </span><span class="hs-comment">-- Size:</span><span>
</span><span id="line-293"></span><span>      </span><span class="hs-comment">--------</span><span>
</span><span id="line-294"></span><span>      </span><span class="hs-comment">-- genesis.shelley.protocolParams.maxBlockBodySize</span><span>
</span><span id="line-295"></span><span>      </span><span id="local-6989586621679143211"><span class="annot"><span class="annottext">maxBlockBodySize :: Scientific
</span><a href="#local-6989586621679143211"><span class="hs-identifier hs-var hs-var">maxBlockBodySize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-296"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Key -&gt; KeyMap Value -&gt; Maybe Value
forall v. Key -&gt; KeyMap v -&gt; Maybe v
</span><span class="hs-identifier hs-var">KeyMap.lookup</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;protocolParams&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Genesis -&gt; KeyMap Value
</span><a href="Cardano.Benchmarking.Profile.Types.html#shelley"><span class="hs-identifier hs-var">Types.shelley</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143082"><span class="hs-identifier hs-var">gsis</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-297"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Aeson.Object</span></span><span> </span><span id="local-6989586621679143213"><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143213"><span class="hs-identifier hs-var">pparams</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-298"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Key -&gt; KeyMap Value -&gt; Maybe Value
forall v. Key -&gt; KeyMap v -&gt; Maybe v
</span><span class="hs-identifier hs-var">KeyMap.lookup</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;maxBlockBodySize&quot;</span></span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143213"><span class="hs-identifier hs-var">pparams</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-299"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Aeson.Number</span></span><span> </span><span id="local-6989586621679143214"><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679143214"><span class="hs-identifier hs-var">scientific</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679143214"><span class="hs-identifier hs-var">scientific</span></a></span><span>
</span><span id="line-300"></span><span>              </span><span class="annot"><span class="annottext">Maybe Value
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Scientific
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No \&quot;maxBlockBodySize\&quot; Number&quot;</span></span><span>
</span><span id="line-301"></span><span>          </span><span class="annot"><span class="annottext">Maybe Value
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Scientific
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No \&quot;shelley.protocolParams\&quot; object&quot;</span></span><span>
</span><span id="line-302"></span><span>      </span><span class="hs-comment">-- XXX:  this is corruption at the highest levels, pure and simple.</span><span>
</span><span id="line-303"></span><span>      </span><span id="local-6989586621679143215"><span class="annot"><span class="annottext">default_value_tx_size_estimate :: Integer
</span><a href="#local-6989586621679143215"><span class="hs-identifier hs-var hs-var">default_value_tx_size_estimate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">381</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Bytes?</span><span>
</span><span id="line-304"></span><span>      </span><span id="local-6989586621679143227"><span class="annot"><span class="annottext">default_value_tx_per_block_estimate :: Integer
</span><a href="#local-6989586621679143227"><span class="hs-identifier hs-var hs-var">default_value_tx_per_block_estimate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Integer
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#floor"><span class="hs-identifier hs-var">floor</span></a></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Integer) -&gt; Double -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-305"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scientific -&gt; Double
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#realToFrac"><span class="hs-identifier hs-var">realToFrac</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679143211"><span class="hs-identifier hs-var">maxBlockBodySize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%2F"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Double
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143215"><span class="hs-identifier hs-var">default_value_tx_size_estimate</span></a></span><span>
</span><span id="line-306"></span><span>      </span><span id="local-6989586621679143240"><span class="annot"><span class="annottext">generator_blocks_lower_bound :: Integer
</span><a href="#local-6989586621679143240"><span class="hs-identifier hs-var hs-var">generator_blocks_lower_bound</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Integer
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#ceiling"><span class="hs-identifier hs-var">ceiling</span></a></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Integer) -&gt; Double -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-307"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1.15</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Double
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143160"><span class="hs-identifier hs-var">generator_tx_count</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%2F"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Double
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143227"><span class="hs-identifier hs-var">default_value_tx_per_block_estimate</span></a></span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143078"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-310"></span><span>       </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#derived"><span class="hs-identifier hs-var">Types.derived</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Derived"><span class="hs-identifier hs-type">Types.Derived</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-311"></span><span>       </span><span class="hs-comment">-- Duration:</span><span>
</span><span id="line-312"></span><span>         </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#effective_epochs"><span class="hs-identifier hs-var">Types.effective_epochs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143132"><span class="hs-identifier hs-type">requested_epochs_ceiling</span></a></span><span>
</span><span id="line-313"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#epoch_duration"><span class="hs-identifier hs-var">Types.epoch_duration</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143090"><span class="hs-identifier hs-type">epoch_duration</span></a></span><span>
</span><span id="line-314"></span><span>       </span><span class="hs-comment">-- Data set:</span><span>
</span><span id="line-315"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#dataset_measure"><span class="hs-identifier hs-var">Types.dataset_measure</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143181"><span class="hs-identifier hs-type">dataset_measure</span></a></span><span>
</span><span id="line-316"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#delegators_effective"><span class="hs-identifier hs-var">Types.delegators_effective</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143165"><span class="hs-identifier hs-type">delegators_effective</span></a></span><span>
</span><span id="line-317"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#genesis_future_offset"><span class="hs-identifier hs-var">Types.genesis_future_offset</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143197"><span class="hs-identifier hs-type">genesis_future_offset</span></a></span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#generator_duration"><span class="hs-identifier hs-var">Types.generator_duration</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143141"><span class="hs-identifier hs-type">generator_duration</span></a></span><span>
</span><span id="line-320"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#generator_tx_count"><span class="hs-identifier hs-var">Types.generator_tx_count</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143160"><span class="hs-identifier hs-type">generator_tx_count</span></a></span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#supply_total"><span class="hs-identifier hs-var">Types.supply_total</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143203"><span class="hs-identifier hs-type">supply_total</span></a></span><span>
</span><span id="line-323"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#supply_delegated"><span class="hs-identifier hs-var">Types.supply_delegated</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143200"><span class="hs-identifier hs-type">supply_delegated</span></a></span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#utxo_delegated"><span class="hs-identifier hs-var">Types.utxo_delegated</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143164"><span class="hs-identifier hs-type">effective_delegators</span></a></span><span>
</span><span id="line-326"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#utxo_generated"><span class="hs-identifier hs-var">Types.utxo_generated</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143171"><span class="hs-identifier hs-type">utxo_generated</span></a></span><span>
</span><span id="line-327"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#utxo_stuffed"><span class="hs-identifier hs-var">Types.utxo_stuffed</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143175"><span class="hs-identifier hs-type">utxo_stuffed</span></a></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#shutdown_time"><span class="hs-identifier hs-var">Types.shutdown_time</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143142"><span class="hs-identifier hs-type">maybe_shutdown_time</span></a></span><span>
</span><span id="line-330"></span><span>       </span><span class="hs-comment">-- XXX:  this is corruption at the highest levels, pure and simple.</span><span>
</span><span id="line-331"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#default_value_tx_size_estimate"><span class="hs-identifier hs-var">Types.default_value_tx_size_estimate</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143215"><span class="hs-identifier hs-type">default_value_tx_size_estimate</span></a></span><span>
</span><span id="line-332"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#default_value_tx_per_block_estimate"><span class="hs-identifier hs-var">Types.default_value_tx_per_block_estimate</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143227"><span class="hs-identifier hs-type">default_value_tx_per_block_estimate</span></a></span><span>
</span><span id="line-333"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#generator_blocks_lower_bound"><span class="hs-identifier hs-var">Types.generator_blocks_lower_bound</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143240"><span class="hs-identifier hs-type">generator_blocks_lower_bound</span></a></span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#dataset_induced_startup_delay_optimistic"><span class="hs-identifier hs-var">Types.dataset_induced_startup_delay_optimistic</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143188"><span class="hs-identifier hs-type">dataset_induced_startup_delay_optimistic</span></a></span><span>
</span><span id="line-336"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#dataset_induced_startup_delay_conservative"><span class="hs-identifier hs-var">Types.dataset_induced_startup_delay_conservative</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143195"><span class="hs-identifier hs-type">dataset_induced_startup_delay_conservative</span></a></span><span>
</span><span id="line-337"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-338"></span><span>     </span><span class="hs-special">}</span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span class="hs-comment">-- Step 5.</span><span>
</span><span id="line-341"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span class="hs-comment">-- Many fixes to be able to call `cliArgs`.</span><span>
</span><span id="line-344"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#finalize"><span class="hs-identifier hs-type">finalize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span>
</span><span id="line-345"></span><span id="finalize"><span class="annot"><span class="annottext">finalize :: Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#finalize"><span class="hs-identifier hs-var hs-var">finalize</span></a></span></span><span> </span><span id="local-6989586621679143261"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143261"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-347"></span><span>    </span><span class="hs-comment">-- Third, things not in &quot;derived&quot; that can't be a default.</span><span>
</span><span id="line-348"></span><span>    </span><span id="local-6989586621679143268"><span class="annot"><span class="annottext">profile' :: Profile
</span><a href="#local-6989586621679143268"><span class="hs-identifier hs-var hs-var">profile'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-349"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679143269"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143269"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143269"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-350"></span><span>          </span><span class="hs-comment">-- Genesis &quot;fixes&quot;.</span><span>
</span><span id="line-351"></span><span>          </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#genesis"><span class="hs-identifier hs-var">Types.genesis</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-352"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679143270"><span class="annot"><a href="#local-6989586621679143270"><span class="hs-identifier hs-var hs-var">genesis</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Genesis
</span><a href="Cardano.Benchmarking.Profile.Types.html#genesis"><span class="hs-identifier hs-var">Types.genesis</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143269"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-353"></span><span>            </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><a href="#local-6989586621679143270"><span class="hs-identifier hs-type">genesis</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-354"></span><span>                   </span><span class="hs-comment">-- TODO: Remove or move to derive ?</span><span>
</span><span id="line-355"></span><span>                  </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#pool_coin"><span class="hs-identifier hs-var">Types.pool_coin</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-356"></span><span>                    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#n_pools"><span class="hs-identifier hs-var">Types.n_pools</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#composition"><span class="hs-identifier hs-var">Types.composition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679143269"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-type">==</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-357"></span><span>                    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-358"></span><span>                    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#per_pool_balance"><span class="hs-identifier hs-var">Types.per_pool_balance</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679143270"><span class="hs-identifier hs-type">genesis</span></a></span><span>
</span><span id="line-359"></span><span>                  </span><span class="hs-comment">-- TODO: Remove or move to derive ?</span><span>
</span><span id="line-360"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#delegator_coin"><span class="hs-identifier hs-var">Types.delegator_coin</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-361"></span><span>                    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#delegators"><span class="hs-identifier hs-var">Types.delegators</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679143270"><span class="hs-identifier hs-type">genesis</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-type">==</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-362"></span><span>                    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-363"></span><span>                    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#per_pool_balance"><span class="hs-identifier hs-var">Types.per_pool_balance</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679143270"><span class="hs-identifier hs-type">genesis</span></a></span><span>
</span><span id="line-364"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-365"></span><span>          </span><span class="hs-comment">-- Generator &quot;fixes&quot;.</span><span>
</span><span id="line-366"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#generator"><span class="hs-identifier hs-var">Types.generator</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#generator"><span class="hs-identifier hs-var">Types.generator</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679143269"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-367"></span><span>            </span><span class="hs-comment">-- TODO: Remove or move to derive ?</span><span>
</span><span id="line-368"></span><span>            </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#tx_count"><span class="hs-identifier hs-var">Types.tx_count</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#generator_tx_count"><span class="hs-identifier hs-var">Types.generator_tx_count</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-type">$</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#derived"><span class="hs-identifier hs-var">Types.derived</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679143269"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-369"></span><span>          </span><span class="hs-comment">-- Analysis &quot;fixes&quot;.</span><span>
</span><span id="line-370"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-371"></span><span>          </span><span class="hs-comment">-- Analysis &quot;fixes&quot;.</span><span>
</span><span id="line-372"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#analysis"><span class="hs-identifier hs-var">Types.analysis</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#analysis"><span class="hs-identifier hs-var">Types.analysis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679143269"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-373"></span><span>            </span><span class="hs-comment">-- TODO: These two were set when constructing &quot;derive&quot;.</span><span>
</span><span id="line-374"></span><span>            </span><span class="hs-comment">--       Remove from &quot;analysis&quot; and add to &quot;derive&quot; ???</span><span>
</span><span id="line-375"></span><span>            </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#minimum_chain_density"><span class="hs-identifier hs-var">Types.minimum_chain_density</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-376"></span><span>              </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#active_slots_coeff"><span class="hs-identifier hs-var">Types.active_slots_coeff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#genesis"><span class="hs-identifier hs-var">Types.genesis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679143269"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-type">*</span></a></span><span> </span><span class="annot"><span class="hs-number">0.5</span></span><span>
</span><span id="line-377"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#cluster_startup_overhead_s"><span class="hs-identifier hs-var">Types.cluster_startup_overhead_s</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-378"></span><span>              </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#dataset_induced_startup_delay_conservative"><span class="hs-identifier hs-var">Types.dataset_induced_startup_delay_conservative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#derived"><span class="hs-identifier hs-var">Types.derived</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679143269"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-380"></span><span>      </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>      </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143261"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-382"></span><span>    </span><span class="hs-comment">-- The &quot;cli_args&quot; property need the &quot;derived&quot; property and above fixes.</span><span>
</span><span id="line-383"></span><span>    </span><span id="local-6989586621679143276"><span class="annot"><span class="annottext">profile'' :: Profile
</span><a href="#local-6989586621679143276"><span class="hs-identifier hs-var hs-var">profile''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#cliArgs"><span class="hs-identifier hs-var">cliArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143268"><span class="hs-identifier hs-var">profile'</span></a></span><span>
</span><span id="line-384"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143276"><span class="hs-identifier hs-var">profile''</span></a></span><span>
</span><span id="line-385"></span><span>
</span><span id="line-386"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#cliArgs"><span class="hs-identifier hs-type">cliArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span>
</span><span id="line-387"></span><span id="cliArgs"><span class="annot"><span class="annottext">cliArgs :: Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#cliArgs"><span class="hs-identifier hs-var hs-var">cliArgs</span></a></span></span><span> </span><span id="local-6989586621679143278"><span class="annot"><span class="annottext">p :: Profile
</span><a href="#local-6989586621679143278"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Scenario
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679143279"><span class="annot"><span class="annottext">Composition
</span><a href="#local-6989586621679143279"><span class="hs-identifier hs-var">comp</span></a></span></span><span> </span><span id="local-6989586621679143280"><span class="annot"><span class="annottext">Era
</span><a href="#local-6989586621679143280"><span class="hs-identifier hs-var">__</span></a></span></span><span> </span><span id="local-6989586621679143281"><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143281"><span class="hs-identifier hs-var">gsis</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe ChainDB
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Node
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Generator
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Workload]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Tracer
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe Cluster
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Analysis
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679143282"><span class="annot"><span class="annottext">Derived
</span><a href="#local-6989586621679143282"><span class="hs-identifier hs-var">dved</span></a></span></span><span> </span><span class="annot"><span class="annottext">CliArgs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-388"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-comment">--toJson = map (\(k,n) -&gt; )</span><span>
</span><span id="line-389"></span><span>      </span><span id="local-6989586621679143290"><span class="annot"><span class="annottext">fmtDecimal :: Integer -&gt; String
</span><a href="#local-6989586621679143290"><span class="hs-identifier hs-var hs-var">fmtDecimal</span></a></span></span><span> </span><span id="local-6989586621679143291"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143291"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-390"></span><span>           </span><span class="annot"><span class="annottext">FPFormat -&gt; Maybe Int -&gt; Scientific -&gt; String
</span><a href="file:///nix/store/4m9a4kp43ngm3wz3k1bkxqq4xvd1dpl5-scientific-lib-scientific-0.3.8.0-haddock-doc/share/doc/scientific/html/src/Data.Scientific.html#formatScientific"><span class="hs-identifier hs-var">Scientific.formatScientific</span></a></span><span> </span><span class="annot"><span class="annottext">FPFormat
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Lazy.Builder.RealFloat.html#Fixed"><span class="hs-identifier hs-var">Scientific.Fixed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679143291"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Scientific -&gt; Scientific
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%2F"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><span class="hs-number">100000</span></span><span class="hs-special">)</span><span>
</span><span id="line-391"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;00000&quot;</span></span><span>
</span><span id="line-392"></span><span>      </span><span id="local-6989586621679143314"><span class="annot"><span class="annottext">createStakedArgs :: [Value]
</span><a href="#local-6989586621679143314"><span class="hs-identifier hs-var hs-var">createStakedArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-393"></span><span>        </span><span class="hs-special">[</span><span>
</span><span id="line-394"></span><span>          </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--testnet-magic&quot;</span></span><span class="hs-special">,</span><span>    </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#network_magic"><span class="hs-identifier hs-var">Types.network_magic</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143281"><span class="hs-identifier hs-var">gsis</span></a></span><span>
</span><span id="line-395"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--supply&quot;</span></span><span class="hs-special">,</span><span>           </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; Text -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
</span><a href="#local-6989586621679143290"><span class="hs-identifier hs-var">fmtDecimal</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; String) -&gt; Integer -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#funds_balance"><span class="hs-identifier hs-var">Types.funds_balance</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143281"><span class="hs-identifier hs-var">gsis</span></a></span><span>
</span><span id="line-396"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--gen-utxo-keys&quot;</span></span><span class="hs-special">,</span><span>    </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#utxo_keys"><span class="hs-identifier hs-var">Types.utxo_keys</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143281"><span class="hs-identifier hs-var">gsis</span></a></span><span>
</span><span id="line-397"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--gen-genesis-keys&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Composition -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#n_bft_hosts"><span class="hs-identifier hs-var">Types.n_bft_hosts</span></a></span><span> </span><span class="annot"><span class="annottext">Composition
</span><a href="#local-6989586621679143279"><span class="hs-identifier hs-var">comp</span></a></span><span>
</span><span id="line-398"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--supply-delegated&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; Text -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
</span><a href="#local-6989586621679143290"><span class="hs-identifier hs-var">fmtDecimal</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; String) -&gt; Integer -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Derived -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#supply_delegated"><span class="hs-identifier hs-var">Types.supply_delegated</span></a></span><span> </span><span class="annot"><span class="annottext">Derived
</span><a href="#local-6989586621679143282"><span class="hs-identifier hs-var">dved</span></a></span><span>
</span><span id="line-399"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--gen-pools&quot;</span></span><span class="hs-special">,</span><span>        </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Composition -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#n_pools"><span class="hs-identifier hs-var">Types.n_pools</span></a></span><span> </span><span class="annot"><span class="annottext">Composition
</span><a href="#local-6989586621679143279"><span class="hs-identifier hs-var">comp</span></a></span><span>
</span><span id="line-400"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--gen-stake-delegs&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Derived -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#delegators_effective"><span class="hs-identifier hs-var">Types.delegators_effective</span></a></span><span> </span><span class="annot"><span class="annottext">Derived
</span><a href="#local-6989586621679143282"><span class="hs-identifier hs-var">dved</span></a></span><span>
</span><span id="line-401"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--num-stuffed-utxo&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; Text -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
</span><a href="#local-6989586621679143290"><span class="hs-identifier hs-var">fmtDecimal</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; String) -&gt; Integer -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Derived -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#utxo_stuffed"><span class="hs-identifier hs-var">Types.utxo_stuffed</span></a></span><span> </span><span class="annot"><span class="annottext">Derived
</span><a href="#local-6989586621679143282"><span class="hs-identifier hs-var">dved</span></a></span><span>
</span><span id="line-402"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-403"></span><span>        </span><span class="annot"><span class="annottext">[Value] -&gt; [Value] -&gt; [Value]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-404"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Composition -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#dense_pool_density"><span class="hs-identifier hs-var">Types.dense_pool_density</span></a></span><span> </span><span class="annot"><span class="annottext">Composition
</span><a href="#local-6989586621679143279"><span class="hs-identifier hs-var">comp</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%2F%3D"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span>
</span><span id="line-405"></span><span>        </span><span class="hs-keyword">then</span><span>
</span><span id="line-406"></span><span>          </span><span class="hs-special">[</span><span> </span><span>
</span><span id="line-407"></span><span>            </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--bulk-pool-cred-files&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Composition -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#n_dense_hosts"><span class="hs-identifier hs-var">Types.n_dense_hosts</span></a></span><span> </span><span class="annot"><span class="annottext">Composition
</span><a href="#local-6989586621679143279"><span class="hs-identifier hs-var">comp</span></a></span><span>
</span><span id="line-408"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--bulk-pools-per-file&quot;</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Composition -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#dense_pool_density"><span class="hs-identifier hs-var">Types.dense_pool_density</span></a></span><span> </span><span class="annot"><span class="annottext">Composition
</span><a href="#local-6989586621679143279"><span class="hs-identifier hs-var">comp</span></a></span><span>
</span><span id="line-409"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-410"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-411"></span><span>      </span><span id="local-6989586621679143337"><span class="annot"><span class="annottext">createTestnetDataArgs :: [Value]
</span><a href="#local-6989586621679143337"><span class="hs-identifier hs-var hs-var">createTestnetDataArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-412"></span><span>        </span><span class="hs-special">[</span><span>
</span><span id="line-413"></span><span>          </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--testnet-magic&quot;</span></span><span class="hs-special">,</span><span>    </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#network_magic"><span class="hs-identifier hs-var">Types.network_magic</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143281"><span class="hs-identifier hs-var">gsis</span></a></span><span>
</span><span id="line-414"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--total-supply&quot;</span></span><span class="hs-special">,</span><span>     </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; Text -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
</span><a href="#local-6989586621679143290"><span class="hs-identifier hs-var">fmtDecimal</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; String) -&gt; Integer -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#funds_balance"><span class="hs-identifier hs-var">Types.funds_balance</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143281"><span class="hs-identifier hs-var">gsis</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Derived -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#supply_delegated"><span class="hs-identifier hs-var">Types.supply_delegated</span></a></span><span> </span><span class="annot"><span class="annottext">Derived
</span><a href="#local-6989586621679143282"><span class="hs-identifier hs-var">dved</span></a></span><span>
</span><span id="line-415"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--utxo-keys&quot;</span></span><span class="hs-special">,</span><span>        </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#utxo_keys"><span class="hs-identifier hs-var">Types.utxo_keys</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143281"><span class="hs-identifier hs-var">gsis</span></a></span><span>
</span><span id="line-416"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--genesis-keys&quot;</span></span><span class="hs-special">,</span><span>     </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Composition -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#n_bft_hosts"><span class="hs-identifier hs-var">Types.n_bft_hosts</span></a></span><span> </span><span class="annot"><span class="annottext">Composition
</span><a href="#local-6989586621679143279"><span class="hs-identifier hs-var">comp</span></a></span><span>
</span><span id="line-417"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--delegated-supply&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; Text -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
</span><a href="#local-6989586621679143290"><span class="hs-identifier hs-var">fmtDecimal</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; String) -&gt; Integer -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Derived -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#supply_delegated"><span class="hs-identifier hs-var">Types.supply_delegated</span></a></span><span> </span><span class="annot"><span class="annottext">Derived
</span><a href="#local-6989586621679143282"><span class="hs-identifier hs-var">dved</span></a></span><span>
</span><span id="line-418"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--pools&quot;</span></span><span class="hs-special">,</span><span>            </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Composition -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#n_pools"><span class="hs-identifier hs-var">Types.n_pools</span></a></span><span> </span><span class="annot"><span class="annottext">Composition
</span><a href="#local-6989586621679143279"><span class="hs-identifier hs-var">comp</span></a></span><span>
</span><span id="line-419"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--stake-delegators&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Derived -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#delegators_effective"><span class="hs-identifier hs-var">Types.delegators_effective</span></a></span><span> </span><span class="annot"><span class="annottext">Derived
</span><a href="#local-6989586621679143282"><span class="hs-identifier hs-var">dved</span></a></span><span>
</span><span id="line-420"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--drep-keys&quot;</span></span><span class="hs-special">,</span><span>        </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Value) -&gt; Scientific -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Scientific
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Scientific) -&gt; Integer -&gt; Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#dreps"><span class="hs-identifier hs-var">Types.dreps</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143281"><span class="hs-identifier hs-var">gsis</span></a></span><span>
</span><span id="line-421"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--stuffed-utxo&quot;</span></span><span class="hs-special">,</span><span>     </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; Text -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
</span><a href="#local-6989586621679143290"><span class="hs-identifier hs-var">fmtDecimal</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; String) -&gt; Integer -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Derived -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#utxo_stuffed"><span class="hs-identifier hs-var">Types.utxo_stuffed</span></a></span><span> </span><span class="annot"><span class="annottext">Derived
</span><a href="#local-6989586621679143282"><span class="hs-identifier hs-var">dved</span></a></span><span>
</span><span id="line-422"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-423"></span><span>      </span><span id="local-6989586621679143341"><span class="annot"><span class="annottext">poolsArgs :: [Value]
</span><a href="#local-6989586621679143341"><span class="hs-identifier hs-var hs-var">poolsArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-424"></span><span>        </span><span class="hs-special">[</span><span>
</span><span id="line-425"></span><span>          </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;--argjson&quot;</span></span><span>
</span><span id="line-426"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;initialPoolCoin&quot;</span></span><span class="hs-special">,</span><span>    </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.String</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; Text -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
</span><a href="#local-6989586621679143290"><span class="hs-identifier hs-var">fmtDecimal</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; String) -&gt; Integer -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis -&gt; Integer
</span><a href="Cardano.Benchmarking.Profile.Types.html#pool_coin"><span class="hs-identifier hs-var">Types.pool_coin</span></a></span><span> </span><span class="annot"><span class="annottext">Genesis
</span><a href="#local-6989586621679143281"><span class="hs-identifier hs-var">gsis</span></a></span><span>
</span><span id="line-427"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-428"></span><span>  </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143278"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#cli_args"><span class="hs-identifier hs-var">Types.cli_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#CliArgs"><span class="hs-identifier hs-type">Types.CliArgs</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-429"></span><span>            </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#createStakedArgs"><span class="hs-identifier hs-var">Types.createStakedArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143314"><span class="hs-identifier hs-type">createStakedArgs</span></a></span><span>
</span><span id="line-430"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#createTestnetDataArgs"><span class="hs-identifier hs-var">Types.createTestnetDataArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143337"><span class="hs-identifier hs-type">createTestnetDataArgs</span></a></span><span>
</span><span id="line-431"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#pools"><span class="hs-identifier hs-var">Types.pools</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143341"><span class="hs-identifier hs-type">poolsArgs</span></a></span><span>
</span><span id="line-432"></span><span>        </span><span class="hs-special">}</span><span class="hs-special">}</span><span>
</span><span id="line-433"></span><span>
</span><span id="line-434"></span><span class="hs-comment">-- Step 6.</span><span>
</span><span id="line-435"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="hs-comment">-- Unlike `overlay` the preset content is not stored in the profile, the name of</span><span>
</span><span id="line-438"></span><span class="hs-comment">-- the already part of the profile.</span><span>
</span><span id="line-439"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#preset"><span class="hs-identifier hs-type">preset</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span>
</span><span id="line-440"></span><span id="preset"><span class="annot"><span class="annottext">preset :: HasCallStack =&gt; Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#preset"><span class="hs-identifier hs-var hs-var">preset</span></a></span></span><span> </span><span id="local-6989586621679143361"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143361"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-441"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Maybe String
</span><a href="Cardano.Benchmarking.Profile.Types.html#preset"><span class="hs-identifier hs-var">Types.preset</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143361"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-442"></span><span>    </span><span class="annot"><span class="annottext">Maybe String
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143361"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-443"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679143363"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143363"><span class="hs-identifier hs-var">presetName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO Profile -&gt; Profile
forall a. IO a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.IO.Unsafe.html#unsafePerformIO"><span class="hs-identifier hs-var">unsafePerformIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO Profile -&gt; Profile) -&gt; IO Profile -&gt; Profile
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-444"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679143367"><span class="annot"><span class="annottext">dataFileName :: String
</span><a href="#local-6989586621679143367"><span class="hs-identifier hs-var hs-var">dataFileName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;data/presets/&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143363"><span class="hs-identifier hs-var">presetName</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.json&quot;</span></span><span>
</span><span id="line-445"></span><span>      </span><span id="local-6989586621679143368"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143368"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
</span><a href="Paths_cardano_profile.html#getDataFileName"><span class="hs-identifier hs-var">Paths.getDataFileName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143367"><span class="hs-identifier hs-var">dataFileName</span></a></span><span>
</span><span id="line-446"></span><span>      </span><span id="local-6989586621679143369"><span class="annot"><span class="annottext">Either String (KeyMap Value)
</span><a href="#local-6989586621679143369"><span class="hs-identifier hs-var">eitherValue</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO (Either String (KeyMap Value))
forall a. FromJSON a =&gt; String -&gt; IO (Either String a)
</span><span class="hs-identifier hs-var">Aeson.eitherDecodeFileStrict</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143368"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-447"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either String (KeyMap Value)
</span><a href="#local-6989586621679143369"><span class="hs-identifier hs-var">eitherValue</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-448"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679143370"><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143370"><span class="hs-identifier hs-var">value</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; IO Profile
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Profile -&gt; IO Profile) -&gt; Profile -&gt; IO Profile
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; KeyMap Value -&gt; Profile -&gt; Profile
KeyMap Value -&gt; Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#applyOverlay"><span class="hs-identifier hs-var">applyOverlay</span></a></span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143370"><span class="hs-identifier hs-var">value</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143361"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-449"></span><span>        </span><span class="annot"><span class="annottext">Either String (KeyMap Value)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO Profile
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO Profile) -&gt; String -&gt; IO Profile
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Not an Aeson Object: \&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143367"><span class="hs-identifier hs-var">dataFileName</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\&quot;&quot;</span></span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span class="hs-comment">-- Merge (overlay / preset) utils.</span><span>
</span><span id="line-452"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#applyOverlay"><span class="hs-identifier hs-type">applyOverlay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Aeson.Object</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span>
</span><span id="line-455"></span><span id="applyOverlay"><span class="annot"><span class="annottext">applyOverlay :: HasCallStack =&gt; KeyMap Value -&gt; Profile -&gt; Profile
</span><a href="Cardano.Benchmarking.Profile.html#applyOverlay"><span class="hs-identifier hs-var hs-var">applyOverlay</span></a></span></span><span> </span><span id="local-6989586621679143378"><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143378"><span class="hs-identifier hs-var">overlaykeyMap</span></a></span></span><span> </span><span id="local-6989586621679143379"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143379"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-456"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679143384"><span class="annot"><span class="annottext">profileKeyMap :: KeyMap Value
</span><a href="#local-6989586621679143384"><span class="hs-identifier hs-var hs-var">profileKeyMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.toJSON</span></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143379"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-comment">-- toJson, an Aeson.Value</span><span>
</span><span id="line-457"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Aeson.Object</span></span><span> </span><span id="local-6989586621679143386"><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143386"><span class="hs-identifier hs-var">keyMap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143386"><span class="hs-identifier hs-var">keyMap</span></a></span><span>
</span><span id="line-458"></span><span>                        </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; KeyMap Value
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;What have you done?&quot;</span></span><span>
</span><span id="line-459"></span><span>      </span><span id="local-6989586621679143387"><span class="annot"><span class="annottext">union :: KeyMap Value
</span><a href="#local-6989586621679143387"><span class="hs-identifier hs-var hs-var">union</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Key -&gt; Value -&gt; Value -&gt; Value)
-&gt; KeyMap Value -&gt; KeyMap Value -&gt; KeyMap Value
forall v. (Key -&gt; v -&gt; v -&gt; v) -&gt; KeyMap v -&gt; KeyMap v -&gt; KeyMap v
</span><span class="hs-identifier hs-var">KeyMap.unionWithKey</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Value -&gt; Value -&gt; Value
</span><a href="Cardano.Benchmarking.Profile.html#unionWithKey"><span class="hs-identifier hs-var">unionWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143384"><span class="hs-identifier hs-var">profileKeyMap</span></a></span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143378"><span class="hs-identifier hs-var">overlaykeyMap</span></a></span><span>
</span><span id="line-460"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Result Profile
forall a. FromJSON a =&gt; Value -&gt; Result a
</span><span class="hs-identifier hs-var">Aeson.fromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KeyMap Value -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Object</span></span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143387"><span class="hs-identifier hs-var">union</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-461"></span><span>    </span><span class="hs-comment">-- Add the overlay to the profile.</span><span>
</span><span id="line-462"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Aeson.Success</span></span><span> </span><span id="local-6989586621679143392"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143392"><span class="hs-identifier hs-var">profile'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143392"><span class="hs-identifier hs-var">profile'</span></a></span><span>
</span><span id="line-463"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Aeson.Error</span></span><span> </span><span id="local-6989586621679143394"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143394"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Profile
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Profile) -&gt; String -&gt; Profile
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Could not apply overlay: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143394"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-464"></span><span>
</span><span id="line-465"></span><span class="hs-comment">-- Right-biased merge of both JSON objects at all depths.</span><span>
</span><span id="line-466"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#unionWithKey"><span class="hs-identifier hs-type">unionWithKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KeyMap.Key</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Aeson.Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Aeson.Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Aeson.Value</span></span><span>
</span><span id="line-467"></span><span class="hs-comment">-- Recurse if it's an object.</span><span>
</span><span id="line-468"></span><span id="unionWithKey"><span class="annot"><span class="annottext">unionWithKey :: Key -&gt; Value -&gt; Value -&gt; Value
</span><a href="Cardano.Benchmarking.Profile.html#unionWithKey"><span class="hs-identifier hs-var hs-var">unionWithKey</span></a></span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Aeson.Object</span></span><span> </span><span id="local-6989586621679143395"><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143395"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Aeson.Object</span></span><span> </span><span id="local-6989586621679143396"><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143396"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-469"></span><span>  </span><span class="annot"><span class="annottext">KeyMap Value -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Object</span></span><span> </span><span class="annot"><span class="annottext">(KeyMap Value -&gt; Value) -&gt; KeyMap Value -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Key -&gt; Value -&gt; Value -&gt; Value)
-&gt; KeyMap Value -&gt; KeyMap Value -&gt; KeyMap Value
forall v. (Key -&gt; v -&gt; v -&gt; v) -&gt; KeyMap v -&gt; KeyMap v -&gt; KeyMap v
</span><span class="hs-identifier hs-var">KeyMap.unionWithKey</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Value -&gt; Value -&gt; Value
</span><a href="Cardano.Benchmarking.Profile.html#unionWithKey"><span class="hs-identifier hs-var">unionWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143395"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">KeyMap Value
</span><a href="#local-6989586621679143396"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-470"></span><span class="hs-comment">-- If not an object prefer the right value.</span><span>
</span><span id="line-471"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#unionWithKey"><span class="hs-identifier hs-var">unionWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679143397"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679143397"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679143397"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span class="hs-comment">-- Post-processing</span><span>
</span><span id="line-475"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span class="hs-comment">-- | Specialize profile to all valid eras and add era suffix(es) to profile name.</span><span>
</span><span id="line-478"></span><span class="hs-comment">--   An era is considered valid based on the protocol version a profile might define.</span><span>
</span><span id="line-479"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#addEras"><span class="hs-identifier hs-type">addEras</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map.Map</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map.Map</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span>
</span><span id="line-480"></span><span id="addEras"><span class="annot"><span class="annottext">addEras :: Map String Profile -&gt; Map String Profile
</span><a href="Cardano.Benchmarking.Profile.html#addEras"><span class="hs-identifier hs-var hs-var">addEras</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Profile -&gt; Map String Profile)
-&gt; Map String Profile -&gt; Map String Profile
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Map String a -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#foldMap"><span class="hs-identifier hs-var">foldMap</span></a></span><span>
</span><span id="line-481"></span><span>  </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679143399"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143399"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[(String, Profile)] -&gt; Map String Profile
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Strict.Internal.html#fromList"><span class="hs-identifier hs-var">Map.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(String, Profile)] -&gt; Map String Profile)
-&gt; [(String, Profile)] -&gt; Map String Profile
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-482"></span><span>      </span><span class="annot"><span class="annottext">[Maybe (String, Profile)] -&gt; [(String, Profile)]
forall a. [Maybe a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span>
</span><span id="line-483"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Era -&gt; String -&gt; Maybe (String, Profile)
</span><a href="Cardano.Benchmarking.Profile.html#addEra"><span class="hs-identifier hs-var">addEra</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143399"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">Era
</span><a href="Cardano.Benchmarking.Profile.Types.html#Shelley"><span class="hs-identifier hs-var">Types.Shelley</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;shey&quot;</span></span><span>
</span><span id="line-484"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Era -&gt; String -&gt; Maybe (String, Profile)
</span><a href="Cardano.Benchmarking.Profile.html#addEra"><span class="hs-identifier hs-var">addEra</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143399"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">Era
</span><a href="Cardano.Benchmarking.Profile.Types.html#Allegra"><span class="hs-identifier hs-var">Types.Allegra</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;alra&quot;</span></span><span>
</span><span id="line-485"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Era -&gt; String -&gt; Maybe (String, Profile)
</span><a href="Cardano.Benchmarking.Profile.html#addEra"><span class="hs-identifier hs-var">addEra</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143399"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">Era
</span><a href="Cardano.Benchmarking.Profile.Types.html#Mary"><span class="hs-identifier hs-var">Types.Mary</span></a></span><span>    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mary&quot;</span></span><span>
</span><span id="line-486"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Era -&gt; String -&gt; Maybe (String, Profile)
</span><a href="Cardano.Benchmarking.Profile.html#addEra"><span class="hs-identifier hs-var">addEra</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143399"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">Era
</span><a href="Cardano.Benchmarking.Profile.Types.html#Alonzo"><span class="hs-identifier hs-var">Types.Alonzo</span></a></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;alzo&quot;</span></span><span>
</span><span id="line-487"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Era -&gt; String -&gt; Maybe (String, Profile)
</span><a href="Cardano.Benchmarking.Profile.html#addEra"><span class="hs-identifier hs-var">addEra</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143399"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">Era
</span><a href="Cardano.Benchmarking.Profile.Types.html#Babbage"><span class="hs-identifier hs-var">Types.Babbage</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;bage&quot;</span></span><span>
</span><span id="line-488"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Era -&gt; String -&gt; Maybe (String, Profile)
</span><a href="Cardano.Benchmarking.Profile.html#addEra"><span class="hs-identifier hs-var">addEra</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143399"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">Era
</span><a href="Cardano.Benchmarking.Profile.Types.html#Conway"><span class="hs-identifier hs-var">Types.Conway</span></a></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;coay&quot;</span></span><span>
</span><span id="line-489"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-490"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-491"></span><span>
</span><span id="line-492"></span><span class="annot"><a href="Cardano.Benchmarking.Profile.html#addEra"><span class="hs-identifier hs-type">addEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Era"><span class="hs-identifier hs-type">Types.Era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#Profile"><span class="hs-identifier hs-type">Types.Profile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-493"></span><span id="addEra"><span class="annot"><span class="annottext">addEra :: Profile -&gt; Era -&gt; String -&gt; Maybe (String, Profile)
</span><a href="Cardano.Benchmarking.Profile.html#addEra"><span class="hs-identifier hs-var hs-var">addEra</span></a></span></span><span> </span><span id="local-6989586621679143408"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143408"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679143409"><span class="annot"><span class="annottext">Era
</span><a href="#local-6989586621679143409"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621679143410"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143410"><span class="hs-identifier hs-var">suffix</span></a></span></span><span>
</span><span id="line-494"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679143411"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679143411"><span class="hs-identifier hs-var">major</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Maybe (Int, Int)
</span><a href="Cardano.Benchmarking.Profile.Types.html#profileProtocolVersion"><span class="hs-identifier hs-var">Types.profileProtocolVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143408"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-495"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Era
</span><a href="#local-6989586621679143409"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">Era -&gt; Era -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Era
</span><a href="Cardano.Benchmarking.Profile.Types.html#firstEraForMajorVersion"><span class="hs-identifier hs-var">Types.firstEraForMajorVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679143411"><span class="hs-identifier hs-var">major</span></a></span><span>
</span><span id="line-496"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (String, Profile)
forall a. Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-497"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-498"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679143414"><span class="annot"><span class="annottext">name :: String
</span><a href="#local-6989586621679143414"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; String
</span><a href="Cardano.Benchmarking.Profile.Types.html#name"><span class="hs-identifier hs-var">Types.name</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143408"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-499"></span><span>          </span><span id="local-6989586621679143417"><span class="annot"><span class="annottext">newName :: String
</span><a href="#local-6989586621679143417"><span class="hs-identifier hs-var hs-var">newName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143414"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143410"><span class="hs-identifier hs-var">suffix</span></a></span><span>
</span><span id="line-500"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(String, Profile) -&gt; Maybe (String, Profile)
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679143417"><span class="hs-identifier hs-var">newName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621679143408"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#name"><span class="hs-identifier hs-var">Types.name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143417"><span class="hs-identifier hs-type">newName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Profile.Types.html#era"><span class="hs-identifier hs-var">Types.era</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679143409"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-501"></span></pre></body></html>