<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DeriveFunctor         #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings     #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables   #-}</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- | This module provides a 'FieldGrammarParser', one way to parse</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- @.cabal@ -like files.</span><span>
</span><span id="line-7"></span><span class="hs-comment">--</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- Fields can be specified multiple times in the .cabal files.  The order of</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- such entries is important, but the mutual ordering of different fields is</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- not.Also conditional sections are considered after non-conditional data.</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- The example of this silent-commutation quirk is the fact that</span><span>
</span><span id="line-12"></span><span class="hs-comment">--</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- buildable: True</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- if os(linux)</span><span>
</span><span id="line-16"></span><span class="hs-comment">--   buildable: False</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-18"></span><span class="hs-comment">--</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- and</span><span>
</span><span id="line-20"></span><span class="hs-comment">--</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- if os(linux)</span><span>
</span><span id="line-23"></span><span class="hs-comment">--   buildable: False</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- buildable: True</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-26"></span><span class="hs-comment">--</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- behave the same! This is the limitation of 'GeneralPackageDescription'</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- structure.</span><span>
</span><span id="line-29"></span><span class="hs-comment">--</span><span>
</span><span id="line-30"></span><span class="hs-comment">-- So we transform the list of fields @['Field' ann]@ into</span><span>
</span><span id="line-31"></span><span class="hs-comment">-- a map of grouped ordinary fields and a list of lists of sections:</span><span>
</span><span id="line-32"></span><span class="hs-comment">-- @'Fields' ann = 'Map' 'FieldName' ['NamelessField' ann]@ and @[['Section' ann]]@.</span><span>
</span><span id="line-33"></span><span class="hs-comment">--</span><span>
</span><span id="line-34"></span><span class="hs-comment">-- We need list of list of sections, because we need to distinguish situations</span><span>
</span><span id="line-35"></span><span class="hs-comment">-- where there are fields in between. For example</span><span>
</span><span id="line-36"></span><span class="hs-comment">--</span><span>
</span><span id="line-37"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-38"></span><span class="hs-comment">-- if flag(bytestring-lt-0_10_4)</span><span>
</span><span id="line-39"></span><span class="hs-comment">--   build-depends: bytestring &lt; 0.10.4</span><span>
</span><span id="line-40"></span><span class="hs-comment">--</span><span>
</span><span id="line-41"></span><span class="hs-comment">-- default-language: Haskell2020</span><span>
</span><span id="line-42"></span><span class="hs-comment">--</span><span>
</span><span id="line-43"></span><span class="hs-comment">-- else</span><span>
</span><span id="line-44"></span><span class="hs-comment">--   build-depends: bytestring &gt;= 0.10.4</span><span>
</span><span id="line-45"></span><span class="hs-comment">--</span><span>
</span><span id="line-46"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-47"></span><span class="hs-comment">--</span><span>
</span><span id="line-48"></span><span class="hs-comment">-- is obviously invalid specification.</span><span>
</span><span id="line-49"></span><span class="hs-comment">--</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- We can parse 'Fields' like we parse @aeson@ objects, yet we use</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- slightly higher-level API, so we can process unspecified fields,</span><span>
</span><span id="line-52"></span><span class="hs-comment">-- to report unknown fields and save custom @x-fields@.</span><span>
</span><span id="line-53"></span><span class="hs-comment">--</span><span>
</span><span id="line-54"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Distribution.FieldGrammar.Parsec</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#ParsecFieldGrammar"><span class="hs-identifier">ParsecFieldGrammar</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>    </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#parseFieldGrammar"><span class="hs-identifier">parseFieldGrammar</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>    </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#fieldGrammarKnownFieldList"><span class="hs-identifier">fieldGrammarKnownFieldList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Auxiliary</span></span><span>
</span><span id="line-59"></span><span>    </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#Fields"><span class="hs-identifier">Fields</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>    </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#NamelessField"><span class="hs-identifier">NamelessField</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>    </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#namelessFieldAnn"><span class="hs-identifier">namelessFieldAnn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>    </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#Section"><span class="hs-identifier">Section</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>    </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#runFieldParser"><span class="hs-identifier">runFieldParser</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>    </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#runFieldParser%27"><span class="hs-identifier">runFieldParser'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>    </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#fieldLinesToStream"><span class="hs-identifier">fieldLinesToStream</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">)</span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Compat.Newtype.html"><span class="hs-identifier">Distribution.Compat.Newtype</span></a></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Compat.Prelude.html"><span class="hs-identifier">Distribution.Compat.Prelude</span></a></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Utils.Generic.html"><span class="hs-identifier">Distribution.Utils.Generic</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Generic.html#fromUTF8BS"><span class="hs-identifier">fromUTF8BS</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Utils.String.html"><span class="hs-identifier">Distribution.Utils.String</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.String.html#trim"><span class="hs-identifier">trim</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.2.1/src/Prelude.html#/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../bytestring-0.11.5.3/src/Data.ByteString.html#/Data.ByteString.html"><span class="hs-identifier">Data.ByteString</span></a></span><span>              </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../base-4.18.2.1/src/Data.List.NonEmpty.html#/Data.List.NonEmpty.html"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span>           </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NE</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers-0.6.7/src/Data.Map.Strict.html#/Data.Map.Strict.html"><span class="hs-identifier">Data.Map.Strict</span></a></span><span>              </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers-0.6.7/src/Data.Set.html#/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span>                     </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.Utils.ShortText.html"><span class="hs-identifier">Distribution.Utils.ShortText</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ShortText</span></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../parsec-3.1.16.1/src/Text.Parsec.html#/Text.Parsec.html"><span class="hs-identifier">Text.Parsec</span></a></span><span>                  </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">P</span></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../parsec-3.1.16.1/src/Text.Parsec.Error.html#/Text.Parsec.Error.html"><span class="hs-identifier">Text.Parsec.Error</span></a></span><span>            </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">P</span></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.CabalSpecVersion.html"><span class="hs-identifier">Distribution.CabalSpecVersion</span></a></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.FieldGrammar.Class.html"><span class="hs-identifier">Distribution.FieldGrammar.Class</span></a></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Fields.Field.html"><span class="hs-identifier">Distribution.Fields.Field</span></a></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Fields.ParseResult.html"><span class="hs-identifier">Distribution.Fields.ParseResult</span></a></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Parsec.html"><span class="hs-identifier">Distribution.Parsec</span></a></span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Parsec.FieldLineStream.html"><span class="hs-identifier">Distribution.Parsec.FieldLineStream</span></a></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Parsec.Position.html"><span class="hs-identifier">Distribution.Parsec.Position</span></a></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Parsec.Position.html#positionCol"><span class="hs-identifier">positionCol</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Parsec.Position.html#positionRow"><span class="hs-identifier">positionRow</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-91"></span><span class="hs-comment">-- Auxiliary types</span><span>
</span><span id="line-92"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-keyword">type</span><span> </span><span id="Fields"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#Fields"><span class="hs-identifier hs-var">Fields</span></a></span></span><span> </span><span id="local-6989586621679453597"><span class="annot"><a href="#local-6989586621679453597"><span class="hs-identifier hs-type">ann</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../containers-0.6.7/src/Data.Map.Internal.html#Map/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Distribution.Fields.Field.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#NamelessField"><span class="hs-identifier hs-type">NamelessField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453597"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="annot"><span class="hs-comment">-- | Single field, without name, but with its annotation.</span></span><span>
</span><span id="line-97"></span><span class="hs-keyword">data</span><span> </span><span id="NamelessField"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#NamelessField"><span class="hs-identifier hs-var">NamelessField</span></a></span></span><span> </span><span id="local-6989586621679453598"><span class="annot"><a href="#local-6989586621679453598"><span class="hs-identifier hs-type">ann</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MkNamelessField"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-var">MkNamelessField</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679453598"><span class="hs-identifier hs-type">ann</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453598"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679453602"><span id="local-6989586621679453608"><span class="annot"><span class="annottext">NamelessField ann -&gt; NamelessField ann -&gt; Bool
(NamelessField ann -&gt; NamelessField ann -&gt; Bool)
-&gt; (NamelessField ann -&gt; NamelessField ann -&gt; Bool)
-&gt; Eq (NamelessField ann)
forall ann.
Eq ann =&gt;
NamelessField ann -&gt; NamelessField ann -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall ann.
Eq ann =&gt;
NamelessField ann -&gt; NamelessField ann -&gt; Bool
== :: NamelessField ann -&gt; NamelessField ann -&gt; Bool
$c/= :: forall ann.
Eq ann =&gt;
NamelessField ann -&gt; NamelessField ann -&gt; Bool
/= :: NamelessField ann -&gt; NamelessField ann -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679453615"><span id="local-6989586621679453623"><span id="local-6989586621679453627"><span class="annot"><span class="annottext">Int -&gt; NamelessField ann -&gt; ShowS
[NamelessField ann] -&gt; ShowS
NamelessField ann -&gt; [Char]
(Int -&gt; NamelessField ann -&gt; ShowS)
-&gt; (NamelessField ann -&gt; [Char])
-&gt; ([NamelessField ann] -&gt; ShowS)
-&gt; Show (NamelessField ann)
forall ann. Show ann =&gt; Int -&gt; NamelessField ann -&gt; ShowS
forall ann. Show ann =&gt; [NamelessField ann] -&gt; ShowS
forall ann. Show ann =&gt; NamelessField ann -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall ann. Show ann =&gt; Int -&gt; NamelessField ann -&gt; ShowS
showsPrec :: Int -&gt; NamelessField ann -&gt; ShowS
$cshow :: forall ann. Show ann =&gt; NamelessField ann -&gt; [Char]
show :: NamelessField ann -&gt; [Char]
$cshowList :: forall ann. Show ann =&gt; [NamelessField ann] -&gt; ShowS
showList :: [NamelessField ann] -&gt; ShowS
</span><a href="../../base-4.18.2.1/src/GHC.Show.html#Show/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679453632"><span id="local-6989586621679453638"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; NamelessField a -&gt; NamelessField b)
-&gt; (forall a b. a -&gt; NamelessField b -&gt; NamelessField a)
-&gt; Functor NamelessField
forall a b. a -&gt; NamelessField b -&gt; NamelessField a
forall a b. (a -&gt; b) -&gt; NamelessField a -&gt; NamelessField b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; NamelessField a -&gt; NamelessField b
fmap :: forall a b. (a -&gt; b) -&gt; NamelessField a -&gt; NamelessField b
$c&lt;$ :: forall a b. a -&gt; NamelessField b -&gt; NamelessField a
&lt;$ :: forall a b. a -&gt; NamelessField b -&gt; NamelessField a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#Functor/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span id="local-6989586621679453294"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#namelessFieldAnn"><span class="hs-identifier hs-type">namelessFieldAnn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#NamelessField"><span class="hs-identifier hs-type">NamelessField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453294"><span class="hs-identifier hs-type">ann</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679453294"><span class="hs-identifier hs-type">ann</span></a></span></span><span>
</span><span id="line-101"></span><span id="namelessFieldAnn"><span class="annot"><span class="annottext">namelessFieldAnn :: forall ann. NamelessField ann -&gt; ann
</span><a href="Distribution.FieldGrammar.Parsec.html#namelessFieldAnn"><span class="hs-identifier hs-var hs-var">namelessFieldAnn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679453643"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621679453643"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="annot"><span class="annottext">[FieldLine ann]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621679453643"><span class="hs-identifier hs-var">ann</span></a></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="annot"><span class="hs-comment">-- | The 'Section' constructor of 'Field'.</span></span><span>
</span><span id="line-104"></span><span class="hs-keyword">data</span><span> </span><span id="Section"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#Section"><span class="hs-identifier hs-var">Section</span></a></span></span><span> </span><span id="local-6989586621679453644"><span class="annot"><a href="#local-6989586621679453644"><span class="hs-identifier hs-type">ann</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MkSection"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkSection"><span class="hs-identifier hs-var">MkSection</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Fields.Field.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453644"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Fields.Field.html#SectionArg"><span class="hs-identifier hs-type">SectionArg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453644"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Fields.Field.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453644"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679453648"><span id="local-6989586621679453656"><span class="annot"><span class="annottext">Section ann -&gt; Section ann -&gt; Bool
(Section ann -&gt; Section ann -&gt; Bool)
-&gt; (Section ann -&gt; Section ann -&gt; Bool) -&gt; Eq (Section ann)
forall ann. Eq ann =&gt; Section ann -&gt; Section ann -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall ann. Eq ann =&gt; Section ann -&gt; Section ann -&gt; Bool
== :: Section ann -&gt; Section ann -&gt; Bool
$c/= :: forall ann. Eq ann =&gt; Section ann -&gt; Section ann -&gt; Bool
/= :: Section ann -&gt; Section ann -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679453663"><span id="local-6989586621679453672"><span id="local-6989586621679453676"><span class="annot"><span class="annottext">Int -&gt; Section ann -&gt; ShowS
[Section ann] -&gt; ShowS
Section ann -&gt; [Char]
(Int -&gt; Section ann -&gt; ShowS)
-&gt; (Section ann -&gt; [Char])
-&gt; ([Section ann] -&gt; ShowS)
-&gt; Show (Section ann)
forall ann. Show ann =&gt; Int -&gt; Section ann -&gt; ShowS
forall ann. Show ann =&gt; [Section ann] -&gt; ShowS
forall ann. Show ann =&gt; Section ann -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall ann. Show ann =&gt; Int -&gt; Section ann -&gt; ShowS
showsPrec :: Int -&gt; Section ann -&gt; ShowS
$cshow :: forall ann. Show ann =&gt; Section ann -&gt; [Char]
show :: Section ann -&gt; [Char]
$cshowList :: forall ann. Show ann =&gt; [Section ann] -&gt; ShowS
showList :: [Section ann] -&gt; ShowS
</span><a href="../../base-4.18.2.1/src/GHC.Show.html#Show/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679453681"><span id="local-6989586621679453691"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; Section a -&gt; Section b)
-&gt; (forall a b. a -&gt; Section b -&gt; Section a) -&gt; Functor Section
forall a b. a -&gt; Section b -&gt; Section a
forall a b. (a -&gt; b) -&gt; Section a -&gt; Section b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; Section a -&gt; Section b
fmap :: forall a b. (a -&gt; b) -&gt; Section a -&gt; Section b
$c&lt;$ :: forall a b. a -&gt; Section b -&gt; Section a
&lt;$ :: forall a b. a -&gt; Section b -&gt; Section a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#Functor/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- ParsecFieldGrammar</span><span>
</span><span id="line-109"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-keyword">data</span><span> </span><span id="ParsecFieldGrammar"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#ParsecFieldGrammar"><span class="hs-identifier hs-var">ParsecFieldGrammar</span></a></span></span><span> </span><span id="local-6989586621679453310"><span class="annot"><a href="#local-6989586621679453310"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679453311"><span class="annot"><a href="#local-6989586621679453311"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ParsecFG"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span></span><span>
</span><span id="line-112"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="fieldGrammarKnownFields"><span class="annot"><span class="annottext">forall s a. ParsecFieldGrammar s a -&gt; Set FieldName
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldGrammarKnownFields"><span class="hs-identifier hs-var hs-var">fieldGrammarKnownFields</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.7/src/Data.Set.Internal.html#Set/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="Distribution.Fields.Field.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldGrammarKnownPrefixes"><span class="annot"><span class="annottext">forall s a. ParsecFieldGrammar s a -&gt; Set FieldName
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldGrammarKnownPrefixes"><span class="hs-identifier hs-var hs-var">fieldGrammarKnownPrefixes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.7/src/Data.Set.Internal.html#Set/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="Distribution.Fields.Field.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="fieldGrammarParser"><span class="annot"><span class="annottext">forall s a.
ParsecFieldGrammar s a
-&gt; CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldGrammarParser"><span class="hs-identifier hs-var hs-var">fieldGrammarParser</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.CabalSpecVersion.html#CabalSpecVersion"><span class="hs-identifier hs-type">CabalSpecVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#Fields"><span class="hs-identifier hs-type">Fields</span></a></span><span> </span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Fields.ParseResult.html#ParseResult"><span class="hs-identifier hs-type">ParseResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453311"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679453703"><span id="local-6989586621679453707"><span class="annot"><span class="annottext">(forall a b.
 (a -&gt; b) -&gt; ParsecFieldGrammar s a -&gt; ParsecFieldGrammar s b)
-&gt; (forall a b.
    a -&gt; ParsecFieldGrammar s b -&gt; ParsecFieldGrammar s a)
-&gt; Functor (ParsecFieldGrammar s)
forall a b. a -&gt; ParsecFieldGrammar s b -&gt; ParsecFieldGrammar s a
forall a b.
(a -&gt; b) -&gt; ParsecFieldGrammar s a -&gt; ParsecFieldGrammar s b
forall s a b. a -&gt; ParsecFieldGrammar s b -&gt; ParsecFieldGrammar s a
forall s a b.
(a -&gt; b) -&gt; ParsecFieldGrammar s a -&gt; ParsecFieldGrammar s b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall s a b.
(a -&gt; b) -&gt; ParsecFieldGrammar s a -&gt; ParsecFieldGrammar s b
fmap :: forall a b.
(a -&gt; b) -&gt; ParsecFieldGrammar s a -&gt; ParsecFieldGrammar s b
$c&lt;$ :: forall s a b. a -&gt; ParsecFieldGrammar s b -&gt; ParsecFieldGrammar s a
&lt;$ :: forall a b. a -&gt; ParsecFieldGrammar s b -&gt; ParsecFieldGrammar s a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#Functor/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span id="local-6989586621679453325"><span id="local-6989586621679453326"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#parseFieldGrammar"><span class="hs-identifier hs-type">parseFieldGrammar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.CabalSpecVersion.html#CabalSpecVersion"><span class="hs-identifier hs-type">CabalSpecVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#Fields"><span class="hs-identifier hs-type">Fields</span></a></span><span> </span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#ParsecFieldGrammar"><span class="hs-identifier hs-type">ParsecFieldGrammar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453325"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453326"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Fields.ParseResult.html#ParseResult"><span class="hs-identifier hs-type">ParseResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453326"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-119"></span><span id="parseFieldGrammar"><span class="annot"><span class="annottext">parseFieldGrammar :: forall s a.
CabalSpecVersion
-&gt; Fields Position -&gt; ParsecFieldGrammar s a -&gt; ParseResult a
</span><a href="Distribution.FieldGrammar.Parsec.html#parseFieldGrammar"><span class="hs-identifier hs-var hs-var">parseFieldGrammar</span></a></span></span><span> </span><span id="local-6989586621679453718"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453718"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679453719"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453719"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span id="local-6989586621679453720"><span class="annot"><span class="annottext">ParsecFieldGrammar s a
</span><a href="#local-6989586621679453720"><span class="hs-identifier hs-var">grammar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-120"></span><span>    </span><span class="annot"><span class="annottext">[(FieldName, [NamelessField Position])]
-&gt; ((FieldName, [NamelessField Position]) -&gt; ParseResult ())
-&gt; ParseResult ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#for_/Data.Foldable.html#for_"><span class="hs-identifier hs-var">for_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Fields Position -&gt; [(FieldName, [NamelessField Position])]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#toList/Data.Map.Internal.html#toList"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FieldName -&gt; [NamelessField Position] -&gt; Bool)
-&gt; Fields Position -&gt; Fields Position
forall k a. (k -&gt; a -&gt; Bool) -&gt; Map k a -&gt; Map k a
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#filterWithKey/Data.Map.Internal.html#filterWithKey"><span class="hs-identifier hs-var">Map.filterWithKey</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [NamelessField Position] -&gt; Bool
forall {p}. FieldName -&gt; p -&gt; Bool
</span><a href="#local-6989586621679453724"><span class="hs-identifier hs-var">isUnknownField</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453719"><span class="hs-identifier hs-var">fields</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(((FieldName, [NamelessField Position]) -&gt; ParseResult ())
 -&gt; ParseResult ())
-&gt; ((FieldName, [NamelessField Position]) -&gt; ParseResult ())
-&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679453725"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453725"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679453726"><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453726"><span class="hs-identifier hs-var">nfields</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-121"></span><span>        </span><span class="annot"><span class="annottext">[NamelessField Position]
-&gt; (NamelessField Position -&gt; ParseResult ()) -&gt; ParseResult ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#for_/Data.Foldable.html#for_"><span class="hs-identifier hs-var">for_</span></a></span><span> </span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453726"><span class="hs-identifier hs-var">nfields</span></a></span><span> </span><span class="annot"><span class="annottext">((NamelessField Position -&gt; ParseResult ()) -&gt; ParseResult ())
-&gt; (NamelessField Position -&gt; ParseResult ()) -&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679453727"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679453727"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-122"></span><span>            </span><span class="annot"><span class="annottext">Position -&gt; PWarnType -&gt; [Char] -&gt; ParseResult ()
</span><a href="Distribution.Fields.ParseResult.html#parseWarning"><span class="hs-identifier hs-var">parseWarning</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679453727"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">PWarnType
</span><a href="Distribution.Parsec.Warning.html#PWTUnknownField"><span class="hs-identifier hs-var">PWTUnknownField</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ParseResult ()) -&gt; [Char] -&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Unknown field: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="../../base-4.18.2.1/src/GHC.Show.html#show/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453725"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-123"></span><span>            </span><span class="hs-comment">-- TODO: fields allowed in this section</span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span>    </span><span class="hs-comment">-- parse</span><span>
</span><span id="line-126"></span><span>    </span><span class="annot"><span class="annottext">ParsecFieldGrammar s a
-&gt; CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
forall s a.
ParsecFieldGrammar s a
-&gt; CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldGrammarParser"><span class="hs-identifier hs-var">fieldGrammarParser</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecFieldGrammar s a
</span><a href="#local-6989586621679453720"><span class="hs-identifier hs-var">grammar</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453718"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453719"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-129"></span><span>    </span><span id="local-6989586621679453724"><span class="annot"><span class="annottext">isUnknownField :: FieldName -&gt; p -&gt; Bool
</span><a href="#local-6989586621679453724"><span class="hs-identifier hs-var hs-var">isUnknownField</span></a></span></span><span> </span><span id="local-6989586621679453735"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453735"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-130"></span><span>        </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453735"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; Set FieldName -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#member/Data.Set.Internal.html#member"><span class="hs-operator hs-var">`Set.member`</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecFieldGrammar s a -&gt; Set FieldName
forall s a. ParsecFieldGrammar s a -&gt; Set FieldName
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldGrammarKnownFields"><span class="hs-identifier hs-var">fieldGrammarKnownFields</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecFieldGrammar s a
</span><a href="#local-6989586621679453720"><span class="hs-identifier hs-var">grammar</span></a></span><span>
</span><span id="line-131"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">(FieldName -&gt; Bool) -&gt; Set FieldName -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#any/Data.Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName -&gt; FieldName -&gt; Bool
</span><a href="../../bytestring-0.11.5.3/src/Data.ByteString.html#isPrefixOf/Data.ByteString.html#isPrefixOf"><span class="hs-operator hs-var">`BS.isPrefixOf`</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453735"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParsecFieldGrammar s a -&gt; Set FieldName
forall s a. ParsecFieldGrammar s a -&gt; Set FieldName
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldGrammarKnownPrefixes"><span class="hs-identifier hs-var">fieldGrammarKnownPrefixes</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecFieldGrammar s a
</span><a href="#local-6989586621679453720"><span class="hs-identifier hs-var">grammar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span id="local-6989586621679453347"><span id="local-6989586621679453348"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#fieldGrammarKnownFieldList"><span class="hs-identifier hs-type">fieldGrammarKnownFieldList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#ParsecFieldGrammar"><span class="hs-identifier hs-type">ParsecFieldGrammar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453347"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453348"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-134"></span><span id="fieldGrammarKnownFieldList"><span class="annot"><span class="annottext">fieldGrammarKnownFieldList :: forall s a. ParsecFieldGrammar s a -&gt; [FieldName]
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldGrammarKnownFieldList"><span class="hs-identifier hs-var hs-var">fieldGrammarKnownFieldList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName -&gt; [FieldName]
forall a. Set a -&gt; [a]
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#toList/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">Set.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(Set FieldName -&gt; [FieldName])
-&gt; (ParsecFieldGrammar s a -&gt; Set FieldName)
-&gt; ParsecFieldGrammar s a
-&gt; [FieldName]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecFieldGrammar s a -&gt; Set FieldName
forall s a. ParsecFieldGrammar s a -&gt; Set FieldName
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldGrammarKnownFields"><span class="hs-identifier hs-var">fieldGrammarKnownFields</span></a></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679453367"><span id="local-6989586621679453748"><span id="local-6989586621679453752"><span id="local-6989586621679453755"><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Base.html#Applicative/GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#ParsecFieldGrammar"><span class="hs-identifier hs-type">ParsecFieldGrammar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453367"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-137"></span><span>    </span><span id="local-6989586621679453763"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; ParsecFieldGrammar s a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></a></span></span><span> </span><span id="local-6989586621679453764"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679453764"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
forall a. Monoid a =&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#mempty/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
forall a. Monoid a =&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#mempty/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">CabalSpecVersion
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; ParseResult a
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679453764"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-pragma hs-type">pure</span></a></span><span>  </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span>    </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-type">ParsecFG</span></a></span><span> </span><span id="local-6989586621679453769"><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679453769"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679453770"><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679453770"><span class="hs-identifier hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679453771"><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult (a -&gt; b)
</span><a href="#local-6989586621679453771"><span class="hs-identifier hs-var">f''</span></a></span></span><span> </span><span id="local-6989586621679453772"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b.
ParsecFieldGrammar s (a -&gt; b)
-&gt; ParsecFieldGrammar s a -&gt; ParsecFieldGrammar s b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></a></span></span><span> </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-type">ParsecFG</span></a></span><span> </span><span id="local-6989586621679453773"><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679453773"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679453774"><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679453774"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span id="local-6989586621679453775"><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679453775"><span class="hs-identifier hs-var">x''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult b)
-&gt; ParsecFieldGrammar s b
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span>
</span><span id="line-141"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set FieldName -&gt; Set FieldName -&gt; Set FieldName
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#mappend/GHC.Base.html#mappend"><span class="hs-identifier hs-var">mappend</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679453769"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679453773"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set FieldName -&gt; Set FieldName -&gt; Set FieldName
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#mappend/GHC.Base.html#mappend"><span class="hs-identifier hs-var">mappend</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679453770"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679453774"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>        </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679453776"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453776"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679453777"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453777"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult (a -&gt; b)
</span><a href="#local-6989586621679453771"><span class="hs-identifier hs-var">f''</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453776"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453777"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="annot"><span class="annottext">ParseResult (a -&gt; b) -&gt; ParseResult a -&gt; ParseResult b
forall a b. ParseResult (a -&gt; b) -&gt; ParseResult a -&gt; ParseResult b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679453775"><span class="hs-identifier hs-var">x''</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453776"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453777"><span class="hs-identifier hs-var">fields</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#warnMultipleSingularFields"><span class="hs-identifier hs-type">warnMultipleSingularFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Fields.Field.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#NamelessField"><span class="hs-identifier hs-type">NamelessField</span></a></span><span> </span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Fields.ParseResult.html#ParseResult"><span class="hs-identifier hs-type">ParseResult</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span id="warnMultipleSingularFields"><span class="annot"><span class="annottext">warnMultipleSingularFields :: FieldName -&gt; [NamelessField Position] -&gt; ParseResult ()
</span><a href="Distribution.FieldGrammar.Parsec.html#warnMultipleSingularFields"><span class="hs-identifier hs-var hs-var">warnMultipleSingularFields</span></a></span></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; ParseResult ()
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#warnMultipleSingularFields"><span class="hs-identifier hs-var">warnMultipleSingularFields</span></a></span><span> </span><span id="local-6989586621679453779"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453779"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679453780"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453780"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679453781"><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453781"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679453782"><span class="annot"><span class="annottext">pos :: Position
</span><a href="#local-6989586621679453782"><span class="hs-identifier hs-var hs-var">pos</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamelessField Position -&gt; Position
forall ann. NamelessField ann -&gt; ann
</span><a href="Distribution.FieldGrammar.Parsec.html#namelessFieldAnn"><span class="hs-identifier hs-var">namelessFieldAnn</span></a></span><span> </span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453780"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-150"></span><span>        </span><span id="local-6989586621679453783"><span class="annot"><span class="annottext">poss :: [Position]
</span><a href="#local-6989586621679453783"><span class="hs-identifier hs-var hs-var">poss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamelessField Position -&gt; Position)
-&gt; [NamelessField Position] -&gt; [Position]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">NamelessField Position -&gt; Position
forall ann. NamelessField ann -&gt; ann
</span><a href="Distribution.FieldGrammar.Parsec.html#namelessFieldAnn"><span class="hs-identifier hs-var">namelessFieldAnn</span></a></span><span> </span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453781"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-151"></span><span>    </span><span class="annot"><span class="annottext">Position -&gt; PWarnType -&gt; [Char] -&gt; ParseResult ()
</span><a href="Distribution.Fields.ParseResult.html#parseWarning"><span class="hs-identifier hs-var">parseWarning</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679453782"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">PWarnType
</span><a href="Distribution.Parsec.Warning.html#PWTMultipleSingularField"><span class="hs-identifier hs-var">PWTMultipleSingularField</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ParseResult ()) -&gt; [Char] -&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-152"></span><span>        </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;The field &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="../../base-4.18.2.1/src/GHC.Show.html#show/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453779"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; is specified more than once at positions &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [[Char]] -&gt; [Char]
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/Data.OldList.html#intercalate/Data.OldList.html#intercalate"><span class="hs-identifier hs-var">intercalate</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;, &quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Position -&gt; [Char]) -&gt; [Position] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Position -&gt; [Char]
</span><a href="Distribution.Parsec.Position.html#showPos"><span class="hs-identifier hs-var">showPos</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679453782"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">Position -&gt; [Position] -&gt; [Position]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Position]
</span><a href="#local-6989586621679453783"><span class="hs-identifier hs-var">poss</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Distribution.FieldGrammar.Class.html#FieldGrammar"><span class="hs-identifier hs-type">FieldGrammar</span></a></span><span> </span><span class="annot"><a href="Distribution.Parsec.html#Parsec"><span class="hs-identifier hs-type">Parsec</span></a></span><span> </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#ParsecFieldGrammar"><span class="hs-identifier hs-type">ParsecFieldGrammar</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-155"></span><span>    </span><span id="local-6989586621679453823"><span class="annot"><span class="annottext">blurFieldGrammar :: forall a b d.
ALens' a b -&gt; ParsecFieldGrammar b d -&gt; ParsecFieldGrammar a d
</span><a href="#local-6989586621679453823"><span class="hs-identifier hs-var hs-var hs-var hs-var">blurFieldGrammar</span></a></span></span><span> </span><span class="annot"><span class="annottext">ALens' a b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-type">ParsecFG</span></a></span><span> </span><span id="local-6989586621679453825"><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679453825"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679453826"><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679453826"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span id="local-6989586621679453827"><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult d
</span><a href="#local-6989586621679453827"><span class="hs-identifier hs-var">parser</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult d)
-&gt; ParsecFieldGrammar a d
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679453825"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679453826"><span class="hs-identifier hs-var">s'</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult d
</span><a href="#local-6989586621679453827"><span class="hs-identifier hs-var">parser</span></a></span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span>    </span><span id="local-6989586621679453830"><span class="annot"><span class="annottext">uniqueFieldAla :: forall b a s.
(Parsec b, Newtype a b) =&gt;
FieldName -&gt; (a -&gt; b) -&gt; ALens' s a -&gt; ParsecFieldGrammar s a
</span><a href="#local-6989586621679453830"><span class="hs-identifier hs-var hs-var hs-var hs-var">uniqueFieldAla</span></a></span></span><span> </span><span id="local-6989586621679453832"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453832"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621679453833"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679453833"><span class="hs-identifier hs-var">_pack</span></a></span></span><span> </span><span id="local-6989586621679453834"><span class="annot"><span class="annottext">ALens' s a
</span><a href="#local-6989586621679453834"><span class="hs-identifier hs-var">_extract</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName -&gt; Set FieldName
forall a. a -&gt; Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#singleton/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">Set.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453832"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set FieldName
forall a. Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#empty/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">Set.empty</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679453837"><span class="hs-identifier hs-var">parser</span></a></span><span>
</span><span id="line-158"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-159"></span><span>        </span><span id="local-6989586621679453837"><span class="annot"><span class="annottext">parser :: CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679453837"><span class="hs-identifier hs-var hs-var">parser</span></a></span></span><span> </span><span id="local-6989586621679453849"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453849"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679453850"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453850"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; Fields Position -&gt; Maybe [NamelessField Position]
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#lookup/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453832"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453850"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-160"></span><span>            </span><span class="annot"><span class="annottext">Maybe [NamelessField Position]
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Position -&gt; [Char] -&gt; ParseResult a
forall a. Position -&gt; [Char] -&gt; ParseResult a
</span><a href="Distribution.Fields.ParseResult.html#parseFatalFailure"><span class="hs-identifier hs-var">parseFatalFailure</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="Distribution.Parsec.Position.html#zeroPos"><span class="hs-identifier hs-var">zeroPos</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ParseResult a) -&gt; [Char] -&gt; ParseResult a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="../../base-4.18.2.1/src/GHC.Show.html#show/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453832"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; field missing&quot;</span></span><span>
</span><span id="line-161"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Position -&gt; [Char] -&gt; ParseResult a
forall a. Position -&gt; [Char] -&gt; ParseResult a
</span><a href="Distribution.Fields.ParseResult.html#parseFatalFailure"><span class="hs-identifier hs-var">parseFatalFailure</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="Distribution.Parsec.Position.html#zeroPos"><span class="hs-identifier hs-var">zeroPos</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ParseResult a) -&gt; [Char] -&gt; ParseResult a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="../../base-4.18.2.1/src/GHC.Show.html#show/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453832"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; field missing&quot;</span></span><span>
</span><span id="line-162"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679453854"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453854"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult a
</span><a href="#local-6989586621679453855"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453849"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453854"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-163"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679453856"><span class="annot"><span class="annottext">xs :: [NamelessField Position]
</span><a href="#local-6989586621679453856"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamelessField Position
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679453857"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453857"><span class="hs-identifier hs-var">y</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679453858"><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453858"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-164"></span><span>                </span><span class="annot"><span class="annottext">FieldName -&gt; [NamelessField Position] -&gt; ParseResult ()
</span><a href="Distribution.FieldGrammar.Parsec.html#warnMultipleSingularFields"><span class="hs-identifier hs-var">warnMultipleSingularFields</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453832"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453856"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-165"></span><span>                </span><span class="annot"><span class="annottext">NonEmpty a -&gt; a
forall a. NonEmpty a -&gt; a
</span><a href="../../base-4.18.2.1/src/Data.List.NonEmpty.html#last/Data.List.NonEmpty.html#last"><span class="hs-identifier hs-var">NE.last</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty a -&gt; a) -&gt; ParseResult (NonEmpty a) -&gt; ParseResult a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.2.1/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(NamelessField Position -&gt; ParseResult a)
-&gt; NonEmpty (NamelessField Position) -&gt; ParseResult (NonEmpty a)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
</span><a href="../../base-4.18.2.1/src/Data.Traversable.html#traverse/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult a
</span><a href="#local-6989586621679453855"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453849"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453857"><span class="hs-identifier hs-var">y</span></a></span><span class="annot"><span class="annottext">NamelessField Position
-&gt; [NamelessField Position] -&gt; NonEmpty (NamelessField Position)
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3A%7C/GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a></span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453858"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span>        </span><span id="local-6989586621679453855"><span class="annot"><span class="annottext">parseOne :: CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult a
</span><a href="#local-6989586621679453855"><span class="hs-identifier hs-var hs-var">parseOne</span></a></span></span><span> </span><span id="local-6989586621679453868"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453868"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679453869"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679453869"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621679453870"><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679453870"><span class="hs-identifier hs-var">fls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-168"></span><span>            </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; b -&gt; a
forall o n. Newtype o n =&gt; (o -&gt; n) -&gt; n -&gt; o
</span><a href="Distribution.Compat.Newtype.html#unpack%27"><span class="hs-identifier hs-var">unpack'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679453833"><span class="hs-identifier hs-var">_pack</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; ParseResult b -&gt; ParseResult a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.2.1/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Position
-&gt; ParsecParser b
-&gt; CabalSpecVersion
-&gt; [FieldLine Position]
-&gt; ParseResult b
forall a.
Position
-&gt; ParsecParser a
-&gt; CabalSpecVersion
-&gt; [FieldLine Position]
-&gt; ParseResult a
</span><a href="Distribution.FieldGrammar.Parsec.html#runFieldParser"><span class="hs-identifier hs-var">runFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679453869"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecParser b
forall a (m :: * -&gt; *). (Parsec a, CabalParsing m) =&gt; m a
forall (m :: * -&gt; *). CabalParsing m =&gt; m b
</span><a href="Distribution.Parsec.html#parsec"><span class="hs-identifier hs-var">parsec</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453868"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679453870"><span class="hs-identifier hs-var">fls</span></a></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span>    </span><span id="local-6989586621679453873"><span class="annot"><span class="annottext">booleanFieldDef :: forall s.
FieldName -&gt; ALens' s Bool -&gt; Bool -&gt; ParsecFieldGrammar s Bool
</span><a href="#local-6989586621679453873"><span class="hs-identifier hs-var hs-var hs-var hs-var">booleanFieldDef</span></a></span></span><span> </span><span id="local-6989586621679453875"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453875"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621679453876"><span class="annot"><span class="annottext">ALens' s Bool
</span><a href="#local-6989586621679453876"><span class="hs-identifier hs-var">_extract</span></a></span></span><span> </span><span id="local-6989586621679453877"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679453877"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult Bool)
-&gt; ParsecFieldGrammar s Bool
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName -&gt; Set FieldName
forall a. a -&gt; Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#singleton/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">Set.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453875"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set FieldName
forall a. Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#empty/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">Set.empty</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult Bool
</span><a href="#local-6989586621679453878"><span class="hs-identifier hs-var">parser</span></a></span><span>
</span><span id="line-171"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-172"></span><span>        </span><span id="local-6989586621679453878"><span class="annot"><span class="annottext">parser :: CabalSpecVersion -&gt; Fields Position -&gt; ParseResult Bool
</span><a href="#local-6989586621679453878"><span class="hs-identifier hs-var hs-var">parser</span></a></span></span><span> </span><span id="local-6989586621679453889"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453889"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679453890"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453890"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; Fields Position -&gt; Maybe [NamelessField Position]
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#lookup/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453875"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453890"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-173"></span><span>            </span><span class="annot"><span class="annottext">Maybe [NamelessField Position]
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; ParseResult Bool
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679453877"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-174"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; ParseResult Bool
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679453877"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-175"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679453891"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453891"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult Bool
forall {a}.
Parsec a =&gt;
CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult a
</span><a href="#local-6989586621679453892"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453889"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453891"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-176"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679453893"><span class="annot"><span class="annottext">xs :: [NamelessField Position]
</span><a href="#local-6989586621679453893"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamelessField Position
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679453894"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453894"><span class="hs-identifier hs-var">y</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679453895"><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453895"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-177"></span><span>                </span><span class="annot"><span class="annottext">FieldName -&gt; [NamelessField Position] -&gt; ParseResult ()
</span><a href="Distribution.FieldGrammar.Parsec.html#warnMultipleSingularFields"><span class="hs-identifier hs-var">warnMultipleSingularFields</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453875"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453893"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-178"></span><span>                </span><span class="annot"><span class="annottext">NonEmpty Bool -&gt; Bool
forall a. NonEmpty a -&gt; a
</span><a href="../../base-4.18.2.1/src/Data.List.NonEmpty.html#last/Data.List.NonEmpty.html#last"><span class="hs-identifier hs-var">NE.last</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty Bool -&gt; Bool)
-&gt; ParseResult (NonEmpty Bool) -&gt; ParseResult Bool
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.2.1/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(NamelessField Position -&gt; ParseResult Bool)
-&gt; NonEmpty (NamelessField Position) -&gt; ParseResult (NonEmpty Bool)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
</span><a href="../../base-4.18.2.1/src/Data.Traversable.html#traverse/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult Bool
forall {a}.
Parsec a =&gt;
CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult a
</span><a href="#local-6989586621679453892"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453889"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453894"><span class="hs-identifier hs-var">y</span></a></span><span class="annot"><span class="annottext">NamelessField Position
-&gt; [NamelessField Position] -&gt; NonEmpty (NamelessField Position)
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3A%7C/GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a></span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453895"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span>        </span><span id="local-6989586621679453892"><span class="annot"><span class="annottext">parseOne :: CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult a
</span><a href="#local-6989586621679453892"><span class="hs-identifier hs-var hs-var">parseOne</span></a></span></span><span> </span><span id="local-6989586621679453899"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453899"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679453900"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679453900"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621679453901"><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679453901"><span class="hs-identifier hs-var">fls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position
-&gt; ParsecParser a
-&gt; CabalSpecVersion
-&gt; [FieldLine Position]
-&gt; ParseResult a
forall a.
Position
-&gt; ParsecParser a
-&gt; CabalSpecVersion
-&gt; [FieldLine Position]
-&gt; ParseResult a
</span><a href="Distribution.FieldGrammar.Parsec.html#runFieldParser"><span class="hs-identifier hs-var">runFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679453900"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecParser a
forall a (m :: * -&gt; *). (Parsec a, CabalParsing m) =&gt; m a
forall (m :: * -&gt; *). CabalParsing m =&gt; m a
</span><a href="Distribution.Parsec.html#parsec"><span class="hs-identifier hs-var">parsec</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453899"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679453901"><span class="hs-identifier hs-var">fls</span></a></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span>    </span><span id="local-6989586621679453904"><span class="annot"><span class="annottext">optionalFieldAla :: forall b a s.
(Parsec b, Newtype a b) =&gt;
FieldName
-&gt; (a -&gt; b) -&gt; ALens' s (Maybe a) -&gt; ParsecFieldGrammar s (Maybe a)
</span><a href="#local-6989586621679453904"><span class="hs-identifier hs-var hs-var hs-var hs-var">optionalFieldAla</span></a></span></span><span> </span><span id="local-6989586621679453906"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453906"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621679453907"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679453907"><span class="hs-identifier hs-var">_pack</span></a></span></span><span> </span><span id="local-6989586621679453908"><span class="annot"><span class="annottext">ALens' s (Maybe a)
</span><a href="#local-6989586621679453908"><span class="hs-identifier hs-var">_extract</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult (Maybe a))
-&gt; ParsecFieldGrammar s (Maybe a)
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName -&gt; Set FieldName
forall a. a -&gt; Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#singleton/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">Set.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453906"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set FieldName
forall a. Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#empty/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">Set.empty</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult (Maybe a)
</span><a href="#local-6989586621679453909"><span class="hs-identifier hs-var">parser</span></a></span><span>
</span><span id="line-183"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-184"></span><span>        </span><span id="local-6989586621679453909"><span class="annot"><span class="annottext">parser :: CabalSpecVersion -&gt; Fields Position -&gt; ParseResult (Maybe a)
</span><a href="#local-6989586621679453909"><span class="hs-identifier hs-var hs-var">parser</span></a></span></span><span> </span><span id="local-6989586621679453917"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453917"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679453918"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453918"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; Fields Position -&gt; Maybe [NamelessField Position]
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#lookup/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453906"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453918"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-185"></span><span>            </span><span class="annot"><span class="annottext">Maybe [NamelessField Position]
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; ParseResult (Maybe a)
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-186"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; ParseResult (Maybe a)
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-187"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679453919"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453919"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult (Maybe a)
</span><a href="#local-6989586621679453920"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453917"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453919"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-188"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679453921"><span class="annot"><span class="annottext">xs :: [NamelessField Position]
</span><a href="#local-6989586621679453921"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamelessField Position
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679453922"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453922"><span class="hs-identifier hs-var">y</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679453923"><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453923"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-189"></span><span>                </span><span class="annot"><span class="annottext">FieldName -&gt; [NamelessField Position] -&gt; ParseResult ()
</span><a href="Distribution.FieldGrammar.Parsec.html#warnMultipleSingularFields"><span class="hs-identifier hs-var">warnMultipleSingularFields</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453906"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453921"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-190"></span><span>                </span><span class="annot"><span class="annottext">NonEmpty (Maybe a) -&gt; Maybe a
forall a. NonEmpty a -&gt; a
</span><a href="../../base-4.18.2.1/src/Data.List.NonEmpty.html#last/Data.List.NonEmpty.html#last"><span class="hs-identifier hs-var">NE.last</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty (Maybe a) -&gt; Maybe a)
-&gt; ParseResult (NonEmpty (Maybe a)) -&gt; ParseResult (Maybe a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.2.1/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(NamelessField Position -&gt; ParseResult (Maybe a))
-&gt; NonEmpty (NamelessField Position)
-&gt; ParseResult (NonEmpty (Maybe a))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
</span><a href="../../base-4.18.2.1/src/Data.Traversable.html#traverse/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult (Maybe a)
</span><a href="#local-6989586621679453920"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453917"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453922"><span class="hs-identifier hs-var">y</span></a></span><span class="annot"><span class="annottext">NamelessField Position
-&gt; [NamelessField Position] -&gt; NonEmpty (NamelessField Position)
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3A%7C/GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a></span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453923"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span>        </span><span id="local-6989586621679453920"><span class="annot"><span class="annottext">parseOne :: CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult (Maybe a)
</span><a href="#local-6989586621679453920"><span class="hs-identifier hs-var hs-var">parseOne</span></a></span></span><span> </span><span id="local-6989586621679453930"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453930"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679453931"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679453931"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621679453932"><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679453932"><span class="hs-identifier hs-var">fls</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[FieldLine Position] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679453932"><span class="hs-identifier hs-var">fls</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; ParseResult (Maybe a)
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-194"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; (b -&gt; a) -&gt; b -&gt; Maybe a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; b -&gt; a
forall o n. Newtype o n =&gt; (o -&gt; n) -&gt; n -&gt; o
</span><a href="Distribution.Compat.Newtype.html#unpack%27"><span class="hs-identifier hs-var">unpack'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679453907"><span class="hs-identifier hs-var">_pack</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Maybe a) -&gt; ParseResult b -&gt; ParseResult (Maybe a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.2.1/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Position
-&gt; ParsecParser b
-&gt; CabalSpecVersion
-&gt; [FieldLine Position]
-&gt; ParseResult b
forall a.
Position
-&gt; ParsecParser a
-&gt; CabalSpecVersion
-&gt; [FieldLine Position]
-&gt; ParseResult a
</span><a href="Distribution.FieldGrammar.Parsec.html#runFieldParser"><span class="hs-identifier hs-var">runFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679453931"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecParser b
forall a (m :: * -&gt; *). (Parsec a, CabalParsing m) =&gt; m a
forall (m :: * -&gt; *). CabalParsing m =&gt; m b
</span><a href="Distribution.Parsec.html#parsec"><span class="hs-identifier hs-var">parsec</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453930"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679453932"><span class="hs-identifier hs-var">fls</span></a></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span>    </span><span id="local-6989586621679453937"><span class="annot"><span class="annottext">optionalFieldDefAla :: forall b a s.
(Parsec b, Newtype a b, Eq a) =&gt;
FieldName -&gt; (a -&gt; b) -&gt; ALens' s a -&gt; a -&gt; ParsecFieldGrammar s a
</span><a href="#local-6989586621679453937"><span class="hs-identifier hs-var hs-var hs-var hs-var">optionalFieldDefAla</span></a></span></span><span> </span><span id="local-6989586621679453939"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453939"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621679453940"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679453940"><span class="hs-identifier hs-var">_pack</span></a></span></span><span> </span><span id="local-6989586621679453941"><span class="annot"><span class="annottext">ALens' s a
</span><a href="#local-6989586621679453941"><span class="hs-identifier hs-var">_extract</span></a></span></span><span> </span><span id="local-6989586621679453942"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679453942"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName -&gt; Set FieldName
forall a. a -&gt; Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#singleton/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">Set.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453939"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set FieldName
forall a. Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#empty/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">Set.empty</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679453943"><span class="hs-identifier hs-var">parser</span></a></span><span>
</span><span id="line-197"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-198"></span><span>        </span><span id="local-6989586621679453943"><span class="annot"><span class="annottext">parser :: CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679453943"><span class="hs-identifier hs-var hs-var">parser</span></a></span></span><span> </span><span id="local-6989586621679453951"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453951"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679453952"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453952"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; Fields Position -&gt; Maybe [NamelessField Position]
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#lookup/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453939"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453952"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-199"></span><span>            </span><span class="annot"><span class="annottext">Maybe [NamelessField Position]
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; ParseResult a
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679453942"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-200"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; ParseResult a
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679453942"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-201"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679453953"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453953"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult a
</span><a href="#local-6989586621679453954"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453951"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453953"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-202"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679453955"><span class="annot"><span class="annottext">xs :: [NamelessField Position]
</span><a href="#local-6989586621679453955"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamelessField Position
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679453956"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453956"><span class="hs-identifier hs-var">y</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679453957"><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453957"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-203"></span><span>                </span><span class="annot"><span class="annottext">FieldName -&gt; [NamelessField Position] -&gt; ParseResult ()
</span><a href="Distribution.FieldGrammar.Parsec.html#warnMultipleSingularFields"><span class="hs-identifier hs-var">warnMultipleSingularFields</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453939"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453955"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-204"></span><span>                </span><span class="annot"><span class="annottext">NonEmpty a -&gt; a
forall a. NonEmpty a -&gt; a
</span><a href="../../base-4.18.2.1/src/Data.List.NonEmpty.html#last/Data.List.NonEmpty.html#last"><span class="hs-identifier hs-var">NE.last</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty a -&gt; a) -&gt; ParseResult (NonEmpty a) -&gt; ParseResult a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.2.1/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(NamelessField Position -&gt; ParseResult a)
-&gt; NonEmpty (NamelessField Position) -&gt; ParseResult (NonEmpty a)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
</span><a href="../../base-4.18.2.1/src/Data.Traversable.html#traverse/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult a
</span><a href="#local-6989586621679453954"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453951"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453956"><span class="hs-identifier hs-var">y</span></a></span><span class="annot"><span class="annottext">NamelessField Position
-&gt; [NamelessField Position] -&gt; NonEmpty (NamelessField Position)
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3A%7C/GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a></span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453957"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span>        </span><span id="local-6989586621679453954"><span class="annot"><span class="annottext">parseOne :: CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult a
</span><a href="#local-6989586621679453954"><span class="hs-identifier hs-var hs-var">parseOne</span></a></span></span><span> </span><span id="local-6989586621679453964"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453964"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679453965"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679453965"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621679453966"><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679453966"><span class="hs-identifier hs-var">fls</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[FieldLine Position] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679453966"><span class="hs-identifier hs-var">fls</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; ParseResult a
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679453942"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-208"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; b -&gt; a
forall o n. Newtype o n =&gt; (o -&gt; n) -&gt; n -&gt; o
</span><a href="Distribution.Compat.Newtype.html#unpack%27"><span class="hs-identifier hs-var">unpack'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679453940"><span class="hs-identifier hs-var">_pack</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; ParseResult b -&gt; ParseResult a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.2.1/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Position
-&gt; ParsecParser b
-&gt; CabalSpecVersion
-&gt; [FieldLine Position]
-&gt; ParseResult b
forall a.
Position
-&gt; ParsecParser a
-&gt; CabalSpecVersion
-&gt; [FieldLine Position]
-&gt; ParseResult a
</span><a href="Distribution.FieldGrammar.Parsec.html#runFieldParser"><span class="hs-identifier hs-var">runFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679453965"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecParser b
forall a (m :: * -&gt; *). (Parsec a, CabalParsing m) =&gt; m a
forall (m :: * -&gt; *). CabalParsing m =&gt; m b
</span><a href="Distribution.Parsec.html#parsec"><span class="hs-identifier hs-var">parsec</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453964"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679453966"><span class="hs-identifier hs-var">fls</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span>    </span><span id="local-6989586621679453967"><span class="annot"><span class="annottext">freeTextField :: forall s.
FieldName
-&gt; ALens' s (Maybe [Char]) -&gt; ParsecFieldGrammar s (Maybe [Char])
</span><a href="#local-6989586621679453967"><span class="hs-identifier hs-var hs-var hs-var hs-var">freeTextField</span></a></span></span><span> </span><span id="local-6989586621679453969"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453969"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="annot"><span class="annottext">ALens' s (Maybe [Char])
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion
    -&gt; Fields Position -&gt; ParseResult (Maybe [Char]))
-&gt; ParsecFieldGrammar s (Maybe [Char])
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName -&gt; Set FieldName
forall a. a -&gt; Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#singleton/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">Set.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453969"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set FieldName
forall a. Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#empty/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">Set.empty</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult (Maybe [Char])
</span><a href="#local-6989586621679453970"><span class="hs-identifier hs-var">parser</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-211"></span><span>        </span><span id="local-6989586621679453970"><span class="annot"><span class="annottext">parser :: CabalSpecVersion -&gt; Fields Position -&gt; ParseResult (Maybe [Char])
</span><a href="#local-6989586621679453970"><span class="hs-identifier hs-var hs-var">parser</span></a></span></span><span> </span><span id="local-6989586621679453980"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453980"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679453981"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453981"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; Fields Position -&gt; Maybe [NamelessField Position]
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#lookup/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453969"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679453981"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-212"></span><span>            </span><span class="annot"><span class="annottext">Maybe [NamelessField Position]
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe [Char] -&gt; ParseResult (Maybe [Char])
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [Char]
forall a. Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-213"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe [Char] -&gt; ParseResult (Maybe [Char])
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [Char]
forall a. Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-214"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679453982"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453982"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
-&gt; NamelessField Position -&gt; ParseResult (Maybe [Char])
forall {f :: * -&gt; *}.
Applicative f =&gt;
CabalSpecVersion -&gt; NamelessField Position -&gt; f (Maybe [Char])
</span><a href="#local-6989586621679453983"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453980"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453982"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-215"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679453984"><span class="annot"><span class="annottext">xs :: [NamelessField Position]
</span><a href="#local-6989586621679453984"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamelessField Position
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679453985"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453985"><span class="hs-identifier hs-var">y</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679453986"><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453986"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-216"></span><span>                </span><span class="annot"><span class="annottext">FieldName -&gt; [NamelessField Position] -&gt; ParseResult ()
</span><a href="Distribution.FieldGrammar.Parsec.html#warnMultipleSingularFields"><span class="hs-identifier hs-var">warnMultipleSingularFields</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679453969"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453984"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-217"></span><span>                </span><span class="annot"><span class="annottext">NonEmpty (Maybe [Char]) -&gt; Maybe [Char]
forall a. NonEmpty a -&gt; a
</span><a href="../../base-4.18.2.1/src/Data.List.NonEmpty.html#last/Data.List.NonEmpty.html#last"><span class="hs-identifier hs-var">NE.last</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty (Maybe [Char]) -&gt; Maybe [Char])
-&gt; ParseResult (NonEmpty (Maybe [Char]))
-&gt; ParseResult (Maybe [Char])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.2.1/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(NamelessField Position -&gt; ParseResult (Maybe [Char]))
-&gt; NonEmpty (NamelessField Position)
-&gt; ParseResult (NonEmpty (Maybe [Char]))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
</span><a href="../../base-4.18.2.1/src/Data.Traversable.html#traverse/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CabalSpecVersion
-&gt; NamelessField Position -&gt; ParseResult (Maybe [Char])
forall {f :: * -&gt; *}.
Applicative f =&gt;
CabalSpecVersion -&gt; NamelessField Position -&gt; f (Maybe [Char])
</span><a href="#local-6989586621679453983"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453980"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679453985"><span class="hs-identifier hs-var">y</span></a></span><span class="annot"><span class="annottext">NamelessField Position
-&gt; [NamelessField Position] -&gt; NonEmpty (NamelessField Position)
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3A%7C/GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a></span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679453986"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span>        </span><span id="local-6989586621679453983"><span class="annot"><span class="annottext">parseOne :: CabalSpecVersion -&gt; NamelessField Position -&gt; f (Maybe [Char])
</span><a href="#local-6989586621679453983"><span class="hs-identifier hs-var hs-var">parseOne</span></a></span></span><span> </span><span id="local-6989586621679453997"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453997"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679453998"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679453998"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621679453999"><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679453999"><span class="hs-identifier hs-var">fls</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-220"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[FieldLine Position] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679453999"><span class="hs-identifier hs-var">fls</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [Char] -&gt; f (Maybe [Char])
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [Char]
forall a. Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-221"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679453997"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; CabalSpecVersion -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV3_0"><span class="hs-identifier hs-var">CabalSpecV3_0</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [Char] -&gt; f (Maybe [Char])
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Maybe [Char]
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position -&gt; [FieldLine Position] -&gt; [Char]
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToFreeText3"><span class="hs-identifier hs-var">fieldlinesToFreeText3</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679453998"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679453999"><span class="hs-identifier hs-var">fls</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [Char] -&gt; f (Maybe [Char])
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Maybe [Char]
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FieldLine Position] -&gt; [Char]
forall ann. [FieldLine ann] -&gt; [Char]
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToFreeText"><span class="hs-identifier hs-var">fieldlinesToFreeText</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679453999"><span class="hs-identifier hs-var">fls</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span>    </span><span id="local-6989586621679454003"><span class="annot"><span class="annottext">freeTextFieldDef :: forall s.
FieldName -&gt; ALens' s [Char] -&gt; ParsecFieldGrammar s [Char]
</span><a href="#local-6989586621679454003"><span class="hs-identifier hs-var hs-var hs-var hs-var">freeTextFieldDef</span></a></span></span><span> </span><span id="local-6989586621679454005"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454005"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="annot"><span class="annottext">ALens' s [Char]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult [Char])
-&gt; ParsecFieldGrammar s [Char]
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName -&gt; Set FieldName
forall a. a -&gt; Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#singleton/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">Set.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454005"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set FieldName
forall a. Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#empty/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">Set.empty</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult [Char]
</span><a href="#local-6989586621679454006"><span class="hs-identifier hs-var">parser</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-225"></span><span>        </span><span id="local-6989586621679454006"><span class="annot"><span class="annottext">parser :: CabalSpecVersion -&gt; Fields Position -&gt; ParseResult [Char]
</span><a href="#local-6989586621679454006"><span class="hs-identifier hs-var hs-var">parser</span></a></span></span><span> </span><span id="local-6989586621679454019"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454019"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679454020"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454020"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; Fields Position -&gt; Maybe [NamelessField Position]
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#lookup/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454005"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454020"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-226"></span><span>            </span><span class="annot"><span class="annottext">Maybe [NamelessField Position]
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ParseResult [Char]
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-227"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ParseResult [Char]
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-228"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679454021"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679454021"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult [Char]
forall {f :: * -&gt; *}.
Applicative f =&gt;
CabalSpecVersion -&gt; NamelessField Position -&gt; f [Char]
</span><a href="#local-6989586621679454022"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454019"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679454021"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-229"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679454023"><span class="annot"><span class="annottext">xs :: [NamelessField Position]
</span><a href="#local-6989586621679454023"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamelessField Position
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679454024"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679454024"><span class="hs-identifier hs-var">y</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679454025"><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679454025"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-230"></span><span>                </span><span class="annot"><span class="annottext">FieldName -&gt; [NamelessField Position] -&gt; ParseResult ()
</span><a href="Distribution.FieldGrammar.Parsec.html#warnMultipleSingularFields"><span class="hs-identifier hs-var">warnMultipleSingularFields</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454005"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679454023"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-231"></span><span>                </span><span class="annot"><span class="annottext">NonEmpty [Char] -&gt; [Char]
forall a. NonEmpty a -&gt; a
</span><a href="../../base-4.18.2.1/src/Data.List.NonEmpty.html#last/Data.List.NonEmpty.html#last"><span class="hs-identifier hs-var">NE.last</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty [Char] -&gt; [Char])
-&gt; ParseResult (NonEmpty [Char]) -&gt; ParseResult [Char]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.2.1/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(NamelessField Position -&gt; ParseResult [Char])
-&gt; NonEmpty (NamelessField Position)
-&gt; ParseResult (NonEmpty [Char])
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
</span><a href="../../base-4.18.2.1/src/Data.Traversable.html#traverse/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult [Char]
forall {f :: * -&gt; *}.
Applicative f =&gt;
CabalSpecVersion -&gt; NamelessField Position -&gt; f [Char]
</span><a href="#local-6989586621679454022"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454019"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679454024"><span class="hs-identifier hs-var">y</span></a></span><span class="annot"><span class="annottext">NamelessField Position
-&gt; [NamelessField Position] -&gt; NonEmpty (NamelessField Position)
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3A%7C/GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a></span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679454025"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span>        </span><span id="local-6989586621679454022"><span class="annot"><span class="annottext">parseOne :: CabalSpecVersion -&gt; NamelessField Position -&gt; f [Char]
</span><a href="#local-6989586621679454022"><span class="hs-identifier hs-var hs-var">parseOne</span></a></span></span><span> </span><span id="local-6989586621679454036"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454036"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679454037"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454037"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621679454038"><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454038"><span class="hs-identifier hs-var">fls</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[FieldLine Position] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454038"><span class="hs-identifier hs-var">fls</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; f [Char]
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-235"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454036"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; CabalSpecVersion -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV3_0"><span class="hs-identifier hs-var">CabalSpecV3_0</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; f [Char]
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position -&gt; [FieldLine Position] -&gt; [Char]
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToFreeText3"><span class="hs-identifier hs-var">fieldlinesToFreeText3</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454037"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454038"><span class="hs-identifier hs-var">fls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; f [Char]
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FieldLine Position] -&gt; [Char]
forall ann. [FieldLine ann] -&gt; [Char]
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToFreeText"><span class="hs-identifier hs-var">fieldlinesToFreeText</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454038"><span class="hs-identifier hs-var">fls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span>    </span><span class="hs-comment">-- freeTextFieldDefST = defaultFreeTextFieldDefST</span><span>
</span><span id="line-239"></span><span>    </span><span id="local-6989586621679454039"><span class="annot"><span class="annottext">freeTextFieldDefST :: forall s.
FieldName -&gt; ALens' s ShortText -&gt; ParsecFieldGrammar s ShortText
</span><a href="#local-6989586621679454039"><span class="hs-identifier hs-var hs-var hs-var hs-var">freeTextFieldDefST</span></a></span></span><span> </span><span id="local-6989586621679454041"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454041"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="annot"><span class="annottext">ALens' s ShortText
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult ShortText)
-&gt; ParsecFieldGrammar s ShortText
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName -&gt; Set FieldName
forall a. a -&gt; Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#singleton/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">Set.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454041"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set FieldName
forall a. Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#empty/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">Set.empty</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult ShortText
</span><a href="#local-6989586621679454042"><span class="hs-identifier hs-var">parser</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-240"></span><span>        </span><span id="local-6989586621679454042"><span class="annot"><span class="annottext">parser :: CabalSpecVersion -&gt; Fields Position -&gt; ParseResult ShortText
</span><a href="#local-6989586621679454042"><span class="hs-identifier hs-var hs-var">parser</span></a></span></span><span> </span><span id="local-6989586621679454055"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454055"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679454056"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454056"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; Fields Position -&gt; Maybe [NamelessField Position]
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#lookup/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454041"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454056"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-241"></span><span>            </span><span class="annot"><span class="annottext">Maybe [NamelessField Position]
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; ParseResult ShortText
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText
forall a. Monoid a =&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#mempty/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-242"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; ParseResult ShortText
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText
forall a. Monoid a =&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#mempty/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-243"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679454057"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679454057"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult ShortText
forall {f :: * -&gt; *}.
Applicative f =&gt;
CabalSpecVersion -&gt; NamelessField Position -&gt; f ShortText
</span><a href="#local-6989586621679454058"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454055"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679454057"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-244"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679454059"><span class="annot"><span class="annottext">xs :: [NamelessField Position]
</span><a href="#local-6989586621679454059"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamelessField Position
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679454060"><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679454060"><span class="hs-identifier hs-var">y</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679454061"><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679454061"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-245"></span><span>                </span><span class="annot"><span class="annottext">FieldName -&gt; [NamelessField Position] -&gt; ParseResult ()
</span><a href="Distribution.FieldGrammar.Parsec.html#warnMultipleSingularFields"><span class="hs-identifier hs-var">warnMultipleSingularFields</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454041"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679454059"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-246"></span><span>                </span><span class="annot"><span class="annottext">NonEmpty ShortText -&gt; ShortText
forall a. NonEmpty a -&gt; a
</span><a href="../../base-4.18.2.1/src/Data.List.NonEmpty.html#last/Data.List.NonEmpty.html#last"><span class="hs-identifier hs-var">NE.last</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty ShortText -&gt; ShortText)
-&gt; ParseResult (NonEmpty ShortText) -&gt; ParseResult ShortText
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.2.1/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(NamelessField Position -&gt; ParseResult ShortText)
-&gt; NonEmpty (NamelessField Position)
-&gt; ParseResult (NonEmpty ShortText)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
</span><a href="../../base-4.18.2.1/src/Data.Traversable.html#traverse/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult ShortText
forall {f :: * -&gt; *}.
Applicative f =&gt;
CabalSpecVersion -&gt; NamelessField Position -&gt; f ShortText
</span><a href="#local-6989586621679454058"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454055"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamelessField Position
</span><a href="#local-6989586621679454060"><span class="hs-identifier hs-var">y</span></a></span><span class="annot"><span class="annottext">NamelessField Position
-&gt; [NamelessField Position] -&gt; NonEmpty (NamelessField Position)
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3A%7C/GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a></span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679454061"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span>        </span><span id="local-6989586621679454058"><span class="annot"><span class="annottext">parseOne :: CabalSpecVersion -&gt; NamelessField Position -&gt; f ShortText
</span><a href="#local-6989586621679454058"><span class="hs-identifier hs-var hs-var">parseOne</span></a></span></span><span> </span><span id="local-6989586621679454071"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454071"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679454072"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454072"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621679454073"><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454073"><span class="hs-identifier hs-var">fls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454073"><span class="hs-identifier hs-var">fls</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-249"></span><span>            </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; f ShortText
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText
forall a. Monoid a =&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#mempty/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-250"></span><span>            </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><span class="hs-identifier">_</span></span><span>  </span><span id="local-6989586621679454075"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454075"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">]</span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; f ShortText
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName -&gt; ShortText
</span><a href="Distribution.Utils.ShortText.html#unsafeFromUTF8BS"><span class="hs-identifier hs-var">ShortText.unsafeFromUTF8BS</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454075"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>            </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454071"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; CabalSpecVersion -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV3_0"><span class="hs-identifier hs-var">CabalSpecV3_0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; f ShortText
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; ShortText
</span><a href="Distribution.Utils.ShortText.html#toShortText"><span class="hs-identifier hs-var">ShortText.toShortText</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ShortText) -&gt; [Char] -&gt; ShortText
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Position -&gt; [FieldLine Position] -&gt; [Char]
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToFreeText3"><span class="hs-identifier hs-var">fieldlinesToFreeText3</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454072"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454073"><span class="hs-identifier hs-var">fls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; f ShortText
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; ShortText
</span><a href="Distribution.Utils.ShortText.html#toShortText"><span class="hs-identifier hs-var">ShortText.toShortText</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ShortText) -&gt; [Char] -&gt; ShortText
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position] -&gt; [Char]
forall ann. [FieldLine ann] -&gt; [Char]
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToFreeText"><span class="hs-identifier hs-var">fieldlinesToFreeText</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454073"><span class="hs-identifier hs-var">fls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span>    </span><span id="local-6989586621679454085"><span class="annot"><span class="annottext">monoidalFieldAla :: forall b a s.
(Parsec b, Monoid a, Newtype a b) =&gt;
FieldName -&gt; (a -&gt; b) -&gt; ALens' s a -&gt; ParsecFieldGrammar s a
</span><a href="#local-6989586621679454085"><span class="hs-identifier hs-var hs-var hs-var hs-var">monoidalFieldAla</span></a></span></span><span> </span><span id="local-6989586621679454087"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454087"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621679454088"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679454088"><span class="hs-identifier hs-var">_pack</span></a></span></span><span> </span><span id="local-6989586621679454089"><span class="annot"><span class="annottext">ALens' s a
</span><a href="#local-6989586621679454089"><span class="hs-identifier hs-var">_extract</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName -&gt; Set FieldName
forall a. a -&gt; Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#singleton/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">Set.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454087"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set FieldName
forall a. Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#empty/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">Set.empty</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
forall {t :: * -&gt; *}.
Traversable t =&gt;
CabalSpecVersion
-&gt; Map FieldName (t (NamelessField Position)) -&gt; ParseResult a
</span><a href="#local-6989586621679454090"><span class="hs-identifier hs-var">parser</span></a></span><span>
</span><span id="line-255"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-256"></span><span>        </span><span id="local-6989586621679454090"><span class="annot"><span class="annottext">parser :: CabalSpecVersion
-&gt; Map FieldName (t (NamelessField Position)) -&gt; ParseResult a
</span><a href="#local-6989586621679454090"><span class="hs-identifier hs-var hs-var">parser</span></a></span></span><span> </span><span id="local-6989586621679454109"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454109"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679454110"><span class="annot"><span class="annottext">Map FieldName (t (NamelessField Position))
</span><a href="#local-6989586621679454110"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FieldName
-&gt; Map FieldName (t (NamelessField Position))
-&gt; Maybe (t (NamelessField Position))
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#lookup/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454087"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Map FieldName (t (NamelessField Position))
</span><a href="#local-6989586621679454110"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-257"></span><span>            </span><span class="annot"><span class="annottext">Maybe (t (NamelessField Position))
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; ParseResult a
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#mempty/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-258"></span><span>            </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679454111"><span class="annot"><span class="annottext">t (NamelessField Position)
</span><a href="#local-6989586621679454111"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; t b -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#foldMap/Data.Foldable.html#foldMap"><span class="hs-identifier hs-var">foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; b -&gt; a
forall o n. Newtype o n =&gt; (o -&gt; n) -&gt; n -&gt; o
</span><a href="Distribution.Compat.Newtype.html#unpack%27"><span class="hs-identifier hs-var">unpack'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679454088"><span class="hs-identifier hs-var">_pack</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(t b -&gt; a) -&gt; ParseResult (t b) -&gt; ParseResult a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.2.1/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(NamelessField Position -&gt; ParseResult b)
-&gt; t (NamelessField Position) -&gt; ParseResult (t b)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.18.2.1/src/Data.Traversable.html#traverse/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult b
forall {a}.
Parsec a =&gt;
CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult a
</span><a href="#local-6989586621679454113"><span class="hs-identifier hs-var">parseOne</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454109"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">t (NamelessField Position)
</span><a href="#local-6989586621679454111"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span>        </span><span id="local-6989586621679454113"><span class="annot"><span class="annottext">parseOne :: CabalSpecVersion -&gt; NamelessField Position -&gt; ParseResult a
</span><a href="#local-6989586621679454113"><span class="hs-identifier hs-var hs-var">parseOne</span></a></span></span><span> </span><span id="local-6989586621679454117"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454117"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679454118"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454118"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621679454119"><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454119"><span class="hs-identifier hs-var">fls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position
-&gt; ParsecParser a
-&gt; CabalSpecVersion
-&gt; [FieldLine Position]
-&gt; ParseResult a
forall a.
Position
-&gt; ParsecParser a
-&gt; CabalSpecVersion
-&gt; [FieldLine Position]
-&gt; ParseResult a
</span><a href="Distribution.FieldGrammar.Parsec.html#runFieldParser"><span class="hs-identifier hs-var">runFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454118"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecParser a
forall a (m :: * -&gt; *). (Parsec a, CabalParsing m) =&gt; m a
forall (m :: * -&gt; *). CabalParsing m =&gt; m a
</span><a href="Distribution.Parsec.html#parsec"><span class="hs-identifier hs-var">parsec</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454117"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454119"><span class="hs-identifier hs-var">fls</span></a></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span>    </span><span id="local-6989586621679454124"><span class="annot"><span class="annottext">prefixedFields :: forall s.
FieldName
-&gt; ALens' s [([Char], [Char])]
-&gt; ParsecFieldGrammar s [([Char], [Char])]
</span><a href="#local-6989586621679454124"><span class="hs-identifier hs-var hs-var hs-var hs-var">prefixedFields</span></a></span></span><span> </span><span id="local-6989586621679454126"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454126"><span class="hs-identifier hs-var">fnPfx</span></a></span></span><span> </span><span id="local-6989586621679454127"><span class="annot"><span class="annottext">ALens' s [([Char], [Char])]
</span><a href="#local-6989586621679454127"><span class="hs-identifier hs-var">_extract</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion
    -&gt; Fields Position -&gt; ParseResult [([Char], [Char])])
-&gt; ParsecFieldGrammar s [([Char], [Char])]
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
forall a. Monoid a =&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#mempty/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName -&gt; Set FieldName
forall a. a -&gt; Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#singleton/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">Set.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454126"><span class="hs-identifier hs-var">fnPfx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">CabalSpecVersion
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679454128"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454128"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[([Char], [Char])] -&gt; ParseResult [([Char], [Char])]
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Fields Position -&gt; [([Char], [Char])]
</span><a href="#local-6989586621679454129"><span class="hs-identifier hs-var">parser</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454128"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-264"></span><span>        </span><span class="annot"><a href="#local-6989586621679454129"><span class="hs-identifier hs-type">parser</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#Fields"><span class="hs-identifier hs-type">Fields</span></a></span><span> </span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-265"></span><span>        </span><span id="local-6989586621679454129"><span class="annot"><span class="annottext">parser :: Fields Position -&gt; [([Char], [Char])]
</span><a href="#local-6989586621679454129"><span class="hs-identifier hs-var hs-var">parser</span></a></span></span><span> </span><span id="local-6989586621679454130"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454130"><span class="hs-identifier hs-var">values</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Position, ([Char], [Char]))] -&gt; [([Char], [Char])]
forall {b}. [(Position, b)] -&gt; [b]
</span><a href="#local-6989586621679454131"><span class="hs-identifier hs-var">reorder</span></a></span><span> </span><span class="annot"><span class="annottext">([(Position, ([Char], [Char]))] -&gt; [([Char], [Char])])
-&gt; [(Position, ([Char], [Char]))] -&gt; [([Char], [Char])]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((FieldName, [NamelessField Position])
 -&gt; [(Position, ([Char], [Char]))])
-&gt; [(FieldName, [NamelessField Position])]
-&gt; [(Position, ([Char], [Char]))]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#concatMap/Data.Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldName, [NamelessField Position])
-&gt; [(Position, ([Char], [Char]))]
forall {ann}.
(FieldName, [NamelessField ann]) -&gt; [(ann, ([Char], [Char]))]
</span><a href="#local-6989586621679454133"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">([(FieldName, [NamelessField Position])]
 -&gt; [(Position, ([Char], [Char]))])
-&gt; [(FieldName, [NamelessField Position])]
-&gt; [(Position, ([Char], [Char]))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((FieldName, [NamelessField Position]) -&gt; Bool)
-&gt; [(FieldName, [NamelessField Position])]
-&gt; [(FieldName, [NamelessField Position])]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.List.html#filter/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldName, [NamelessField Position]) -&gt; Bool
forall {b}. (FieldName, b) -&gt; Bool
</span><a href="#local-6989586621679454134"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">([(FieldName, [NamelessField Position])]
 -&gt; [(FieldName, [NamelessField Position])])
-&gt; [(FieldName, [NamelessField Position])]
-&gt; [(FieldName, [NamelessField Position])]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position -&gt; [(FieldName, [NamelessField Position])]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#toList/Data.Map.Internal.html#toList"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454130"><span class="hs-identifier hs-var">values</span></a></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span>        </span><span id="local-6989586621679454134"><span class="annot"><span class="annottext">match :: (FieldName, b) -&gt; Bool
</span><a href="#local-6989586621679454134"><span class="hs-identifier hs-var hs-var">match</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679454135"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454135"><span class="hs-identifier hs-var">fn</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454126"><span class="hs-identifier hs-var">fnPfx</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; FieldName -&gt; Bool
</span><a href="../../bytestring-0.11.5.3/src/Data.ByteString.html#isPrefixOf/Data.ByteString.html#isPrefixOf"><span class="hs-operator hs-var">`BS.isPrefixOf`</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454135"><span class="hs-identifier hs-var">fn</span></a></span><span>
</span><span id="line-268"></span><span>        </span><span id="local-6989586621679454133"><span class="annot"><span class="annottext">convert :: (FieldName, [NamelessField ann]) -&gt; [(ann, ([Char], [Char]))]
</span><a href="#local-6989586621679454133"><span class="hs-identifier hs-var hs-var">convert</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679454136"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454136"><span class="hs-identifier hs-var">fn</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679454137"><span class="annot"><span class="annottext">[NamelessField ann]
</span><a href="#local-6989586621679454137"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-269"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621679454138"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
</span><a href="Distribution.Utils.Generic.html#fromUTF8BS"><span class="hs-identifier hs-var">fromUTF8BS</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454136"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.Utils.String.html#trim"><span class="hs-identifier hs-var">trim</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
</span><a href="Distribution.Utils.Generic.html#fromUTF8BS"><span class="hs-identifier hs-var">fromUTF8BS</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldName -&gt; [Char]) -&gt; FieldName -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine ann] -&gt; FieldName
forall ann. [FieldLine ann] -&gt; FieldName
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToBS"><span class="hs-identifier hs-var">fieldlinesToBS</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine ann]
</span><a href="#local-6989586621679454140"><span class="hs-identifier hs-var">fls</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679454138"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621679454138"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621679454140"><span class="annot"><span class="annottext">[FieldLine ann]
</span><a href="#local-6989586621679454140"><span class="hs-identifier hs-var">fls</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[NamelessField ann]
</span><a href="#local-6989586621679454137"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-271"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-272"></span><span>        </span><span class="hs-comment">-- hack: recover the order of prefixed fields</span><span>
</span><span id="line-273"></span><span>        </span><span id="local-6989586621679454131"><span class="annot"><span class="annottext">reorder :: [(Position, b)] -&gt; [b]
</span><a href="#local-6989586621679454131"><span class="hs-identifier hs-var hs-var">reorder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Position, b) -&gt; b) -&gt; [(Position, b)] -&gt; [b]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(Position, b) -&gt; b
forall a b. (a, b) -&gt; b
</span><a href="../../base-4.18.2.1/src/Data.Tuple.html#snd/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">([(Position, b)] -&gt; [b])
-&gt; ([(Position, b)] -&gt; [(Position, b)]) -&gt; [(Position, b)] -&gt; [b]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">((Position, b) -&gt; (Position, b) -&gt; Ordering)
-&gt; [(Position, b)] -&gt; [(Position, b)]
forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/Data.OldList.html#sortBy/Data.OldList.html#sortBy"><span class="hs-identifier hs-var">sortBy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Position, b) -&gt; Position)
-&gt; (Position, b) -&gt; (Position, b) -&gt; Ordering
forall a b. Ord a =&gt; (b -&gt; a) -&gt; b -&gt; b -&gt; Ordering
</span><a href="../../base-4.18.2.1/src/Data.Ord.html#comparing/Data.Ord.html#comparing"><span class="hs-identifier hs-var">comparing</span></a></span><span> </span><span class="annot"><span class="annottext">(Position, b) -&gt; Position
forall a b. (a, b) -&gt; a
</span><a href="../../base-4.18.2.1/src/Data.Tuple.html#fst/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span>    </span><span id="local-6989586621679454149"><span class="annot"><span class="annottext">availableSince :: forall a s.
CabalSpecVersion
-&gt; a -&gt; ParsecFieldGrammar s a -&gt; ParsecFieldGrammar s a
</span><a href="#local-6989586621679454149"><span class="hs-identifier hs-var hs-var hs-var hs-var">availableSince</span></a></span></span><span> </span><span id="local-6989586621679454151"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454151"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621679454152"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679454152"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-type">ParsecFG</span></a></span><span> </span><span id="local-6989586621679454153"><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454153"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621679454154"><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454154"><span class="hs-identifier hs-var">prefixes</span></a></span></span><span> </span><span id="local-6989586621679454155"><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454155"><span class="hs-identifier hs-var">parser</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454153"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454154"><span class="hs-identifier hs-var">prefixes</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454156"><span class="hs-identifier hs-var">parser'</span></a></span><span>
</span><span id="line-276"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-277"></span><span>        </span><span id="local-6989586621679454156"><span class="annot"><span class="annottext">parser' :: CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454156"><span class="hs-identifier hs-var hs-var">parser'</span></a></span></span><span> </span><span id="local-6989586621679454171"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454171"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679454172"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454172"><span class="hs-identifier hs-var">values</span></a></span></span><span>
</span><span id="line-278"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454171"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; CabalSpecVersion -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454151"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454155"><span class="hs-identifier hs-var">parser</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454171"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454172"><span class="hs-identifier hs-var">values</span></a></span><span>
</span><span id="line-279"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-280"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679454174"><span class="annot"><span class="annottext">unknownFields :: Fields Position
</span><a href="#local-6989586621679454174"><span class="hs-identifier hs-var hs-var">unknownFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Fields Position -&gt; Map FieldName () -&gt; Fields Position
forall k a b. Ord k =&gt; Map k a -&gt; Map k b -&gt; Map k a
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#intersection/Data.Map.Internal.html#intersection"><span class="hs-identifier hs-var">Map.intersection</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454172"><span class="hs-identifier hs-var">values</span></a></span><span> </span><span class="annot"><span class="annottext">(Map FieldName () -&gt; Fields Position)
-&gt; Map FieldName () -&gt; Fields Position
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldName -&gt; ()) -&gt; Set FieldName -&gt; Map FieldName ()
forall k a. (k -&gt; a) -&gt; Set k -&gt; Map k a
</span><a href="../../containers-0.6.7/src/Data.Map.Strict.Internal.html#fromSet/Data.Map.Strict.Internal.html#fromSet"><span class="hs-identifier hs-var">Map.fromSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; FieldName -&gt; ()
forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#const/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454153"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-281"></span><span>                </span><span class="annot"><span class="annottext">[(FieldName, [NamelessField Position])]
-&gt; ((FieldName, [NamelessField Position]) -&gt; ParseResult ())
-&gt; ParseResult ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#for_/Data.Foldable.html#for_"><span class="hs-identifier hs-var">for_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Fields Position -&gt; [(FieldName, [NamelessField Position])]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#toList/Data.Map.Internal.html#toList"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454174"><span class="hs-identifier hs-var">unknownFields</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(((FieldName, [NamelessField Position]) -&gt; ParseResult ())
 -&gt; ParseResult ())
-&gt; ((FieldName, [NamelessField Position]) -&gt; ParseResult ())
-&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679454178"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454178"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679454179"><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679454179"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-282"></span><span>                    </span><span class="annot"><span class="annottext">[NamelessField Position]
-&gt; (NamelessField Position -&gt; ParseResult ()) -&gt; ParseResult ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#for_/Data.Foldable.html#for_"><span class="hs-identifier hs-var">for_</span></a></span><span> </span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679454179"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="annot"><span class="annottext">((NamelessField Position -&gt; ParseResult ()) -&gt; ParseResult ())
-&gt; (NamelessField Position -&gt; ParseResult ()) -&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679454180"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454180"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-283"></span><span>                        </span><span class="annot"><span class="annottext">Position -&gt; PWarnType -&gt; [Char] -&gt; ParseResult ()
</span><a href="Distribution.Fields.ParseResult.html#parseWarning"><span class="hs-identifier hs-var">parseWarning</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454180"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">PWarnType
</span><a href="Distribution.Parsec.Warning.html#PWTUnknownField"><span class="hs-identifier hs-var">PWTUnknownField</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ParseResult ()) -&gt; [Char] -&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-284"></span><span>                            </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;The field &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="../../base-4.18.2.1/src/GHC.Show.html#show/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454178"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; is available only since the Cabal specification version &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; [Char]
</span><a href="Distribution.CabalSpecVersion.html#showCabalSpecVersion"><span class="hs-identifier hs-var">showCabalSpecVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454151"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;. This field will be ignored.&quot;</span></span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span>                </span><span class="annot"><span class="annottext">a -&gt; ParseResult a
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679454152"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span>    </span><span id="local-6989586621679454182"><span class="annot"><span class="annottext">availableSinceWarn :: forall s a.
CabalSpecVersion
-&gt; ParsecFieldGrammar s a -&gt; ParsecFieldGrammar s a
</span><a href="#local-6989586621679454182"><span class="hs-identifier hs-var hs-var hs-var hs-var">availableSinceWarn</span></a></span></span><span> </span><span id="local-6989586621679454184"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454184"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-type">ParsecFG</span></a></span><span> </span><span id="local-6989586621679454185"><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454185"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621679454186"><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454186"><span class="hs-identifier hs-var">prefixes</span></a></span></span><span> </span><span id="local-6989586621679454187"><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454187"><span class="hs-identifier hs-var">parser</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454185"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454186"><span class="hs-identifier hs-var">prefixes</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454188"><span class="hs-identifier hs-var">parser'</span></a></span><span>
</span><span id="line-289"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-290"></span><span>        </span><span id="local-6989586621679454188"><span class="annot"><span class="annottext">parser' :: CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454188"><span class="hs-identifier hs-var hs-var">parser'</span></a></span></span><span> </span><span id="local-6989586621679454202"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454202"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679454203"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454203"><span class="hs-identifier hs-var">values</span></a></span></span><span>
</span><span id="line-291"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454202"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; CabalSpecVersion -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454184"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454187"><span class="hs-identifier hs-var">parser</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454202"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454203"><span class="hs-identifier hs-var">values</span></a></span><span>
</span><span id="line-292"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-293"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679454205"><span class="annot"><span class="annottext">unknownFields :: Fields Position
</span><a href="#local-6989586621679454205"><span class="hs-identifier hs-var hs-var">unknownFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Fields Position -&gt; Map FieldName () -&gt; Fields Position
forall k a b. Ord k =&gt; Map k a -&gt; Map k b -&gt; Map k a
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#intersection/Data.Map.Internal.html#intersection"><span class="hs-identifier hs-var">Map.intersection</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454203"><span class="hs-identifier hs-var">values</span></a></span><span> </span><span class="annot"><span class="annottext">(Map FieldName () -&gt; Fields Position)
-&gt; Map FieldName () -&gt; Fields Position
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldName -&gt; ()) -&gt; Set FieldName -&gt; Map FieldName ()
forall k a. (k -&gt; a) -&gt; Set k -&gt; Map k a
</span><a href="../../containers-0.6.7/src/Data.Map.Strict.Internal.html#fromSet/Data.Map.Strict.Internal.html#fromSet"><span class="hs-identifier hs-var">Map.fromSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; FieldName -&gt; ()
forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#const/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454185"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-294"></span><span>                </span><span class="annot"><span class="annottext">[(FieldName, [NamelessField Position])]
-&gt; ((FieldName, [NamelessField Position]) -&gt; ParseResult ())
-&gt; ParseResult ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#for_/Data.Foldable.html#for_"><span class="hs-identifier hs-var">for_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Fields Position -&gt; [(FieldName, [NamelessField Position])]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#toList/Data.Map.Internal.html#toList"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454205"><span class="hs-identifier hs-var">unknownFields</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(((FieldName, [NamelessField Position]) -&gt; ParseResult ())
 -&gt; ParseResult ())
-&gt; ((FieldName, [NamelessField Position]) -&gt; ParseResult ())
-&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679454206"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454206"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679454207"><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679454207"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-295"></span><span>                    </span><span class="annot"><span class="annottext">[NamelessField Position]
-&gt; (NamelessField Position -&gt; ParseResult ()) -&gt; ParseResult ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#for_/Data.Foldable.html#for_"><span class="hs-identifier hs-var">for_</span></a></span><span> </span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679454207"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="annot"><span class="annottext">((NamelessField Position -&gt; ParseResult ()) -&gt; ParseResult ())
-&gt; (NamelessField Position -&gt; ParseResult ()) -&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679454208"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454208"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-296"></span><span>                        </span><span class="annot"><span class="annottext">Position -&gt; PWarnType -&gt; [Char] -&gt; ParseResult ()
</span><a href="Distribution.Fields.ParseResult.html#parseWarning"><span class="hs-identifier hs-var">parseWarning</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454208"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">PWarnType
</span><a href="Distribution.Parsec.Warning.html#PWTUnknownField"><span class="hs-identifier hs-var">PWTUnknownField</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ParseResult ()) -&gt; [Char] -&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-297"></span><span>                            </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;The field &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="../../base-4.18.2.1/src/GHC.Show.html#show/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454206"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; is available only since the Cabal specification version &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; [Char]
</span><a href="Distribution.CabalSpecVersion.html#showCabalSpecVersion"><span class="hs-identifier hs-var">showCabalSpecVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454184"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;.&quot;</span></span><span>
</span><span id="line-298"></span><span>
</span><span id="line-299"></span><span>                </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454187"><span class="hs-identifier hs-var">parser</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454202"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454203"><span class="hs-identifier hs-var">values</span></a></span><span>
</span><span id="line-300"></span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span>    </span><span class="hs-comment">-- todo we know about this field</span><span>
</span><span id="line-303"></span><span>    </span><span id="local-6989586621679454209"><span class="annot"><span class="annottext">deprecatedSince :: forall s a.
CabalSpecVersion
-&gt; [Char] -&gt; ParsecFieldGrammar s a -&gt; ParsecFieldGrammar s a
</span><a href="#local-6989586621679454209"><span class="hs-identifier hs-var hs-var hs-var hs-var">deprecatedSince</span></a></span></span><span> </span><span id="local-6989586621679454211"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454211"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621679454212"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679454212"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-type">ParsecFG</span></a></span><span> </span><span id="local-6989586621679454213"><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454213"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621679454214"><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454214"><span class="hs-identifier hs-var">prefixes</span></a></span></span><span> </span><span id="local-6989586621679454215"><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454215"><span class="hs-identifier hs-var">parser</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454213"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454214"><span class="hs-identifier hs-var">prefixes</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454216"><span class="hs-identifier hs-var">parser'</span></a></span><span>
</span><span id="line-304"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-305"></span><span>        </span><span id="local-6989586621679454216"><span class="annot"><span class="annottext">parser' :: CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454216"><span class="hs-identifier hs-var hs-var">parser'</span></a></span></span><span> </span><span id="local-6989586621679454230"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454230"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679454231"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454231"><span class="hs-identifier hs-var">values</span></a></span></span><span>
</span><span id="line-306"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454230"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; CabalSpecVersion -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454211"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-307"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679454233"><span class="annot"><span class="annottext">deprecatedFields :: Fields Position
</span><a href="#local-6989586621679454233"><span class="hs-identifier hs-var hs-var">deprecatedFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Fields Position -&gt; Map FieldName () -&gt; Fields Position
forall k a b. Ord k =&gt; Map k a -&gt; Map k b -&gt; Map k a
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#intersection/Data.Map.Internal.html#intersection"><span class="hs-identifier hs-var">Map.intersection</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454231"><span class="hs-identifier hs-var">values</span></a></span><span> </span><span class="annot"><span class="annottext">(Map FieldName () -&gt; Fields Position)
-&gt; Map FieldName () -&gt; Fields Position
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldName -&gt; ()) -&gt; Set FieldName -&gt; Map FieldName ()
forall k a. (k -&gt; a) -&gt; Set k -&gt; Map k a
</span><a href="../../containers-0.6.7/src/Data.Map.Strict.Internal.html#fromSet/Data.Map.Strict.Internal.html#fromSet"><span class="hs-identifier hs-var">Map.fromSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; FieldName -&gt; ()
forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#const/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454213"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-308"></span><span>                </span><span class="annot"><span class="annottext">[(FieldName, [NamelessField Position])]
-&gt; ((FieldName, [NamelessField Position]) -&gt; ParseResult ())
-&gt; ParseResult ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#for_/Data.Foldable.html#for_"><span class="hs-identifier hs-var">for_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Fields Position -&gt; [(FieldName, [NamelessField Position])]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#toList/Data.Map.Internal.html#toList"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454233"><span class="hs-identifier hs-var">deprecatedFields</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(((FieldName, [NamelessField Position]) -&gt; ParseResult ())
 -&gt; ParseResult ())
-&gt; ((FieldName, [NamelessField Position]) -&gt; ParseResult ())
-&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679454234"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454234"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679454235"><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679454235"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-309"></span><span>                    </span><span class="annot"><span class="annottext">[NamelessField Position]
-&gt; (NamelessField Position -&gt; ParseResult ()) -&gt; ParseResult ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#for_/Data.Foldable.html#for_"><span class="hs-identifier hs-var">for_</span></a></span><span> </span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679454235"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="annot"><span class="annottext">((NamelessField Position -&gt; ParseResult ()) -&gt; ParseResult ())
-&gt; (NamelessField Position -&gt; ParseResult ()) -&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679454236"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454236"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-310"></span><span>                        </span><span class="annot"><span class="annottext">Position -&gt; PWarnType -&gt; [Char] -&gt; ParseResult ()
</span><a href="Distribution.Fields.ParseResult.html#parseWarning"><span class="hs-identifier hs-var">parseWarning</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454236"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">PWarnType
</span><a href="Distribution.Parsec.Warning.html#PWTDeprecatedField"><span class="hs-identifier hs-var">PWTDeprecatedField</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ParseResult ()) -&gt; [Char] -&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-311"></span><span>                            </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;The field &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="../../base-4.18.2.1/src/GHC.Show.html#show/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454234"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; is deprecated in the Cabal specification version &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; [Char]
</span><a href="Distribution.CabalSpecVersion.html#showCabalSpecVersion"><span class="hs-identifier hs-var">showCabalSpecVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454211"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;. &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679454212"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span>                </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454215"><span class="hs-identifier hs-var">parser</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454230"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454231"><span class="hs-identifier hs-var">values</span></a></span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454215"><span class="hs-identifier hs-var">parser</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454230"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454231"><span class="hs-identifier hs-var">values</span></a></span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span>    </span><span id="local-6989586621679454238"><span class="annot"><span class="annottext">removedIn :: forall s a.
CabalSpecVersion
-&gt; [Char] -&gt; ParsecFieldGrammar s a -&gt; ParsecFieldGrammar s a
</span><a href="#local-6989586621679454238"><span class="hs-identifier hs-var hs-var hs-var hs-var">removedIn</span></a></span></span><span> </span><span id="local-6989586621679454240"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454240"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621679454241"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679454241"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-type">ParsecFG</span></a></span><span> </span><span id="local-6989586621679454242"><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454242"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621679454243"><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454243"><span class="hs-identifier hs-var">prefixes</span></a></span></span><span> </span><span id="local-6989586621679454244"><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454244"><span class="hs-identifier hs-var">parser</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454242"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454243"><span class="hs-identifier hs-var">prefixes</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454245"><span class="hs-identifier hs-var">parser'</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-318"></span><span>        </span><span id="local-6989586621679454245"><span class="annot"><span class="annottext">parser' :: CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454245"><span class="hs-identifier hs-var hs-var">parser'</span></a></span></span><span> </span><span id="local-6989586621679454255"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454255"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679454256"><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454256"><span class="hs-identifier hs-var">values</span></a></span></span><span>
</span><span id="line-319"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454255"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; CabalSpecVersion -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454240"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-320"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679454260"><span class="annot"><span class="annottext">msg' :: [Char]
</span><a href="#local-6989586621679454260"><span class="hs-identifier hs-var hs-var">msg'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679454241"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; ShowS
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679454241"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-321"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679454262"><span class="annot"><span class="annottext">unknownFields :: Fields Position
</span><a href="#local-6989586621679454262"><span class="hs-identifier hs-var hs-var">unknownFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Fields Position -&gt; Map FieldName () -&gt; Fields Position
forall k a b. Ord k =&gt; Map k a -&gt; Map k b -&gt; Map k a
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#intersection/Data.Map.Internal.html#intersection"><span class="hs-identifier hs-var">Map.intersection</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454256"><span class="hs-identifier hs-var">values</span></a></span><span> </span><span class="annot"><span class="annottext">(Map FieldName () -&gt; Fields Position)
-&gt; Map FieldName () -&gt; Fields Position
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldName -&gt; ()) -&gt; Set FieldName -&gt; Map FieldName ()
forall k a. (k -&gt; a) -&gt; Set k -&gt; Map k a
</span><a href="../../containers-0.6.7/src/Data.Map.Strict.Internal.html#fromSet/Data.Map.Strict.Internal.html#fromSet"><span class="hs-identifier hs-var">Map.fromSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; FieldName -&gt; ()
forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#const/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set FieldName
</span><a href="#local-6989586621679454242"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-322"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679454263"><span class="annot"><span class="annottext">namePos :: [(FieldName, Position)]
</span><a href="#local-6989586621679454263"><span class="hs-identifier hs-var hs-var">namePos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-323"></span><span>                      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454264"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454265"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-324"></span><span>                      </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679454264"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454264"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679454266"><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679454266"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Fields Position -&gt; [(FieldName, [NamelessField Position])]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../../containers-0.6.7/src/Data.Map.Internal.html#toList/Data.Map.Internal.html#toList"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454262"><span class="hs-identifier hs-var">unknownFields</span></a></span><span>
</span><span id="line-325"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#MkNamelessField"><span class="hs-identifier hs-type">MkNamelessField</span></a></span><span> </span><span id="local-6989586621679454265"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454265"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[NamelessField Position]
</span><a href="#local-6989586621679454266"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-326"></span><span>                      </span><span class="hs-special">]</span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679454275"><span class="annot"><span class="annottext">makeMsg :: a -&gt; [Char]
</span><a href="#local-6989586621679454275"><span class="hs-identifier hs-var hs-var">makeMsg</span></a></span></span><span> </span><span id="local-6989586621679454276"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679454276"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;The field &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="../../base-4.18.2.1/src/GHC.Show.html#show/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679454276"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; is removed in the Cabal specification version &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; [Char]
</span><a href="Distribution.CabalSpecVersion.html#showCabalSpecVersion"><span class="hs-identifier hs-var">showCabalSpecVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454240"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;.&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679454260"><span class="hs-identifier hs-var">msg'</span></a></span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span>                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[(FieldName, Position)]
</span><a href="#local-6989586621679454263"><span class="hs-identifier hs-var">namePos</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-331"></span><span>                    </span><span class="hs-comment">-- no fields =&gt; proceed (with empty values, to be sure)</span><span>
</span><span id="line-332"></span><span>                    </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454244"><span class="hs-identifier hs-var">parser</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454255"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
forall a. Monoid a =&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#mempty/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span>                    </span><span class="hs-comment">-- if there's single field: fail fatally with it</span><span>
</span><span id="line-335"></span><span>                    </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679454277"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454277"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679454278"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454278"><span class="hs-identifier hs-var">pos</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679454279"><span class="annot"><span class="annottext">[(FieldName, Position)]
</span><a href="#local-6989586621679454279"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-336"></span><span>                        </span><span class="annot"><span class="annottext">[(FieldName, Position)]
-&gt; ((FieldName, Position) -&gt; ParseResult ()) -&gt; ParseResult ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#for_/Data.Foldable.html#for_"><span class="hs-identifier hs-var">for_</span></a></span><span> </span><span class="annot"><span class="annottext">[(FieldName, Position)]
</span><a href="#local-6989586621679454279"><span class="hs-identifier hs-var">rest</span></a></span><span> </span><span class="annot"><span class="annottext">(((FieldName, Position) -&gt; ParseResult ()) -&gt; ParseResult ())
-&gt; ((FieldName, Position) -&gt; ParseResult ()) -&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679454280"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454280"><span class="hs-identifier hs-var">name'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679454281"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454281"><span class="hs-identifier hs-var">pos'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Position -&gt; [Char] -&gt; ParseResult ()
</span><a href="Distribution.Fields.ParseResult.html#parseFailure"><span class="hs-identifier hs-var">parseFailure</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454281"><span class="hs-identifier hs-var">pos'</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ParseResult ()) -&gt; [Char] -&gt; ParseResult ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="#local-6989586621679454275"><span class="hs-identifier hs-var">makeMsg</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454280"><span class="hs-identifier hs-var">name'</span></a></span><span>
</span><span id="line-337"></span><span>                        </span><span class="annot"><span class="annottext">Position -&gt; [Char] -&gt; ParseResult a
forall a. Position -&gt; [Char] -&gt; ParseResult a
</span><a href="Distribution.Fields.ParseResult.html#parseFatalFailure"><span class="hs-identifier hs-var">parseFatalFailure</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454278"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ParseResult a) -&gt; [Char] -&gt; ParseResult a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="#local-6989586621679454275"><span class="hs-identifier hs-var">makeMsg</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454277"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a
</span><a href="#local-6989586621679454244"><span class="hs-identifier hs-var">parser</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454255"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><a href="#local-6989586621679454256"><span class="hs-identifier hs-var">values</span></a></span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span>    </span><span id="local-6989586621679454284"><span class="annot"><span class="annottext">knownField :: forall s. FieldName -&gt; ParsecFieldGrammar s ()
</span><a href="#local-6989586621679454284"><span class="hs-identifier hs-var hs-var hs-var hs-var">knownField</span></a></span></span><span> </span><span id="local-6989586621679454286"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454286"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult ())
-&gt; ParsecFieldGrammar s ()
forall s a.
Set FieldName
-&gt; Set FieldName
-&gt; (CabalSpecVersion -&gt; Fields Position -&gt; ParseResult a)
-&gt; ParsecFieldGrammar s a
</span><a href="Distribution.FieldGrammar.Parsec.html#ParsecFG"><span class="hs-identifier hs-var">ParsecFG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName -&gt; Set FieldName
forall a. a -&gt; Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#singleton/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">Set.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454286"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set FieldName
forall a. Set a
</span><a href="../../containers-0.6.7/src/Data.Set.Internal.html#empty/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">Set.empty</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">CabalSpecVersion
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Fields Position
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; ParseResult ()
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span>    </span><span id="local-6989586621679454287"><span class="annot"><span class="annottext">hiddenField :: forall s a. ParsecFieldGrammar s a -&gt; ParsecFieldGrammar s a
</span><a href="#local-6989586621679454287"><span class="hs-identifier hs-var hs-var hs-var hs-var">hiddenField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParsecFieldGrammar s a -&gt; ParsecFieldGrammar s a
forall a. a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#id/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-346"></span><span class="hs-comment">-- Parsec</span><span>
</span><span id="line-347"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span id="local-6989586621679453509"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#runFieldParser%27"><span class="hs-identifier hs-type">runFieldParser'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Parsec.html#ParsecParser"><span class="hs-identifier hs-type">ParsecParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453509"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.CabalSpecVersion.html#CabalSpecVersion"><span class="hs-identifier hs-type">CabalSpecVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Parsec.FieldLineStream.html#FieldLineStream"><span class="hs-identifier hs-type">FieldLineStream</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Fields.ParseResult.html#ParseResult"><span class="hs-identifier hs-type">ParseResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453509"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-350"></span><span id="runFieldParser%27"><span class="annot"><span class="annottext">runFieldParser' :: forall a.
[Position]
-&gt; ParsecParser a
-&gt; CabalSpecVersion
-&gt; FieldLineStream
-&gt; ParseResult a
</span><a href="Distribution.FieldGrammar.Parsec.html#runFieldParser%27"><span class="hs-identifier hs-var hs-var">runFieldParser'</span></a></span></span><span> </span><span id="local-6989586621679454299"><span class="annot"><span class="annottext">[Position]
</span><a href="#local-6989586621679454299"><span class="hs-identifier hs-var">inputPoss</span></a></span></span><span> </span><span id="local-6989586621679454300"><span class="annot"><span class="annottext">ParsecParser a
</span><a href="#local-6989586621679454300"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679454301"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454301"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679454302"><span class="annot"><span class="annottext">FieldLineStream
</span><a href="#local-6989586621679454302"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Parsec FieldLineStream [PWarning] (a, [PWarning])
-&gt; [PWarning]
-&gt; [Char]
-&gt; FieldLineStream
-&gt; Either ParseError (a, [PWarning])
forall s t u a.
Stream s Identity t =&gt;
Parsec s u a -&gt; u -&gt; [Char] -&gt; s -&gt; Either ParseError a
</span><a href="../../parsec-3.1.16.1/src/Text.Parsec.Prim.html#runParser/Text.Parsec.Prim.html#runParser"><span class="hs-identifier hs-var">P.runParser</span></a></span><span> </span><span class="annot"><span class="annottext">Parsec FieldLineStream [PWarning] (a, [PWarning])
</span><a href="#local-6989586621679454304"><span class="hs-identifier hs-var">p'</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&lt;field&gt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">FieldLineStream
</span><a href="#local-6989586621679454302"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-351"></span><span>    </span><span class="annot"><a href="../../base-4.18.2.1/src/Data.Either.html#Right/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679454305"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679454305"><span class="hs-identifier hs-var">pok</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679454306"><span class="annot"><span class="annottext">[PWarning]
</span><a href="#local-6989586621679454306"><span class="hs-identifier hs-var">ws</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-352"></span><span>        </span><span class="annot"><span class="annottext">(PWarning -&gt; ParseResult ()) -&gt; [PWarning] -&gt; ParseResult ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#traverse_/Data.Foldable.html#traverse_"><span class="hs-identifier hs-var">traverse_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Parsec.Warning.html#PWarning"><span class="hs-identifier hs-type">PWarning</span></a></span><span> </span><span id="local-6989586621679454309"><span class="annot"><span class="annottext">PWarnType
</span><a href="#local-6989586621679454309"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679454310"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454310"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621679454311"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679454311"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Position -&gt; PWarnType -&gt; [Char] -&gt; ParseResult ()
</span><a href="Distribution.Fields.ParseResult.html#parseWarning"><span class="hs-identifier hs-var">parseWarning</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position -&gt; Position
</span><a href="#local-6989586621679454312"><span class="hs-identifier hs-var">mapPosition</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454310"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PWarnType
</span><a href="#local-6989586621679454309"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679454311"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[PWarning]
</span><a href="#local-6989586621679454306"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-353"></span><span>        </span><span class="annot"><span class="annottext">a -&gt; ParseResult a
forall a. a -&gt; ParseResult a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679454305"><span class="hs-identifier hs-var">pok</span></a></span><span>
</span><span id="line-354"></span><span>    </span><span class="annot"><a href="../../base-4.18.2.1/src/Data.Either.html#Left/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679454313"><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679454313"><span class="hs-identifier hs-var">err</span></a></span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-355"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679454314"><span class="annot"><span class="annottext">ppos :: SourcePos
</span><a href="#local-6989586621679454314"><span class="hs-identifier hs-var hs-var">ppos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParseError -&gt; SourcePos
</span><a href="../../parsec-3.1.16.1/src/Text.Parsec.Error.html#errorPos/Text.Parsec.Error.html#errorPos"><span class="hs-identifier hs-var">P.errorPos</span></a></span><span> </span><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679454313"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-356"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679454316"><span class="annot"><span class="annottext">epos :: Position
</span><a href="#local-6989586621679454316"><span class="hs-identifier hs-var hs-var">epos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position -&gt; Position
</span><a href="#local-6989586621679454312"><span class="hs-identifier hs-var">mapPosition</span></a></span><span> </span><span class="annot"><span class="annottext">(Position -&gt; Position) -&gt; Position -&gt; Position
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Position
</span><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-var">Position</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourcePos -&gt; Int
</span><a href="../../parsec-3.1.16.1/src/Text.Parsec.Pos.html#sourceLine/Text.Parsec.Pos.html#sourceLine"><span class="hs-identifier hs-var">P.sourceLine</span></a></span><span> </span><span class="annot"><span class="annottext">SourcePos
</span><a href="#local-6989586621679454314"><span class="hs-identifier hs-var">ppos</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourcePos -&gt; Int
</span><a href="../../parsec-3.1.16.1/src/Text.Parsec.Pos.html#sourceColumn/Text.Parsec.Pos.html#sourceColumn"><span class="hs-identifier hs-var">P.sourceColumn</span></a></span><span> </span><span class="annot"><span class="annottext">SourcePos
</span><a href="#local-6989586621679454314"><span class="hs-identifier hs-var">ppos</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679454320"><span class="annot"><span class="annottext">msg :: [Char]
</span><a href="#local-6989586621679454320"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
-&gt; [Char] -&gt; [Char] -&gt; [Char] -&gt; [Char] -&gt; [Message] -&gt; [Char]
</span><a href="../../parsec-3.1.16.1/src/Text.Parsec.Error.html#showErrorMessages/Text.Parsec.Error.html#showErrorMessages"><span class="hs-identifier hs-var">P.showErrorMessages</span></a></span><span>
</span><span id="line-359"></span><span>                </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;or&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;unknown parse error&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;expecting&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;unexpected&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;end of input&quot;</span></span><span>
</span><span id="line-360"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParseError -&gt; [Message]
</span><a href="../../parsec-3.1.16.1/src/Text.Parsec.Error.html#errorMessages/Text.Parsec.Error.html#errorMessages"><span class="hs-identifier hs-var">P.errorMessages</span></a></span><span> </span><span class="annot"><span class="annottext">ParseError
</span><a href="#local-6989586621679454313"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>        </span><span class="annot"><span class="annottext">Position -&gt; [Char] -&gt; ParseResult a
forall a. Position -&gt; [Char] -&gt; ParseResult a
</span><a href="Distribution.Fields.ParseResult.html#parseFatalFailure"><span class="hs-identifier hs-var">parseFatalFailure</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454316"><span class="hs-identifier hs-var">epos</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ParseResult a) -&gt; [Char] -&gt; ParseResult a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679454320"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;\n&quot;</span></span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-363"></span><span>    </span><span id="local-6989586621679454304"><span class="annot"><span class="annottext">p' :: Parsec FieldLineStream [PWarning] (a, [PWarning])
</span><a href="#local-6989586621679454304"><span class="hs-identifier hs-var hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; [PWarning] -&gt; (a, [PWarning]))
-&gt; ParsecT FieldLineStream [PWarning] Identity ()
-&gt; ParsecT
     FieldLineStream
     [PWarning]
     Identity
     (a -&gt; [PWarning] -&gt; (a, [PWarning]))
forall a b.
a
-&gt; ParsecT FieldLineStream [PWarning] Identity b
-&gt; ParsecT FieldLineStream [PWarning] Identity a
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%24/GHC.Base.html#%3C%24"><span class="hs-operator hs-var">&lt;$</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT FieldLineStream [PWarning] Identity ()
forall s (m :: * -&gt; *) u. Stream s m Char =&gt; ParsecT s u m ()
</span><a href="../../parsec-3.1.16.1/src/Text.Parsec.Char.html#spaces/Text.Parsec.Char.html#spaces"><span class="hs-identifier hs-var">P.spaces</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT
  FieldLineStream
  [PWarning]
  Identity
  (a -&gt; [PWarning] -&gt; (a, [PWarning]))
-&gt; ParsecT FieldLineStream [PWarning] Identity a
-&gt; ParsecT
     FieldLineStream [PWarning] Identity ([PWarning] -&gt; (a, [PWarning]))
forall a b.
ParsecT FieldLineStream [PWarning] Identity (a -&gt; b)
-&gt; ParsecT FieldLineStream [PWarning] Identity a
-&gt; ParsecT FieldLineStream [PWarning] Identity b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecParser a
-&gt; CabalSpecVersion
-&gt; ParsecT FieldLineStream [PWarning] Identity a
forall a.
ParsecParser a
-&gt; CabalSpecVersion -&gt; Parsec FieldLineStream [PWarning] a
</span><a href="Distribution.Parsec.html#unPP"><span class="hs-identifier hs-var">unPP</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecParser a
</span><a href="#local-6989586621679454300"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454301"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT
  FieldLineStream [PWarning] Identity ([PWarning] -&gt; (a, [PWarning]))
-&gt; ParsecT FieldLineStream [PWarning] Identity ()
-&gt; ParsecT
     FieldLineStream [PWarning] Identity ([PWarning] -&gt; (a, [PWarning]))
forall a b.
ParsecT FieldLineStream [PWarning] Identity a
-&gt; ParsecT FieldLineStream [PWarning] Identity b
-&gt; ParsecT FieldLineStream [PWarning] Identity a
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%2A/GHC.Base.html#%3C%2A"><span class="hs-operator hs-var">&lt;*</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT FieldLineStream [PWarning] Identity ()
forall s (m :: * -&gt; *) u. Stream s m Char =&gt; ParsecT s u m ()
</span><a href="../../parsec-3.1.16.1/src/Text.Parsec.Char.html#spaces/Text.Parsec.Char.html#spaces"><span class="hs-identifier hs-var">P.spaces</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT
  FieldLineStream [PWarning] Identity ([PWarning] -&gt; (a, [PWarning]))
-&gt; ParsecT FieldLineStream [PWarning] Identity ()
-&gt; ParsecT
     FieldLineStream [PWarning] Identity ([PWarning] -&gt; (a, [PWarning]))
forall a b.
ParsecT FieldLineStream [PWarning] Identity a
-&gt; ParsecT FieldLineStream [PWarning] Identity b
-&gt; ParsecT FieldLineStream [PWarning] Identity a
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%2A/GHC.Base.html#%3C%2A"><span class="hs-operator hs-var">&lt;*</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT FieldLineStream [PWarning] Identity ()
forall s (m :: * -&gt; *) t u.
(Stream s m t, Show t) =&gt;
ParsecT s u m ()
</span><a href="../../parsec-3.1.16.1/src/Text.Parsec.Combinator.html#eof/Text.Parsec.Combinator.html#eof"><span class="hs-identifier hs-var">P.eof</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT
  FieldLineStream [PWarning] Identity ([PWarning] -&gt; (a, [PWarning]))
-&gt; ParsecT FieldLineStream [PWarning] Identity [PWarning]
-&gt; Parsec FieldLineStream [PWarning] (a, [PWarning])
forall a b.
ParsecT FieldLineStream [PWarning] Identity (a -&gt; b)
-&gt; ParsecT FieldLineStream [PWarning] Identity a
-&gt; ParsecT FieldLineStream [PWarning] Identity b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT FieldLineStream [PWarning] Identity [PWarning]
forall (m :: * -&gt; *) s u. Monad m =&gt; ParsecT s u m u
</span><a href="../../parsec-3.1.16.1/src/Text.Parsec.Prim.html#getState/Text.Parsec.Prim.html#getState"><span class="hs-identifier hs-var">P.getState</span></a></span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span>    </span><span class="hs-comment">-- Positions start from 1:1, not 0:0</span><span>
</span><span id="line-366"></span><span>    </span><span id="local-6989586621679454312"><span class="annot"><span class="annottext">mapPosition :: Position -&gt; Position
</span><a href="#local-6989586621679454312"><span class="hs-identifier hs-var hs-var">mapPosition</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span> </span><span id="local-6989586621679454347"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454347"><span class="hs-identifier hs-var">prow</span></a></span></span><span> </span><span id="local-6989586621679454348"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454348"><span class="hs-identifier hs-var">pcol</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Position] -&gt; Position
forall {t}. (Ord t, Num t) =&gt; t -&gt; [Position] -&gt; Position
</span><a href="#local-6989586621679454349"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454347"><span class="hs-identifier hs-var">prow</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Position]
</span><a href="#local-6989586621679454299"><span class="hs-identifier hs-var">inputPoss</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-367"></span><span>        </span><span id="local-6989586621679454349"><span class="annot"><span class="annottext">go :: t -&gt; [Position] -&gt; Position
</span><a href="#local-6989586621679454349"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="Distribution.Parsec.Position.html#zeroPos"><span class="hs-identifier hs-var">zeroPos</span></a></span><span>
</span><span id="line-368"></span><span>        </span><span class="annot"><a href="#local-6989586621679454349"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span> </span><span id="local-6989586621679454365"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454365"><span class="hs-identifier hs-var">row</span></a></span></span><span> </span><span id="local-6989586621679454366"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454366"><span class="hs-identifier hs-var">col</span></a></span></span><span class="hs-special">]</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Position
</span><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-var">Position</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454365"><span class="hs-identifier hs-var">row</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454366"><span class="hs-identifier hs-var">col</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Num.html#%2B/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454348"><span class="hs-identifier hs-var">pcol</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-369"></span><span>        </span><span class="annot"><a href="#local-6989586621679454349"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621679454368"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679454368"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span> </span><span id="local-6989586621679454369"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454369"><span class="hs-identifier hs-var">row</span></a></span></span><span> </span><span id="local-6989586621679454370"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454370"><span class="hs-identifier hs-var">col</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Position]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679454368"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Position
</span><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-var">Position</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454369"><span class="hs-identifier hs-var">row</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454370"><span class="hs-identifier hs-var">col</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Num.html#%2B/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454348"><span class="hs-identifier hs-var">pcol</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-370"></span><span>        </span><span class="annot"><a href="#local-6989586621679454349"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621679454372"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679454372"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679454373"><span class="annot"><span class="annottext">[Position]
</span><a href="#local-6989586621679454373"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; [Position] -&gt; Position
</span><a href="#local-6989586621679454349"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679454372"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; t
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Position]
</span><a href="#local-6989586621679454373"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-371"></span><span>
</span><span id="line-372"></span><span id="local-6989586621679453443"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#runFieldParser"><span class="hs-identifier hs-type">runFieldParser</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Parsec.html#ParsecParser"><span class="hs-identifier hs-type">ParsecParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453443"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.CabalSpecVersion.html#CabalSpecVersion"><span class="hs-identifier hs-type">CabalSpecVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Fields.ParseResult.html#ParseResult"><span class="hs-identifier hs-type">ParseResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453443"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-373"></span><span id="runFieldParser"><span class="annot"><span class="annottext">runFieldParser :: forall a.
Position
-&gt; ParsecParser a
-&gt; CabalSpecVersion
-&gt; [FieldLine Position]
-&gt; ParseResult a
</span><a href="Distribution.FieldGrammar.Parsec.html#runFieldParser"><span class="hs-identifier hs-var hs-var">runFieldParser</span></a></span></span><span> </span><span id="local-6989586621679454374"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454374"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621679454375"><span class="annot"><span class="annottext">ParsecParser a
</span><a href="#local-6989586621679454375"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679454376"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454376"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679454377"><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454377"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Position]
-&gt; ParsecParser a
-&gt; CabalSpecVersion
-&gt; FieldLineStream
-&gt; ParseResult a
forall a.
[Position]
-&gt; ParsecParser a
-&gt; CabalSpecVersion
-&gt; FieldLineStream
-&gt; ParseResult a
</span><a href="Distribution.FieldGrammar.Parsec.html#runFieldParser%27"><span class="hs-identifier hs-var">runFieldParser'</span></a></span><span> </span><span class="annot"><span class="annottext">[Position]
</span><a href="#local-6989586621679454378"><span class="hs-identifier hs-var">poss</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecParser a
</span><a href="#local-6989586621679454375"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679454376"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FieldLine Position] -&gt; FieldLineStream
forall ann. [FieldLine ann] -&gt; FieldLineStream
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldLinesToStream"><span class="hs-identifier hs-var">fieldLinesToStream</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454377"><span class="hs-identifier hs-var">ls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-374"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-375"></span><span>    </span><span id="local-6989586621679454378"><span class="annot"><span class="annottext">poss :: [Position]
</span><a href="#local-6989586621679454378"><span class="hs-identifier hs-var hs-var">poss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FieldLine Position -&gt; Position)
-&gt; [FieldLine Position] -&gt; [Position]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span id="local-6989586621679454379"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454379"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454379"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454377"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">[Position] -&gt; [Position] -&gt; [Position]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454374"><span class="hs-identifier hs-var">pp</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- add &quot;default&quot; position</span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span id="local-6989586621679453479"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToBS"><span class="hs-identifier hs-type">fieldlinesToBS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453479"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">BS.ByteString</span></a></span></span><span>
</span><span id="line-378"></span><span id="fieldlinesToBS"><span class="annot"><span class="annottext">fieldlinesToBS :: forall ann. [FieldLine ann] -&gt; FieldName
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToBS"><span class="hs-identifier hs-var hs-var">fieldlinesToBS</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [FieldName] -&gt; FieldName
</span><a href="../../bytestring-0.11.5.3/src/Data.ByteString.html#intercalate/Data.ByteString.html#intercalate"><span class="hs-identifier hs-var">BS.intercalate</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">([FieldName] -&gt; FieldName)
-&gt; ([FieldLine ann] -&gt; [FieldName]) -&gt; [FieldLine ann] -&gt; FieldName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldLine ann -&gt; FieldName) -&gt; [FieldLine ann] -&gt; [FieldName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679454384"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454384"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454384"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="hs-comment">-- Example package with dot lines</span><span>
</span><span id="line-381"></span><span class="hs-comment">-- http://hackage.haskell.org/package/copilot-cbmc-0.1/copilot-cbmc.cabal</span><span>
</span><span id="line-382"></span><span id="local-6989586621679453459"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToFreeText"><span class="hs-identifier hs-type">fieldlinesToFreeText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453459"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span></span><span>
</span><span id="line-383"></span><span id="fieldlinesToFreeText"><span class="annot"><span class="annottext">fieldlinesToFreeText :: forall ann. [FieldLine ann] -&gt; [Char]
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToFreeText"><span class="hs-identifier hs-var hs-var">fieldlinesToFreeText</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><span class="hs-string">&quot;.&quot;</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;.&quot;</span></span><span>
</span><span id="line-384"></span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToFreeText"><span class="hs-identifier hs-var">fieldlinesToFreeText</span></a></span><span> </span><span id="local-6989586621679454389"><span class="annot"><span class="annottext">[FieldLine ann]
</span><a href="#local-6989586621679454389"><span class="hs-identifier hs-var">fls</span></a></span></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [[Char]] -&gt; [Char]
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/Data.OldList.html#intercalate/Data.OldList.html#intercalate"><span class="hs-identifier hs-var">intercalate</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FieldLine ann -&gt; [Char]) -&gt; [FieldLine ann] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">FieldLine ann -&gt; [Char]
forall {ann}. FieldLine ann -&gt; [Char]
</span><a href="#local-6989586621679454390"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine ann]
</span><a href="#local-6989586621679454389"><span class="hs-identifier hs-var">fls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-386"></span><span>    </span><span id="local-6989586621679454390"><span class="annot"><span class="annottext">go :: FieldLine ann -&gt; [Char]
</span><a href="#local-6989586621679454390"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679454397"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454397"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679454398"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;.&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-388"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679454398"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-389"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-390"></span><span>        </span><span id="local-6989586621679454398"><span class="annot"><span class="annottext">s :: [Char]
</span><a href="#local-6989586621679454398"><span class="hs-identifier hs-var hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.Utils.String.html#trim"><span class="hs-identifier hs-var">trim</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
</span><a href="Distribution.Utils.Generic.html#fromUTF8BS"><span class="hs-identifier hs-var">fromUTF8BS</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454397"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToFreeText3"><span class="hs-identifier hs-type">fieldlinesToFreeText3</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-393"></span><span id="fieldlinesToFreeText3"><span class="annot"><span class="annottext">fieldlinesToFreeText3 :: Position -&gt; [FieldLine Position] -&gt; [Char]
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToFreeText3"><span class="hs-identifier hs-var hs-var">fieldlinesToFreeText3</span></a></span></span><span> </span><span class="annot"><span class="annottext">Position
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">[</span><span class="hs-special">]</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-394"></span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToFreeText3"><span class="hs-identifier hs-var">fieldlinesToFreeText3</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679454399"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454399"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
</span><a href="Distribution.Utils.Generic.html#fromUTF8BS"><span class="hs-identifier hs-var">fromUTF8BS</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454399"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-395"></span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#fieldlinesToFreeText3"><span class="hs-identifier hs-var">fieldlinesToFreeText3</span></a></span><span> </span><span id="local-6989586621679454400"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454400"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span id="local-6989586621679454401"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454401"><span class="hs-identifier hs-var">pos1</span></a></span></span><span> </span><span id="local-6989586621679454402"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454402"><span class="hs-identifier hs-var">bs1</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679454403"><span class="annot"><span class="annottext">fls2 :: [FieldLine Position]
</span><a href="#local-6989586621679454403"><span class="hs-identifier hs-var">fls2</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span id="local-6989586621679454404"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454404"><span class="hs-identifier hs-var">pos2</span></a></span></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>    </span><span class="hs-comment">-- if first line is on the same line with field name:</span><span>
</span><span id="line-397"></span><span>    </span><span class="hs-comment">-- the indentation level is either</span><span>
</span><span id="line-398"></span><span>    </span><span class="hs-comment">-- 1. the indentation of left most line in rest fields</span><span>
</span><span id="line-399"></span><span>    </span><span class="hs-comment">-- 2. the indentation of the first line</span><span>
</span><span id="line-400"></span><span>    </span><span class="hs-comment">-- whichever is leftmost</span><span>
</span><span id="line-401"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Position -&gt; Int
</span><a href="Distribution.Parsec.Position.html#positionRow"><span class="hs-identifier hs-var">positionRow</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454400"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Position -&gt; Int
</span><a href="Distribution.Parsec.Position.html#positionRow"><span class="hs-identifier hs-var">positionRow</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454401"><span class="hs-identifier hs-var">pos1</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#concat/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span>
</span><span id="line-402"></span><span>        </span><span class="annot"><span class="annottext">([[Char]] -&gt; [Char]) -&gt; [[Char]] -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
</span><a href="Distribution.Utils.Generic.html#fromUTF8BS"><span class="hs-identifier hs-var">fromUTF8BS</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454402"><span class="hs-identifier hs-var">bs1</span></a></span><span>
</span><span id="line-403"></span><span>        </span><span class="annot"><span class="annottext">[Char] -&gt; [[Char]] -&gt; [[Char]]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(Position -&gt; FieldLine Position -&gt; (Position, [Char]))
-&gt; Position -&gt; [FieldLine Position] -&gt; [[Char]]
forall s a b. (s -&gt; a -&gt; (s, b)) -&gt; s -&gt; [a] -&gt; [b]
</span><a href="Distribution.FieldGrammar.Parsec.html#mealy"><span class="hs-identifier hs-var">mealy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Position -&gt; FieldLine Position -&gt; (Position, [Char])
</span><a href="#local-6989586621679454407"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454408"><span class="hs-identifier hs-var">mcol1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454401"><span class="hs-identifier hs-var">pos1</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454403"><span class="hs-identifier hs-var">fls2</span></a></span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span>    </span><span class="hs-comment">-- otherwise, also indent the first line</span><span>
</span><span id="line-406"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#concat/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span>
</span><span id="line-407"></span><span>        </span><span class="annot"><span class="annottext">([[Char]] -&gt; [Char]) -&gt; [[Char]] -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; [Char]
forall a. Int -&gt; a -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.List.html#replicate/GHC.List.html#replicate"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position -&gt; Int
</span><a href="Distribution.Parsec.Position.html#positionCol"><span class="hs-identifier hs-var">positionCol</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454401"><span class="hs-identifier hs-var">pos1</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454410"><span class="hs-identifier hs-var">mcol2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span>
</span><span id="line-408"></span><span>        </span><span class="annot"><span class="annottext">[Char] -&gt; [[Char]] -&gt; [[Char]]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
</span><a href="Distribution.Utils.Generic.html#fromUTF8BS"><span class="hs-identifier hs-var">fromUTF8BS</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454402"><span class="hs-identifier hs-var">bs1</span></a></span><span>
</span><span id="line-409"></span><span>        </span><span class="annot"><span class="annottext">[Char] -&gt; [[Char]] -&gt; [[Char]]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(Position -&gt; FieldLine Position -&gt; (Position, [Char]))
-&gt; Position -&gt; [FieldLine Position] -&gt; [[Char]]
forall s a b. (s -&gt; a -&gt; (s, b)) -&gt; s -&gt; [a] -&gt; [b]
</span><a href="Distribution.FieldGrammar.Parsec.html#mealy"><span class="hs-identifier hs-var">mealy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Position -&gt; FieldLine Position -&gt; (Position, [Char])
</span><a href="#local-6989586621679454407"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454410"><span class="hs-identifier hs-var">mcol2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454401"><span class="hs-identifier hs-var">pos1</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454403"><span class="hs-identifier hs-var">fls2</span></a></span><span>
</span><span id="line-410"></span><span>
</span><span id="line-411"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-412"></span><span>    </span><span id="local-6989586621679454408"><span class="annot"><span class="annottext">mcol1 :: Int
</span><a href="#local-6989586621679454408"><span class="hs-identifier hs-var hs-var">mcol1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; FieldLine Position -&gt; Int)
-&gt; Int -&gt; [FieldLine Position] -&gt; Int
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#foldl%27/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679454415"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454415"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679454416"><span class="annot"><span class="annottext">FieldLine Position
</span><a href="#local-6989586621679454416"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454415"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; Int -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Position -&gt; Int
</span><a href="Distribution.Parsec.Position.html#positionCol"><span class="hs-identifier hs-var">positionCol</span></a></span><span> </span><span class="annot"><span class="annottext">(Position -&gt; Int) -&gt; Position -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FieldLine Position -&gt; Position
forall ann. FieldLine ann -&gt; ann
</span><a href="Distribution.Fields.Field.html#fieldLineAnn"><span class="hs-identifier hs-var">fieldLineAnn</span></a></span><span> </span><span class="annot"><span class="annottext">FieldLine Position
</span><a href="#local-6989586621679454416"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position -&gt; Int
</span><a href="Distribution.Parsec.Position.html#positionCol"><span class="hs-identifier hs-var">positionCol</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454401"><span class="hs-identifier hs-var">pos1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position -&gt; Int
</span><a href="Distribution.Parsec.Position.html#positionCol"><span class="hs-identifier hs-var">positionCol</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454404"><span class="hs-identifier hs-var">pos2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454403"><span class="hs-identifier hs-var">fls2</span></a></span><span>
</span><span id="line-413"></span><span>    </span><span id="local-6989586621679454410"><span class="annot"><span class="annottext">mcol2 :: Int
</span><a href="#local-6989586621679454410"><span class="hs-identifier hs-var hs-var">mcol2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; FieldLine Position -&gt; Int)
-&gt; Int -&gt; [FieldLine Position] -&gt; Int
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base-4.18.2.1/src/Data.Foldable.html#foldl%27/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679454421"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454421"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679454422"><span class="annot"><span class="annottext">FieldLine Position
</span><a href="#local-6989586621679454422"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454421"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; Int -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Position -&gt; Int
</span><a href="Distribution.Parsec.Position.html#positionCol"><span class="hs-identifier hs-var">positionCol</span></a></span><span> </span><span class="annot"><span class="annottext">(Position -&gt; Int) -&gt; Position -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FieldLine Position -&gt; Position
forall ann. FieldLine ann -&gt; ann
</span><a href="Distribution.Fields.Field.html#fieldLineAnn"><span class="hs-identifier hs-var">fieldLineAnn</span></a></span><span> </span><span class="annot"><span class="annottext">FieldLine Position
</span><a href="#local-6989586621679454422"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position -&gt; Int
</span><a href="Distribution.Parsec.Position.html#positionCol"><span class="hs-identifier hs-var">positionCol</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454401"><span class="hs-identifier hs-var">pos1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FieldLine Position]
</span><a href="#local-6989586621679454403"><span class="hs-identifier hs-var">fls2</span></a></span><span>
</span><span id="line-414"></span><span>
</span><span id="line-415"></span><span>    </span><span class="annot"><a href="#local-6989586621679454407"><span class="hs-identifier hs-type">mk</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Parsec.Position.html#Position"><span class="hs-identifier hs-type">Position</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-416"></span><span>    </span><span id="local-6989586621679454407"><span class="annot"><span class="annottext">mk :: Int -&gt; Position -&gt; FieldLine Position -&gt; (Position, [Char])
</span><a href="#local-6989586621679454407"><span class="hs-identifier hs-var hs-var">mk</span></a></span></span><span> </span><span id="local-6989586621679454423"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454423"><span class="hs-identifier hs-var">col</span></a></span></span><span> </span><span id="local-6989586621679454424"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454424"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span id="local-6989586621679454425"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454425"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span id="local-6989586621679454426"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454426"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-417"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454425"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-418"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; [Char]
forall a. Int -&gt; a -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.List.html#replicate/GHC.List.html#replicate"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454427"><span class="hs-identifier hs-var">newlines</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span>
</span><span id="line-419"></span><span>          </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; [Char]
forall a. Int -&gt; a -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.List.html#replicate/GHC.List.html#replicate"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454428"><span class="hs-identifier hs-var">indent</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span>
</span><span id="line-420"></span><span>          </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; [Char]
</span><a href="Distribution.Utils.Generic.html#fromUTF8BS"><span class="hs-identifier hs-var">fromUTF8BS</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454426"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-421"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-422"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-423"></span><span>        </span><span id="local-6989586621679454427"><span class="annot"><span class="annottext">newlines :: Int
</span><a href="#local-6989586621679454427"><span class="hs-identifier hs-var hs-var">newlines</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position -&gt; Int
</span><a href="Distribution.Parsec.Position.html#positionRow"><span class="hs-identifier hs-var">positionRow</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454425"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Position -&gt; Int
</span><a href="Distribution.Parsec.Position.html#positionRow"><span class="hs-identifier hs-var">positionRow</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454424"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-424"></span><span>        </span><span id="local-6989586621679454428"><span class="annot"><span class="annottext">indent :: Int
</span><a href="#local-6989586621679454428"><span class="hs-identifier hs-var hs-var">indent</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position -&gt; Int
</span><a href="Distribution.Parsec.Position.html#positionCol"><span class="hs-identifier hs-var">positionCol</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679454425"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679454423"><span class="hs-identifier hs-var">col</span></a></span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span id="local-6989586621679453555"><span id="local-6989586621679453556"><span id="local-6989586621679453557"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#mealy"><span class="hs-identifier hs-type">mealy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679453555"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679453556"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679453555"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679453557"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679453555"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679453556"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679453557"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-427"></span><span id="mealy"><span class="annot"><span class="annottext">mealy :: forall s a b. (s -&gt; a -&gt; (s, b)) -&gt; s -&gt; [a] -&gt; [b]
</span><a href="Distribution.FieldGrammar.Parsec.html#mealy"><span class="hs-identifier hs-var hs-var">mealy</span></a></span></span><span> </span><span id="local-6989586621679454431"><span class="annot"><span class="annottext">s -&gt; a -&gt; (s, b)
</span><a href="#local-6989586621679454431"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">s -&gt; [a] -&gt; [b]
</span><a href="#local-6989586621679454432"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-428"></span><span>    </span><span id="local-6989586621679454432"><span class="annot"><span class="annottext">go :: s -&gt; [a] -&gt; [b]
</span><a href="#local-6989586621679454432"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">s
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-429"></span><span>    </span><span class="annot"><a href="#local-6989586621679454432"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621679454433"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679454433"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679454434"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679454434"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679454435"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679454435"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span id="local-6989586621679454436"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679454436"><span class="hs-identifier hs-var">s'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679454437"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679454437"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">s -&gt; a -&gt; (s, b)
</span><a href="#local-6989586621679454431"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679454433"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679454434"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679454437"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; [b] -&gt; [b]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">s -&gt; [a] -&gt; [b]
</span><a href="#local-6989586621679454432"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679454436"><span class="hs-identifier hs-var">s'</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679454435"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span id="local-6989586621679453549"><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#fieldLinesToStream"><span class="hs-identifier hs-type">fieldLinesToStream</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679453549"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Parsec.FieldLineStream.html#FieldLineStream"><span class="hs-identifier hs-type">FieldLineStream</span></a></span></span><span>
</span><span id="line-432"></span><span id="fieldLinesToStream"><span class="annot"><span class="annottext">fieldLinesToStream :: forall ann. [FieldLine ann] -&gt; FieldLineStream
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldLinesToStream"><span class="hs-identifier hs-var hs-var">fieldLinesToStream</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldLineStream
</span><a href="Distribution.Parsec.FieldLineStream.html#fieldLineStreamEnd"><span class="hs-identifier hs-var">fieldLineStreamEnd</span></a></span><span>
</span><span id="line-433"></span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#fieldLinesToStream"><span class="hs-identifier hs-var">fieldLinesToStream</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679454439"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454439"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">]</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; FieldLineStream
</span><a href="Distribution.Parsec.FieldLineStream.html#FLSLast"><span class="hs-identifier hs-var">FLSLast</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454439"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-434"></span><span class="annot"><a href="Distribution.FieldGrammar.Parsec.html#fieldLinesToStream"><span class="hs-identifier hs-var">fieldLinesToStream</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Fields.Field.html#FieldLine"><span class="hs-identifier hs-type">FieldLine</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679454441"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454441"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679454442"><span class="annot"><span class="annottext">[FieldLine ann]
</span><a href="#local-6989586621679454442"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; FieldLineStream -&gt; FieldLineStream
</span><a href="Distribution.Parsec.FieldLineStream.html#FLSCons"><span class="hs-identifier hs-var">FLSCons</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621679454441"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FieldLine ann] -&gt; FieldLineStream
forall ann. [FieldLine ann] -&gt; FieldLineStream
</span><a href="Distribution.FieldGrammar.Parsec.html#fieldLinesToStream"><span class="hs-identifier hs-var">fieldLinesToStream</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLine ann]
</span><a href="#local-6989586621679454442"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span></pre></body></html>