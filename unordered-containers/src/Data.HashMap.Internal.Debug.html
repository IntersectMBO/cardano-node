<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP              #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-comment">-- | = WARNING</span><span>
</span><span id="line-5"></span><span class="hs-comment">--</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- This module is considered __internal__.</span><span>
</span><span id="line-7"></span><span class="hs-comment">--</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- The Package Versioning Policy __does not apply__.</span><span>
</span><span id="line-9"></span><span class="hs-comment">--</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- The contents of this module may change __in any way whatsoever__</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- and __without any warning__ between minor versions of this package.</span><span>
</span><span id="line-12"></span><span class="hs-comment">--</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- Authors importing this module are expected to track development</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- closely.</span><span>
</span><span id="line-15"></span><span class="hs-comment">--</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- = Description</span><span>
</span><span id="line-17"></span><span class="hs-comment">--</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- Debugging utilities for 'HashMap's.</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.HashMap.Internal.Debug</span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#valid"><span class="hs-identifier">valid</span></a></span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#Validity"><span class="hs-identifier">Validity</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#Error"><span class="hs-identifier">Error</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#SubHash"><span class="hs-identifier">SubHash</span></a></span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#SubHashPath"><span class="hs-identifier">SubHashPath</span></a></span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bits.html"><span class="hs-identifier">Data.Bits</span></a></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#complement"><span class="hs-identifier">complement</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#countTrailingZeros"><span class="hs-identifier">countTrailingZeros</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#popCount"><span class="hs-identifier">popCount</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#shiftL"><span class="hs-identifier">shiftL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>                              </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#unsafeShiftL"><span class="hs-identifier">unsafeShiftL</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#.%26."><span class="hs-operator">(.&amp;.)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#.%7C."><span class="hs-operator">(.|.)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Hashable</span></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Hashable</span></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.html"><span class="hs-identifier">Data.HashMap.Internal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HashMap.Internal.html#Bitmap"><span class="hs-identifier">Bitmap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.html#Hash"><span class="hs-identifier">Hash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.html#HashMap"><span class="hs-identifier">HashMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.html#Leaf"><span class="hs-identifier">Leaf</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>                              </span><span class="annot"><a href="Data.HashMap.Internal.html#bitsPerSubkey"><span class="hs-identifier">bitsPerSubkey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.html#fullBitmap"><span class="hs-identifier">fullBitmap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.html#hash"><span class="hs-identifier">hash</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>                              </span><span class="annot"><a href="Data.HashMap.Internal.html#isLeafOrCollision"><span class="hs-identifier">isLeafOrCollision</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.html#maxChildren"><span class="hs-identifier">maxChildren</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.html#sparseIndex"><span class="hs-identifier">sparseIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Semigroup.html"><span class="hs-identifier">Data.Semigroup</span></a></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Semigroup.Internal.html#Sum"><span class="hs-identifier">Sum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.Array.html"><span class="hs-identifier">Data.HashMap.Internal.Array</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">A</span></span><span class="hs-cpp">


#if !MIN_VERSION_base(4,11,0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Semigroup</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Semigroup</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-43"></span><span class="hs-keyword">data</span><span> </span><span id="Validity"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#Validity"><span class="hs-identifier hs-var">Validity</span></a></span></span><span> </span><span id="local-6989586621679086637"><span class="annot"><a href="#local-6989586621679086637"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Invalid"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#Invalid"><span class="hs-identifier hs-var">Invalid</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#Error"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679086637"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#SubHashPath"><span class="hs-identifier hs-type">SubHashPath</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Valid"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#Valid"><span class="hs-identifier hs-var">Valid</span></a></span></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679086697"><span id="local-6989586621679086703"><span class="annot"><span class="annottext">Validity k -&gt; Validity k -&gt; Bool
(Validity k -&gt; Validity k -&gt; Bool)
-&gt; (Validity k -&gt; Validity k -&gt; Bool) -&gt; Eq (Validity k)
forall k. Eq k =&gt; Validity k -&gt; Validity k -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall k. Eq k =&gt; Validity k -&gt; Validity k -&gt; Bool
== :: Validity k -&gt; Validity k -&gt; Bool
$c/= :: forall k. Eq k =&gt; Validity k -&gt; Validity k -&gt; Bool
/= :: Validity k -&gt; Validity k -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679086709"><span id="local-6989586621679086717"><span id="local-6989586621679086721"><span class="annot"><span class="annottext">Int -&gt; Validity k -&gt; ShowS
[Validity k] -&gt; ShowS
Validity k -&gt; String
(Int -&gt; Validity k -&gt; ShowS)
-&gt; (Validity k -&gt; String)
-&gt; ([Validity k] -&gt; ShowS)
-&gt; Show (Validity k)
forall k. Show k =&gt; Int -&gt; Validity k -&gt; ShowS
forall k. Show k =&gt; [Validity k] -&gt; ShowS
forall k. Show k =&gt; Validity k -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall k. Show k =&gt; Int -&gt; Validity k -&gt; ShowS
showsPrec :: Int -&gt; Validity k -&gt; ShowS
$cshow :: forall k. Show k =&gt; Validity k -&gt; String
show :: Validity k -&gt; String
$cshowList :: forall k. Show k =&gt; [Validity k] -&gt; ShowS
showList :: [Validity k] -&gt; ShowS
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679086619"><span id="local-6989586621679086726"><span id="local-6989586621679086730"><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#Validity"><span class="hs-identifier hs-type">Validity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679086619"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><span class="annottext">Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Valid"><span class="hs-identifier hs-var">Valid</span></a></span><span> </span><span id="local-6989586621679086735"><span class="annot"><span class="annottext">&lt;&gt; :: Validity k -&gt; Validity k -&gt; Validity k
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span id="local-6989586621679086736"><span class="annot"><span class="annottext">Validity k
</span><a href="#local-6989586621679086736"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
</span><a href="#local-6989586621679086736"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span id="local-6989586621679086737"><span class="annot"><span class="annottext">Validity k
</span><a href="#local-6989586621679086737"><span class="hs-identifier hs-var">x</span></a></span></span><span>     </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Validity k
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
</span><a href="#local-6989586621679086737"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679086622"><span id="local-6989586621679086743"><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#Validity"><span class="hs-identifier hs-type">Validity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679086622"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-51"></span><span>  </span><span id="local-6989586621679086747"><span class="annot"><span class="annottext">mempty :: Validity k
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
forall k. Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Valid"><span class="hs-identifier hs-var">Valid</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span id="local-6989586621679086749"><span class="annot"><span class="annottext">mappend :: Validity k -&gt; Validity k -&gt; Validity k
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mappend"><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k -&gt; Validity k -&gt; Validity k
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-comment">-- | An error corresponding to a broken invariant.</span><span>
</span><span id="line-55"></span><span class="hs-comment">--</span><span>
</span><span id="line-56"></span><span class="hs-comment">-- See 'HashMap' for the documentation of the invariants.</span><span>
</span><span id="line-57"></span><span class="hs-keyword">data</span><span> </span><span id="Error"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#Error"><span class="hs-identifier hs-var">Error</span></a></span></span><span> </span><span id="local-6989586621679086638"><span class="annot"><a href="#local-6989586621679086638"><span class="hs-identifier hs-type">k</span></a></span></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="INV1_internal_Empty"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#INV1_internal_Empty"><span class="hs-identifier hs-var">INV1_internal_Empty</span></a></span></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="INV2_Bitmap_unexpected_1_bits"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#INV2_Bitmap_unexpected_1_bits"><span class="hs-identifier hs-var">INV2_Bitmap_unexpected_1_bits</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Data.HashMap.Internal.html#Bitmap"><span class="hs-identifier hs-type">Bitmap</span></a></span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="INV3_bad_BitmapIndexed_size"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#INV3_bad_BitmapIndexed_size"><span class="hs-identifier hs-var">INV3_bad_BitmapIndexed_size</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="INV4_bitmap_array_size_mismatch"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#INV4_bitmap_array_size_mismatch"><span class="hs-identifier hs-var">INV4_bitmap_array_size_mismatch</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Data.HashMap.Internal.html#Bitmap"><span class="hs-identifier hs-type">Bitmap</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="INV5_BitmapIndexed_invalid_single_subtree"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#INV5_BitmapIndexed_invalid_single_subtree"><span class="hs-identifier hs-var">INV5_BitmapIndexed_invalid_single_subtree</span></a></span></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="INV6_misplaced_hash"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#INV6_misplaced_hash"><span class="hs-identifier hs-var">INV6_misplaced_hash</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Data.HashMap.Internal.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="INV7_key_hash_mismatch"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#INV7_key_hash_mismatch"><span class="hs-identifier hs-var">INV7_key_hash_mismatch</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679086638"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Data.HashMap.Internal.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="INV8_bad_Full_size"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#INV8_bad_Full_size"><span class="hs-identifier hs-var">INV8_bad_Full_size</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="INV9_Collision_size"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#INV9_Collision_size"><span class="hs-identifier hs-var">INV9_Collision_size</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="INV10_Collision_duplicate_key"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#INV10_Collision_duplicate_key"><span class="hs-identifier hs-var">INV10_Collision_duplicate_key</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679086638"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Data.HashMap.Internal.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679086762"><span id="local-6989586621679086776"><span class="annot"><span class="annottext">Error k -&gt; Error k -&gt; Bool
(Error k -&gt; Error k -&gt; Bool)
-&gt; (Error k -&gt; Error k -&gt; Bool) -&gt; Eq (Error k)
forall k. Eq k =&gt; Error k -&gt; Error k -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall k. Eq k =&gt; Error k -&gt; Error k -&gt; Bool
== :: Error k -&gt; Error k -&gt; Bool
$c/= :: forall k. Eq k =&gt; Error k -&gt; Error k -&gt; Bool
/= :: Error k -&gt; Error k -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679086780"><span id="local-6989586621679086803"><span id="local-6989586621679086806"><span class="annot"><span class="annottext">Int -&gt; Error k -&gt; ShowS
[Error k] -&gt; ShowS
Error k -&gt; String
(Int -&gt; Error k -&gt; ShowS)
-&gt; (Error k -&gt; String) -&gt; ([Error k] -&gt; ShowS) -&gt; Show (Error k)
forall k. Show k =&gt; Int -&gt; Error k -&gt; ShowS
forall k. Show k =&gt; [Error k] -&gt; ShowS
forall k. Show k =&gt; Error k -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall k. Show k =&gt; Int -&gt; Error k -&gt; ShowS
showsPrec :: Int -&gt; Error k -&gt; ShowS
$cshow :: forall k. Show k =&gt; Error k -&gt; String
show :: Error k -&gt; String
$cshowList :: forall k. Show k =&gt; [Error k] -&gt; ShowS
showList :: [Error k] -&gt; ShowS
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-comment">-- TODO: Name this 'Index'?!</span><span>
</span><span id="line-71"></span><span class="hs-comment">-- (https://github.com/haskell-unordered-containers/unordered-containers/issues/425)</span><span>
</span><span id="line-72"></span><span class="annot"><span class="hs-comment">-- | A part of a 'Hash' with 'bitsPerSubkey' bits.</span></span><span>
</span><span id="line-73"></span><span class="hs-keyword">type</span><span> </span><span id="SubHash"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#SubHash"><span class="hs-identifier hs-var">SubHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Word"><span class="hs-identifier hs-type">Word</span></a></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-keyword">data</span><span> </span><span id="SubHashPath"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#SubHashPath"><span class="hs-identifier hs-var">SubHashPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SubHashPath"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#SubHashPath"><span class="hs-identifier hs-var">SubHashPath</span></a></span></span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="partialHash"><span class="annot"><span class="annottext">SubHashPath -&gt; Hash
</span><a href="Data.HashMap.Internal.Debug.html#partialHash"><span class="hs-identifier hs-var hs-var">partialHash</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Word"><span class="hs-identifier hs-type">Word</span></a></span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-comment">-- ^ The bits we already know, starting from the lower bits.</span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-comment">-- The unknown upper bits are @0@.</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="lengthInBits"><span class="annot"><span class="annottext">SubHashPath -&gt; Int
</span><a href="Data.HashMap.Internal.Debug.html#lengthInBits"><span class="hs-identifier hs-var hs-var">lengthInBits</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-80"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ The number of bits known.</span></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679086812"><span id="local-6989586621679086816"><span class="annot"><span class="annottext">SubHashPath -&gt; SubHashPath -&gt; Bool
(SubHashPath -&gt; SubHashPath -&gt; Bool)
-&gt; (SubHashPath -&gt; SubHashPath -&gt; Bool) -&gt; Eq SubHashPath
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: SubHashPath -&gt; SubHashPath -&gt; Bool
== :: SubHashPath -&gt; SubHashPath -&gt; Bool
$c/= :: SubHashPath -&gt; SubHashPath -&gt; Bool
/= :: SubHashPath -&gt; SubHashPath -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679086819"><span id="local-6989586621679086824"><span id="local-6989586621679086827"><span class="annot"><span class="annottext">Int -&gt; SubHashPath -&gt; ShowS
[SubHashPath] -&gt; ShowS
SubHashPath -&gt; String
(Int -&gt; SubHashPath -&gt; ShowS)
-&gt; (SubHashPath -&gt; String)
-&gt; ([SubHashPath] -&gt; ShowS)
-&gt; Show SubHashPath
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; SubHashPath -&gt; ShowS
showsPrec :: Int -&gt; SubHashPath -&gt; ShowS
$cshow :: SubHashPath -&gt; String
show :: SubHashPath -&gt; String
$cshowList :: [SubHashPath] -&gt; ShowS
showList :: [SubHashPath] -&gt; ShowS
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#initialSubHashPath"><span class="hs-identifier hs-type">initialSubHashPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#SubHashPath"><span class="hs-identifier hs-type">SubHashPath</span></a></span><span>
</span><span id="line-84"></span><span id="initialSubHashPath"><span class="annot"><span class="annottext">initialSubHashPath :: SubHashPath
</span><a href="Data.HashMap.Internal.Debug.html#initialSubHashPath"><span class="hs-identifier hs-var hs-var">initialSubHashPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Int -&gt; SubHashPath
</span><a href="Data.HashMap.Internal.Debug.html#SubHashPath"><span class="hs-identifier hs-var">SubHashPath</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#addSubHash"><span class="hs-identifier hs-type">addSubHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#SubHashPath"><span class="hs-identifier hs-type">SubHashPath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#SubHash"><span class="hs-identifier hs-type">SubHash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#SubHashPath"><span class="hs-identifier hs-type">SubHashPath</span></a></span><span>
</span><span id="line-87"></span><span id="addSubHash"><span class="annot"><span class="annottext">addSubHash :: SubHashPath -&gt; Hash -&gt; SubHashPath
</span><a href="Data.HashMap.Internal.Debug.html#addSubHash"><span class="hs-identifier hs-var hs-var">addSubHash</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#SubHashPath"><span class="hs-identifier hs-type">SubHashPath</span></a></span><span> </span><span id="local-6989586621679086831"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086831"><span class="hs-identifier hs-var">ph</span></a></span></span><span> </span><span id="local-6989586621679086832"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086832"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679086833"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086833"><span class="hs-identifier hs-var">sh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-88"></span><span>  </span><span class="annot"><span class="annottext">Hash -&gt; Int -&gt; SubHashPath
</span><a href="Data.HashMap.Internal.Debug.html#SubHashPath"><span class="hs-identifier hs-var">SubHashPath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086831"><span class="hs-identifier hs-var">ph</span></a></span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Hash -&gt; Hash
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#.%7C."><span class="hs-operator hs-var">.|.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086833"><span class="hs-identifier hs-var">sh</span></a></span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Int -&gt; Hash
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#unsafeShiftL"><span class="hs-operator hs-var">`unsafeShiftL`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086832"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086832"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Data.HashMap.Internal.html#bitsPerSubkey"><span class="hs-identifier hs-var">bitsPerSubkey</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#hashMatchesSubHashPath"><span class="hs-identifier hs-type">hashMatchesSubHashPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#SubHashPath"><span class="hs-identifier hs-type">SubHashPath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-91"></span><span id="hashMatchesSubHashPath"><span class="annot"><span class="annottext">hashMatchesSubHashPath :: SubHashPath -&gt; Hash -&gt; Bool
</span><a href="Data.HashMap.Internal.Debug.html#hashMatchesSubHashPath"><span class="hs-identifier hs-var hs-var">hashMatchesSubHashPath</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#SubHashPath"><span class="hs-identifier hs-type">SubHashPath</span></a></span><span> </span><span id="local-6989586621679086836"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086836"><span class="hs-identifier hs-var">ph</span></a></span></span><span> </span><span id="local-6989586621679086837"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086837"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679086838"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086838"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Int -&gt; Hash
forall {a}. (Bits a, Num a) =&gt; a -&gt; Int -&gt; a
</span><a href="#local-6989586621679086839"><span class="hs-identifier hs-var">maskToLength</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086838"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086837"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Hash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086836"><span class="hs-identifier hs-var">ph</span></a></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-comment">-- Note: This needs to use `shiftL` instead of `unsafeShiftL` because</span><span>
</span><span id="line-94"></span><span>    </span><span class="hs-comment">-- @l'@ may be greater than 32/64 at the deepest level.</span><span>
</span><span id="line-95"></span><span>    </span><span id="local-6989586621679086839"><span class="annot"><span class="annottext">maskToLength :: a -&gt; Int -&gt; a
</span><a href="#local-6989586621679086839"><span class="hs-identifier hs-var hs-var">maskToLength</span></a></span></span><span> </span><span id="local-6989586621679086850"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679086850"><span class="hs-identifier hs-var">h'</span></a></span></span><span> </span><span id="local-6989586621679086851"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086851"><span class="hs-identifier hs-var">l'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679086850"><span class="hs-identifier hs-var">h'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#.%26."><span class="hs-operator hs-var">.&amp;.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Bits a =&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#complement"><span class="hs-identifier hs-var">complement</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
forall a. Bits a =&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#complement"><span class="hs-identifier hs-var">complement</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; a
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#shiftL"><span class="hs-operator hs-var">`shiftL`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086851"><span class="hs-identifier hs-var">l'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span id="local-6989586621679086628"><span id="local-6989586621679086630"><span class="annot"><a href="Data.HashMap.Internal.Debug.html#valid"><span class="hs-identifier hs-type">valid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hashable</span></span><span> </span><span class="annot"><a href="#local-6989586621679086628"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.html#HashMap"><span class="hs-identifier hs-type">HashMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679086628"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679086630"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#Validity"><span class="hs-identifier hs-type">Validity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679086628"><span class="hs-identifier hs-type">k</span></a></span></span></span><span>
</span><span id="line-98"></span><span id="valid"><span class="annot"><span class="annottext">valid :: forall k v. Hashable k =&gt; HashMap k v -&gt; Validity k
</span><a href="Data.HashMap.Internal.Debug.html#valid"><span class="hs-identifier hs-var hs-var">valid</span></a></span></span><span> </span><span class="annot"><span class="annottext">HashMap k v
</span><a href="Data.HashMap.Internal.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
forall k. Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Valid"><span class="hs-identifier hs-var">Valid</span></a></span><span>
</span><span id="line-99"></span><span class="annot"><a href="Data.HashMap.Internal.Debug.html#valid"><span class="hs-identifier hs-var">valid</span></a></span><span> </span><span id="local-6989586621679086855"><span class="annot"><span class="annottext">HashMap k v
</span><a href="#local-6989586621679086855"><span class="hs-identifier hs-var">t</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SubHashPath -&gt; HashMap k v -&gt; Validity k
forall {k} {v}.
Hashable k =&gt;
SubHashPath -&gt; HashMap k v -&gt; Validity k
</span><a href="#local-6989586621679086856"><span class="hs-identifier hs-var">validInternal</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="Data.HashMap.Internal.Debug.html#initialSubHashPath"><span class="hs-identifier hs-var">initialSubHashPath</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap k v
</span><a href="#local-6989586621679086855"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-101"></span><span>    </span><span id="local-6989586621679086856"><span class="annot"><span class="annottext">validInternal :: SubHashPath -&gt; HashMap k v -&gt; Validity k
</span><a href="#local-6989586621679086856"><span class="hs-identifier hs-var hs-var">validInternal</span></a></span></span><span> </span><span id="local-6989586621679086870"><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086870"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="annot"><span class="annottext">HashMap k v
</span><a href="Data.HashMap.Internal.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Error k -&gt; SubHashPath -&gt; Validity k
forall k. Error k -&gt; SubHashPath -&gt; Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Invalid"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="annot"><span class="annottext">Error k
forall k. Error k
</span><a href="Data.HashMap.Internal.Debug.html#INV1_internal_Empty"><span class="hs-identifier hs-var">INV1_internal_Empty</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086870"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-102"></span><span>    </span><span class="annot"><a href="#local-6989586621679086856"><span class="hs-identifier hs-var">validInternal</span></a></span><span> </span><span id="local-6989586621679086871"><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086871"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HashMap.Internal.html#Leaf"><span class="hs-identifier hs-type">Leaf</span></a></span><span> </span><span id="local-6989586621679086873"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086873"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679086874"><span class="annot"><span class="annottext">Leaf k v
</span><a href="#local-6989586621679086874"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SubHashPath -&gt; Hash -&gt; Validity k
forall {k}. SubHashPath -&gt; Hash -&gt; Validity k
</span><a href="#local-6989586621679086875"><span class="hs-identifier hs-var">validHash</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086871"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086873"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Validity k -&gt; Validity k -&gt; Validity k
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath -&gt; Hash -&gt; Leaf k v -&gt; Validity k
forall {k} {v}.
Hashable k =&gt;
SubHashPath -&gt; Hash -&gt; Leaf k v -&gt; Validity k
</span><a href="#local-6989586621679086876"><span class="hs-identifier hs-var">validLeaf</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086871"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086873"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Leaf k v
</span><a href="#local-6989586621679086874"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-103"></span><span>    </span><span class="annot"><a href="#local-6989586621679086856"><span class="hs-identifier hs-var">validInternal</span></a></span><span> </span><span id="local-6989586621679086877"><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086877"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HashMap.Internal.html#Collision"><span class="hs-identifier hs-type">Collision</span></a></span><span> </span><span id="local-6989586621679086879"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086879"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679086880"><span class="annot"><span class="annottext">Array (Leaf k v)
</span><a href="#local-6989586621679086880"><span class="hs-identifier hs-var">ary</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SubHashPath -&gt; Hash -&gt; Validity k
forall {k}. SubHashPath -&gt; Hash -&gt; Validity k
</span><a href="#local-6989586621679086875"><span class="hs-identifier hs-var">validHash</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086877"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086879"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Validity k -&gt; Validity k -&gt; Validity k
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath -&gt; Hash -&gt; Array (Leaf k v) -&gt; Validity k
forall {k} {v}.
Hashable k =&gt;
SubHashPath -&gt; Hash -&gt; Array (Leaf k v) -&gt; Validity k
</span><a href="#local-6989586621679086881"><span class="hs-identifier hs-var">validCollision</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086877"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086879"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Array (Leaf k v)
</span><a href="#local-6989586621679086880"><span class="hs-identifier hs-var">ary</span></a></span><span>
</span><span id="line-104"></span><span>    </span><span class="annot"><a href="#local-6989586621679086856"><span class="hs-identifier hs-var">validInternal</span></a></span><span> </span><span id="local-6989586621679086882"><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086882"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HashMap.Internal.html#BitmapIndexed"><span class="hs-identifier hs-type">BitmapIndexed</span></a></span><span> </span><span id="local-6989586621679086884"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086884"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679086885"><span class="annot"><span class="annottext">Array (HashMap k v)
</span><a href="#local-6989586621679086885"><span class="hs-identifier hs-var">ary</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SubHashPath -&gt; Hash -&gt; Array (HashMap k v) -&gt; Validity k
</span><a href="#local-6989586621679086886"><span class="hs-identifier hs-var">validBitmapIndexed</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086882"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086884"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Array (HashMap k v)
</span><a href="#local-6989586621679086885"><span class="hs-identifier hs-var">ary</span></a></span><span>
</span><span id="line-105"></span><span>    </span><span class="annot"><a href="#local-6989586621679086856"><span class="hs-identifier hs-var">validInternal</span></a></span><span> </span><span id="local-6989586621679086887"><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086887"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HashMap.Internal.html#Full"><span class="hs-identifier hs-type">Full</span></a></span><span> </span><span id="local-6989586621679086889"><span class="annot"><span class="annottext">Array (HashMap k v)
</span><a href="#local-6989586621679086889"><span class="hs-identifier hs-var">ary</span></a></span></span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SubHashPath -&gt; Array (HashMap k v) -&gt; Validity k
</span><a href="#local-6989586621679086890"><span class="hs-identifier hs-var">validFull</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086887"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Array (HashMap k v)
</span><a href="#local-6989586621679086889"><span class="hs-identifier hs-var">ary</span></a></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span>    </span><span id="local-6989586621679086875"><span class="annot"><span class="annottext">validHash :: SubHashPath -&gt; Hash -&gt; Validity k
</span><a href="#local-6989586621679086875"><span class="hs-identifier hs-var hs-var">validHash</span></a></span></span><span> </span><span id="local-6989586621679086891"><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086891"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679086892"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086892"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SubHashPath -&gt; Hash -&gt; Bool
</span><a href="Data.HashMap.Internal.Debug.html#hashMatchesSubHashPath"><span class="hs-identifier hs-var">hashMatchesSubHashPath</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086891"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086892"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
forall k. Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Valid"><span class="hs-identifier hs-var">Valid</span></a></span><span>
</span><span id="line-108"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Error k -&gt; SubHashPath -&gt; Validity k
forall k. Error k -&gt; SubHashPath -&gt; Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Invalid"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash -&gt; Error k
forall k. Hash -&gt; Error k
</span><a href="Data.HashMap.Internal.Debug.html#INV6_misplaced_hash"><span class="hs-identifier hs-var">INV6_misplaced_hash</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086892"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086891"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span>    </span><span id="local-6989586621679086876"><span class="annot"><span class="annottext">validLeaf :: SubHashPath -&gt; Hash -&gt; Leaf k v -&gt; Validity k
</span><a href="#local-6989586621679086876"><span class="hs-identifier hs-var hs-var">validLeaf</span></a></span></span><span> </span><span id="local-6989586621679086898"><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086898"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679086899"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086899"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HashMap.Internal.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621679086901"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679086901"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">k -&gt; Hash
forall a. Hashable a =&gt; a -&gt; Hash
</span><a href="Data.HashMap.Internal.html#hash"><span class="hs-identifier hs-var">hash</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679086901"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Hash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086899"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
forall k. Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Valid"><span class="hs-identifier hs-var">Valid</span></a></span><span>
</span><span id="line-111"></span><span>                          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Error k -&gt; SubHashPath -&gt; Validity k
forall k. Error k -&gt; SubHashPath -&gt; Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Invalid"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k -&gt; Hash -&gt; Error k
forall k. k -&gt; Hash -&gt; Error k
</span><a href="Data.HashMap.Internal.Debug.html#INV7_key_hash_mismatch"><span class="hs-identifier hs-var">INV7_key_hash_mismatch</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679086901"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086899"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086898"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span>    </span><span id="local-6989586621679086881"><span class="annot"><span class="annottext">validCollision :: SubHashPath -&gt; Hash -&gt; Array (Leaf k v) -&gt; Validity k
</span><a href="#local-6989586621679086881"><span class="hs-identifier hs-var hs-var">validCollision</span></a></span></span><span> </span><span id="local-6989586621679086909"><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086909"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679086910"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086910"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679086911"><span class="annot"><span class="annottext">Array (Leaf k v)
</span><a href="#local-6989586621679086911"><span class="hs-identifier hs-var">ary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
forall k. Validity k
</span><a href="#local-6989586621679086912"><span class="hs-identifier hs-var">validCollisionSize</span></a></span><span> </span><span class="annot"><span class="annottext">Validity k -&gt; Validity k -&gt; Validity k
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Leaf k v -&gt; Validity k) -&gt; Array (Leaf k v) -&gt; Validity k
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Array a -&gt; m
</span><a href="Data.HashMap.Internal.Array.html#foldMap"><span class="hs-identifier hs-var">A.foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SubHashPath -&gt; Hash -&gt; Leaf k v -&gt; Validity k
forall {k} {v}.
Hashable k =&gt;
SubHashPath -&gt; Hash -&gt; Leaf k v -&gt; Validity k
</span><a href="#local-6989586621679086876"><span class="hs-identifier hs-var">validLeaf</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086909"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086910"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Array (Leaf k v)
</span><a href="#local-6989586621679086911"><span class="hs-identifier hs-var">ary</span></a></span><span> </span><span class="annot"><span class="annottext">Validity k -&gt; Validity k -&gt; Validity k
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Validity k
</span><a href="#local-6989586621679086914"><span class="hs-identifier hs-var">distinctKeys</span></a></span><span>
</span><span id="line-114"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-115"></span><span>        </span><span id="local-6989586621679086915"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679086915"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Array (Leaf k v) -&gt; Int
forall a. Array a -&gt; Int
</span><a href="Data.HashMap.Internal.Array.html#length"><span class="hs-identifier hs-var">A.length</span></a></span><span> </span><span class="annot"><span class="annottext">Array (Leaf k v)
</span><a href="#local-6989586621679086911"><span class="hs-identifier hs-var">ary</span></a></span><span>
</span><span id="line-116"></span><span>        </span><span id="local-6989586621679086912"><span class="annot"><span class="annottext">validCollisionSize :: Validity k
</span><a href="#local-6989586621679086912"><span class="hs-identifier hs-var hs-var">validCollisionSize</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086915"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Error k -&gt; SubHashPath -&gt; Validity k
forall k. Error k -&gt; SubHashPath -&gt; Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Invalid"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Error k
forall k. Int -&gt; Error k
</span><a href="Data.HashMap.Internal.Debug.html#INV9_Collision_size"><span class="hs-identifier hs-var">INV9_Collision_size</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086915"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086909"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-117"></span><span>                           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
forall k. Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Valid"><span class="hs-identifier hs-var">Valid</span></a></span><span>
</span><span id="line-118"></span><span>        </span><span id="local-6989586621679086914"><span class="annot"><span class="annottext">distinctKeys :: Validity k
</span><a href="#local-6989586621679086914"><span class="hs-identifier hs-var hs-var">distinctKeys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Leaf k v -&gt; Validity k) -&gt; Array (Leaf k v) -&gt; Validity k
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Array a -&gt; m
</span><a href="Data.HashMap.Internal.Array.html#foldMap"><span class="hs-identifier hs-var">A.foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Data.HashMap.Internal.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621679086921"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679086921"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">k -&gt; Validity k
</span><a href="#local-6989586621679086922"><span class="hs-identifier hs-var">appearsOnce</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679086921"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Array (Leaf k v)
</span><a href="#local-6989586621679086911"><span class="hs-identifier hs-var">ary</span></a></span><span>
</span><span id="line-119"></span><span>        </span><span id="local-6989586621679086922"><span class="annot"><span class="annottext">appearsOnce :: k -&gt; Validity k
</span><a href="#local-6989586621679086922"><span class="hs-identifier hs-var hs-var">appearsOnce</span></a></span></span><span> </span><span id="local-6989586621679086933"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679086933"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Leaf k v -&gt; Sum Int) -&gt; Array (Leaf k v) -&gt; Sum Int
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Array a -&gt; m
</span><a href="Data.HashMap.Internal.Array.html#foldMap"><span class="hs-identifier hs-var">A.foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Data.HashMap.Internal.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621679086934"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679086934"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679086934"><span class="hs-identifier hs-var">k'</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; k -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679086933"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Sum a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Semigroup.Internal.html#Sum"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Sum Int
forall a. a -&gt; Sum a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Semigroup.Internal.html#Sum"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Array (Leaf k v)
</span><a href="#local-6989586621679086911"><span class="hs-identifier hs-var">ary</span></a></span><span> </span><span class="annot"><span class="annottext">Sum Int -&gt; Sum Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Sum Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
forall k. Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Valid"><span class="hs-identifier hs-var">Valid</span></a></span><span>
</span><span id="line-120"></span><span>                      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Error k -&gt; SubHashPath -&gt; Validity k
forall k. Error k -&gt; SubHashPath -&gt; Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Invalid"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k -&gt; Hash -&gt; Error k
forall k. k -&gt; Hash -&gt; Error k
</span><a href="Data.HashMap.Internal.Debug.html#INV10_Collision_duplicate_key"><span class="hs-identifier hs-var">INV10_Collision_duplicate_key</span></a></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679086933"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086910"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086909"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span>    </span><span id="local-6989586621679086886"><span class="annot"><span class="annottext">validBitmapIndexed :: SubHashPath -&gt; Hash -&gt; Array (HashMap k v) -&gt; Validity k
</span><a href="#local-6989586621679086886"><span class="hs-identifier hs-var hs-var">validBitmapIndexed</span></a></span></span><span> </span><span id="local-6989586621679086936"><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086936"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679086937"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086937"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679086938"><span class="annot"><span class="annottext">Array (HashMap k v)
</span><a href="#local-6989586621679086938"><span class="hs-identifier hs-var">ary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
forall k. Validity k
</span><a href="#local-6989586621679086939"><span class="hs-identifier hs-var">validBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">Validity k -&gt; Validity k -&gt; Validity k
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Validity k
forall k. Validity k
</span><a href="#local-6989586621679086940"><span class="hs-identifier hs-var">validArraySize</span></a></span><span> </span><span class="annot"><span class="annottext">Validity k -&gt; Validity k -&gt; Validity k
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath -&gt; Hash -&gt; Array (HashMap k v) -&gt; Validity k
</span><a href="#local-6989586621679086941"><span class="hs-identifier hs-var">validSubTrees</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086936"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086937"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Array (HashMap k v)
</span><a href="#local-6989586621679086938"><span class="hs-identifier hs-var">ary</span></a></span><span>
</span><span id="line-123"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-124"></span><span>        </span><span id="local-6989586621679086939"><span class="annot"><span class="annottext">validBitmap :: Validity k
</span><a href="#local-6989586621679086939"><span class="hs-identifier hs-var hs-var">validBitmap</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086937"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Hash -&gt; Hash
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#.%26."><span class="hs-operator hs-var">.&amp;.</span></a></span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Hash
forall a. Bits a =&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#complement"><span class="hs-identifier hs-var">complement</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="Data.HashMap.Internal.html#fullBitmap"><span class="hs-identifier hs-var">fullBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Hash -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
forall k. Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Valid"><span class="hs-identifier hs-var">Valid</span></a></span><span>
</span><span id="line-125"></span><span>                    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Error k -&gt; SubHashPath -&gt; Validity k
forall k. Error k -&gt; SubHashPath -&gt; Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Invalid"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash -&gt; Error k
forall k. Hash -&gt; Error k
</span><a href="Data.HashMap.Internal.Debug.html#INV2_Bitmap_unexpected_1_bits"><span class="hs-identifier hs-var">INV2_Bitmap_unexpected_1_bits</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086937"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086936"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-126"></span><span>        </span><span id="local-6989586621679086946"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679086946"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Array (HashMap k v) -&gt; Int
forall a. Array a -&gt; Int
</span><a href="Data.HashMap.Internal.Array.html#length"><span class="hs-identifier hs-var">A.length</span></a></span><span> </span><span class="annot"><span class="annottext">Array (HashMap k v)
</span><a href="#local-6989586621679086938"><span class="hs-identifier hs-var">ary</span></a></span><span>
</span><span id="line-127"></span><span>        </span><span id="local-6989586621679086940"><span class="annot"><span class="annottext">validArraySize :: Validity k
</span><a href="#local-6989586621679086940"><span class="hs-identifier hs-var hs-var">validArraySize</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086946"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086946"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3E%3D"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Data.HashMap.Internal.html#maxChildren"><span class="hs-identifier hs-var">maxChildren</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Error k -&gt; SubHashPath -&gt; Validity k
forall k. Error k -&gt; SubHashPath -&gt; Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Invalid"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Error k
forall k. Int -&gt; Error k
</span><a href="Data.HashMap.Internal.Debug.html#INV3_bad_BitmapIndexed_size"><span class="hs-identifier hs-var">INV3_bad_BitmapIndexed_size</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086946"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086936"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-128"></span><span>                       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Int
forall a. Bits a =&gt; a -&gt; Int
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#popCount"><span class="hs-identifier hs-var">popCount</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086937"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086946"><span class="hs-identifier hs-var">n</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
forall k. Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Valid"><span class="hs-identifier hs-var">Valid</span></a></span><span>
</span><span id="line-129"></span><span>                       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Error k -&gt; SubHashPath -&gt; Validity k
forall k. Error k -&gt; SubHashPath -&gt; Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Invalid"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash -&gt; Int -&gt; Error k
forall k. Hash -&gt; Int -&gt; Error k
</span><a href="Data.HashMap.Internal.Debug.html#INV4_bitmap_array_size_mismatch"><span class="hs-identifier hs-var">INV4_bitmap_array_size_mismatch</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086937"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086946"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086936"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span>    </span><span id="local-6989586621679086941"><span class="annot"><span class="annottext">validSubTrees :: SubHashPath -&gt; Hash -&gt; Array (HashMap k v) -&gt; Validity k
</span><a href="#local-6989586621679086941"><span class="hs-identifier hs-var hs-var">validSubTrees</span></a></span></span><span> </span><span id="local-6989586621679086953"><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086953"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679086954"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086954"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679086955"><span class="annot"><span class="annottext">Array (HashMap k v)
</span><a href="#local-6989586621679086955"><span class="hs-identifier hs-var">ary</span></a></span></span><span>
</span><span id="line-132"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Array (HashMap k v) -&gt; Int
forall a. Array a -&gt; Int
</span><a href="Data.HashMap.Internal.Array.html#length"><span class="hs-identifier hs-var">A.length</span></a></span><span> </span><span class="annot"><span class="annottext">Array (HashMap k v)
</span><a href="#local-6989586621679086955"><span class="hs-identifier hs-var">ary</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-133"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HashMap k v -&gt; Bool
forall k v. HashMap k v -&gt; Bool
</span><a href="Data.HashMap.Internal.html#isLeafOrCollision"><span class="hs-identifier hs-var">isLeafOrCollision</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Array (HashMap k v) -&gt; Int -&gt; HashMap k v
forall a. Array a -&gt; Int -&gt; a
</span><a href="Data.HashMap.Internal.Array.html#index"><span class="hs-identifier hs-var">A.index</span></a></span><span> </span><span class="annot"><span class="annottext">Array (HashMap k v)
</span><a href="#local-6989586621679086955"><span class="hs-identifier hs-var">ary</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Error k -&gt; SubHashPath -&gt; Validity k
forall k. Error k -&gt; SubHashPath -&gt; Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Invalid"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="annot"><span class="annottext">Error k
forall k. Error k
</span><a href="Data.HashMap.Internal.Debug.html#INV5_BitmapIndexed_invalid_single_subtree"><span class="hs-identifier hs-var">INV5_BitmapIndexed_invalid_single_subtree</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086953"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-135"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Validity k
</span><a href="#local-6989586621679086957"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086954"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-136"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-137"></span><span>        </span><span id="local-6989586621679086957"><span class="annot"><span class="annottext">go :: Hash -&gt; Validity k
</span><a href="#local-6989586621679086957"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">Hash
</span><span class="hs-number">0</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
forall k. Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Valid"><span class="hs-identifier hs-var">Valid</span></a></span><span>
</span><span id="line-138"></span><span>        </span><span class="annot"><a href="#local-6989586621679086957"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621679086964"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086964"><span class="hs-identifier hs-var">b'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SubHashPath -&gt; HashMap k v -&gt; Validity k
</span><a href="#local-6989586621679086856"><span class="hs-identifier hs-var">validInternal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SubHashPath -&gt; Hash -&gt; SubHashPath
</span><a href="Data.HashMap.Internal.Debug.html#addSubHash"><span class="hs-identifier hs-var">addSubHash</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086953"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Hash
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086965"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Array (HashMap k v) -&gt; Int -&gt; HashMap k v
forall a. Array a -&gt; Int -&gt; a
</span><a href="Data.HashMap.Internal.Array.html#index"><span class="hs-identifier hs-var">A.index</span></a></span><span> </span><span class="annot"><span class="annottext">Array (HashMap k v)
</span><a href="#local-6989586621679086955"><span class="hs-identifier hs-var">ary</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086966"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Validity k -&gt; Validity k -&gt; Validity k
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Validity k
</span><a href="#local-6989586621679086957"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086967"><span class="hs-identifier hs-var">b''</span></a></span><span>
</span><span id="line-139"></span><span>          </span><span class="hs-keyword">where</span><span>
</span><span id="line-140"></span><span>            </span><span id="local-6989586621679086965"><span class="annot"><span class="annottext">c :: Int
</span><a href="#local-6989586621679086965"><span class="hs-identifier hs-var hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Int
forall b. FiniteBits b =&gt; b -&gt; Int
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#countTrailingZeros"><span class="hs-identifier hs-var">countTrailingZeros</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086964"><span class="hs-identifier hs-var">b'</span></a></span><span>
</span><span id="line-141"></span><span>            </span><span id="local-6989586621679086975"><span class="annot"><span class="annottext">m :: Hash
</span><a href="#local-6989586621679086975"><span class="hs-identifier hs-var hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hash
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Int -&gt; Hash
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#unsafeShiftL"><span class="hs-operator hs-var">`unsafeShiftL`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086965"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-142"></span><span>            </span><span id="local-6989586621679086966"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621679086966"><span class="hs-identifier hs-var hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Hash -&gt; Int
</span><a href="Data.HashMap.Internal.html#sparseIndex"><span class="hs-identifier hs-var">sparseIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086954"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086975"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-143"></span><span>            </span><span id="local-6989586621679086967"><span class="annot"><span class="annottext">b'' :: Hash
</span><a href="#local-6989586621679086967"><span class="hs-identifier hs-var hs-var">b''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086964"><span class="hs-identifier hs-var">b'</span></a></span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Hash -&gt; Hash
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#.%26."><span class="hs-operator hs-var">.&amp;.</span></a></span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Hash
forall a. Bits a =&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Bits.html#complement"><span class="hs-identifier hs-var">complement</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679086975"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span>    </span><span id="local-6989586621679086890"><span class="annot"><span class="annottext">validFull :: SubHashPath -&gt; Array (HashMap k v) -&gt; Validity k
</span><a href="#local-6989586621679086890"><span class="hs-identifier hs-var hs-var">validFull</span></a></span></span><span> </span><span id="local-6989586621679086978"><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086978"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679086979"><span class="annot"><span class="annottext">Array (HashMap k v)
</span><a href="#local-6989586621679086979"><span class="hs-identifier hs-var">ary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
forall k. Validity k
</span><a href="#local-6989586621679086980"><span class="hs-identifier hs-var">validArraySize</span></a></span><span> </span><span class="annot"><span class="annottext">Validity k -&gt; Validity k -&gt; Validity k
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath -&gt; Hash -&gt; Array (HashMap k v) -&gt; Validity k
</span><a href="#local-6989586621679086941"><span class="hs-identifier hs-var">validSubTrees</span></a></span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086978"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="Data.HashMap.Internal.html#fullBitmap"><span class="hs-identifier hs-var">fullBitmap</span></a></span><span> </span><span class="annot"><span class="annottext">Array (HashMap k v)
</span><a href="#local-6989586621679086979"><span class="hs-identifier hs-var">ary</span></a></span><span>
</span><span id="line-146"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-147"></span><span>        </span><span id="local-6989586621679086981"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679086981"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Array (HashMap k v) -&gt; Int
forall a. Array a -&gt; Int
</span><a href="Data.HashMap.Internal.Array.html#length"><span class="hs-identifier hs-var">A.length</span></a></span><span> </span><span class="annot"><span class="annottext">Array (HashMap k v)
</span><a href="#local-6989586621679086979"><span class="hs-identifier hs-var">ary</span></a></span><span>
</span><span id="line-148"></span><span>        </span><span id="local-6989586621679086980"><span class="annot"><span class="annottext">validArraySize :: Validity k
</span><a href="#local-6989586621679086980"><span class="hs-identifier hs-var hs-var">validArraySize</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086981"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Data.HashMap.Internal.html#maxChildren"><span class="hs-identifier hs-var">maxChildren</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity k
forall k. Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Valid"><span class="hs-identifier hs-var">Valid</span></a></span><span>
</span><span id="line-149"></span><span>                       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Error k -&gt; SubHashPath -&gt; Validity k
forall k. Error k -&gt; SubHashPath -&gt; Validity k
</span><a href="Data.HashMap.Internal.Debug.html#Invalid"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Error k
forall k. Int -&gt; Error k
</span><a href="Data.HashMap.Internal.Debug.html#INV8_bad_Full_size"><span class="hs-identifier hs-var">INV8_bad_Full_size</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679086981"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SubHashPath
</span><a href="#local-6989586621679086978"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-150"></span></pre></body></html>