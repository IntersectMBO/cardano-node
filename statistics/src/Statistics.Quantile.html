<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="local-6989586621679201266"><span id="local-6989586621679201267"></span></span><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveFoldable     #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveFunctor      #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric      #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts   #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns       #-}</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- Module    : Statistics.Quantile</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Copyright : (c) 2009 Bryan O'Sullivan</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- License   : BSD3</span><span>
</span><span id="line-11"></span><span class="hs-comment">--</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- Maintainer  : bos@serpentine.com</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- Stability   : experimental</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- Portability : portable</span><span>
</span><span id="line-15"></span><span class="hs-comment">--</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- Functions for approximating quantiles, i.e. points taken at regular</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- intervals from the cumulative distribution function of a random</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- variable.</span><span>
</span><span id="line-19"></span><span class="hs-comment">--</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- The number of quantiles is described below by the variable /q/, so</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- with /q/=4, a 4-quantile (also known as a /quartile/) has 4</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- intervals, and contains 5 points.  The parameter /k/ describes the</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- desired point, where 0 &#8804; /k/ &#8804; /q/.</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Statistics.Quantile</span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">(</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Quantile estimation functions</span></span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><span class="hs-comment">-- $cont_quantiles</span></span><span>
</span><span id="line-29"></span><span>      </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier">ContParam</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Default</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#quantile"><span class="hs-identifier">quantile</span></a></span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#quantiles"><span class="hs-identifier">quantiles</span></a></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#quantilesVec"><span class="hs-identifier">quantilesVec</span></a></span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Parameters for the continuous sample method</span></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#cadpw"><span class="hs-identifier">cadpw</span></a></span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#hazen"><span class="hs-identifier">hazen</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#spss"><span class="hs-identifier">spss</span></a></span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#s"><span class="hs-identifier">s</span></a></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#medianUnbiased"><span class="hs-identifier">medianUnbiased</span></a></span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#normalUnbiased"><span class="hs-identifier">normalUnbiased</span></a></span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Other algorithms</span></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#weightedAvg"><span class="hs-identifier">weightedAvg</span></a></span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Median &amp; other specializations</span></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#median"><span class="hs-identifier">median</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#mad"><span class="hs-identifier">mad</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#midspread"><span class="hs-identifier">midspread</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Deprecated</span></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#continuousBy"><span class="hs-identifier">continuousBy</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><span class="hs-comment">-- * References</span></span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><span class="hs-comment">-- $references</span></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/binary-0.8.9.1/src/Data.Binary.html"><span class="hs-identifier">Data.Binary</span></a></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/binary-0.8.9.1/src/Data.Binary.Class.html#Binary"><span class="hs-identifier">Binary</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ToJSON</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier">FromJSON</span></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Data.html"><span class="hs-identifier">Data.Data</span></a></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Data.html#Data"><span class="hs-identifier">Data</span></a></span><span class="hs-special">,</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier">Typeable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Default.Class</span></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html"><span class="hs-identifier">Data.Foldable</span></a></span><span>        </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">F</span></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Vector.Generic</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(!)</span></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector</span></span><span>          </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Generic</span></span><span>  </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Unboxed</span></span><span>  </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">U</span></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector.Storable</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html"><span class="hs-identifier">GHC.Generics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Statistics.Function.html"><span class="hs-identifier">Statistics.Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Statistics.Function.html#partialSort"><span class="hs-identifier">partialSort</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-comment">----------------------------------------------------------------</span><span>
</span><span id="line-69"></span><span class="hs-comment">-- Quantile estimation</span><span>
</span><span id="line-70"></span><span class="hs-comment">----------------------------------------------------------------</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-comment">-- | O(/n/&#183;log /n/). Estimate the /k/th /q/-quantile of a sample,</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- using the weighted average method. Up to rounding errors it's same</span><span>
</span><span id="line-74"></span><span class="hs-comment">-- as @quantile s@.</span><span>
</span><span id="line-75"></span><span class="hs-comment">--</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- The following properties should hold otherwise an error will be thrown.</span><span>
</span><span id="line-77"></span><span class="hs-comment">--</span><span>
</span><span id="line-78"></span><span class="hs-comment">--   * the length of the input is greater than @0@</span><span>
</span><span id="line-79"></span><span class="hs-comment">--</span><span>
</span><span id="line-80"></span><span class="hs-comment">--   * the input does not contain @NaN@</span><span>
</span><span id="line-81"></span><span class="hs-comment">--</span><span>
</span><span id="line-82"></span><span class="hs-comment">--   * k &#8805; 0 and k &#8804; q</span><span>
</span><span id="line-83"></span><span id="local-6989586621679200922"><span class="annot"><a href="Statistics.Quantile.html#weightedAvg"><span class="hs-identifier hs-type">weightedAvg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679200922"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-84"></span><span>               </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ /k/, the desired quantile.</span></span><span>
</span><span id="line-85"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ /q/, the number of quantiles.</span></span><span>
</span><span id="line-86"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679200922"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ /x/, the sample data.</span></span><span>
</span><span id="line-87"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span></span><span>
</span><span id="line-88"></span><span id="weightedAvg"><span class="annot"><span class="annottext">weightedAvg :: forall (v :: * -&gt; *).
Vector v Double =&gt;
Int -&gt; Int -&gt; v Double -&gt; Double
</span><a href="Statistics.Quantile.html#weightedAvg"><span class="hs-identifier hs-var hs-var">weightedAvg</span></a></span></span><span> </span><span id="local-6989586621679201349"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201349"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679201350"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201350"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span id="local-6989586621679201351"><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201351"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Bool) -&gt; v Double -&gt; Bool
forall (v :: * -&gt; *) a. Vector v a =&gt; (a -&gt; Bool) -&gt; v a -&gt; Bool
</span><span class="hs-identifier hs-var">G.any</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Float.html#isNaN"><span class="hs-identifier hs-var">isNaN</span></a></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201351"><span class="hs-identifier hs-var">x</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;weightedAvg&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Sample contains NaNs&quot;</span></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201355"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;weightedAvg&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Sample is empty&quot;</span></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201355"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v Double -&gt; Double
forall (v :: * -&gt; *) a. Vector v a =&gt; v a -&gt; a
</span><span class="hs-identifier hs-var">G.head</span></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201351"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201350"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;weightedAvg&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;At least 2 quantiles is needed&quot;</span></span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201349"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201350"><span class="hs-identifier hs-var">q</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v Double -&gt; Double
forall (v :: * -&gt; *) a. (Vector v a, Ord a) =&gt; v a -&gt; a
</span><span class="hs-identifier hs-var">G.maximum</span></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201351"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201349"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3E%3D"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201349"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201350"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201360"><span class="hs-identifier hs-var">xj</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201362"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201364"><span class="hs-identifier hs-var">xj1</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201360"><span class="hs-identifier hs-var">xj</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;weightedAvg&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Wrong quantile number&quot;</span></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-97"></span><span>    </span><span id="local-6989586621679201384"><span class="annot"><span class="annottext">j :: Int
</span><a href="#local-6989586621679201384"><span class="hs-identifier hs-var hs-var">j</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Int
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#floor"><span class="hs-identifier hs-var">floor</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201386"><span class="hs-identifier hs-var">idx</span></a></span><span>
</span><span id="line-98"></span><span>    </span><span id="local-6989586621679201386"><span class="annot"><span class="annottext">idx :: Double
</span><a href="#local-6989586621679201386"><span class="hs-identifier hs-var hs-var">idx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Double
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201355"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Double
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201349"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%2F"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Double
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201350"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-99"></span><span>    </span><span id="local-6989586621679201362"><span class="annot"><span class="annottext">g :: Double
</span><a href="#local-6989586621679201362"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201386"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Double
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201384"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-100"></span><span>    </span><span id="local-6989586621679201360"><span class="annot"><span class="annottext">xj :: Double
</span><a href="#local-6989586621679201360"><span class="hs-identifier hs-var hs-var">xj</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201411"><span class="hs-identifier hs-var">sx</span></a></span><span> </span><span class="annot"><span class="annottext">v Double -&gt; Int -&gt; Double
forall (v :: * -&gt; *) a.
(HasCallStack, Vector v a) =&gt;
v a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201384"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-101"></span><span>    </span><span id="local-6989586621679201364"><span class="annot"><span class="annottext">xj1 :: Double
</span><a href="#local-6989586621679201364"><span class="hs-identifier hs-var hs-var">xj1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201411"><span class="hs-identifier hs-var">sx</span></a></span><span> </span><span class="annot"><span class="annottext">v Double -&gt; Int -&gt; Double
forall (v :: * -&gt; *) a.
(HasCallStack, Vector v a) =&gt;
v a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">!</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201384"><span class="hs-identifier hs-var">j</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>    </span><span id="local-6989586621679201411"><span class="annot"><span class="annottext">sx :: v Double
</span><a href="#local-6989586621679201411"><span class="hs-identifier hs-var hs-var">sx</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; v Double -&gt; v Double
forall (v :: * -&gt; *) e. (Vector v e, Ord e) =&gt; Int -&gt; v e -&gt; v e
</span><a href="Statistics.Function.html#partialSort"><span class="hs-identifier hs-var">partialSort</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201384"><span class="hs-identifier hs-var">j</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201351"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-103"></span><span>    </span><span id="local-6989586621679201355"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679201355"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v Double -&gt; Int
forall (v :: * -&gt; *) a. Vector v a =&gt; v a -&gt; Int
</span><span class="hs-identifier hs-var">G.length</span></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201351"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-104"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#weightedAvg"><span class="hs-pragma hs-type">weightedAvg</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">U.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-105"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#weightedAvg"><span class="hs-pragma hs-type">weightedAvg</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">V.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-106"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#weightedAvg"><span class="hs-pragma hs-type">weightedAvg</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">S.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-comment">----------------------------------------------------------------</span><span>
</span><span id="line-110"></span><span class="hs-comment">-- Quantiles continuous algorithm</span><span>
</span><span id="line-111"></span><span class="hs-comment">----------------------------------------------------------------</span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-comment">-- $cont_quantiles</span><span>
</span><span id="line-114"></span><span class="hs-comment">--</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- Below is family of functions which use same algorithm for estimation</span><span>
</span><span id="line-116"></span><span class="hs-comment">-- of sample quantiles. It approximates empirical CDF as continuous</span><span>
</span><span id="line-117"></span><span class="hs-comment">-- piecewise function which interpolates linearly between points</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- \((X_k,p_k)\) where \(X_k\) is k-th order statistics (k-th smallest</span><span>
</span><span id="line-119"></span><span class="hs-comment">-- element) and \(p_k\) is probability corresponding to</span><span>
</span><span id="line-120"></span><span class="hs-comment">-- it. 'ContParam' determines how \(p_k\) is chosen. For more detailed</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- explanation see [Hyndman1996].</span><span>
</span><span id="line-122"></span><span class="hs-comment">--</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- This is the method used by most statistical software, such as R,</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- Mathematica, SPSS, and S.</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="hs-comment">-- | Parameters /&#945;/ and /&#946;/ to the 'continuousBy' function. Exact</span><span>
</span><span id="line-128"></span><span class="hs-comment">--   meaning of parameters is described in [Hyndman1996] in section</span><span>
</span><span id="line-129"></span><span class="hs-comment">--   \&quot;Piecewise linear functions\&quot;</span><span>
</span><span id="line-130"></span><span class="hs-keyword">data</span><span> </span><span id="ContParam"><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-var">ContParam</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ContParam"><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-var">ContParam</span></a></span></span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679201428"><span id="local-6989586621679201434"><span id="local-6989586621679201438"><span class="annot"><span class="annottext">Int -&gt; ContParam -&gt; ShowS
[ContParam] -&gt; ShowS
ContParam -&gt; String
(Int -&gt; ContParam -&gt; ShowS)
-&gt; (ContParam -&gt; String)
-&gt; ([ContParam] -&gt; ShowS)
-&gt; Show ContParam
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; ContParam -&gt; ShowS
showsPrec :: Int -&gt; ContParam -&gt; ShowS
$cshow :: ContParam -&gt; String
show :: ContParam -&gt; String
$cshowList :: [ContParam] -&gt; ShowS
showList :: [ContParam] -&gt; ShowS
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679201442"><span id="local-6989586621679201446"><span class="annot"><span class="annottext">ContParam -&gt; ContParam -&gt; Bool
(ContParam -&gt; ContParam -&gt; Bool)
-&gt; (ContParam -&gt; ContParam -&gt; Bool) -&gt; Eq ContParam
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: ContParam -&gt; ContParam -&gt; Bool
== :: ContParam -&gt; ContParam -&gt; Bool
$c/= :: ContParam -&gt; ContParam -&gt; Bool
/= :: ContParam -&gt; ContParam -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span id="local-6989586621679201453"><span id="local-6989586621679201457"><span id="local-6989586621679201461"><span id="local-6989586621679201465"><span id="local-6989586621679201468"><span id="local-6989586621679201471"><span id="local-6989586621679201474"><span class="annot"><span class="annottext">Eq ContParam
Eq ContParam =&gt;
(ContParam -&gt; ContParam -&gt; Ordering)
-&gt; (ContParam -&gt; ContParam -&gt; Bool)
-&gt; (ContParam -&gt; ContParam -&gt; Bool)
-&gt; (ContParam -&gt; ContParam -&gt; Bool)
-&gt; (ContParam -&gt; ContParam -&gt; Bool)
-&gt; (ContParam -&gt; ContParam -&gt; ContParam)
-&gt; (ContParam -&gt; ContParam -&gt; ContParam)
-&gt; Ord ContParam
ContParam -&gt; ContParam -&gt; Bool
ContParam -&gt; ContParam -&gt; Ordering
ContParam -&gt; ContParam -&gt; ContParam
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: ContParam -&gt; ContParam -&gt; Ordering
compare :: ContParam -&gt; ContParam -&gt; Ordering
$c&lt; :: ContParam -&gt; ContParam -&gt; Bool
&lt; :: ContParam -&gt; ContParam -&gt; Bool
$c&lt;= :: ContParam -&gt; ContParam -&gt; Bool
&lt;= :: ContParam -&gt; ContParam -&gt; Bool
$c&gt; :: ContParam -&gt; ContParam -&gt; Bool
&gt; :: ContParam -&gt; ContParam -&gt; Bool
$c&gt;= :: ContParam -&gt; ContParam -&gt; Bool
&gt;= :: ContParam -&gt; ContParam -&gt; Bool
$cmax :: ContParam -&gt; ContParam -&gt; ContParam
max :: ContParam -&gt; ContParam -&gt; ContParam
$cmin :: ContParam -&gt; ContParam -&gt; ContParam
min :: ContParam -&gt; ContParam -&gt; ContParam
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679201480"><span id="local-6989586621679201485"><span id="local-6989586621679201489"><span id="local-6989586621679201491"><span id="local-6989586621679201493"><span id="local-6989586621679201499"><span id="local-6989586621679201504"><span id="local-6989586621679201507"><span id="local-6989586621679201510"><span id="local-6989586621679201513"><span id="local-6989586621679201516"><span id="local-6989586621679201519"><span id="local-6989586621679201524"><span id="local-6989586621679201529"><span class="annot"><span class="annottext">Typeable ContParam
Typeable ContParam =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; ContParam -&gt; c ContParam)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ContParam)
-&gt; (ContParam -&gt; Constr)
-&gt; (ContParam -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ContParam))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c ContParam))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; ContParam -&gt; ContParam)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ContParam -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ContParam -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ContParam -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ContParam -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; ContParam -&gt; m ContParam)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; ContParam -&gt; m ContParam)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; ContParam -&gt; m ContParam)
-&gt; Data ContParam
ContParam -&gt; Constr
ContParam -&gt; DataType
(forall b. Data b =&gt; b -&gt; b) -&gt; ContParam -&gt; ContParam
forall a.
Typeable a =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ContParam -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ContParam -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ContParam -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ContParam -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ContParam -&gt; m ContParam
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ContParam -&gt; m ContParam
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ContParam
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; ContParam -&gt; c ContParam
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ContParam)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c ContParam)
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; ContParam -&gt; c ContParam
gfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; ContParam -&gt; c ContParam
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ContParam
gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ContParam
$ctoConstr :: ContParam -&gt; Constr
toConstr :: ContParam -&gt; Constr
$cdataTypeOf :: ContParam -&gt; DataType
dataTypeOf :: ContParam -&gt; DataType
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ContParam)
dataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ContParam)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c ContParam)
dataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c ContParam)
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; ContParam -&gt; ContParam
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; ContParam -&gt; ContParam
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ContParam -&gt; r
gmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ContParam -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ContParam -&gt; r
gmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ContParam -&gt; r
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ContParam -&gt; [u]
gmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ContParam -&gt; [u]
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ContParam -&gt; u
gmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ContParam -&gt; u
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ContParam -&gt; m ContParam
gmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ContParam -&gt; m ContParam
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ContParam -&gt; m ContParam
gmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ContParam -&gt; m ContParam
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ContParam -&gt; m ContParam
gmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ContParam -&gt; m ContParam
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Data.html#Data"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a></span><span class="hs-special">,</span><span id="local-6989586621679201535"><span id="local-6989586621679201537"><span class="annot"><span class="annottext">(forall x. ContParam -&gt; Rep ContParam x)
-&gt; (forall x. Rep ContParam x -&gt; ContParam) -&gt; Generic ContParam
forall x. Rep ContParam x -&gt; ContParam
forall x. ContParam -&gt; Rep ContParam x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. ContParam -&gt; Rep ContParam x
from :: forall x. ContParam -&gt; Rep ContParam x
$cto :: forall x. Rep ContParam x -&gt; ContParam
to :: forall x. Rep ContParam x -&gt; ContParam
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="annot"><span class="hs-comment">-- | We use 's' as default value which is same as R's default.</span></span><span>
</span><span id="line-134"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Default</span></span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-135"></span><span>  </span><span id="local-6989586621679201543"><span class="annot"><span class="annottext">def :: ContParam
</span><a href="#local-6989586621679201543"><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ContParam
</span><a href="Statistics.Quantile.html#s"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679201546"><span id="local-6989586621679201553"><span id="local-6989586621679201559"><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/binary-0.8.9.1/src/Data.Binary.Class.html#Binary"><span class="hs-identifier hs-type">Binary</span></a></span><span>   </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span></span></span></span><span>
</span><span id="line-138"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679201582"><span id="local-6989586621679201589"><span id="local-6989586621679201592"><span id="local-6989586621679201595"><span id="local-6989586621679201598"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span>   </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span></span></span></span></span></span><span>
</span><span id="line-139"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679201660"><span id="local-6989586621679201667"><span id="local-6989586621679201670"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span></span></span></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-comment">-- | O(/n/&#183;log /n/). Estimate the /k/th /q/-quantile of a sample /x/,</span><span>
</span><span id="line-142"></span><span class="hs-comment">--   using the continuous sample method with the given parameters.</span><span>
</span><span id="line-143"></span><span class="hs-comment">--</span><span>
</span><span id="line-144"></span><span class="hs-comment">--   The following properties should hold, otherwise an error will be thrown.</span><span>
</span><span id="line-145"></span><span class="hs-comment">--</span><span>
</span><span id="line-146"></span><span class="hs-comment">--     * input sample must be nonempty</span><span>
</span><span id="line-147"></span><span class="hs-comment">--</span><span>
</span><span id="line-148"></span><span class="hs-comment">--     * the input does not contain @NaN@</span><span>
</span><span id="line-149"></span><span class="hs-comment">--</span><span>
</span><span id="line-150"></span><span class="hs-comment">--     * 0 &#8804; k &#8804; q</span><span>
</span><span id="line-151"></span><span id="local-6989586621679201176"><span class="annot"><a href="Statistics.Quantile.html#quantile"><span class="hs-identifier hs-type">quantile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679201176"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>
</span><span id="line-152"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Parameters /&#945;/ and /&#946;/.</span></span><span>
</span><span id="line-153"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ /k/, the desired quantile.</span></span><span>
</span><span id="line-154"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ /q/, the number of quantiles.</span></span><span>
</span><span id="line-155"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201176"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ /x/, the sample data.</span></span><span>
</span><span id="line-156"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span></span><span>
</span><span id="line-157"></span><span id="quantile"><span class="annot"><span class="annottext">quantile :: forall (v :: * -&gt; *).
Vector v Double =&gt;
ContParam -&gt; Int -&gt; Int -&gt; v Double -&gt; Double
</span><a href="Statistics.Quantile.html#quantile"><span class="hs-identifier hs-var hs-var">quantile</span></a></span></span><span> </span><span id="local-6989586621679201727"><span class="annot"><span class="annottext">ContParam
</span><a href="#local-6989586621679201727"><span class="hs-identifier hs-var">param</span></a></span></span><span> </span><span id="local-6989586621679201728"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201728"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span id="local-6989586621679201729"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201729"><span class="hs-identifier hs-var">nQ</span></a></span></span><span> </span><span id="local-6989586621679201730"><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201730"><span class="hs-identifier hs-var">xs</span></a></span></span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201729"><span class="hs-identifier hs-var">nQ</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;continuousBy&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;At least 2 quantiles is needed&quot;</span></span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
</span><a href="Statistics.Quantile.html#badQ"><span class="hs-identifier hs-var">badQ</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201729"><span class="hs-identifier hs-var">nQ</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201728"><span class="hs-identifier hs-var">q</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;continuousBy&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Wrong quantile number&quot;</span></span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Bool) -&gt; v Double -&gt; Bool
forall (v :: * -&gt; *) a. Vector v a =&gt; (a -&gt; Bool) -&gt; v a -&gt; Bool
</span><span class="hs-identifier hs-var">G.any</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Float.html#isNaN"><span class="hs-identifier hs-var">isNaN</span></a></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201730"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;continuousBy&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Sample contains NaNs&quot;</span></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v Double -&gt; Double -&gt; Double
forall (v :: * -&gt; *).
Vector v Double =&gt;
v Double -&gt; Double -&gt; Double
</span><a href="Statistics.Quantile.html#estimateQuantile"><span class="hs-identifier hs-var">estimateQuantile</span></a></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201733"><span class="hs-identifier hs-var">sortedXs</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201734"><span class="hs-identifier hs-var">pk</span></a></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-163"></span><span>    </span><span id="local-6989586621679201734"><span class="annot"><span class="annottext">pk :: Double
</span><a href="#local-6989586621679201734"><span class="hs-identifier hs-var hs-var">pk</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ContParam -&gt; Int -&gt; Int -&gt; Int -&gt; Double
</span><a href="Statistics.Quantile.html#toPk"><span class="hs-identifier hs-var">toPk</span></a></span><span> </span><span class="annot"><span class="annottext">ContParam
</span><a href="#local-6989586621679201727"><span class="hs-identifier hs-var">param</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201736"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201728"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201729"><span class="hs-identifier hs-var">nQ</span></a></span><span>
</span><span id="line-164"></span><span>    </span><span id="local-6989586621679201733"><span class="annot"><span class="annottext">sortedXs :: v Double
</span><a href="#local-6989586621679201733"><span class="hs-identifier hs-var hs-var">sortedXs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v Double -&gt; Int -&gt; v Double
forall (v :: * -&gt; *).
Vector v Double =&gt;
v Double -&gt; Int -&gt; v Double
</span><a href="Statistics.Quantile.html#psort"><span class="hs-identifier hs-var">psort</span></a></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201730"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; v Double) -&gt; Int -&gt; v Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Int
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#floor"><span class="hs-identifier hs-var">floor</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201734"><span class="hs-identifier hs-var">pk</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-165"></span><span>    </span><span id="local-6989586621679201736"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679201736"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v Double -&gt; Int
forall (v :: * -&gt; *) a. Vector v a =&gt; v a -&gt; Int
</span><span class="hs-identifier hs-var">G.length</span></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201730"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-166"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#quantile"><span class="hs-pragma hs-type">quantile</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-167"></span><span class="hs-pragma">{-# SPECIALIZE</span><span>
</span><span id="line-168"></span><span>    </span><span class="annot"><a href="Statistics.Quantile.html#quantile"><span class="hs-pragma hs-type">quantile</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">U.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-169"></span><span class="hs-pragma">{-# SPECIALIZE</span><span>
</span><span id="line-170"></span><span>    </span><span class="annot"><a href="Statistics.Quantile.html#quantile"><span class="hs-pragma hs-type">quantile</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">V.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-171"></span><span class="hs-pragma">{-# SPECIALIZE</span><span>
</span><span id="line-172"></span><span>    </span><span class="annot"><a href="Statistics.Quantile.html#quantile"><span class="hs-pragma hs-type">quantile</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">S.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="hs-comment">-- | O(/k&#183;n/&#183;log /n/). Estimate set of the /k/th /q/-quantile of a</span><span>
</span><span id="line-175"></span><span class="hs-comment">--   sample /x/, using the continuous sample method with the given</span><span>
</span><span id="line-176"></span><span class="hs-comment">--   parameters. This is faster than calling quantile repeatedly since</span><span>
</span><span id="line-177"></span><span class="hs-comment">--   sample should be sorted only once</span><span>
</span><span id="line-178"></span><span class="hs-comment">--</span><span>
</span><span id="line-179"></span><span class="hs-comment">--   The following properties should hold, otherwise an error will be thrown.</span><span>
</span><span id="line-180"></span><span class="hs-comment">--</span><span>
</span><span id="line-181"></span><span class="hs-comment">--     * input sample must be nonempty</span><span>
</span><span id="line-182"></span><span class="hs-comment">--</span><span>
</span><span id="line-183"></span><span class="hs-comment">--     * the input does not contain @NaN@</span><span>
</span><span id="line-184"></span><span class="hs-comment">--</span><span>
</span><span id="line-185"></span><span class="hs-comment">--     * for every k in set of quantiles 0 &#8804; k &#8804; q</span><span>
</span><span id="line-186"></span><span id="local-6989586621679201183"><span id="local-6989586621679201184"><span class="annot"><a href="Statistics.Quantile.html#quantiles"><span class="hs-identifier hs-type">quantiles</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679201183"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#Foldable"><span class="hs-identifier hs-type">F.Foldable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679201184"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679201184"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201184"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-189"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-190"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201183"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>
</span><span id="line-191"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201184"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span></span></span><span>
</span><span id="line-192"></span><span id="quantiles"><span class="annot"><span class="annottext">quantiles :: forall (v :: * -&gt; *) (f :: * -&gt; *).
(Vector v Double, Foldable f, Functor f) =&gt;
ContParam -&gt; f Int -&gt; Int -&gt; v Double -&gt; f Double
</span><a href="Statistics.Quantile.html#quantiles"><span class="hs-identifier hs-var hs-var">quantiles</span></a></span></span><span> </span><span id="local-6989586621679201760"><span class="annot"><span class="annottext">ContParam
</span><a href="#local-6989586621679201760"><span class="hs-identifier hs-var">param</span></a></span></span><span> </span><span id="local-6989586621679201761"><span class="annot"><span class="annottext">f Int
</span><a href="#local-6989586621679201761"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span id="local-6989586621679201762"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201762"><span class="hs-identifier hs-var">nQ</span></a></span></span><span> </span><span id="local-6989586621679201763"><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201763"><span class="hs-identifier hs-var">xs</span></a></span></span><span>
</span><span id="line-193"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201762"><span class="hs-identifier hs-var">nQ</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; f Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;quantiles&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;At least 2 quantiles is needed&quot;</span></span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Bool) -&gt; f Int -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#any"><span class="hs-identifier hs-var">F.any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
</span><a href="Statistics.Quantile.html#badQ"><span class="hs-identifier hs-var">badQ</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201762"><span class="hs-identifier hs-var">nQ</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f Int
</span><a href="#local-6989586621679201761"><span class="hs-identifier hs-var">qs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; f Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;quantiles&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Wrong quantile number&quot;</span></span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Bool) -&gt; v Double -&gt; Bool
forall (v :: * -&gt; *) a. Vector v a =&gt; (a -&gt; Bool) -&gt; v a -&gt; Bool
</span><span class="hs-identifier hs-var">G.any</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Float.html#isNaN"><span class="hs-identifier hs-var">isNaN</span></a></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201763"><span class="hs-identifier hs-var">xs</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; f Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;quantiles&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Sample contains NaNs&quot;</span></span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-comment">-- Doesn't matter what we put into empty container</span><span>
</span><span id="line-197"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">f Int -&gt; Bool
forall a. f a -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">f Int
</span><a href="#local-6989586621679201761"><span class="hs-identifier hs-var">qs</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; f Int -&gt; f Double
forall a b. a -&gt; f b -&gt; f a
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%24"><span class="hs-operator hs-var">&lt;$</span></a></span><span> </span><span class="annot"><span class="annottext">f Int
</span><a href="#local-6989586621679201761"><span class="hs-identifier hs-var">qs</span></a></span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double) -&gt; f Double -&gt; f Double
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v Double -&gt; Double -&gt; Double
forall (v :: * -&gt; *).
Vector v Double =&gt;
v Double -&gt; Double -&gt; Double
</span><a href="Statistics.Quantile.html#estimateQuantile"><span class="hs-identifier hs-var">estimateQuantile</span></a></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201767"><span class="hs-identifier hs-var">sortedXs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f Double
</span><a href="#local-6989586621679201768"><span class="hs-identifier hs-var">ks'</span></a></span><span>
</span><span id="line-199"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-200"></span><span>    </span><span id="local-6989586621679201768"><span class="annot"><span class="annottext">ks' :: f Double
</span><a href="#local-6989586621679201768"><span class="hs-identifier hs-var hs-var">ks'</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Double) -&gt; f Int -&gt; f Double
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679201770"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201770"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ContParam -&gt; Int -&gt; Int -&gt; Int -&gt; Double
</span><a href="Statistics.Quantile.html#toPk"><span class="hs-identifier hs-var">toPk</span></a></span><span> </span><span class="annot"><span class="annottext">ContParam
</span><a href="#local-6989586621679201760"><span class="hs-identifier hs-var">param</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201771"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201770"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201762"><span class="hs-identifier hs-var">nQ</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f Int
</span><a href="#local-6989586621679201761"><span class="hs-identifier hs-var">qs</span></a></span><span>
</span><span id="line-201"></span><span>    </span><span id="local-6989586621679201767"><span class="annot"><span class="annottext">sortedXs :: v Double
</span><a href="#local-6989586621679201767"><span class="hs-identifier hs-var hs-var">sortedXs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v Double -&gt; Int -&gt; v Double
forall (v :: * -&gt; *).
Vector v Double =&gt;
v Double -&gt; Int -&gt; v Double
</span><a href="Statistics.Quantile.html#psort"><span class="hs-identifier hs-var">psort</span></a></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201763"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; v Double) -&gt; Int -&gt; v Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Int
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#floor"><span class="hs-identifier hs-var">floor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f Double -&gt; Double
forall a. Ord a =&gt; f a -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Ord a) =&gt; t a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#maximum"><span class="hs-identifier hs-var">F.maximum</span></a></span><span> </span><span class="annot"><span class="annottext">f Double
</span><a href="#local-6989586621679201768"><span class="hs-identifier hs-var">ks'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-202"></span><span>    </span><span id="local-6989586621679201771"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679201771"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v Double -&gt; Int
forall (v :: * -&gt; *) a. Vector v a =&gt; v a -&gt; Int
</span><span class="hs-identifier hs-var">G.length</span></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201763"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-203"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#quantiles"><span class="hs-pragma hs-type">quantiles</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-204"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#quantiles"><span class="hs-pragma hs-type">quantiles</span></a></span><span>
</span><span id="line-205"></span><span>      </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621679201783"><span class="hs-pragma">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Functor"><span class="hs-pragma hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679201783"><span class="hs-pragma hs-type">f</span></a></span><span class="hs-pragma">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#Foldable"><span class="hs-pragma hs-type">F.Foldable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679201783"><span class="hs-pragma hs-type">f</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201783"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">V.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201783"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-206"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#quantiles"><span class="hs-pragma hs-type">quantiles</span></a></span><span>
</span><span id="line-207"></span><span>      </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621679201784"><span class="hs-pragma">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Functor"><span class="hs-pragma hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679201784"><span class="hs-pragma hs-type">f</span></a></span><span class="hs-pragma">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#Foldable"><span class="hs-pragma hs-type">F.Foldable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679201784"><span class="hs-pragma hs-type">f</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201784"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">U.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201784"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-208"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#quantiles"><span class="hs-pragma hs-type">quantiles</span></a></span><span>
</span><span id="line-209"></span><span>      </span><span class="hs-pragma">::</span><span> </span><span id="local-6989586621679201785"><span class="hs-pragma">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Functor"><span class="hs-pragma hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679201785"><span class="hs-pragma hs-type">f</span></a></span><span class="hs-pragma">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#Foldable"><span class="hs-pragma hs-type">F.Foldable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679201785"><span class="hs-pragma hs-type">f</span></a></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=&gt;</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201785"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">S.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201785"><span class="hs-pragma hs-type">f</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="hs-comment">-- | O(/k&#183;n/&#183;log /n/). Same as quantiles but uses 'G.Vector' container</span><span>
</span><span id="line-212"></span><span class="hs-comment">--   instead of 'Foldable' one.</span><span>
</span><span id="line-213"></span><span id="local-6989586621679201197"><span class="annot"><a href="Statistics.Quantile.html#quantilesVec"><span class="hs-identifier hs-type">quantilesVec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679201197"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679201197"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201197"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-216"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-217"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201197"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201197"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span></span><span>
</span><span id="line-219"></span><span id="quantilesVec"><span class="annot"><span class="annottext">quantilesVec :: forall (v :: * -&gt; *).
(Vector v Double, Vector v Int) =&gt;
ContParam -&gt; v Int -&gt; Int -&gt; v Double -&gt; v Double
</span><a href="Statistics.Quantile.html#quantilesVec"><span class="hs-identifier hs-var hs-var">quantilesVec</span></a></span></span><span> </span><span id="local-6989586621679201800"><span class="annot"><span class="annottext">ContParam
</span><a href="#local-6989586621679201800"><span class="hs-identifier hs-var">param</span></a></span></span><span> </span><span id="local-6989586621679201801"><span class="annot"><span class="annottext">v Int
</span><a href="#local-6989586621679201801"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span id="local-6989586621679201802"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201802"><span class="hs-identifier hs-var">nQ</span></a></span></span><span> </span><span id="local-6989586621679201803"><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201803"><span class="hs-identifier hs-var">xs</span></a></span></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201802"><span class="hs-identifier hs-var">nQ</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; v Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;quantilesVec&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;At least 2 quantiles is needed&quot;</span></span><span>
</span><span id="line-221"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Bool) -&gt; v Int -&gt; Bool
forall (v :: * -&gt; *) a. Vector v a =&gt; (a -&gt; Bool) -&gt; v a -&gt; Bool
</span><span class="hs-identifier hs-var">G.any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
</span><a href="Statistics.Quantile.html#badQ"><span class="hs-identifier hs-var">badQ</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201802"><span class="hs-identifier hs-var">nQ</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">v Int
</span><a href="#local-6989586621679201801"><span class="hs-identifier hs-var">qs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; v Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;quantilesVec&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Wrong quantile number&quot;</span></span><span>
</span><span id="line-222"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Bool) -&gt; v Double -&gt; Bool
forall (v :: * -&gt; *) a. Vector v a =&gt; (a -&gt; Bool) -&gt; v a -&gt; Bool
</span><span class="hs-identifier hs-var">G.any</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Float.html#isNaN"><span class="hs-identifier hs-var">isNaN</span></a></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201803"><span class="hs-identifier hs-var">xs</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; v Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;quantilesVec&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Sample contains NaNs&quot;</span></span><span>
</span><span id="line-223"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">v Int -&gt; Bool
forall (v :: * -&gt; *) a. Vector v a =&gt; v a -&gt; Bool
</span><span class="hs-identifier hs-var">G.null</span></span><span> </span><span class="annot"><span class="annottext">v Int
</span><a href="#local-6989586621679201801"><span class="hs-identifier hs-var">qs</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v Double
forall (v :: * -&gt; *) a. Vector v a =&gt; v a
</span><span class="hs-identifier hs-var">G.empty</span></span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double) -&gt; v Double -&gt; v Double
forall (v :: * -&gt; *) a b.
(Vector v a, Vector v b) =&gt;
(a -&gt; b) -&gt; v a -&gt; v b
</span><span class="hs-identifier hs-var">G.map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v Double -&gt; Double -&gt; Double
forall (v :: * -&gt; *).
Vector v Double =&gt;
v Double -&gt; Double -&gt; Double
</span><a href="Statistics.Quantile.html#estimateQuantile"><span class="hs-identifier hs-var">estimateQuantile</span></a></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201807"><span class="hs-identifier hs-var">sortedXs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201808"><span class="hs-identifier hs-var">ks'</span></a></span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-226"></span><span>    </span><span id="local-6989586621679201808"><span class="annot"><span class="annottext">ks' :: v Double
</span><a href="#local-6989586621679201808"><span class="hs-identifier hs-var hs-var">ks'</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Double) -&gt; v Int -&gt; v Double
forall (v :: * -&gt; *) a b.
(Vector v a, Vector v b) =&gt;
(a -&gt; b) -&gt; v a -&gt; v b
</span><span class="hs-identifier hs-var">G.map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679201813"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201813"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ContParam -&gt; Int -&gt; Int -&gt; Int -&gt; Double
</span><a href="Statistics.Quantile.html#toPk"><span class="hs-identifier hs-var">toPk</span></a></span><span> </span><span class="annot"><span class="annottext">ContParam
</span><a href="#local-6989586621679201800"><span class="hs-identifier hs-var">param</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201814"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201813"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201802"><span class="hs-identifier hs-var">nQ</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">v Int
</span><a href="#local-6989586621679201801"><span class="hs-identifier hs-var">qs</span></a></span><span>
</span><span id="line-227"></span><span>    </span><span id="local-6989586621679201807"><span class="annot"><span class="annottext">sortedXs :: v Double
</span><a href="#local-6989586621679201807"><span class="hs-identifier hs-var hs-var">sortedXs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v Double -&gt; Int -&gt; v Double
forall (v :: * -&gt; *).
Vector v Double =&gt;
v Double -&gt; Int -&gt; v Double
</span><a href="Statistics.Quantile.html#psort"><span class="hs-identifier hs-var">psort</span></a></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201803"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; v Double) -&gt; Int -&gt; v Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Int
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#floor"><span class="hs-identifier hs-var">floor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v Double -&gt; Double
forall (v :: * -&gt; *) a. (Vector v a, Ord a) =&gt; v a -&gt; a
</span><span class="hs-identifier hs-var">G.maximum</span></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201808"><span class="hs-identifier hs-var">ks'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-228"></span><span>    </span><span id="local-6989586621679201814"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679201814"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v Double -&gt; Int
forall (v :: * -&gt; *) a. Vector v a =&gt; v a -&gt; Int
</span><span class="hs-identifier hs-var">G.length</span></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201803"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-229"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#quantilesVec"><span class="hs-pragma hs-type">quantilesVec</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-230"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#quantilesVec"><span class="hs-pragma hs-type">quantilesVec</span></a></span><span>
</span><span id="line-231"></span><span>      </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">V.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">V.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">V.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-232"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#quantilesVec"><span class="hs-pragma hs-type">quantilesVec</span></a></span><span>
</span><span id="line-233"></span><span>      </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">U.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">U.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">U.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-234"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#quantilesVec"><span class="hs-pragma hs-type">quantilesVec</span></a></span><span>
</span><span id="line-235"></span><span>      </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">S.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">S.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">S.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span class="hs-comment">-- Returns True if quantile number is out of range</span><span>
</span><span id="line-239"></span><span class="annot"><a href="Statistics.Quantile.html#badQ"><span class="hs-identifier hs-type">badQ</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-240"></span><span id="badQ"><span class="annot"><span class="annottext">badQ :: Int -&gt; Int -&gt; Bool
</span><a href="Statistics.Quantile.html#badQ"><span class="hs-identifier hs-var hs-var">badQ</span></a></span></span><span> </span><span id="local-6989586621679201825"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201825"><span class="hs-identifier hs-var">nQ</span></a></span></span><span> </span><span id="local-6989586621679201826"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201826"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201826"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201826"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3E"><span class="hs-operator hs-var">&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201825"><span class="hs-identifier hs-var">nQ</span></a></span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-comment">-- Obtain k from equation for p_k [Hyndman1996] p.363.  Note that</span><span>
</span><span id="line-243"></span><span class="hs-comment">-- equation defines p_k for integer k but we calculate it as real</span><span>
</span><span id="line-244"></span><span class="hs-comment">-- value and will use fractional part for linear interpolation. This</span><span>
</span><span id="line-245"></span><span class="hs-comment">-- is correct since equation is linear.</span><span>
</span><span id="line-246"></span><span class="annot"><a href="Statistics.Quantile.html#toPk"><span class="hs-identifier hs-type">toPk</span></a></span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ /n/ number of elements</span></span><span>
</span><span id="line-249"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ /k/, the desired quantile.</span></span><span>
</span><span id="line-250"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ /q/, the number of quantiles.</span></span><span>
</span><span id="line-251"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>
</span><span id="line-252"></span><span id="toPk"><span class="annot"><span class="annottext">toPk :: ContParam -&gt; Int -&gt; Int -&gt; Int -&gt; Double
</span><a href="Statistics.Quantile.html#toPk"><span class="hs-identifier hs-var hs-var">toPk</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span> </span><span id="local-6989586621679201828"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201828"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679201829"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201829"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Double
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679201830"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201830"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679201831"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201831"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span id="local-6989586621679201832"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201832"><span class="hs-identifier hs-var">nQ</span></a></span></span><span>
</span><span id="line-253"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201828"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201833"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201830"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201828"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201829"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-255"></span><span>    </span><span id="local-6989586621679201833"><span class="annot"><span class="annottext">p :: Double
</span><a href="#local-6989586621679201833"><span class="hs-identifier hs-var hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Double
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201831"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%2F"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Double
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201832"><span class="hs-identifier hs-var">nQ</span></a></span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span class="hs-comment">-- Estimate quantile for given k (including fractional part)</span><span>
</span><span id="line-258"></span><span id="local-6989586621679201178"><span class="annot"><a href="Statistics.Quantile.html#estimateQuantile"><span class="hs-identifier hs-type">estimateQuantile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679201178"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201178"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span></span><span>
</span><span id="line-259"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#estimateQuantile"><span class="hs-pragma hs-type">estimateQuantile</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-260"></span><span id="estimateQuantile"><span class="annot"><span class="annottext">estimateQuantile :: forall (v :: * -&gt; *).
Vector v Double =&gt;
v Double -&gt; Double -&gt; Double
</span><a href="Statistics.Quantile.html#estimateQuantile"><span class="hs-identifier hs-var hs-var">estimateQuantile</span></a></span></span><span> </span><span id="local-6989586621679201849"><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201849"><span class="hs-identifier hs-var">sortedXs</span></a></span></span><span> </span><span id="local-6989586621679201850"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201850"><span class="hs-identifier hs-var">k'</span></a></span></span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201851"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Double
</span><a href="#local-6989586621679201852"><span class="hs-identifier hs-var">item</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201853"><span class="hs-identifier hs-var">k</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201851"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Double
</span><a href="#local-6989586621679201852"><span class="hs-identifier hs-var">item</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201853"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679201853"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201853"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679201851"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201851"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; (Int, Double)
forall b. Integral b =&gt; Double -&gt; (b, Double)
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; (b, a)
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#properFraction"><span class="hs-identifier hs-var">properFraction</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201850"><span class="hs-identifier hs-var">k'</span></a></span><span>
</span><span id="line-264"></span><span>    </span><span id="local-6989586621679201852"><span class="annot"><span class="annottext">item :: Int -&gt; Double
</span><a href="#local-6989586621679201852"><span class="hs-identifier hs-var hs-var">item</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201849"><span class="hs-identifier hs-var">sortedXs</span></a></span><span> </span><span class="annot"><span class="annottext">v Double -&gt; Int -&gt; Double
forall (v :: * -&gt; *) a.
(HasCallStack, Vector v a) =&gt;
v a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">!</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Double) -&gt; (Int -&gt; Int) -&gt; Int -&gt; Double
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
</span><a href="#local-6989586621679201867"><span class="hs-identifier hs-var">clamp</span></a></span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-266"></span><span>    </span><span id="local-6989586621679201867"><span class="annot"><span class="annottext">clamp :: Int -&gt; Int
</span><a href="#local-6989586621679201867"><span class="hs-identifier hs-var hs-var">clamp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#max"><span class="hs-identifier hs-var">max</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; (Int -&gt; Int) -&gt; Int -&gt; Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#min"><span class="hs-identifier hs-var">min</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201875"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>    </span><span id="local-6989586621679201875"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679201875"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v Double -&gt; Int
forall (v :: * -&gt; *) a. Vector v a =&gt; v a -&gt; Int
</span><span class="hs-identifier hs-var">G.length</span></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201849"><span class="hs-identifier hs-var">sortedXs</span></a></span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span id="local-6989586621679201179"><span class="annot"><a href="Statistics.Quantile.html#psort"><span class="hs-identifier hs-type">psort</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679201179"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201179"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201179"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span></span><span>
</span><span id="line-270"></span><span id="psort"><span class="annot"><span class="annottext">psort :: forall (v :: * -&gt; *).
Vector v Double =&gt;
v Double -&gt; Int -&gt; v Double
</span><a href="Statistics.Quantile.html#psort"><span class="hs-identifier hs-var hs-var">psort</span></a></span></span><span> </span><span id="local-6989586621679201886"><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201886"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621679201887"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201887"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; v Double -&gt; v Double
forall (v :: * -&gt; *) e. (Vector v e, Ord e) =&gt; Int -&gt; v e -&gt; v e
</span><a href="Statistics.Function.html#partialSort"><span class="hs-identifier hs-var">partialSort</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#max"><span class="hs-identifier hs-var">max</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; Int -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#min"><span class="hs-identifier hs-var">min</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v Double -&gt; Int
forall (v :: * -&gt; *) a. Vector v a =&gt; v a -&gt; Int
</span><span class="hs-identifier hs-var">G.length</span></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201886"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201887"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201886"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-271"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#psort"><span class="hs-pragma hs-type">psort</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span class="hs-comment">-- | California Department of Public Works definition, /&#945;/=0, /&#946;/=1.</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- Gives a linear interpolation of the empirical CDF.  This</span><span>
</span><span id="line-276"></span><span class="hs-comment">-- corresponds to method 4 in R and Mathematica.</span><span>
</span><span id="line-277"></span><span class="annot"><a href="Statistics.Quantile.html#cadpw"><span class="hs-identifier hs-type">cadpw</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span>
</span><span id="line-278"></span><span id="cadpw"><span class="annot"><span class="annottext">cadpw :: ContParam
</span><a href="Statistics.Quantile.html#cadpw"><span class="hs-identifier hs-var hs-var">cadpw</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; ContParam
</span><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-var">ContParam</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="hs-comment">-- | Hazen's definition, /&#945;/=0.5, /&#946;/=0.5.  This is claimed to be</span><span>
</span><span id="line-281"></span><span class="hs-comment">-- popular among hydrologists.  This corresponds to method 5 in R and</span><span>
</span><span id="line-282"></span><span class="hs-comment">-- Mathematica.</span><span>
</span><span id="line-283"></span><span class="annot"><a href="Statistics.Quantile.html#hazen"><span class="hs-identifier hs-type">hazen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span>
</span><span id="line-284"></span><span id="hazen"><span class="annot"><span class="annottext">hazen :: ContParam
</span><a href="Statistics.Quantile.html#hazen"><span class="hs-identifier hs-var hs-var">hazen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; ContParam
</span><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-var">ContParam</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.5</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0.5</span></span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="hs-comment">-- | Definition used by the SPSS statistics application, with /&#945;/=0,</span><span>
</span><span id="line-287"></span><span class="hs-comment">-- /&#946;/=0 (also known as Weibull's definition).  This corresponds to</span><span>
</span><span id="line-288"></span><span class="hs-comment">-- method 6 in R and Mathematica.</span><span>
</span><span id="line-289"></span><span class="annot"><a href="Statistics.Quantile.html#spss"><span class="hs-identifier hs-type">spss</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span>
</span><span id="line-290"></span><span id="spss"><span class="annot"><span class="annottext">spss :: ContParam
</span><a href="Statistics.Quantile.html#spss"><span class="hs-identifier hs-var hs-var">spss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; ContParam
</span><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-var">ContParam</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span class="hs-comment">-- | Definition used by the S statistics application, with /&#945;/=1,</span><span>
</span><span id="line-293"></span><span class="hs-comment">-- /&#946;/=1.  The interpolation points divide the sample range into @n-1@</span><span>
</span><span id="line-294"></span><span class="hs-comment">-- intervals.  This corresponds to method 7 in R and Mathematica and</span><span>
</span><span id="line-295"></span><span class="hs-comment">-- is default in R.</span><span>
</span><span id="line-296"></span><span class="annot"><a href="Statistics.Quantile.html#s"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span>
</span><span id="line-297"></span><span id="s"><span class="annot"><span class="annottext">s :: ContParam
</span><a href="Statistics.Quantile.html#s"><span class="hs-identifier hs-var hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; ContParam
</span><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-var">ContParam</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span>
</span><span id="line-298"></span><span>
</span><span id="line-299"></span><span class="hs-comment">-- | Median unbiased definition, /&#945;/=1\/3, /&#946;/=1\/3. The resulting</span><span>
</span><span id="line-300"></span><span class="hs-comment">-- quantile estimates are approximately median unbiased regardless of</span><span>
</span><span id="line-301"></span><span class="hs-comment">-- the distribution of /x/.  This corresponds to method 8 in R and</span><span>
</span><span id="line-302"></span><span class="hs-comment">-- Mathematica.</span><span>
</span><span id="line-303"></span><span class="annot"><a href="Statistics.Quantile.html#medianUnbiased"><span class="hs-identifier hs-type">medianUnbiased</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span>
</span><span id="line-304"></span><span id="medianUnbiased"><span class="annot"><span class="annottext">medianUnbiased :: ContParam
</span><a href="Statistics.Quantile.html#medianUnbiased"><span class="hs-identifier hs-var hs-var">medianUnbiased</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; ContParam
</span><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-var">ContParam</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201888"><span class="hs-identifier hs-var">third</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201888"><span class="hs-identifier hs-var">third</span></a></span><span>
</span><span id="line-305"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679201888"><span class="annot"><span class="annottext">third :: Double
</span><a href="#local-6989586621679201888"><span class="hs-identifier hs-var hs-var">third</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%2F"><span class="hs-operator hs-var">/</span></a></span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">3</span></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-comment">-- | Normal unbiased definition, /&#945;/=3\/8, /&#946;/=3\/8.  An approximately</span><span>
</span><span id="line-308"></span><span class="hs-comment">-- unbiased estimate if the empirical distribution approximates the</span><span>
</span><span id="line-309"></span><span class="hs-comment">-- normal distribution.  This corresponds to method 9 in R and</span><span>
</span><span id="line-310"></span><span class="hs-comment">-- Mathematica.</span><span>
</span><span id="line-311"></span><span class="annot"><a href="Statistics.Quantile.html#normalUnbiased"><span class="hs-identifier hs-type">normalUnbiased</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span>
</span><span id="line-312"></span><span id="normalUnbiased"><span class="annot"><span class="annottext">normalUnbiased :: ContParam
</span><a href="Statistics.Quantile.html#normalUnbiased"><span class="hs-identifier hs-var hs-var">normalUnbiased</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; ContParam
</span><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-var">ContParam</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201893"><span class="hs-identifier hs-var">ta</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201893"><span class="hs-identifier hs-var">ta</span></a></span><span>
</span><span id="line-313"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679201893"><span class="annot"><span class="annottext">ta :: Double
</span><a href="#local-6989586621679201893"><span class="hs-identifier hs-var hs-var">ta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">3</span></span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%2F"><span class="hs-operator hs-var">/</span></a></span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">8</span></span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span id="local-6989586621679200931"><span class="annot"><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-type">modErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679200931"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-316"></span><span id="modErr"><span class="annot"><span class="annottext">modErr :: forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var hs-var">modErr</span></a></span></span><span> </span><span id="local-6989586621679201900"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679201900"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679201901"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679201901"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; a) -&gt; String -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Statistics.Quantile.&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679201900"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679201901"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span class="hs-comment">----------------------------------------------------------------</span><span>
</span><span id="line-320"></span><span class="hs-comment">-- Specializations</span><span>
</span><span id="line-321"></span><span class="hs-comment">----------------------------------------------------------------</span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="annot"><span class="hs-comment">-- | O(/n/&#183;log /n/) Estimate median of sample</span></span><span>
</span><span id="line-324"></span><span id="local-6989586621679201216"><span class="annot"><a href="Statistics.Quantile.html#median"><span class="hs-identifier hs-type">median</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679201216"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>
</span><span id="line-325"></span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Parameters /&#945;/ and /&#946;/.</span></span><span>
</span><span id="line-326"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201216"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ /x/, the sample data.</span></span><span>
</span><span id="line-327"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span></span><span>
</span><span id="line-328"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#median"><span class="hs-pragma hs-type">median</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-329"></span><span id="median"><span class="annot"><span class="annottext">median :: forall (v :: * -&gt; *).
Vector v Double =&gt;
ContParam -&gt; v Double -&gt; Double
</span><a href="Statistics.Quantile.html#median"><span class="hs-identifier hs-var hs-var">median</span></a></span></span><span> </span><span id="local-6989586621679201905"><span class="annot"><span class="annottext">ContParam
</span><a href="#local-6989586621679201905"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ContParam -&gt; Int -&gt; Int -&gt; v Double -&gt; Double
forall (v :: * -&gt; *).
Vector v Double =&gt;
ContParam -&gt; Int -&gt; Int -&gt; v Double -&gt; Double
</span><a href="Statistics.Quantile.html#quantile"><span class="hs-identifier hs-var">quantile</span></a></span><span> </span><span class="annot"><span class="annottext">ContParam
</span><a href="#local-6989586621679201905"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span class="hs-comment">-- | O(/n/&#183;log /n/). Estimate the range between /q/-quantiles 1 and</span><span>
</span><span id="line-332"></span><span class="hs-comment">-- /q/-1 of a sample /x/, using the continuous sample method with the</span><span>
</span><span id="line-333"></span><span class="hs-comment">-- given parameters.</span><span>
</span><span id="line-334"></span><span class="hs-comment">--</span><span>
</span><span id="line-335"></span><span class="hs-comment">-- For instance, the interquartile range (IQR) can be estimated as</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- follows:</span><span>
</span><span id="line-337"></span><span class="hs-comment">--</span><span>
</span><span id="line-338"></span><span class="hs-comment">-- &gt; midspread medianUnbiased 4 (U.fromList [1,1,2,2,3])</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- &gt; ==&gt; 1.333333</span><span>
</span><span id="line-340"></span><span id="local-6989586621679201218"><span class="annot"><a href="Statistics.Quantile.html#midspread"><span class="hs-identifier hs-type">midspread</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679201218"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-341"></span><span>             </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Parameters /&#945;/ and /&#946;/.</span></span><span>
</span><span id="line-342"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ /q/, the number of quantiles.</span></span><span>
</span><span id="line-343"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201218"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ /x/, the sample data.</span></span><span>
</span><span id="line-344"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span></span><span>
</span><span id="line-345"></span><span id="midspread"><span class="annot"><span class="annottext">midspread :: forall (v :: * -&gt; *).
Vector v Double =&gt;
ContParam -&gt; Int -&gt; v Double -&gt; Double
</span><a href="Statistics.Quantile.html#midspread"><span class="hs-identifier hs-var hs-var">midspread</span></a></span></span><span> </span><span id="local-6989586621679201913"><span class="annot"><span class="annottext">ContParam
</span><a href="#local-6989586621679201913"><span class="hs-identifier hs-var">param</span></a></span></span><span> </span><span id="local-6989586621679201914"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201914"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679201915"><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201915"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Bool) -&gt; v Double -&gt; Bool
forall (v :: * -&gt; *) a. Vector v a =&gt; (a -&gt; Bool) -&gt; v a -&gt; Bool
</span><span class="hs-identifier hs-var">G.any</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Float.html#isNaN"><span class="hs-identifier hs-var">isNaN</span></a></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201915"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;midspread&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Sample contains NaNs&quot;</span></span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201914"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3C%3D"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Double
forall a. String -&gt; String -&gt; a
</span><a href="Statistics.Quantile.html#modErr"><span class="hs-identifier hs-var">modErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;midspread&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Nonpositive number of quantiles&quot;</span></span><span>
</span><span id="line-348"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#Pair"><span class="hs-identifier hs-type">Pair</span></a></span><span> </span><span id="local-6989586621679201927"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201927"><span class="hs-identifier hs-var">x1</span></a></span></span><span> </span><span id="local-6989586621679201928"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201928"><span class="hs-identifier hs-var">x2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ContParam -&gt; Pair Int -&gt; Int -&gt; v Double -&gt; Pair Double
forall (v :: * -&gt; *) (f :: * -&gt; *).
(Vector v Double, Foldable f, Functor f) =&gt;
ContParam -&gt; f Int -&gt; Int -&gt; v Double -&gt; f Double
</span><a href="Statistics.Quantile.html#quantiles"><span class="hs-identifier hs-var">quantiles</span></a></span><span> </span><span class="annot"><span class="annottext">ContParam
</span><a href="#local-6989586621679201913"><span class="hs-identifier hs-var">param</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Pair Int
forall a. a -&gt; a -&gt; Pair a
</span><a href="Statistics.Quantile.html#Pair"><span class="hs-identifier hs-var">Pair</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201914"><span class="hs-identifier hs-var">k</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679201914"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679201915"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-349"></span><span>                    </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201928"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679201927"><span class="hs-identifier hs-var">x1</span></a></span><span>
</span><span id="line-350"></span><span class="hs-pragma">{-# INLINABLE</span><span>  </span><span class="annot"><a href="Statistics.Quantile.html#midspread"><span class="hs-pragma hs-type">midspread</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-351"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#midspread"><span class="hs-pragma hs-type">midspread</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">U.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-352"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#midspread"><span class="hs-pragma hs-type">midspread</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">V.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-353"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#midspread"><span class="hs-pragma hs-type">midspread</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-pragma hs-type">Int</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">S.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span class="hs-keyword">data</span><span> </span><span id="Pair"><span class="annot"><a href="Statistics.Quantile.html#Pair"><span class="hs-identifier hs-var">Pair</span></a></span></span><span> </span><span id="local-6989586621679201221"><span class="annot"><a href="#local-6989586621679201221"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Pair"><span class="annot"><a href="Statistics.Quantile.html#Pair"><span class="hs-identifier hs-var">Pair</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679201221"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679201221"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-356"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679201930"><span id="local-6989586621679201932"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; Pair a -&gt; Pair b)
-&gt; (forall a b. a -&gt; Pair b -&gt; Pair a) -&gt; Functor Pair
forall a b. a -&gt; Pair b -&gt; Pair a
forall a b. (a -&gt; b) -&gt; Pair a -&gt; Pair b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; Pair a -&gt; Pair b
fmap :: forall a b. (a -&gt; b) -&gt; Pair a -&gt; Pair b
$c&lt;$ :: forall a b. a -&gt; Pair b -&gt; Pair a
&lt;$ :: forall a b. a -&gt; Pair b -&gt; Pair a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679201935"><span id="local-6989586621679201940"><span id="local-6989586621679201944"><span id="local-6989586621679201949"><span id="local-6989586621679201951"><span id="local-6989586621679201954"><span id="local-6989586621679201957"><span id="local-6989586621679201960"><span id="local-6989586621679201963"><span id="local-6989586621679201966"><span id="local-6989586621679201969"><span id="local-6989586621679201971"><span id="local-6989586621679201974"><span id="local-6989586621679201979"><span id="local-6989586621679201984"><span id="local-6989586621679201989"><span id="local-6989586621679201994"><span class="annot"><span class="annottext">(forall m. Monoid m =&gt; Pair m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pair a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pair a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pair a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pair a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pair a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pair a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Pair a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Pair a -&gt; a)
-&gt; (forall a. Pair a -&gt; [a])
-&gt; (forall a. Pair a -&gt; Bool)
-&gt; (forall a. Pair a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; Pair a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; Pair a -&gt; a)
-&gt; (forall a. Ord a =&gt; Pair a -&gt; a)
-&gt; (forall a. Num a =&gt; Pair a -&gt; a)
-&gt; (forall a. Num a =&gt; Pair a -&gt; a)
-&gt; Foldable Pair
forall a. Eq a =&gt; a -&gt; Pair a -&gt; Bool
forall a. Num a =&gt; Pair a -&gt; a
forall a. Ord a =&gt; Pair a -&gt; a
forall m. Monoid m =&gt; Pair m -&gt; m
forall a. Pair a -&gt; Bool
forall a. Pair a -&gt; Int
forall a. Pair a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; Pair a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pair a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pair a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pair a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
$cfold :: forall m. Monoid m =&gt; Pair m -&gt; m
fold :: forall m. Monoid m =&gt; Pair m -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pair a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pair a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pair a -&gt; m
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pair a -&gt; m
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pair a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pair a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pair a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pair a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pair a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pair a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pair a -&gt; b
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pair a -&gt; b
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Pair a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Pair a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Pair a -&gt; a
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Pair a -&gt; a
$ctoList :: forall a. Pair a -&gt; [a]
toList :: forall a. Pair a -&gt; [a]
$cnull :: forall a. Pair a -&gt; Bool
null :: forall a. Pair a -&gt; Bool
$clength :: forall a. Pair a -&gt; Int
length :: forall a. Pair a -&gt; Int
$celem :: forall a. Eq a =&gt; a -&gt; Pair a -&gt; Bool
elem :: forall a. Eq a =&gt; a -&gt; Pair a -&gt; Bool
$cmaximum :: forall a. Ord a =&gt; Pair a -&gt; a
maximum :: forall a. Ord a =&gt; Pair a -&gt; a
$cminimum :: forall a. Ord a =&gt; Pair a -&gt; a
minimum :: forall a. Ord a =&gt; Pair a -&gt; a
$csum :: forall a. Num a =&gt; Pair a -&gt; a
sum :: forall a. Num a =&gt; Pair a -&gt; a
$cproduct :: forall a. Num a =&gt; Pair a -&gt; a
product :: forall a. Num a =&gt; Pair a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#Foldable"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">F.Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="hs-comment">-- | O(/n/&#183;log /n/). Estimate the median absolute deviation (MAD) of a</span><span>
</span><span id="line-360"></span><span class="hs-comment">--   sample /x/ using 'continuousBy'. It's robust estimate of</span><span>
</span><span id="line-361"></span><span class="hs-comment">--   variability in sample and defined as:</span><span>
</span><span id="line-362"></span><span class="hs-comment">--</span><span>
</span><span id="line-363"></span><span class="hs-comment">--   \[</span><span>
</span><span id="line-364"></span><span class="hs-comment">--   MAD = \operatorname{median}(| X_i - \operatorname{median}(X) |)</span><span>
</span><span id="line-365"></span><span class="hs-comment">--   \]</span><span>
</span><span id="line-366"></span><span id="local-6989586621679201999"><span class="annot"><a href="Statistics.Quantile.html#mad"><span class="hs-identifier hs-type">mad</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679201999"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>
</span><span id="line-367"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Parameters /&#945;/ and /&#946;/.</span></span><span>
</span><span id="line-368"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679201999"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ /x/, the sample data.</span></span><span>
</span><span id="line-369"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span></span><span>
</span><span id="line-370"></span><span id="mad"><span class="annot"><span class="annottext">mad :: forall (v :: * -&gt; *).
Vector v Double =&gt;
ContParam -&gt; v Double -&gt; Double
</span><a href="Statistics.Quantile.html#mad"><span class="hs-identifier hs-var hs-var">mad</span></a></span></span><span> </span><span id="local-6989586621679202007"><span class="annot"><span class="annottext">ContParam
</span><a href="#local-6989586621679202007"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679202008"><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679202008"><span class="hs-identifier hs-var">xs</span></a></span></span><span>
</span><span id="line-371"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ContParam -&gt; v Double -&gt; Double
forall (v :: * -&gt; *).
Vector v Double =&gt;
ContParam -&gt; v Double -&gt; Double
</span><a href="Statistics.Quantile.html#median"><span class="hs-identifier hs-var">median</span></a></span><span> </span><span class="annot"><span class="annottext">ContParam
</span><a href="#local-6989586621679202007"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">(v Double -&gt; Double) -&gt; v Double -&gt; Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double) -&gt; v Double -&gt; v Double
forall (v :: * -&gt; *) a b.
(Vector v a, Vector v b) =&gt;
(a -&gt; b) -&gt; v a -&gt; v b
</span><span class="hs-identifier hs-var">G.map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Num a =&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#abs"><span class="hs-identifier hs-var">abs</span></a></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double) -&gt; (Double -&gt; Double) -&gt; Double -&gt; Double
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#subtract"><span class="hs-identifier hs-var">subtract</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679202011"><span class="hs-identifier hs-var">med</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679202008"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-372"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-373"></span><span>    </span><span id="local-6989586621679202011"><span class="annot"><span class="annottext">med :: Double
</span><a href="#local-6989586621679202011"><span class="hs-identifier hs-var hs-var">med</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ContParam -&gt; v Double -&gt; Double
forall (v :: * -&gt; *).
Vector v Double =&gt;
ContParam -&gt; v Double -&gt; Double
</span><a href="Statistics.Quantile.html#median"><span class="hs-identifier hs-var">median</span></a></span><span> </span><span class="annot"><span class="annottext">ContParam
</span><a href="#local-6989586621679202007"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">v Double
</span><a href="#local-6989586621679202008"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-374"></span><span class="hs-pragma">{-# INLINABLE</span><span>  </span><span class="annot"><a href="Statistics.Quantile.html#mad"><span class="hs-pragma hs-type">mad</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-375"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#mad"><span class="hs-pragma hs-type">mad</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">U.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-376"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#mad"><span class="hs-pragma hs-type">mad</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">V.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-377"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#mad"><span class="hs-pragma hs-type">mad</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-pragma hs-type">ContParam</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><span class="hs-pragma hs-type">S.Vector</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-pragma hs-type">Double</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="hs-comment">----------------------------------------------------------------</span><span>
</span><span id="line-381"></span><span class="hs-comment">-- Deprecated</span><span>
</span><span id="line-382"></span><span class="hs-comment">----------------------------------------------------------------</span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span id="local-6989586621679202014"><span class="annot"><a href="Statistics.Quantile.html#continuousBy"><span class="hs-identifier hs-type">continuousBy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Vector</span></span><span> </span><span class="annot"><a href="#local-6989586621679202014"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-385"></span><span>                </span><span class="annot"><a href="Statistics.Quantile.html#ContParam"><span class="hs-identifier hs-type">ContParam</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Parameters /&#945;/ and /&#946;/.</span></span><span>
</span><span id="line-386"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ /k/, the desired quantile.</span></span><span>
</span><span id="line-387"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ /q/, the number of quantiles.</span></span><span>
</span><span id="line-388"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679202014"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ /x/, the sample data.</span></span><span>
</span><span id="line-389"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span></span><span>
</span><span id="line-390"></span><span id="continuousBy"><span class="annot"><span class="annottext">continuousBy :: forall (v :: * -&gt; *).
Vector v Double =&gt;
ContParam -&gt; Int -&gt; Int -&gt; v Double -&gt; Double
</span><a href="Statistics.Quantile.html#continuousBy"><span class="hs-identifier hs-var hs-var">continuousBy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ContParam -&gt; Int -&gt; Int -&gt; v Double -&gt; Double
forall (v :: * -&gt; *).
Vector v Double =&gt;
ContParam -&gt; Int -&gt; Int -&gt; v Double -&gt; Double
</span><a href="Statistics.Quantile.html#quantile"><span class="hs-identifier hs-var">quantile</span></a></span><span>
</span><span id="line-391"></span><span class="hs-pragma">{-# DEPRECATED</span><span> </span><span class="hs-pragma">continuousBy</span><span> </span><span class="hs-pragma">&quot;Use quantile instead&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span class="hs-comment">-- $references</span><span>
</span><span id="line-394"></span><span class="hs-comment">--</span><span>
</span><span id="line-395"></span><span class="hs-comment">-- * Weisstein, E.W. Quantile. /MathWorld/.</span><span>
</span><span id="line-396"></span><span class="hs-comment">--   &lt;http://mathworld.wolfram.com/Quantile.html&gt;</span><span>
</span><span id="line-397"></span><span class="hs-comment">--</span><span>
</span><span id="line-398"></span><span class="hs-comment">-- * [Hyndman1996] Hyndman, R.J.; Fan, Y. (1996) Sample quantiles in statistical</span><span>
</span><span id="line-399"></span><span class="hs-comment">--   packages. /American Statistician/</span><span>
</span><span id="line-400"></span><span class="hs-comment">--   50(4):361&amp;#8211;365. &lt;http://www.jstor.org/stable/2684934&gt;</span><span>
</span><span id="line-401"></span></pre></body></html>