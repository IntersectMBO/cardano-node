<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Logging.Resources.Linux</span><span>
</span><span id="line-5"></span><span>    </span><span class="hs-special">(</span><span>
</span><span id="line-6"></span><span>      </span><span class="annot"><a href="Cardano.Logging.Resources.Linux.html#readResourceStatsInternal"><span class="hs-identifier">readResourceStatsInternal</span></a></span><span>
</span><span id="line-7"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Logging.Resources.Types.html"><span class="hs-identifier">Cardano.Logging.Resources.Types</span></a></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Maybe.html"><span class="hs-identifier">Data.Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier">fromMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.IO.html"><span class="hs-identifier">Data.Text.IO</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.IO.html#readFile"><span class="hs-identifier">readFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Read.html"><span class="hs-identifier">Data.Text.Read</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Read.html#decimal"><span class="hs-identifier">decimal</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Word.html"><span class="hs-identifier">Data.Word</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stats.html"><span class="hs-identifier">GHC.Stats</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GhcStats</span></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/unix-2.8.4.0/src/System.Posix.Files.html"><span class="hs-identifier">System.Posix.Files</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/unix-2.8.4.0/src/System.Posix.Files.Common.html#fileMode"><span class="hs-identifier">fileMode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/unix-2.8.4.0/src/System.Posix.Files.html#getFileStatus"><span class="hs-identifier">getFileStatus</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/unix-2.8.4.0/src/System.Posix.Files.Common.html#intersectFileModes"><span class="hs-identifier">intersectFileModes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/unix-2.8.4.0/src/System.Posix.Files.Common.html#ownerReadMode"><span class="hs-identifier">ownerReadMode</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="annot"><span class="hs-comment">-- * Disk IO stats:</span></span><span>
</span><span id="line-19"></span><span class="hs-comment">-- /proc/[pid]/io (since kernel 2.6.20)</span><span>
</span><span id="line-20"></span><span class="hs-comment">--        This file contains I/O statistics for the process, for example:</span><span>
</span><span id="line-21"></span><span class="hs-comment">--</span><span>
</span><span id="line-22"></span><span class="hs-comment">--               # cat /proc/3828/io</span><span>
</span><span id="line-23"></span><span class="hs-comment">--               rchar: 323934931</span><span>
</span><span id="line-24"></span><span class="hs-comment">--               wchar: 323929600</span><span>
</span><span id="line-25"></span><span class="hs-comment">--               syscr: 632687</span><span>
</span><span id="line-26"></span><span class="hs-comment">--               syscw: 632675</span><span>
</span><span id="line-27"></span><span class="hs-comment">--               read_bytes: 0</span><span>
</span><span id="line-28"></span><span class="hs-comment">--               write_bytes: 323932160</span><span>
</span><span id="line-29"></span><span class="hs-comment">--               cancelled_write_bytes: 0</span><span>
</span><span id="line-30"></span><span class="hs-comment">--</span><span>
</span><span id="line-31"></span><span class="hs-comment">--        The fields are as follows:</span><span>
</span><span id="line-32"></span><span class="hs-comment">--</span><span>
</span><span id="line-33"></span><span class="hs-comment">--        rchar: characters read</span><span>
</span><span id="line-34"></span><span class="hs-comment">--               The number of bytes which this task has caused to be read from storage.  This is simply the  sum</span><span>
</span><span id="line-35"></span><span class="hs-comment">--               of bytes which this process passed to read(2) and similar system calls.  It includes things such</span><span>
</span><span id="line-36"></span><span class="hs-comment">--               as terminal I/O and is unaffected by whether or not actual physical disk I/O was  required  (the</span><span>
</span><span id="line-37"></span><span class="hs-comment">--               read might have been satisfied from pagecache).</span><span>
</span><span id="line-38"></span><span class="hs-comment">--</span><span>
</span><span id="line-39"></span><span class="hs-comment">--        wchar: characters written</span><span>
</span><span id="line-40"></span><span class="hs-comment">--               The  number  of bytes which this task has caused, or shall cause to be written to disk.  Similar</span><span>
</span><span id="line-41"></span><span class="hs-comment">--               caveats apply here as with rchar.</span><span>
</span><span id="line-42"></span><span class="hs-comment">--</span><span>
</span><span id="line-43"></span><span class="hs-comment">--        syscr: read syscalls</span><span>
</span><span id="line-44"></span><span class="hs-comment">--               Attempt to count the number of read I/O operations-that is, system calls  such  as  read(2)  and</span><span>
</span><span id="line-45"></span><span class="hs-comment">--               pread(2).</span><span>
</span><span id="line-46"></span><span class="hs-comment">--</span><span>
</span><span id="line-47"></span><span class="hs-comment">--        syscw: write syscalls</span><span>
</span><span id="line-48"></span><span class="hs-comment">--               Attempt  to  count the number of write I/O operations-that is, system calls such as write(2) and</span><span>
</span><span id="line-49"></span><span class="hs-comment">--               pwrite(2).</span><span>
</span><span id="line-50"></span><span class="hs-comment">--</span><span>
</span><span id="line-51"></span><span class="hs-comment">--        read_bytes: bytes read</span><span>
</span><span id="line-52"></span><span class="hs-comment">--               Attempt to count the number of bytes which this process really did cause to be fetched from  the</span><span>
</span><span id="line-53"></span><span class="hs-comment">--               storage layer.  This is accurate for block-backed filesystems.</span><span>
</span><span id="line-54"></span><span class="hs-comment">--</span><span>
</span><span id="line-55"></span><span class="hs-comment">--        write_bytes: bytes written</span><span>
</span><span id="line-56"></span><span class="hs-comment">--               Attempt to count the number of bytes which this process caused to be sent to the storage layer.</span><span>
</span><span id="line-57"></span><span class="hs-comment">--</span><span>
</span><span id="line-58"></span><span class="hs-comment">--        cancelled_write_bytes:</span><span>
</span><span id="line-59"></span><span class="hs-comment">--               The  big  inaccuracy  here  is truncate.  If a process writes 1MB to a file and then deletes the</span><span>
</span><span id="line-60"></span><span class="hs-comment">--               file, it will in fact perform no writeout.  But it will have been accounted as having caused 1MB</span><span>
</span><span id="line-61"></span><span class="hs-comment">--               of  write.   In other words: this field represents the number of bytes which this process caused</span><span>
</span><span id="line-62"></span><span class="hs-comment">--               to not happen, by truncating pagecache.  A task can cause &quot;negative&quot;  I/O  too.   If  this  task</span><span>
</span><span id="line-63"></span><span class="hs-comment">--               truncates  some  dirty  pagecache,  some  I/O  which another task has been accounted for (in its</span><span>
</span><span id="line-64"></span><span class="hs-comment">--               write\_bytes) will not be happening.</span><span>
</span><span id="line-65"></span><span class="hs-comment">--</span><span>
</span><span id="line-66"></span><span class="hs-comment">--        Note: In the current implementation, things are a bit racy  on  32-bit  systems:  if  process  A  reads</span><span>
</span><span id="line-67"></span><span class="hs-comment">--        process  B's  /proc/[pid]/io  while process B is updating one of these 64-bit counters, process A could</span><span>
</span><span id="line-68"></span><span class="hs-comment">--        see an intermediate result.</span><span>
</span><span id="line-69"></span><span class="hs-comment">--</span><span>
</span><span id="line-70"></span><span class="hs-comment">--        Permission to access this file is governed by a ptrace access mode PTRACE\_MODE\_READ\_FSCREDS check;  see</span><span>
</span><span id="line-71"></span><span class="hs-comment">--        ptrace(2).</span><span>
</span><span id="line-72"></span><span class="hs-comment">--</span><span>
</span><span id="line-73"></span><span class="annot"><a href="Cardano.Logging.Resources.Linux.html#readProcBlockInOut"><span class="hs-identifier hs-type">readProcBlockInOut</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span id="readProcBlockInOut"><span class="annot"><span class="annottext">readProcBlockInOut :: IO (Word64, Word64)
</span><a href="Cardano.Logging.Resources.Linux.html#readProcBlockInOut"><span class="hs-identifier hs-var hs-var">readProcBlockInOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-75"></span><span>    </span><span id="local-6989586621679097227"><span class="annot"><span class="annottext">[Integer]
</span><a href="#local-6989586621679097227"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO [Integer]
</span><a href="Cardano.Logging.Resources.Linux.html#readProcList"><span class="hs-identifier hs-var">readProcList</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;/proc/self/io&quot;</span></span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-comment">-- We're only interested in 'read_bytes' &amp; 'write_bytes':</span><span>
</span><span id="line-77"></span><span>      </span><span class="annot"><span class="annottext">(Integer -&gt; Word64) -&gt; [Integer] -&gt; [Word64]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word64
forall a. Num a =&gt; Integer -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">([Integer] -&gt; [Word64])
-&gt; ([Integer] -&gt; [Integer]) -&gt; [Integer] -&gt; [Word64]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Integer] -&gt; [Integer]
forall a. Int -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#take"><span class="hs-identifier hs-var">take</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">([Integer] -&gt; [Integer])
-&gt; ([Integer] -&gt; [Integer]) -&gt; [Integer] -&gt; [Integer]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Integer] -&gt; [Integer]
forall a. Int -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#drop"><span class="hs-identifier hs-var">drop</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9</span></span><span> </span><span class="annot"><span class="annottext">([Integer] -&gt; [Word64]) -&gt; [Integer] -&gt; [Word64]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Integer]
</span><a href="#local-6989586621679097227"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-78"></span><span>      </span><span class="hs-special">[</span><span id="local-6989586621679097232"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097232"><span class="hs-identifier hs-var">fsRd</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679097233"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097233"><span class="hs-identifier hs-var">fsWr</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Word64, Word64) -&gt; IO (Word64, Word64)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097232"><span class="hs-identifier hs-var">fsRd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097233"><span class="hs-identifier hs-var">fsWr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>      </span><span class="annot"><span class="annottext">[Word64]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Word64, Word64) -&gt; IO (Word64, Word64)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="annot"><span class="hs-comment">-- * Network stats:</span></span><span>
</span><span id="line-82"></span><span class="hs-comment">--   grep IpExt /proc/&lt;pid&gt;/net/netstat</span><span>
</span><span id="line-83"></span><span class="hs-comment">--   IpExt: InNoRoutes InTruncatedPkts InMcastPkts OutMcastPkts InBcastPkts OutBcastPkts InOctets OutOctets InMcastOctets OutMcastOctets InBcastOctets OutBcastOctets InCsumErrors InNoECTPkts InECT1Pkts InECT0Pkts InCEPkts</span><span>
</span><span id="line-84"></span><span class="hs-comment">--   IpExt: 0 0 20053 8977 2437 23 3163525943 196480057 2426648 1491754 394285 5523 0 3513269 0 217426 0</span><span>
</span><span id="line-85"></span><span class="hs-comment">--</span><span>
</span><span id="line-86"></span><span class="annot"><a href="Cardano.Logging.Resources.Linux.html#readProcNetInOut"><span class="hs-identifier hs-type">readProcNetInOut</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
#ifdef WITH_NETSTAT
</span><span class="hs-identifier">readProcNetInOut</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-identifier">fields</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">T.words</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">fourthLine</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">T.lines</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">T.readFile</span><span> </span><span class="hs-string">&quot;/proc/self/net/netstat&quot;</span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="hs-comment">-- We're only interested in 'InOctets' &amp; 'OutOctets':</span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-identifier">fmap</span><span> </span><span class="hs-identifier">readMaybeText</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">take</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">drop</span><span> </span><span class="hs-number">7</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">fields</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-92"></span><span>      </span><span class="hs-special">[</span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">netIn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">netOut</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">netIn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">netOut</span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-special">(</span><span class="hs-number">0</span><span class="hs-special">,</span><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-comment">-- Assumption: 'IpExt:' values are on the fourth line of how the kernel displays the buffer</span><span>
</span><span id="line-96"></span><span>    </span><span class="hs-identifier">fourthLine</span><span> </span><span class="hs-identifier">ls</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">drop</span><span> </span><span class="hs-number">3</span><span> </span><span class="hs-identifier">ls</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-97"></span><span>      </span><span class="hs-identifier">l</span><span class="hs-glyph">:</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">l</span><span>
</span><span id="line-98"></span><span>      </span><span class="hs-identifier">_</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">T.empty</span><span class="hs-cpp">
#else
</span><span id="readProcNetInOut"><span class="annot"><span class="annottext">readProcNetInOut :: IO (Word64, Word64)
</span><a href="Cardano.Logging.Resources.Linux.html#readProcNetInOut"><span class="hs-identifier hs-var hs-var">readProcNetInOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64, Word64) -&gt; IO (Word64, Word64)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- | TODO we have to expand the |readMemStats| function</span><span>
</span><span id="line-104"></span><span class="hs-comment">-- to read full data from |proc|</span><span>
</span><span id="line-105"></span><span class="annot"><a href="Cardano.Logging.Resources.Linux.html#readResourceStatsInternal"><span class="hs-identifier hs-type">readResourceStatsInternal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Logging.Resources.Types.html#ResourceStats"><span class="hs-identifier hs-type">ResourceStats</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span id="readResourceStatsInternal"><span class="annot"><span class="annottext">readResourceStatsInternal :: IO (Maybe ResourceStats)
</span><a href="Cardano.Logging.Resources.Linux.html#readResourceStatsInternal"><span class="hs-identifier hs-var hs-var">readResourceStatsInternal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-107"></span><span>  </span><span id="local-6989586621679097235"><span class="annot"><span class="annottext">RTSStats
</span><a href="#local-6989586621679097235"><span class="hs-identifier hs-var">rts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO RTSStats
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stats.html#getRTSStats"><span class="hs-identifier hs-var">GhcStats.getRTSStats</span></a></span><span>
</span><span id="line-108"></span><span>  </span><span id="local-6989586621679097237"><span class="annot"><span class="annottext">(Word64, Word64)
</span><a href="#local-6989586621679097237"><span class="hs-identifier hs-var">net</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Word64, Word64)
</span><a href="Cardano.Logging.Resources.Linux.html#readProcNetInOut"><span class="hs-identifier hs-var">readProcNetInOut</span></a></span><span>
</span><span id="line-109"></span><span>  </span><span id="local-6989586621679097238"><span class="annot"><span class="annottext">(Word64, Word64)
</span><a href="#local-6989586621679097238"><span class="hs-identifier hs-var">fs</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Word64, Word64)
</span><a href="Cardano.Logging.Resources.Linux.html#readProcBlockInOut"><span class="hs-identifier hs-var">readProcBlockInOut</span></a></span><span>
</span><span id="line-110"></span><span>  </span><span class="annot"><span class="annottext">RTSStats
-&gt; (Word64, Word64)
-&gt; (Word64, Word64)
-&gt; [Word64]
-&gt; Maybe ResourceStats
</span><a href="#local-6989586621679097239"><span class="hs-identifier hs-var">mkProcStats</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats
</span><a href="#local-6989586621679097235"><span class="hs-identifier hs-var">rts</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64, Word64)
</span><a href="#local-6989586621679097237"><span class="hs-identifier hs-var">net</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64, Word64)
</span><a href="#local-6989586621679097238"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">([Word64] -&gt; Maybe ResourceStats)
-&gt; ([Integer] -&gt; [Word64]) -&gt; [Integer] -&gt; Maybe ResourceStats
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Word64) -&gt; [Integer] -&gt; [Word64]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">([Integer] -&gt; Maybe ResourceStats)
-&gt; IO [Integer] -&gt; IO (Maybe ResourceStats)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO [Integer]
</span><a href="Cardano.Logging.Resources.Linux.html#readProcList"><span class="hs-identifier hs-var">readProcList</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;/proc/self/stat&quot;</span></span><span>
</span><span id="line-111"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-112"></span><span>   </span><span class="annot"><a href="#local-6989586621679097239"><span class="hs-identifier hs-type">mkProcStats</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stats.html#RTSStats"><span class="hs-identifier hs-type">GhcStats.RTSStats</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Logging.Resources.Types.html#ResourceStats"><span class="hs-identifier hs-type">ResourceStats</span></a></span><span>
</span><span id="line-113"></span><span>   </span><span id="local-6989586621679097239"><span class="annot"><span class="annottext">mkProcStats :: RTSStats
-&gt; (Word64, Word64)
-&gt; (Word64, Word64)
-&gt; [Word64]
-&gt; Maybe ResourceStats
</span><a href="#local-6989586621679097239"><span class="hs-identifier hs-var hs-var">mkProcStats</span></a></span></span><span> </span><span id="local-6989586621679097241"><span class="annot"><span class="annottext">RTSStats
</span><a href="#local-6989586621679097241"><span class="hs-identifier hs-var">rts</span></a></span></span><span>
</span><span id="line-114"></span><span>               </span><span class="hs-special">(</span><span id="local-6989586621679097242"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097242"><span class="hs-identifier hs-var">rNetRd</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679097243"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097243"><span class="hs-identifier hs-var">rNetWr</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>               </span><span class="hs-special">(</span><span id="local-6989586621679097244"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097244"><span class="hs-identifier hs-var">rFsRd</span></a></span></span><span class="hs-special">,</span><span>  </span><span id="local-6989586621679097245"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097245"><span class="hs-identifier hs-var">rFsWr</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-comment">-- 00-09</span><span>
</span><span id="line-117"></span><span>               </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span id="local-6989586621679097246"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097246"><span class="hs-identifier hs-var">user</span></a></span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span id="local-6989586621679097247"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097247"><span class="hs-identifier hs-var">sys</span></a></span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span id="local-6989586621679097248"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097248"><span class="hs-identifier hs-var">rThreads</span></a></span></span><span> </span><span class="hs-comment">-- 10-19</span><span>
</span><span id="line-118"></span><span>               </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span id="local-6989586621679097249"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097249"><span class="hs-identifier hs-var">rss</span></a></span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-comment">-- 20-29</span><span>
</span><span id="line-119"></span><span>               </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-comment">-- 30-39</span><span>
</span><span id="line-120"></span><span>               </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span id="local-6989586621679097250"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097250"><span class="hs-identifier hs-var">rCentiBlkIO</span></a></span></span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span id="local-6989586621679097251"><span class="annot"><span class="annottext">[Word64]
</span><a href="#local-6989586621679097251"><span class="hs-identifier hs-var">_rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>          </span><span class="hs-comment">-- 40-42</span><span>
</span><span id="line-121"></span><span>     </span><span class="annot"><span class="annottext">ResourceStats -&gt; Maybe ResourceStats
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(ResourceStats -&gt; Maybe ResourceStats)
-&gt; ResourceStats -&gt; Maybe ResourceStats
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Cardano.Logging.Resources.Types.html#Resources"><span class="hs-identifier hs-type">Resources</span></a></span><span>
</span><span id="line-122"></span><span>       </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rCentiCpu :: Word64
</span><a href="#local-6989586621679097253"><span class="hs-identifier hs-var">rCentiCpu</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097246"><span class="hs-identifier hs-var">user</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097247"><span class="hs-identifier hs-var">sys</span></a></span><span>
</span><span id="line-123"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rCentiGC :: Word64
</span><a href="#local-6989586621679097255"><span class="hs-identifier hs-var">rCentiGC</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RtsTime -&gt; Word64
</span><a href="#local-6989586621679097256"><span class="hs-identifier hs-var">nsToCenti</span></a></span><span> </span><span class="annot"><span class="annottext">(RtsTime -&gt; Word64) -&gt; RtsTime -&gt; Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats -&gt; RtsTime
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stats.html#gc_cpu_ns"><span class="hs-identifier hs-var">GhcStats.gc_cpu_ns</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats
</span><a href="#local-6989586621679097241"><span class="hs-identifier hs-var">rts</span></a></span><span>
</span><span id="line-124"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rCentiMut :: Word64
</span><a href="#local-6989586621679097258"><span class="hs-identifier hs-var">rCentiMut</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RtsTime -&gt; Word64
</span><a href="#local-6989586621679097256"><span class="hs-identifier hs-var">nsToCenti</span></a></span><span> </span><span class="annot"><span class="annottext">(RtsTime -&gt; Word64) -&gt; RtsTime -&gt; Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats -&gt; RtsTime
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stats.html#mutator_cpu_ns"><span class="hs-identifier hs-var">GhcStats.mutator_cpu_ns</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats
</span><a href="#local-6989586621679097241"><span class="hs-identifier hs-var">rts</span></a></span><span>
</span><span id="line-125"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rGcsMajor :: Word64
</span><a href="#local-6989586621679097260"><span class="hs-identifier hs-var">rGcsMajor</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Word32 -&gt; Word64) -&gt; Word32 -&gt; Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats -&gt; Word32
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stats.html#major_gcs"><span class="hs-identifier hs-var">GhcStats.major_gcs</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats
</span><a href="#local-6989586621679097241"><span class="hs-identifier hs-var">rts</span></a></span><span>
</span><span id="line-126"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rGcsMinor :: Word64
</span><a href="#local-6989586621679097262"><span class="hs-identifier hs-var">rGcsMinor</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Word32 -&gt; Word64) -&gt; Word32 -&gt; Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats -&gt; Word32
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stats.html#gcs"><span class="hs-identifier hs-var">GhcStats.gcs</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats
</span><a href="#local-6989586621679097241"><span class="hs-identifier hs-var">rts</span></a></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Word32 -&gt; Word32
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats -&gt; Word32
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stats.html#major_gcs"><span class="hs-identifier hs-var">GhcStats.major_gcs</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats
</span><a href="#local-6989586621679097241"><span class="hs-identifier hs-var">rts</span></a></span><span>
</span><span id="line-127"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rAlloc :: Word64
</span><a href="#local-6989586621679097264"><span class="hs-identifier hs-var">rAlloc</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RTSStats -&gt; Word64
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stats.html#allocated_bytes"><span class="hs-identifier hs-var">GhcStats.allocated_bytes</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats
</span><a href="#local-6989586621679097241"><span class="hs-identifier hs-var">rts</span></a></span><span>
</span><span id="line-128"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rLive :: Word64
</span><a href="#local-6989586621679097266"><span class="hs-identifier hs-var">rLive</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GCDetails -&gt; Word64
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stats.html#gcdetails_live_bytes"><span class="hs-identifier hs-var">GhcStats.gcdetails_live_bytes</span></a></span><span> </span><span class="annot"><span class="annottext">(GCDetails -&gt; Word64) -&gt; GCDetails -&gt; Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats -&gt; GCDetails
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stats.html#gc"><span class="hs-identifier hs-var">GhcStats.gc</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats
</span><a href="#local-6989586621679097241"><span class="hs-identifier hs-var">rts</span></a></span><span>
</span><span id="line-129"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rHeap :: Word64
</span><a href="#local-6989586621679097269"><span class="hs-identifier hs-var">rHeap</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GCDetails -&gt; Word64
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stats.html#gcdetails_mem_in_use_bytes"><span class="hs-identifier hs-var">GhcStats.gcdetails_mem_in_use_bytes</span></a></span><span> </span><span class="annot"><span class="annottext">(GCDetails -&gt; Word64) -&gt; GCDetails -&gt; Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats -&gt; GCDetails
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stats.html#gc"><span class="hs-identifier hs-var">GhcStats.gc</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats
</span><a href="#local-6989586621679097241"><span class="hs-identifier hs-var">rts</span></a></span><span>
</span><span id="line-130"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rRSS :: Word64
</span><a href="#local-6989586621679097271"><span class="hs-identifier hs-var">rRSS</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679097249"><span class="hs-identifier hs-var">rss</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">4096</span></span><span> </span><span class="hs-comment">-- TODO:  this is really PAGE_SIZE.</span><span>
</span><span id="line-131"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
rNetRd :: Word64
rNetWr :: Word64
rFsRd :: Word64
rFsWr :: Word64
rThreads :: Word64
rCentiBlkIO :: Word64
rCentiBlkIO :: Word64
rNetRd :: Word64
rNetWr :: Word64
rFsRd :: Word64
rFsWr :: Word64
rThreads :: Word64
</span><a href="#local-6989586621679097242"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span><span>
</span><span id="line-132"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-133"></span><span>   </span><span class="annot"><a href="#local-6989586621679097239"><span class="hs-identifier hs-var">mkProcStats</span></a></span><span> </span><span class="annot"><span class="annottext">RTSStats
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">(Word64, Word64)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">(Word64, Word64)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Word64]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ResourceStats
forall a. Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-134"></span><span>   </span><span class="annot"><a href="#local-6989586621679097256"><span class="hs-identifier hs-type">nsToCenti</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Stats.html#RtsTime"><span class="hs-identifier hs-type">GhcStats.RtsTime</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span>
</span><span id="line-135"></span><span>   </span><span id="local-6989586621679097256"><span class="annot"><span class="annottext">nsToCenti :: RtsTime -&gt; Word64
</span><a href="#local-6989586621679097256"><span class="hs-identifier hs-var hs-var">nsToCenti</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Word64
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#floor"><span class="hs-identifier hs-var">floor</span></a></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Word64) -&gt; (RtsTime -&gt; Double) -&gt; RtsTime -&gt; Word64
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%2F"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">10000000</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double) -&gt; (RtsTime -&gt; Double) -&gt; RtsTime -&gt; Double
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RtsTime -&gt; Double
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span class="annot"><a href="Cardano.Logging.Resources.Linux.html#readProcList"><span class="hs-identifier hs-type">readProcList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-138"></span><span id="readProcList"><span class="annot"><span class="annottext">readProcList :: FilePath -&gt; IO [Integer]
</span><a href="Cardano.Logging.Resources.Linux.html#readProcList"><span class="hs-identifier hs-var hs-var">readProcList</span></a></span></span><span> </span><span id="local-6989586621679097281"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679097281"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-139"></span><span>    </span><span id="local-6989586621679097282"><span class="annot"><span class="annottext">FileStatus
</span><a href="#local-6989586621679097282"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO FileStatus
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/unix-2.8.4.0/src/System.Posix.Files.html#getFileStatus"><span class="hs-identifier hs-var">getFileStatus</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679097281"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-140"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">FileStatus -&gt; Bool
</span><a href="#local-6989586621679097283"><span class="hs-identifier hs-var">readable</span></a></span><span> </span><span class="annot"><span class="annottext">FileStatus
</span><a href="#local-6989586621679097282"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-142"></span><span>        </span><span id="local-6989586621679097284"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679097284"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO Text
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.IO.html#readFile"><span class="hs-identifier hs-var">T.readFile</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679097281"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-143"></span><span>        </span><span class="annot"><span class="annottext">[Integer] -&gt; IO [Integer]
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">([Integer] -&gt; IO [Integer]) -&gt; [Integer] -&gt; IO [Integer]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Integer) -&gt; [Text] -&gt; [Integer]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Maybe Integer -&gt; Integer
forall a. a -&gt; Maybe a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Integer -&gt; Integer)
-&gt; (Text -&gt; Maybe Integer) -&gt; Text -&gt; Integer
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe Integer
forall a. Integral a =&gt; Text -&gt; Maybe a
</span><a href="Cardano.Logging.Resources.Linux.html#readMaybeText"><span class="hs-identifier hs-var">readMaybeText</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; [Text]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html#words"><span class="hs-identifier hs-var">T.words</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679097284"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-keyword">else</span><span>
</span><span id="line-145"></span><span>        </span><span class="annot"><span class="annottext">[Integer] -&gt; IO [Integer]
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-147"></span><span>    </span><span id="local-6989586621679097283"><span class="annot"><span class="annottext">readable :: FileStatus -&gt; Bool
</span><a href="#local-6989586621679097283"><span class="hs-identifier hs-var hs-var">readable</span></a></span></span><span> </span><span id="local-6989586621679097289"><span class="annot"><span class="annottext">FileStatus
</span><a href="#local-6989586621679097289"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FileMode -&gt; FileMode -&gt; FileMode
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/unix-2.8.4.0/src/System.Posix.Files.Common.html#intersectFileModes"><span class="hs-identifier hs-var">intersectFileModes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FileStatus -&gt; FileMode
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/unix-2.8.4.0/src/System.Posix.Files.Common.html#fileMode"><span class="hs-identifier hs-var">fileMode</span></a></span><span> </span><span class="annot"><span class="annottext">FileStatus
</span><a href="#local-6989586621679097289"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FileMode
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/unix-2.8.4.0/src/System.Posix.Files.Common.html#ownerReadMode"><span class="hs-identifier hs-var">ownerReadMode</span></a></span><span> </span><span class="annot"><span class="annottext">FileMode -&gt; FileMode -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">FileMode
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/unix-2.8.4.0/src/System.Posix.Files.Common.html#ownerReadMode"><span class="hs-identifier hs-var">ownerReadMode</span></a></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span id="local-6989586621679097162"><span class="annot"><a href="Cardano.Logging.Resources.Linux.html#readMaybeText"><span class="hs-identifier hs-type">readMaybeText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#Integral"><span class="hs-identifier hs-type">Integral</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097162"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">T.Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097162"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-150"></span><span id="readMaybeText"><span class="annot"><span class="annottext">readMaybeText :: forall a. Integral a =&gt; Text -&gt; Maybe a
</span><a href="Cardano.Logging.Resources.Linux.html#readMaybeText"><span class="hs-identifier hs-var hs-var">readMaybeText</span></a></span></span><span> </span><span id="local-6989586621679097292"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679097292"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Reader a
forall a. Integral a =&gt; Reader a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Read.html#decimal"><span class="hs-identifier hs-var">T.decimal</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679097292"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-152"></span><span>    </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679097293"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679097293"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679097293"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-153"></span><span>    </span><span class="annot"><span class="annottext">Either FilePath (a, Text)
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-154"></span></pre></body></html>