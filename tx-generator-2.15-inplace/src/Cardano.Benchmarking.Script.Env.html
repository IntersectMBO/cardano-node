<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE BlockArguments #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE ExistentialQuantification #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="annot"><span class="hs-comment">{-|
Module      : Cardano.Benchmarking.Script.Env
Description : State type for 'ActionM' monad stack and its accessors.

The 'Env' type is the ADT for the state component of the 'ActionM'
monad stack. Its actual definition isn't exported in part because of a
transition from an earlier very generic and polymorphic definition.
In a number of respects, this module covers more of the 'ActionM'
like 'runActionM' and 'liftTxGenError', but the only significant
structure is 'Env' for state. The accessors could likely be removed
in favour of just using the record syntax to trim a few lines of
code at the cost of exposing the structure's internals. Some of the
naming related to the fact that &quot;Cardano.Benchmarking.Script.Action&quot;
ran into circular dependency issues during the above transition.
 -}</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Benchmarking.Script.Env</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-30"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier">ActionM</span></a></span><span>
</span><span id="line-31"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Env"><span class="hs-identifier">Env</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Error"><span class="hs-identifier">Error</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#emptyEnv"><span class="hs-identifier">emptyEnv</span></a></span><span>
</span><span id="line-34"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#newEnvConsts"><span class="hs-identifier">newEnvConsts</span></a></span><span>
</span><span id="line-35"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#runActionMEnv"><span class="hs-identifier">runActionMEnv</span></a></span><span>
</span><span id="line-36"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier">liftTxGenError</span></a></span><span>
</span><span id="line-37"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#liftIOSafe"><span class="hs-identifier">liftIOSafe</span></a></span><span>
</span><span id="line-38"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#askIOManager"><span class="hs-identifier">askIOManager</span></a></span><span>
</span><span id="line-39"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#askNixSvcOpts"><span class="hs-identifier">askNixSvcOpts</span></a></span><span>
</span><span id="line-40"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#askEnvThreads"><span class="hs-identifier">askEnvThreads</span></a></span><span>
</span><span id="line-41"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier">traceDebug</span></a></span><span>
</span><span id="line-42"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#traceError"><span class="hs-identifier">traceError</span></a></span><span>
</span><span id="line-43"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#traceBenchTxSubmit"><span class="hs-identifier">traceBenchTxSubmit</span></a></span><span>
</span><span id="line-44"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getBenchTracers"><span class="hs-identifier">getBenchTracers</span></a></span><span>
</span><span id="line-45"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setBenchTracers"><span class="hs-identifier">setBenchTracers</span></a></span><span>
</span><span id="line-46"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvGenesis"><span class="hs-identifier">getEnvGenesis</span></a></span><span>
</span><span id="line-47"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvGenesis"><span class="hs-identifier">setEnvGenesis</span></a></span><span>
</span><span id="line-48"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvKeys"><span class="hs-identifier">getEnvKeys</span></a></span><span>
</span><span id="line-49"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvKeys"><span class="hs-identifier">setEnvKeys</span></a></span><span>
</span><span id="line-50"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvNetworkId"><span class="hs-identifier">getEnvNetworkId</span></a></span><span>
</span><span id="line-51"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvNetworkId"><span class="hs-identifier">setEnvNetworkId</span></a></span><span>
</span><span id="line-52"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvProtocol"><span class="hs-identifier">getEnvProtocol</span></a></span><span>
</span><span id="line-53"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvProtocol"><span class="hs-identifier">setEnvProtocol</span></a></span><span>
</span><span id="line-54"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getProtoParamMode"><span class="hs-identifier">getProtoParamMode</span></a></span><span>
</span><span id="line-55"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setProtoParamMode"><span class="hs-identifier">setProtoParamMode</span></a></span><span>
</span><span id="line-56"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvSocketPath"><span class="hs-identifier">getEnvSocketPath</span></a></span><span>
</span><span id="line-57"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvSocketPath"><span class="hs-identifier">setEnvSocketPath</span></a></span><span>
</span><span id="line-58"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvThreads"><span class="hs-identifier">getEnvThreads</span></a></span><span>
</span><span id="line-59"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvThreads"><span class="hs-identifier">setEnvThreads</span></a></span><span>
</span><span id="line-60"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier">getEnvWallets</span></a></span><span>
</span><span id="line-61"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvWallets"><span class="hs-identifier">setEnvWallets</span></a></span><span>
</span><span id="line-62"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvSummary"><span class="hs-identifier">getEnvSummary</span></a></span><span>
</span><span id="line-63"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvSummary"><span class="hs-identifier">setEnvSummary</span></a></span><span>
</span><span id="line-64"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.html"><span class="hs-identifier">Cardano.Api</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier">File</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#SocketPath"><span class="hs-identifier">SocketPath</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.html"><span class="hs-identifier">Cardano.Benchmarking.GeneratorTx</span></a></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html"><span class="hs-identifier">Cardano.Benchmarking.LogTypes</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Tracer</span></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.OuroborosImports.html"><span class="hs-identifier">Cardano.Benchmarking.OuroborosImports</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.Network.Internal.NetworkId.html#NetworkId"><span class="hs-identifier">NetworkId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.Key.Internal.html#PaymentKey"><span class="hs-identifier">PaymentKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-ledger-shelley-1.17.0.0-400a8be766b9aa8d53386c1888a7ac983e644a77fd4883db1c63d6ba7ec3a069/share/doc/html/src/Cardano.Ledger.Shelley.Genesis.html#ShelleyGenesis"><span class="hs-identifier">ShelleyGenesis</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>                   </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.Key.Internal.Class.html#SigningKey"><span class="hs-identifier">SigningKey</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html"><span class="hs-identifier">Cardano.Benchmarking.Script.Types</span></a></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.Wallet.html"><span class="hs-identifier">Cardano.Benchmarking.Wallet</span></a></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.7/trace-dispatcher-2.11.1/doc/html/trace-dispatcher/src/Cardano.Logging.html"><span class="hs-identifier">Cardano.Logging</span></a></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-node-10.6.2/doc/html/cardano-node/src/Cardano.Node.Protocol.Types.html"><span class="hs-identifier">Cardano.Node.Protocol.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-node-10.6.2/doc/html/cardano-node/src/Cardano.Node.Protocol.Types.html#SomeConsensusProtocol"><span class="hs-identifier">SomeConsensusProtocol</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.PlutusContext.html"><span class="hs-identifier">Cardano.TxGenerator.PlutusContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.TxGenerator.PlutusContext.html#PlutusBudgetSummary"><span class="hs-identifier">PlutusBudgetSummary</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.Setup.NixService.html"><span class="hs-identifier">Cardano.TxGenerator.Setup.NixService</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Nix</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.TxGenerator.Setup.NixService.html#NixServiceOptions"><span class="hs-identifier">NixServiceOptions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.Types.html"><span class="hs-identifier">Cardano.TxGenerator.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier">TxGenError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/ouroboros-network-0.22.6.0-dab16ef42a841a03a710b896a8d7e270e40ec3b9dfe3b1576b6dde59e490575c/share/doc/html/src/Ouroboros.Network.NodeToClient.html"><span class="hs-identifier">Ouroboros.Network.NodeToClient</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IOManager</span></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/stm-2.5.1.0/src/Control.Concurrent.STM.html"><span class="hs-identifier">Control.Concurrent.STM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#STM"><span class="hs-identifier">STM</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/stm-2.5.1.0/src/Control.Concurrent.STM.html"><span class="hs-identifier">Control.Concurrent.STM</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">STM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#TVar"><span class="hs-identifier">TVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#atomically"><span class="hs-identifier">atomically</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#newTVar"><span class="hs-identifier">newTVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#readTVar"><span class="hs-identifier">readTVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#writeTVar"><span class="hs-identifier">writeTVar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html"><span class="hs-identifier">Control.Monad.IO.Class</span></a></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html"><span class="hs-identifier">Control.Monad.Trans.Class</span></a></span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html"><span class="hs-identifier">Control.Monad.Trans.Except</span></a></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html"><span class="hs-identifier">Control.Monad.Trans.RWS.Strict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#RWST"><span class="hs-identifier">RWST</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html"><span class="hs-identifier">Control.Monad.Trans.RWS.Strict</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">RWS</span></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Map.Strict.html"><span class="hs-identifier">Data.Map.Strict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier">Map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Map.Strict.html"><span class="hs-identifier">Data.Map.Strict</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/System.IO.html"><span class="hs-identifier">System.IO</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.IO.Handle.Text.html#hPutStrLn"><span class="hs-identifier">hPutStrLn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.IO.StdHandles.html#stderr"><span class="hs-identifier">stderr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="hs-comment">-- | The 'Env' type represents the state maintained while executing</span><span>
</span><span id="line-97"></span><span class="hs-comment">-- a series of actions. The 'Maybe' types are largely to represent</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- as-of-yet unset values.</span><span>
</span><span id="line-99"></span><span class="hs-keyword">data</span><span> </span><span id="Env"><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Env"><span class="hs-identifier hs-var">Env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Env"><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Env"><span class="hs-identifier hs-var">Env</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-comment">-- | 'Cardano.Api.ProtocolParameters' is ultimately</span><span>
</span><span id="line-100"></span><span>                 </span><span class="hs-comment">-- wrapped by 'ProtocolParameterMode' which itself is</span><span>
</span><span id="line-101"></span><span>                 </span><span class="hs-comment">-- a sort of custom 'Maybe'.</span><span>
</span><span id="line-102"></span><span>                 </span><span id="protoParams"><span class="annot"><span class="annottext">Env -&gt; Maybe ProtocolParameterMode
</span><a href="Cardano.Benchmarking.Script.Env.html#protoParams"><span class="hs-identifier hs-var hs-var">protoParams</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#ProtocolParameterMode"><span class="hs-identifier hs-type">ProtocolParameterMode</span></a></span><span>
</span><span id="line-103"></span><span>               </span><span class="hs-special">,</span><span> </span><span id="envGenesis"><span class="annot"><span class="annottext">Env -&gt; Maybe ShelleyGenesis
</span><a href="Cardano.Benchmarking.Script.Env.html#envGenesis"><span class="hs-identifier hs-var hs-var">envGenesis</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-ledger-shelley-1.17.0.0-400a8be766b9aa8d53386c1888a7ac983e644a77fd4883db1c63d6ba7ec3a069/share/doc/html/src/Cardano.Ledger.Shelley.Genesis.html#ShelleyGenesis"><span class="hs-identifier hs-type">ShelleyGenesis</span></a></span><span>
</span><span id="line-104"></span><span>               </span><span class="hs-special">,</span><span> </span><span id="envProtocol"><span class="annot"><span class="annottext">Env -&gt; Maybe SomeConsensusProtocol
</span><a href="Cardano.Benchmarking.Script.Env.html#envProtocol"><span class="hs-identifier hs-var hs-var">envProtocol</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-node-10.6.2/doc/html/cardano-node/src/Cardano.Node.Protocol.Types.html#SomeConsensusProtocol"><span class="hs-identifier hs-type">SomeConsensusProtocol</span></a></span><span>
</span><span id="line-105"></span><span>               </span><span class="hs-special">,</span><span> </span><span id="envNetworkId"><span class="annot"><span class="annottext">Env -&gt; Maybe NetworkId
</span><a href="Cardano.Benchmarking.Script.Env.html#envNetworkId"><span class="hs-identifier hs-var hs-var">envNetworkId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.Network.Internal.NetworkId.html#NetworkId"><span class="hs-identifier hs-type">NetworkId</span></a></span><span>
</span><span id="line-106"></span><span>               </span><span class="hs-special">,</span><span> </span><span id="envSocketPath"><span class="annot"><span class="annottext">Env -&gt; Maybe String
</span><a href="Cardano.Benchmarking.Script.Env.html#envSocketPath"><span class="hs-identifier hs-var hs-var">envSocketPath</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-107"></span><span>               </span><span class="hs-special">,</span><span> </span><span id="envKeys"><span class="annot"><span class="annottext">Env -&gt; Map String (SigningKey PaymentKey)
</span><a href="Cardano.Benchmarking.Script.Env.html#envKeys"><span class="hs-identifier hs-var hs-var">envKeys</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.Key.Internal.Class.html#SigningKey"><span class="hs-identifier hs-type">SigningKey</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.Key.Internal.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>               </span><span class="hs-special">,</span><span> </span><span id="envWallets"><span class="annot"><span class="annottext">Env -&gt; Map String WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#envWallets"><span class="hs-identifier hs-var hs-var">envWallets</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Wallet.html#WalletRef"><span class="hs-identifier hs-type">WalletRef</span></a></span><span>
</span><span id="line-109"></span><span>               </span><span class="hs-special">,</span><span> </span><span id="envSummary"><span class="annot"><span class="annottext">Env -&gt; Maybe PlutusBudgetSummary
</span><a href="Cardano.Benchmarking.Script.Env.html#envSummary"><span class="hs-identifier hs-var hs-var">envSummary</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.PlutusContext.html#PlutusBudgetSummary"><span class="hs-identifier hs-type">PlutusBudgetSummary</span></a></span><span>
</span><span id="line-110"></span><span>               </span><span class="hs-special">}</span><span>
</span><span id="line-111"></span><span class="hs-comment">-- | `Env` uses `Maybe` to represent values that might be uninitialized.</span><span>
</span><span id="line-112"></span><span class="hs-comment">-- This being empty means `Nothing` is used across the board, along with</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- all of the `Map.Map` structures being `Map.empty`.</span><span>
</span><span id="line-114"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#emptyEnv"><span class="hs-identifier hs-type">emptyEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Env"><span class="hs-identifier hs-type">Env</span></a></span><span>
</span><span id="line-115"></span><span id="emptyEnv"><span class="annot"><span class="annottext">emptyEnv :: Env
</span><a href="Cardano.Benchmarking.Script.Env.html#emptyEnv"><span class="hs-identifier hs-var hs-var">emptyEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Env"><span class="hs-identifier hs-type">Env</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">protoParams :: Maybe ProtocolParameterMode
</span><a href="Cardano.Benchmarking.Script.Env.html#protoParams"><span class="hs-identifier hs-var">protoParams</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ProtocolParameterMode
forall a. Maybe a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-116"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">envGenesis :: Maybe ShelleyGenesis
</span><a href="Cardano.Benchmarking.Script.Env.html#envGenesis"><span class="hs-identifier hs-var">envGenesis</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ShelleyGenesis
forall a. Maybe a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-117"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">envKeys :: Map String (SigningKey PaymentKey)
</span><a href="Cardano.Benchmarking.Script.Env.html#envKeys"><span class="hs-identifier hs-var">envKeys</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map String (SigningKey PaymentKey)
forall k a. Map k a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">Map.empty</span></a></span><span>
</span><span id="line-118"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">envProtocol :: Maybe SomeConsensusProtocol
</span><a href="Cardano.Benchmarking.Script.Env.html#envProtocol"><span class="hs-identifier hs-var">envProtocol</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SomeConsensusProtocol
forall a. Maybe a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-119"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">envNetworkId :: Maybe NetworkId
</span><a href="Cardano.Benchmarking.Script.Env.html#envNetworkId"><span class="hs-identifier hs-var">envNetworkId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe NetworkId
forall a. Maybe a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-120"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">envSocketPath :: Maybe String
</span><a href="Cardano.Benchmarking.Script.Env.html#envSocketPath"><span class="hs-identifier hs-var">envSocketPath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-121"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">envWallets :: Map String WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#envWallets"><span class="hs-identifier hs-var">envWallets</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map String WalletRef
forall k a. Map k a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">Map.empty</span></a></span><span>
</span><span id="line-122"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">envSummary :: Maybe PlutusBudgetSummary
</span><a href="Cardano.Benchmarking.Script.Env.html#envSummary"><span class="hs-identifier hs-var">envSummary</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe PlutusBudgetSummary
forall a. Maybe a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-123"></span><span>               </span><span class="hs-special">}</span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#newEnvConsts"><span class="hs-identifier hs-type">newEnvConsts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IOManager</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Setup.NixService.html#NixServiceOptions"><span class="hs-identifier hs-type">Nix.NixServiceOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#STM"><span class="hs-identifier hs-type">STM</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#EnvConsts"><span class="hs-identifier hs-type">Tracer.EnvConsts</span></a></span><span>
</span><span id="line-126"></span><span id="newEnvConsts"><span class="annot"><span class="annottext">newEnvConsts :: IOManager -&gt; Maybe NixServiceOptions -&gt; STM EnvConsts
</span><a href="Cardano.Benchmarking.Script.Env.html#newEnvConsts"><span class="hs-identifier hs-var hs-var">newEnvConsts</span></a></span></span><span> </span><span id="local-6989586621679928049"><span class="annot"><span class="annottext">IOManager
</span><a href="#local-6989586621679928049"><span class="hs-identifier hs-var">envIOManager</span></a></span></span><span> </span><span id="local-6989586621679928050"><span class="annot"><span class="annottext">Maybe NixServiceOptions
</span><a href="#local-6989586621679928050"><span class="hs-identifier hs-var">envNixSvcOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-127"></span><span>  </span><span id="local-6989586621679928051"><span class="annot"><span class="annottext">TVar (Maybe AsyncBenchmarkControl)
</span><a href="#local-6989586621679928051"><span class="hs-identifier hs-var">envThreads</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe AsyncBenchmarkControl
-&gt; STM (TVar (Maybe AsyncBenchmarkControl))
forall a. a -&gt; STM (TVar a)
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#newTVar"><span class="hs-identifier hs-var">STM.newTVar</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe AsyncBenchmarkControl
forall a. Maybe a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span id="local-6989586621679928052"><span class="annot"><span class="annottext">TVar (Maybe BenchTracers)
</span><a href="#local-6989586621679928052"><span class="hs-identifier hs-var">benchTracers</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe BenchTracers -&gt; STM (TVar (Maybe BenchTracers))
forall a. a -&gt; STM (TVar a)
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#newTVar"><span class="hs-identifier hs-var">STM.newTVar</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe BenchTracers
forall a. Maybe a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="annot"><span class="annottext">EnvConsts -&gt; STM EnvConsts
forall a. a -&gt; STM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#EnvConsts"><span class="hs-identifier hs-type">Tracer.EnvConsts</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Maybe NixServiceOptions
TVar (Maybe BenchTracers)
TVar (Maybe AsyncBenchmarkControl)
IOManager
envIOManager :: IOManager
envNixSvcOpts :: Maybe NixServiceOptions
envThreads :: TVar (Maybe AsyncBenchmarkControl)
benchTracers :: TVar (Maybe BenchTracers)
envIOManager :: IOManager
envThreads :: TVar (Maybe AsyncBenchmarkControl)
envNixSvcOpts :: Maybe NixServiceOptions
benchTracers :: TVar (Maybe BenchTracers)
</span><a href="#local-6989586621679928049"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-comment">-- | This abbreviates an `ExceptT` and `RWST` with particular types</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- used as parameters.</span><span>
</span><span id="line-133"></span><span class="hs-keyword">type</span><span> </span><span id="ActionM"><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-var">ActionM</span></a></span></span><span> </span><span id="local-6989586621679928059"><span class="annot"><a href="#local-6989586621679928059"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Error"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#RWST"><span class="hs-identifier hs-type">RWST</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#EnvConsts"><span class="hs-identifier hs-type">Tracer.EnvConsts</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Env"><span class="hs-identifier hs-type">Env</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679928059"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span class="annot"><span class="hs-comment">-- | This runs an `ActionM` starting with the `Env` being passed.</span></span><span>
</span><span id="line-136"></span><span id="local-6989586621679927827"><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#runActionMEnv"><span class="hs-identifier hs-type">runActionMEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Env"><span class="hs-identifier hs-type">Env</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679927827"><span class="hs-identifier hs-type">ret</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#EnvConsts"><span class="hs-identifier hs-type">Tracer.EnvConsts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Error"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679927827"><span class="hs-identifier hs-type">ret</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Env"><span class="hs-identifier hs-type">Env</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-137"></span><span id="runActionMEnv"><span class="annot"><span class="annottext">runActionMEnv :: forall ret.
Env -&gt; ActionM ret -&gt; EnvConsts -&gt; IO (Either Error ret, Env, ())
</span><a href="Cardano.Benchmarking.Script.Env.html#runActionMEnv"><span class="hs-identifier hs-var hs-var">runActionMEnv</span></a></span></span><span> </span><span id="local-6989586621679928060"><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928060"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621679928061"><span class="annot"><span class="annottext">ActionM ret
</span><a href="#local-6989586621679928061"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span id="local-6989586621679928062"><span class="annot"><span class="annottext">EnvConsts
</span><a href="#local-6989586621679928062"><span class="hs-identifier hs-var">envConsts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RWST EnvConsts () Env IO (Either Error ret)
-&gt; EnvConsts -&gt; Env -&gt; IO (Either Error ret, Env, ())
forall r w s (m :: * -&gt; *) a.
RWST r w s m a -&gt; r -&gt; s -&gt; m (a, s, w)
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#runRWST"><span class="hs-identifier hs-var">RWS.runRWST</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ActionM ret -&gt; RWST EnvConsts () Env IO (Either Error ret)
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">ActionM ret
</span><a href="#local-6989586621679928061"><span class="hs-identifier hs-var">action</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EnvConsts
</span><a href="#local-6989586621679928062"><span class="hs-identifier hs-var">envConsts</span></a></span><span> </span><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928060"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-comment">-- | 'Error' adds two cases to 'Cardano.TxGenerator.Types.TxGenError'</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- which in turn wraps 'Cardano.Api.Error' implicit contexts to a</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- couple of its constructors. These represent errors that might arise</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- in the execution of a transaction with some distinctions as to the</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- layers where the errors could arise. At this highest level, invalid</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- users and wallets are potentially encountered. Plutus, protocol, API</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- and some arbitrary errors are potentially encountered at the next</span><span>
</span><span id="line-146"></span><span class="hs-comment">-- layer. The layers correspond to &quot;Cardano.Benchmarking.Script.Core&quot;</span><span>
</span><span id="line-147"></span><span class="hs-comment">-- for the outermost and &quot;Cardano.Benchmarking.Set.Plutus&quot; for the</span><span>
</span><span id="line-148"></span><span class="hs-comment">-- middle, and the innermost to &quot;Cardano.Api.Error&quot;.</span><span>
</span><span id="line-149"></span><span class="hs-keyword">data</span><span> </span><span id="Error"><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Error"><span class="hs-identifier hs-var">Error</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-150"></span><span>  </span><span id="TxGenError"><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-type">TxGenError</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Error"><span class="hs-identifier hs-type">Error</span></a></span><span>
</span><span id="line-151"></span><span>  </span><span id="UserError"><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#UserError"><span class="hs-identifier hs-var">UserError</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Error"><span class="hs-identifier hs-type">Error</span></a></span><span>
</span><span id="line-152"></span><span>  </span><span id="WalletError"><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#WalletError"><span class="hs-identifier hs-var">WalletError</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Error"><span class="hs-identifier hs-type">Error</span></a></span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span id="local-6989586621679928071"><span id="local-6989586621679928083"><span id="local-6989586621679928087"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Error"><span class="hs-identifier hs-type">Error</span></a></span></span></span></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="annot"><span class="hs-comment">-- | This throws a `TxGenError` in the `ActionM` monad.</span></span><span>
</span><span id="line-157"></span><span id="local-6989586621679927842"><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-type">liftTxGenError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-type">TxGenError</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679927842"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-158"></span><span id="liftTxGenError"><span class="annot"><span class="annottext">liftTxGenError :: forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var hs-var">liftTxGenError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Error -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error -&gt; ExceptT Error (RWST EnvConsts () Env IO) a)
-&gt; (TxGenError -&gt; Error)
-&gt; TxGenError
-&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#TxGenError"><span class="hs-identifier hs-var">Cardano.Benchmarking.Script.Env.TxGenError</span></a></span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-comment">-- | The safety comes from the invocation of `throwE`</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- instead of just using the constructor for `ExceptT`</span><span>
</span><span id="line-162"></span><span class="hs-comment">-- to convert the `Either` to an `ExceptT` monadic value.</span><span>
</span><span id="line-163"></span><span id="local-6989586621679927850"><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#liftIOSafe"><span class="hs-identifier hs-type">liftIOSafe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-type">TxGenError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679927850"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679927850"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-164"></span><span id="liftIOSafe"><span class="annot"><span class="annottext">liftIOSafe :: forall a. IO (Either TxGenError a) -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftIOSafe"><span class="hs-identifier hs-var hs-var">liftIOSafe</span></a></span></span><span> </span><span id="local-6989586621679928097"><span class="annot"><span class="annottext">IO (Either TxGenError a)
</span><a href="#local-6989586621679928097"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError a)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) (Either TxGenError a)
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError a)
</span><a href="#local-6989586621679928097"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST EnvConsts () Env IO) (Either TxGenError a)
-&gt; (Either TxGenError a
    -&gt; ExceptT Error (RWST EnvConsts () Env IO) a)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall a b.
ExceptT Error (RWST EnvConsts () Env IO) a
-&gt; (a -&gt; ExceptT Error (RWST EnvConsts () Env IO) b)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError -&gt; ExceptT Error (RWST EnvConsts () Env IO) a)
-&gt; (a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a)
-&gt; Either TxGenError a
-&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Either.html#either"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="annot"><span class="hs-comment">-- | Accessor for the `IOManager` reader monad aspect of the `RWST`.</span></span><span>
</span><span id="line-167"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#askIOManager"><span class="hs-identifier hs-type">askIOManager</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IOManager</span></span><span>
</span><span id="line-168"></span><span id="askIOManager"><span class="annot"><span class="annottext">askIOManager :: ActionM IOManager
</span><a href="Cardano.Benchmarking.Script.Env.html#askIOManager"><span class="hs-identifier hs-var hs-var">askIOManager</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RWST EnvConsts () Env IO IOManager -&gt; ActionM IOManager
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT Error m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(RWST EnvConsts () Env IO IOManager -&gt; ActionM IOManager)
-&gt; RWST EnvConsts () Env IO IOManager -&gt; ActionM IOManager
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(EnvConsts -&gt; IOManager) -&gt; RWST EnvConsts () Env IO IOManager
forall w (m :: * -&gt; *) r a s.
(Monoid w, Monad m) =&gt;
(r -&gt; a) -&gt; RWST r w s m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#asks"><span class="hs-identifier hs-var">RWS.asks</span></a></span><span> </span><span class="annot"><span class="annottext">EnvConsts -&gt; IOManager
</span><a href="Cardano.Benchmarking.LogTypes.html#envIOManager"><span class="hs-identifier hs-var">Tracer.envIOManager</span></a></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="annot"><span class="hs-comment">-- | Accessor for the `NixServiceOptions` reader monad aspect of the `RWST`.</span></span><span>
</span><span id="line-171"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#askNixSvcOpts"><span class="hs-identifier hs-type">askNixSvcOpts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Setup.NixService.html#NixServiceOptions"><span class="hs-identifier hs-type">Nix.NixServiceOptions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span id="askNixSvcOpts"><span class="annot"><span class="annottext">askNixSvcOpts :: ActionM (Maybe NixServiceOptions)
</span><a href="Cardano.Benchmarking.Script.Env.html#askNixSvcOpts"><span class="hs-identifier hs-var hs-var">askNixSvcOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RWST EnvConsts () Env IO (Maybe NixServiceOptions)
-&gt; ActionM (Maybe NixServiceOptions)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT Error m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(RWST EnvConsts () Env IO (Maybe NixServiceOptions)
 -&gt; ActionM (Maybe NixServiceOptions))
-&gt; RWST EnvConsts () Env IO (Maybe NixServiceOptions)
-&gt; ActionM (Maybe NixServiceOptions)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(EnvConsts -&gt; Maybe NixServiceOptions)
-&gt; RWST EnvConsts () Env IO (Maybe NixServiceOptions)
forall w (m :: * -&gt; *) r a s.
(Monoid w, Monad m) =&gt;
(r -&gt; a) -&gt; RWST r w s m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#asks"><span class="hs-identifier hs-var">RWS.asks</span></a></span><span> </span><span class="annot"><span class="annottext">EnvConsts -&gt; Maybe NixServiceOptions
</span><a href="Cardano.Benchmarking.LogTypes.html#envNixSvcOpts"><span class="hs-identifier hs-var">Tracer.envNixSvcOpts</span></a></span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#askEnvThreads"><span class="hs-identifier hs-type">askEnvThreads</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#TVar"><span class="hs-identifier hs-type">STM.TVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#AsyncBenchmarkControl"><span class="hs-identifier hs-type">AsyncBenchmarkControl</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span id="askEnvThreads"><span class="annot"><span class="annottext">askEnvThreads :: ActionM (TVar (Maybe AsyncBenchmarkControl))
</span><a href="Cardano.Benchmarking.Script.Env.html#askEnvThreads"><span class="hs-identifier hs-var hs-var">askEnvThreads</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RWST EnvConsts () Env IO (TVar (Maybe AsyncBenchmarkControl))
-&gt; ActionM (TVar (Maybe AsyncBenchmarkControl))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT Error m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(RWST EnvConsts () Env IO (TVar (Maybe AsyncBenchmarkControl))
 -&gt; ActionM (TVar (Maybe AsyncBenchmarkControl)))
-&gt; RWST EnvConsts () Env IO (TVar (Maybe AsyncBenchmarkControl))
-&gt; ActionM (TVar (Maybe AsyncBenchmarkControl))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(EnvConsts -&gt; TVar (Maybe AsyncBenchmarkControl))
-&gt; RWST EnvConsts () Env IO (TVar (Maybe AsyncBenchmarkControl))
forall w (m :: * -&gt; *) r a s.
(Monoid w, Monad m) =&gt;
(r -&gt; a) -&gt; RWST r w s m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#asks"><span class="hs-identifier hs-var">RWS.asks</span></a></span><span> </span><span class="annot"><span class="annottext">EnvConsts -&gt; TVar (Maybe AsyncBenchmarkControl)
</span><a href="Cardano.Benchmarking.LogTypes.html#envThreads"><span class="hs-identifier hs-var">Tracer.envThreads</span></a></span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="annot"><span class="hs-comment">-- | Helper to modify `Env` record fields.</span></span><span>
</span><span id="line-178"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#modifyEnv"><span class="hs-identifier hs-type">modifyEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Env"><span class="hs-identifier hs-type">Env</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Env"><span class="hs-identifier hs-type">Env</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span id="modifyEnv"><span class="annot"><span class="annottext">modifyEnv :: (Env -&gt; Env) -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#modifyEnv"><span class="hs-identifier hs-var hs-var">modifyEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RWST EnvConsts () Env IO () -&gt; ActionM ()
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT Error m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(RWST EnvConsts () Env IO () -&gt; ActionM ())
-&gt; ((Env -&gt; Env) -&gt; RWST EnvConsts () Env IO ())
-&gt; (Env -&gt; Env)
-&gt; ActionM ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Env) -&gt; RWST EnvConsts () Env IO ()
forall w (m :: * -&gt; *) s r.
(Monoid w, Monad m) =&gt;
(s -&gt; s) -&gt; RWST r w s m ()
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#modify"><span class="hs-identifier hs-var">RWS.modify</span></a></span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="annot"><span class="hs-comment">-- | Write accessor for `protoParams`.</span></span><span>
</span><span id="line-182"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setProtoParamMode"><span class="hs-identifier hs-type">setProtoParamMode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#ProtocolParameterMode"><span class="hs-identifier hs-type">ProtocolParameterMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span id="setProtoParamMode"><span class="annot"><span class="annottext">setProtoParamMode :: ProtocolParameterMode -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setProtoParamMode"><span class="hs-identifier hs-var hs-var">setProtoParamMode</span></a></span></span><span> </span><span id="local-6989586621679928104"><span class="annot"><span class="annottext">ProtocolParameterMode
</span><a href="#local-6989586621679928104"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Env) -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#modifyEnv"><span class="hs-identifier hs-var">modifyEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679928105"><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928105"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928105"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#protoParams"><span class="hs-identifier hs-var">protoParams</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679928104"><span class="hs-identifier hs-type">val</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="annot"><span class="hs-comment">-- | Write accessor for `benchTracers`.</span></span><span>
</span><span id="line-186"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setBenchTracers"><span class="hs-identifier hs-type">setBenchTracers</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#BenchTracers"><span class="hs-identifier hs-type">Tracer.BenchTracers</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span id="setBenchTracers"><span class="annot"><span class="annottext">setBenchTracers :: BenchTracers -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setBenchTracers"><span class="hs-identifier hs-var hs-var">setBenchTracers</span></a></span></span><span> </span><span id="local-6989586621679928106"><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679928106"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-188"></span><span>  </span><span id="local-6989586621679928107"><span class="annot"><span class="annottext">TVar (Maybe BenchTracers)
</span><a href="#local-6989586621679928107"><span class="hs-identifier hs-var">btTVar</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RWST EnvConsts () Env IO (TVar (Maybe BenchTracers))
-&gt; ExceptT
     Error (RWST EnvConsts () Env IO) (TVar (Maybe BenchTracers))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT Error m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(RWST EnvConsts () Env IO (TVar (Maybe BenchTracers))
 -&gt; ExceptT
      Error (RWST EnvConsts () Env IO) (TVar (Maybe BenchTracers)))
-&gt; RWST EnvConsts () Env IO (TVar (Maybe BenchTracers))
-&gt; ExceptT
     Error (RWST EnvConsts () Env IO) (TVar (Maybe BenchTracers))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(EnvConsts -&gt; TVar (Maybe BenchTracers))
-&gt; RWST EnvConsts () Env IO (TVar (Maybe BenchTracers))
forall w (m :: * -&gt; *) r a s.
(Monoid w, Monad m) =&gt;
(r -&gt; a) -&gt; RWST r w s m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#asks"><span class="hs-identifier hs-var">RWS.asks</span></a></span><span> </span><span class="annot"><span class="annottext">EnvConsts -&gt; TVar (Maybe BenchTracers)
</span><a href="Cardano.Benchmarking.LogTypes.html#benchTracers"><span class="hs-identifier hs-var">Tracer.benchTracers</span></a></span><span>
</span><span id="line-189"></span><span>  </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">STM () -&gt; IO ()
forall a. STM a -&gt; IO a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#atomically"><span class="hs-identifier hs-var">STM.atomically</span></a></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">TVar (Maybe BenchTracers) -&gt; Maybe BenchTracers -&gt; STM ()
forall a. TVar a -&gt; a -&gt; STM ()
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#writeTVar"><span class="hs-identifier hs-var">STM.writeTVar</span></a></span><span> </span><span class="annot"><span class="annottext">TVar (Maybe BenchTracers)
</span><a href="#local-6989586621679928107"><span class="hs-identifier hs-var">btTVar</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe BenchTracers -&gt; STM ()) -&gt; Maybe BenchTracers -&gt; STM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers -&gt; Maybe BenchTracers
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679928106"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="annot"><span class="hs-comment">-- | Write accessor for `envGenesis`.</span></span><span>
</span><span id="line-192"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvGenesis"><span class="hs-identifier hs-type">setEnvGenesis</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-ledger-shelley-1.17.0.0-400a8be766b9aa8d53386c1888a7ac983e644a77fd4883db1c63d6ba7ec3a069/share/doc/html/src/Cardano.Ledger.Shelley.Genesis.html#ShelleyGenesis"><span class="hs-identifier hs-type">ShelleyGenesis</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span id="setEnvGenesis"><span class="annot"><span class="annottext">setEnvGenesis :: ShelleyGenesis -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvGenesis"><span class="hs-identifier hs-var hs-var">setEnvGenesis</span></a></span></span><span> </span><span id="local-6989586621679928108"><span class="annot"><span class="annottext">ShelleyGenesis
</span><a href="#local-6989586621679928108"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Env) -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#modifyEnv"><span class="hs-identifier hs-var">modifyEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679928109"><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928109"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928109"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#envGenesis"><span class="hs-identifier hs-var">envGenesis</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679928108"><span class="hs-identifier hs-type">val</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="annot"><span class="hs-comment">-- | Write accessor for `envKeys`.</span></span><span>
</span><span id="line-196"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvKeys"><span class="hs-identifier hs-type">setEnvKeys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.Key.Internal.Class.html#SigningKey"><span class="hs-identifier hs-type">SigningKey</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.Key.Internal.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span id="setEnvKeys"><span class="annot"><span class="annottext">setEnvKeys :: String -&gt; SigningKey PaymentKey -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvKeys"><span class="hs-identifier hs-var hs-var">setEnvKeys</span></a></span></span><span> </span><span id="local-6989586621679928110"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679928110"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679928111"><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679928111"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Env) -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#modifyEnv"><span class="hs-identifier hs-var">modifyEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679928112"><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928112"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928112"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#envKeys"><span class="hs-identifier hs-var">envKeys</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Map.Strict.Internal.html#insert"><span class="hs-identifier hs-type">Map.insert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679928110"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679928111"><span class="hs-identifier hs-type">val</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#envKeys"><span class="hs-identifier hs-var">envKeys</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679928112"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="annot"><span class="hs-comment">-- | Write accessor for `envProtocol`.</span></span><span>
</span><span id="line-200"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvProtocol"><span class="hs-identifier hs-type">setEnvProtocol</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-node-10.6.2/doc/html/cardano-node/src/Cardano.Node.Protocol.Types.html#SomeConsensusProtocol"><span class="hs-identifier hs-type">SomeConsensusProtocol</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span id="setEnvProtocol"><span class="annot"><span class="annottext">setEnvProtocol :: SomeConsensusProtocol -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvProtocol"><span class="hs-identifier hs-var hs-var">setEnvProtocol</span></a></span></span><span> </span><span id="local-6989586621679928114"><span class="annot"><span class="annottext">SomeConsensusProtocol
</span><a href="#local-6989586621679928114"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Env) -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#modifyEnv"><span class="hs-identifier hs-var">modifyEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679928115"><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928115"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928115"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#envProtocol"><span class="hs-identifier hs-var">envProtocol</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679928114"><span class="hs-identifier hs-type">val</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="annot"><span class="hs-comment">-- | Write accessor for `envNetworkId`.</span></span><span>
</span><span id="line-204"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvNetworkId"><span class="hs-identifier hs-type">setEnvNetworkId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.Network.Internal.NetworkId.html#NetworkId"><span class="hs-identifier hs-type">NetworkId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span id="setEnvNetworkId"><span class="annot"><span class="annottext">setEnvNetworkId :: NetworkId -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvNetworkId"><span class="hs-identifier hs-var hs-var">setEnvNetworkId</span></a></span></span><span> </span><span id="local-6989586621679928116"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679928116"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Env) -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#modifyEnv"><span class="hs-identifier hs-var">modifyEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679928117"><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928117"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928117"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#envNetworkId"><span class="hs-identifier hs-var">envNetworkId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679928116"><span class="hs-identifier hs-type">val</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="annot"><span class="hs-comment">-- | Write accessor for `envSocketPath`.</span></span><span>
</span><span id="line-208"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvSocketPath"><span class="hs-identifier hs-type">setEnvSocketPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span id="setEnvSocketPath"><span class="annot"><span class="annottext">setEnvSocketPath :: String -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvSocketPath"><span class="hs-identifier hs-var hs-var">setEnvSocketPath</span></a></span></span><span> </span><span id="local-6989586621679928118"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679928118"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Env) -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#modifyEnv"><span class="hs-identifier hs-var">modifyEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679928119"><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928119"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928119"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#envSocketPath"><span class="hs-identifier hs-var">envSocketPath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679928118"><span class="hs-identifier hs-type">val</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="annot"><span class="hs-comment">-- | Write accessor for `envThreads`.</span></span><span>
</span><span id="line-212"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvThreads"><span class="hs-identifier hs-type">setEnvThreads</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#AsyncBenchmarkControl"><span class="hs-identifier hs-type">AsyncBenchmarkControl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span id="setEnvThreads"><span class="annot"><span class="annottext">setEnvThreads :: AsyncBenchmarkControl -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvThreads"><span class="hs-identifier hs-var hs-var">setEnvThreads</span></a></span></span><span> </span><span id="local-6989586621679928120"><span class="annot"><span class="annottext">AsyncBenchmarkControl
</span><a href="#local-6989586621679928120"><span class="hs-identifier hs-var">abc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-214"></span><span>  </span><span id="local-6989586621679928121"><span class="annot"><span class="annottext">TVar (Maybe AsyncBenchmarkControl)
</span><a href="#local-6989586621679928121"><span class="hs-identifier hs-var">abcTVar</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RWST EnvConsts () Env IO (TVar (Maybe AsyncBenchmarkControl))
-&gt; ActionM (TVar (Maybe AsyncBenchmarkControl))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT Error m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(RWST EnvConsts () Env IO (TVar (Maybe AsyncBenchmarkControl))
 -&gt; ActionM (TVar (Maybe AsyncBenchmarkControl)))
-&gt; RWST EnvConsts () Env IO (TVar (Maybe AsyncBenchmarkControl))
-&gt; ActionM (TVar (Maybe AsyncBenchmarkControl))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(EnvConsts -&gt; TVar (Maybe AsyncBenchmarkControl))
-&gt; RWST EnvConsts () Env IO (TVar (Maybe AsyncBenchmarkControl))
forall w (m :: * -&gt; *) r a s.
(Monoid w, Monad m) =&gt;
(r -&gt; a) -&gt; RWST r w s m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#asks"><span class="hs-identifier hs-var">RWS.asks</span></a></span><span> </span><span class="annot"><span class="annottext">EnvConsts -&gt; TVar (Maybe AsyncBenchmarkControl)
</span><a href="Cardano.Benchmarking.LogTypes.html#envThreads"><span class="hs-identifier hs-var">Tracer.envThreads</span></a></span><span>
</span><span id="line-215"></span><span>  </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">STM () -&gt; IO ()
forall a. STM a -&gt; IO a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#atomically"><span class="hs-identifier hs-var">STM.atomically</span></a></span><span> </span><span class="annot"><span class="annottext">(STM () -&gt; IO ()) -&gt; STM () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TVar (Maybe AsyncBenchmarkControl)
</span><a href="#local-6989586621679928121"><span class="hs-identifier hs-var">abcTVar</span></a></span><span> </span><span class="annot"><span class="annottext">TVar (Maybe AsyncBenchmarkControl)
-&gt; Maybe AsyncBenchmarkControl -&gt; STM ()
forall a. TVar a -&gt; a -&gt; STM ()
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#writeTVar"><span class="hs-operator hs-var">`STM.writeTVar`</span></a></span><span> </span><span class="annot"><span class="annottext">AsyncBenchmarkControl -&gt; Maybe AsyncBenchmarkControl
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">AsyncBenchmarkControl
</span><a href="#local-6989586621679928120"><span class="hs-identifier hs-var">abc</span></a></span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="annot"><span class="hs-comment">-- | Write accessor for `envWallets`.</span></span><span>
</span><span id="line-218"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvWallets"><span class="hs-identifier hs-type">setEnvWallets</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Wallet.html#WalletRef"><span class="hs-identifier hs-type">WalletRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span id="setEnvWallets"><span class="annot"><span class="annottext">setEnvWallets :: String -&gt; WalletRef -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvWallets"><span class="hs-identifier hs-var hs-var">setEnvWallets</span></a></span></span><span> </span><span id="local-6989586621679928122"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679928122"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679928123"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679928123"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Env) -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#modifyEnv"><span class="hs-identifier hs-var">modifyEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679928124"><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928124"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928124"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#envWallets"><span class="hs-identifier hs-var">envWallets</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Map.Strict.Internal.html#insert"><span class="hs-identifier hs-type">Map.insert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679928122"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679928123"><span class="hs-identifier hs-type">val</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#envWallets"><span class="hs-identifier hs-var">envWallets</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679928124"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="annot"><span class="hs-comment">-- | Write accessor for `envSummary`.</span></span><span>
</span><span id="line-222"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#setEnvSummary"><span class="hs-identifier hs-type">setEnvSummary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.PlutusContext.html#PlutusBudgetSummary"><span class="hs-identifier hs-type">PlutusBudgetSummary</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span id="setEnvSummary"><span class="annot"><span class="annottext">setEnvSummary :: PlutusBudgetSummary -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvSummary"><span class="hs-identifier hs-var hs-var">setEnvSummary</span></a></span></span><span> </span><span id="local-6989586621679928125"><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679928125"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Env) -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#modifyEnv"><span class="hs-identifier hs-var">modifyEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679928126"><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928126"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Env
</span><a href="#local-6989586621679928126"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#envSummary"><span class="hs-identifier hs-var">envSummary</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679928125"><span class="hs-identifier hs-type">val</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="annot"><span class="hs-comment">-- | Read accessor helper for `Maybe` record fields of `Env`.</span></span><span>
</span><span id="line-226"></span><span id="local-6989586621679927879"><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvVal"><span class="hs-identifier hs-type">getEnvVal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Env"><span class="hs-identifier hs-type">Env</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679927879"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679927879"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-227"></span><span id="getEnvVal"><span class="annot"><span class="annottext">getEnvVal :: forall t. (Env -&gt; Maybe t) -&gt; String -&gt; ActionM t
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvVal"><span class="hs-identifier hs-var hs-var">getEnvVal</span></a></span></span><span> </span><span id="local-6989586621679928138"><span class="annot"><span class="annottext">Env -&gt; Maybe t
</span><a href="#local-6989586621679928138"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621679928139"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679928139"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-228"></span><span>  </span><span class="annot"><span class="annottext">RWST EnvConsts () Env IO (Maybe t)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) (Maybe t)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT Error m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Env -&gt; Maybe t) -&gt; RWST EnvConsts () Env IO (Maybe t)
forall w (m :: * -&gt; *) s a r.
(Monoid w, Monad m) =&gt;
(s -&gt; a) -&gt; RWST r w s m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#gets"><span class="hs-identifier hs-var">RWS.gets</span></a></span><span> </span><span class="annot"><span class="annottext">Env -&gt; Maybe t
</span><a href="#local-6989586621679928138"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST EnvConsts () Env IO) (Maybe t)
-&gt; (Maybe t -&gt; ActionM t) -&gt; ActionM t
forall a b.
ExceptT Error (RWST EnvConsts () Env IO) a
-&gt; (a -&gt; ExceptT Error (RWST EnvConsts () Env IO) b)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-229"></span><span>    </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679928141"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679928141"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">t -&gt; ActionM t
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679928141"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-230"></span><span>    </span><span class="annot"><span class="annottext">Maybe t
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Error -&gt; ActionM t
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error -&gt; ActionM t) -&gt; (String -&gt; Error) -&gt; String -&gt; ActionM t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#UserError"><span class="hs-identifier hs-var">UserError</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; ActionM t) -&gt; String -&gt; ActionM t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unset &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679928139"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="annot"><span class="hs-comment">-- | Read accessor helper for `Map.Map` record fields of `Env`.</span></span><span>
</span><span id="line-233"></span><span id="local-6989586621679927891"><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvMap"><span class="hs-identifier hs-type">getEnvMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Env"><span class="hs-identifier hs-type">Env</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679927891"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679927891"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-234"></span><span id="getEnvMap"><span class="annot"><span class="annottext">getEnvMap :: forall t. (Env -&gt; Map String t) -&gt; String -&gt; ActionM t
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvMap"><span class="hs-identifier hs-var hs-var">getEnvMap</span></a></span></span><span> </span><span id="local-6989586621679928154"><span class="annot"><span class="annottext">Env -&gt; Map String t
</span><a href="#local-6989586621679928154"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621679928155"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679928155"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-235"></span><span>  </span><span id="local-6989586621679928156"><span class="annot"><span class="annottext">Map String t
</span><a href="#local-6989586621679928156"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RWST EnvConsts () Env IO (Map String t)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) (Map String t)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT Error m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(RWST EnvConsts () Env IO (Map String t)
 -&gt; ExceptT Error (RWST EnvConsts () Env IO) (Map String t))
-&gt; RWST EnvConsts () Env IO (Map String t)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) (Map String t)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Map String t) -&gt; RWST EnvConsts () Env IO (Map String t)
forall w (m :: * -&gt; *) s a r.
(Monoid w, Monad m) =&gt;
(s -&gt; a) -&gt; RWST r w s m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#gets"><span class="hs-identifier hs-var">RWS.gets</span></a></span><span> </span><span class="annot"><span class="annottext">Env -&gt; Map String t
</span><a href="#local-6989586621679928154"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String -&gt; Map String t -&gt; Maybe t
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679928155"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Map String t
</span><a href="#local-6989586621679928156"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-237"></span><span>    </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679928158"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679928158"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">t -&gt; ActionM t
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679928158"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-238"></span><span>    </span><span class="annot"><span class="annottext">Maybe t
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Error -&gt; ActionM t
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error -&gt; ActionM t) -&gt; (String -&gt; Error) -&gt; String -&gt; ActionM t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#UserError"><span class="hs-identifier hs-var">UserError</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; ActionM t) -&gt; String -&gt; ActionM t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Lookup of &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679928155"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; failed&quot;</span></span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="annot"><span class="hs-comment">-- | Read accessor for `protoParams`.</span></span><span>
</span><span id="line-241"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getProtoParamMode"><span class="hs-identifier hs-type">getProtoParamMode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#ProtocolParameterMode"><span class="hs-identifier hs-type">ProtocolParameterMode</span></a></span><span>
</span><span id="line-242"></span><span id="getProtoParamMode"><span class="annot"><span class="annottext">getProtoParamMode :: ActionM ProtocolParameterMode
</span><a href="Cardano.Benchmarking.Script.Env.html#getProtoParamMode"><span class="hs-identifier hs-var hs-var">getProtoParamMode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Maybe ProtocolParameterMode)
-&gt; String -&gt; ActionM ProtocolParameterMode
forall t. (Env -&gt; Maybe t) -&gt; String -&gt; ActionM t
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvVal"><span class="hs-identifier hs-var">getEnvVal</span></a></span><span> </span><span class="annot"><span class="annottext">Env -&gt; Maybe ProtocolParameterMode
</span><a href="Cardano.Benchmarking.Script.Env.html#protoParams"><span class="hs-identifier hs-var">protoParams</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ProtocolParameterMode&quot;</span></span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">-- | Read accessor for `benchTracers`.</span><span>
</span><span id="line-245"></span><span class="hs-comment">-- It would be burdensome on callers to have to have to case analyze</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- this result. EnvConsts :: (Type -&gt; Type) -&gt; Type would make sense,</span><span>
</span><span id="line-247"></span><span class="hs-comment">-- using the pattern of data HKT f = HKT { f1 :: f t1, f2 :: f t2, ..}</span><span>
</span><span id="line-248"></span><span class="hs-comment">-- Then EnvConsts Maybe can be converted to EnvConsts Identity once</span><span>
</span><span id="line-249"></span><span class="hs-comment">-- initialization is complete so the main phase doesn't need to do this.</span><span>
</span><span id="line-250"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getBenchTracers"><span class="hs-identifier hs-type">getBenchTracers</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#BenchTracers"><span class="hs-identifier hs-type">Tracer.BenchTracers</span></a></span><span>
</span><span id="line-251"></span><span id="getBenchTracers"><span class="annot"><span class="annottext">getBenchTracers :: ActionM BenchTracers
</span><a href="Cardano.Benchmarking.Script.Env.html#getBenchTracers"><span class="hs-identifier hs-var hs-var">getBenchTracers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-252"></span><span>  </span><span id="local-6989586621679928159"><span class="annot"><span class="annottext">TVar (Maybe BenchTracers)
</span><a href="#local-6989586621679928159"><span class="hs-identifier hs-var">btTVar</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RWST EnvConsts () Env IO (TVar (Maybe BenchTracers))
-&gt; ExceptT
     Error (RWST EnvConsts () Env IO) (TVar (Maybe BenchTracers))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT Error m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(RWST EnvConsts () Env IO (TVar (Maybe BenchTracers))
 -&gt; ExceptT
      Error (RWST EnvConsts () Env IO) (TVar (Maybe BenchTracers)))
-&gt; RWST EnvConsts () Env IO (TVar (Maybe BenchTracers))
-&gt; ExceptT
     Error (RWST EnvConsts () Env IO) (TVar (Maybe BenchTracers))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(EnvConsts -&gt; TVar (Maybe BenchTracers))
-&gt; RWST EnvConsts () Env IO (TVar (Maybe BenchTracers))
forall w (m :: * -&gt; *) r a s.
(Monoid w, Monad m) =&gt;
(r -&gt; a) -&gt; RWST r w s m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#asks"><span class="hs-identifier hs-var">RWS.asks</span></a></span><span> </span><span class="annot"><span class="annottext">EnvConsts -&gt; TVar (Maybe BenchTracers)
</span><a href="Cardano.Benchmarking.LogTypes.html#benchTracers"><span class="hs-identifier hs-var">Tracer.benchTracers</span></a></span><span>
</span><span id="line-253"></span><span>  </span><span id="local-6989586621679928160"><span class="annot"><span class="annottext">Maybe BenchTracers
</span><a href="#local-6989586621679928160"><span class="hs-identifier hs-var">mTracer</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Maybe BenchTracers)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) (Maybe BenchTracers)
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Maybe BenchTracers)
 -&gt; ExceptT Error (RWST EnvConsts () Env IO) (Maybe BenchTracers))
-&gt; IO (Maybe BenchTracers)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) (Maybe BenchTracers)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">STM (Maybe BenchTracers) -&gt; IO (Maybe BenchTracers)
forall a. STM a -&gt; IO a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#atomically"><span class="hs-identifier hs-var">STM.atomically</span></a></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">TVar (Maybe BenchTracers) -&gt; STM (Maybe BenchTracers)
forall a. TVar a -&gt; STM a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#readTVar"><span class="hs-identifier hs-var">STM.readTVar</span></a></span><span> </span><span class="annot"><span class="annottext">TVar (Maybe BenchTracers)
</span><a href="#local-6989586621679928159"><span class="hs-identifier hs-var">btTVar</span></a></span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe BenchTracers
</span><a href="#local-6989586621679928160"><span class="hs-identifier hs-var">mTracer</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679928161"><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679928161"><span class="hs-identifier hs-var">tracer</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BenchTracers -&gt; ActionM BenchTracers
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679928161"><span class="hs-identifier hs-var">tracer</span></a></span><span>
</span><span id="line-256"></span><span>    </span><span class="annot"><span class="annottext">Maybe BenchTracers
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-257"></span><span>      </span><span class="hs-comment">-- If this occurs, it may be worthwhile to output it in more ways</span><span>
</span><span id="line-258"></span><span>      </span><span class="hs-comment">-- because the tracer isn't actually initialized.</span><span>
</span><span id="line-259"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679928164"><span class="annot"><span class="annottext">errMsg :: String
</span><a href="#local-6989586621679928164"><span class="hs-identifier hs-var hs-var">errMsg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Env.getBenchTracers: attempted to set tracer before\
                   \  STM.TVar init&quot;</span></span><span>
</span><span id="line-261"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceError"><span class="hs-identifier hs-var">traceError</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679928164"><span class="hs-identifier hs-var">errMsg</span></a></span><span>
</span><span id="line-262"></span><span>      </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-263"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/System.IO.html#putStrLn"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679928164"><span class="hs-identifier hs-var">errMsg</span></a></span><span>
</span><span id="line-264"></span><span>        </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.IO.Handle.Text.html#hPutStrLn"><span class="hs-identifier hs-var">IO.hPutStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.IO.StdHandles.html#stderr"><span class="hs-identifier hs-var">IO.stderr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679928164"><span class="hs-identifier hs-var">errMsg</span></a></span><span>
</span><span id="line-265"></span><span>      </span><span class="annot"><span class="annottext">BenchTracers -&gt; ActionM BenchTracers
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(BenchTracers -&gt; ActionM BenchTracers)
-&gt; BenchTracers -&gt; ActionM BenchTracers
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; BenchTracers
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679928164"><span class="hs-identifier hs-var">errMsg</span></a></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="annot"><span class="hs-comment">-- | Read accessor for `envGenesis`.</span></span><span>
</span><span id="line-268"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvGenesis"><span class="hs-identifier hs-type">getEnvGenesis</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-ledger-shelley-1.17.0.0-400a8be766b9aa8d53386c1888a7ac983e644a77fd4883db1c63d6ba7ec3a069/share/doc/html/src/Cardano.Ledger.Shelley.Genesis.html#ShelleyGenesis"><span class="hs-identifier hs-type">ShelleyGenesis</span></a></span><span>
</span><span id="line-269"></span><span id="getEnvGenesis"><span class="annot"><span class="annottext">getEnvGenesis :: ActionM ShelleyGenesis
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvGenesis"><span class="hs-identifier hs-var hs-var">getEnvGenesis</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Maybe ShelleyGenesis) -&gt; String -&gt; ActionM ShelleyGenesis
forall t. (Env -&gt; Maybe t) -&gt; String -&gt; ActionM t
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvVal"><span class="hs-identifier hs-var">getEnvVal</span></a></span><span> </span><span class="annot"><span class="annottext">Env -&gt; Maybe ShelleyGenesis
</span><a href="Cardano.Benchmarking.Script.Env.html#envGenesis"><span class="hs-identifier hs-var">envGenesis</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Genesis&quot;</span></span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="annot"><span class="hs-comment">-- | Read accessor for `envKeys`.</span></span><span>
</span><span id="line-272"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvKeys"><span class="hs-identifier hs-type">getEnvKeys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.Key.Internal.Class.html#SigningKey"><span class="hs-identifier hs-type">SigningKey</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.Key.Internal.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span id="getEnvKeys"><span class="annot"><span class="annottext">getEnvKeys :: String -&gt; ActionM (SigningKey PaymentKey)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvKeys"><span class="hs-identifier hs-var hs-var">getEnvKeys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Map String (SigningKey PaymentKey))
-&gt; String -&gt; ActionM (SigningKey PaymentKey)
forall t. (Env -&gt; Map String t) -&gt; String -&gt; ActionM t
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvMap"><span class="hs-identifier hs-var">getEnvMap</span></a></span><span> </span><span class="annot"><span class="annottext">Env -&gt; Map String (SigningKey PaymentKey)
</span><a href="Cardano.Benchmarking.Script.Env.html#envKeys"><span class="hs-identifier hs-var">envKeys</span></a></span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="annot"><span class="hs-comment">-- | Read accessor for `envNetworkId`.</span></span><span>
</span><span id="line-276"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvNetworkId"><span class="hs-identifier hs-type">getEnvNetworkId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.Network.Internal.NetworkId.html#NetworkId"><span class="hs-identifier hs-type">NetworkId</span></a></span><span>
</span><span id="line-277"></span><span id="getEnvNetworkId"><span class="annot"><span class="annottext">getEnvNetworkId :: ActionM NetworkId
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvNetworkId"><span class="hs-identifier hs-var hs-var">getEnvNetworkId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Maybe NetworkId) -&gt; String -&gt; ActionM NetworkId
forall t. (Env -&gt; Maybe t) -&gt; String -&gt; ActionM t
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvVal"><span class="hs-identifier hs-var">getEnvVal</span></a></span><span> </span><span class="annot"><span class="annottext">Env -&gt; Maybe NetworkId
</span><a href="Cardano.Benchmarking.Script.Env.html#envNetworkId"><span class="hs-identifier hs-var">envNetworkId</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Genesis&quot;</span></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span class="annot"><span class="hs-comment">-- | Read accessor for `envProtocol`.</span></span><span>
</span><span id="line-280"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvProtocol"><span class="hs-identifier hs-type">getEnvProtocol</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.7/cardano-node-10.6.2/doc/html/cardano-node/src/Cardano.Node.Protocol.Types.html#SomeConsensusProtocol"><span class="hs-identifier hs-type">SomeConsensusProtocol</span></a></span><span>
</span><span id="line-281"></span><span id="getEnvProtocol"><span class="annot"><span class="annottext">getEnvProtocol :: ActionM SomeConsensusProtocol
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvProtocol"><span class="hs-identifier hs-var hs-var">getEnvProtocol</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Maybe SomeConsensusProtocol)
-&gt; String -&gt; ActionM SomeConsensusProtocol
forall t. (Env -&gt; Maybe t) -&gt; String -&gt; ActionM t
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvVal"><span class="hs-identifier hs-var">getEnvVal</span></a></span><span> </span><span class="annot"><span class="annottext">Env -&gt; Maybe SomeConsensusProtocol
</span><a href="Cardano.Benchmarking.Script.Env.html#envProtocol"><span class="hs-identifier hs-var">envProtocol</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Protocol&quot;</span></span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="annot"><span class="hs-comment">-- | Read accessor for `envSocketPath`.</span></span><span>
</span><span id="line-284"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvSocketPath"><span class="hs-identifier hs-type">getEnvSocketPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#SocketPath"><span class="hs-identifier hs-type">SocketPath</span></a></span><span>
</span><span id="line-285"></span><span id="getEnvSocketPath"><span class="annot"><span class="annottext">getEnvSocketPath :: ActionM SocketPath
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvSocketPath"><span class="hs-identifier hs-var hs-var">getEnvSocketPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SocketPath
forall content (direction :: FileDirection).
String -&gt; File content direction
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.7/cardano-api-10.23.0.0-55981b91ae50edc31842d8498b1155b7576ac4ef83fd1f978e46c756e3ab8162/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#File"><span class="hs-identifier hs-var">File</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SocketPath)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) String
-&gt; ActionM SocketPath
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Maybe String)
-&gt; String -&gt; ExceptT Error (RWST EnvConsts () Env IO) String
forall t. (Env -&gt; Maybe t) -&gt; String -&gt; ActionM t
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvVal"><span class="hs-identifier hs-var">getEnvVal</span></a></span><span> </span><span class="annot"><span class="annottext">Env -&gt; Maybe String
</span><a href="Cardano.Benchmarking.Script.Env.html#envSocketPath"><span class="hs-identifier hs-var">envSocketPath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SocketPath&quot;</span></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="annot"><span class="hs-comment">-- | Read accessor for `envThreads`.</span></span><span>
</span><span id="line-288"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvThreads"><span class="hs-identifier hs-type">getEnvThreads</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#AsyncBenchmarkControl"><span class="hs-identifier hs-type">AsyncBenchmarkControl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span id="getEnvThreads"><span class="annot"><span class="annottext">getEnvThreads :: ActionM (Maybe AsyncBenchmarkControl)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvThreads"><span class="hs-identifier hs-var hs-var">getEnvThreads</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-290"></span><span>  </span><span id="local-6989586621679928169"><span class="annot"><span class="annottext">TVar (Maybe AsyncBenchmarkControl)
</span><a href="#local-6989586621679928169"><span class="hs-identifier hs-var">abcTVar</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RWST EnvConsts () Env IO (TVar (Maybe AsyncBenchmarkControl))
-&gt; ActionM (TVar (Maybe AsyncBenchmarkControl))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT Error m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(RWST EnvConsts () Env IO (TVar (Maybe AsyncBenchmarkControl))
 -&gt; ActionM (TVar (Maybe AsyncBenchmarkControl)))
-&gt; RWST EnvConsts () Env IO (TVar (Maybe AsyncBenchmarkControl))
-&gt; ActionM (TVar (Maybe AsyncBenchmarkControl))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(EnvConsts -&gt; TVar (Maybe AsyncBenchmarkControl))
-&gt; RWST EnvConsts () Env IO (TVar (Maybe AsyncBenchmarkControl))
forall w (m :: * -&gt; *) r a s.
(Monoid w, Monad m) =&gt;
(r -&gt; a) -&gt; RWST r w s m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#asks"><span class="hs-identifier hs-var">RWS.asks</span></a></span><span> </span><span class="annot"><span class="annottext">EnvConsts -&gt; TVar (Maybe AsyncBenchmarkControl)
</span><a href="Cardano.Benchmarking.LogTypes.html#envThreads"><span class="hs-identifier hs-var">Tracer.envThreads</span></a></span><span>
</span><span id="line-291"></span><span>  </span><span class="annot"><span class="annottext">IO (Maybe AsyncBenchmarkControl)
-&gt; ActionM (Maybe AsyncBenchmarkControl)
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">STM (Maybe AsyncBenchmarkControl)
-&gt; IO (Maybe AsyncBenchmarkControl)
forall a. STM a -&gt; IO a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#atomically"><span class="hs-identifier hs-var">STM.atomically</span></a></span><span> </span><span class="annot"><span class="annottext">(STM (Maybe AsyncBenchmarkControl)
 -&gt; IO (Maybe AsyncBenchmarkControl))
-&gt; STM (Maybe AsyncBenchmarkControl)
-&gt; IO (Maybe AsyncBenchmarkControl)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TVar (Maybe AsyncBenchmarkControl)
-&gt; STM (Maybe AsyncBenchmarkControl)
forall a. TVar a -&gt; STM a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Conc.Sync.html#readTVar"><span class="hs-identifier hs-var">STM.readTVar</span></a></span><span> </span><span class="annot"><span class="annottext">TVar (Maybe AsyncBenchmarkControl)
</span><a href="#local-6989586621679928169"><span class="hs-identifier hs-var">abcTVar</span></a></span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span class="annot"><span class="hs-comment">-- | Read accessor for `envWallets`.</span></span><span>
</span><span id="line-294"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-type">getEnvWallets</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Wallet.html#WalletRef"><span class="hs-identifier hs-type">WalletRef</span></a></span><span>
</span><span id="line-295"></span><span id="getEnvWallets"><span class="annot"><span class="annottext">getEnvWallets :: String -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var hs-var">getEnvWallets</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Env -&gt; Map String WalletRef) -&gt; String -&gt; ActionM WalletRef
forall t. (Env -&gt; Map String t) -&gt; String -&gt; ActionM t
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvMap"><span class="hs-identifier hs-var">getEnvMap</span></a></span><span> </span><span class="annot"><span class="annottext">Env -&gt; Map String WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#envWallets"><span class="hs-identifier hs-var">envWallets</span></a></span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="annot"><span class="hs-comment">-- | Read accessor for `envSummary`.</span></span><span>
</span><span id="line-298"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#getEnvSummary"><span class="hs-identifier hs-type">getEnvSummary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.PlutusContext.html#PlutusBudgetSummary"><span class="hs-identifier hs-type">PlutusBudgetSummary</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-299"></span><span id="getEnvSummary"><span class="annot"><span class="annottext">getEnvSummary :: ActionM (Maybe PlutusBudgetSummary)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvSummary"><span class="hs-identifier hs-var hs-var">getEnvSummary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RWST EnvConsts () Env IO (Maybe PlutusBudgetSummary)
-&gt; ActionM (Maybe PlutusBudgetSummary)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT Error m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Env -&gt; Maybe PlutusBudgetSummary)
-&gt; RWST EnvConsts () Env IO (Maybe PlutusBudgetSummary)
forall w (m :: * -&gt; *) s a r.
(Monoid w, Monad m) =&gt;
(s -&gt; a) -&gt; RWST r w s m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#gets"><span class="hs-identifier hs-var">RWS.gets</span></a></span><span> </span><span class="annot"><span class="annottext">Env -&gt; Maybe PlutusBudgetSummary
</span><a href="Cardano.Benchmarking.Script.Env.html#envSummary"><span class="hs-identifier hs-var">envSummary</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>
</span><span id="line-301"></span><span class="annot"><span class="hs-comment">-- | Helper to make submissions to the `Tracer.BenchTracers`.</span></span><span>
</span><span id="line-302"></span><span id="local-6989586621679927907"><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#traceBenchTxSubmit"><span class="hs-identifier hs-type">traceBenchTxSubmit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679927908"><span class="annot"><a href="#local-6989586621679927908"><span class="hs-identifier hs-type">txId</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679927907"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#TraceBenchTxSubmit"><span class="hs-identifier hs-type">Tracer.TraceBenchTxSubmit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679927908"><span class="hs-identifier hs-type">txId</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679927907"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-303"></span><span id="traceBenchTxSubmit"><span class="annot"><span class="annottext">traceBenchTxSubmit :: forall x.
(forall txId. x -&gt; TraceBenchTxSubmit txId) -&gt; x -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceBenchTxSubmit"><span class="hs-identifier hs-var hs-var">traceBenchTxSubmit</span></a></span></span><span> </span><span id="local-6989586621679928174"><span class="annot"><span class="annottext">forall txId. x -&gt; TraceBenchTxSubmit txId
</span><a href="#local-6989586621679928174"><span class="hs-identifier hs-var">tag</span></a></span></span><span> </span><span id="local-6989586621679928175"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679928175"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-304"></span><span>  </span><span id="local-6989586621679928176"><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679928176"><span class="hs-identifier hs-var">tracers</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM BenchTracers
</span><a href="Cardano.Benchmarking.Script.Env.html#getBenchTracers"><span class="hs-identifier hs-var">getBenchTracers</span></a></span><span>
</span><span id="line-305"></span><span>  </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (TraceBenchTxSubmit TxId)
-&gt; TraceBenchTxSubmit TxId -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; Trace m a -&gt; a -&gt; m ()
</span><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.7/trace-dispatcher-2.11.1/doc/html/trace-dispatcher/src/Cardano.Logging.Trace.html#traceWith"><span class="hs-identifier hs-var">traceWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BenchTracers -&gt; Trace IO (TraceBenchTxSubmit TxId)
</span><a href="Cardano.Benchmarking.LogTypes.html#btTxSubmit_"><span class="hs-identifier hs-var">Tracer.btTxSubmit_</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679928176"><span class="hs-identifier hs-var">tracers</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TraceBenchTxSubmit TxId -&gt; IO ())
-&gt; TraceBenchTxSubmit TxId -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">x -&gt; TraceBenchTxSubmit TxId
forall txId. x -&gt; TraceBenchTxSubmit txId
</span><a href="#local-6989586621679928174"><span class="hs-identifier hs-var">tag</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679928175"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="annot"><span class="hs-comment">-- | Submit an error message to the `Tracer.BenchTracers`.</span></span><span>
</span><span id="line-308"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#traceError"><span class="hs-identifier hs-type">traceError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span id="traceError"><span class="annot"><span class="annottext">traceError :: String -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceError"><span class="hs-identifier hs-var hs-var">traceError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall txId. String -&gt; TraceBenchTxSubmit txId)
-&gt; String -&gt; ActionM ()
forall x.
(forall txId. x -&gt; TraceBenchTxSubmit txId) -&gt; x -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceBenchTxSubmit"><span class="hs-identifier hs-var">traceBenchTxSubmit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; TraceBenchTxSubmit txId
forall txid. Text -&gt; TraceBenchTxSubmit txid
</span><a href="Cardano.Benchmarking.LogTypes.html#TraceBenchTxSubError"><span class="hs-identifier hs-var">Tracer.TraceBenchTxSubError</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TraceBenchTxSubmit txId)
-&gt; (String -&gt; Text) -&gt; String -&gt; TraceBenchTxSubmit txId
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span class="annot"><span class="hs-comment">-- | Submit a debug message to the `Tracer.BenchTracers`.</span></span><span>
</span><span id="line-312"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-type">traceDebug</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span id="traceDebug"><span class="annot"><span class="annottext">traceDebug :: String -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var hs-var">traceDebug</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall txId. String -&gt; TraceBenchTxSubmit txId)
-&gt; String -&gt; ActionM ()
forall x.
(forall txId. x -&gt; TraceBenchTxSubmit txId) -&gt; x -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceBenchTxSubmit"><span class="hs-identifier hs-var">traceBenchTxSubmit</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; TraceBenchTxSubmit txId
forall txId. String -&gt; TraceBenchTxSubmit txId
</span><a href="Cardano.Benchmarking.LogTypes.html#TraceBenchTxSubDebug"><span class="hs-identifier hs-var">Tracer.TraceBenchTxSubDebug</span></a></span><span>
</span><span id="line-314"></span></pre></body></html>