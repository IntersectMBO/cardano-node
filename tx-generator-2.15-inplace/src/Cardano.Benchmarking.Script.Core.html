<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{- HLINT ignore &quot;Reduce duplication&quot; -}</span><span>
</span><span id="line-2"></span><span class="hs-comment">{- HLINT ignore &quot;Use uncurry&quot; -}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE ExistentialQuantification #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE NumericUnderscores #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE PackageImports #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Benchmarking.Script.Core</span><span>
</span><span id="line-19"></span><span class="hs-keyword">where</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.html"><span class="hs-identifier">Cardano.Api</span></a></span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.html"><span class="hs-identifier">Cardano.Benchmarking.GeneratorTx</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GeneratorTx</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#AsyncBenchmarkControl"><span class="hs-identifier">AsyncBenchmarkControl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.html"><span class="hs-identifier">Cardano.Benchmarking.GeneratorTx</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GeneratorTx</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.html#waitBenchmark"><span class="hs-identifier">waitBenchmark</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.html#walletBenchmark"><span class="hs-identifier">walletBenchmark</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.NodeToNode.html"><span class="hs-identifier">Cardano.Benchmarking.GeneratorTx.NodeToNode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.NodeToNode.html#ConnectClient"><span class="hs-identifier">ConnectClient</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>                   </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.NodeToNode.html#benchmarkConnectTxSubmit"><span class="hs-identifier">benchmarkConnectTxSubmit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.SizedMetadata.html"><span class="hs-identifier">Cardano.Benchmarking.GeneratorTx.SizedMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.SizedMetadata.html#mkMetadata"><span class="hs-identifier">mkMetadata</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html"><span class="hs-identifier">Cardano.Benchmarking.LogTypes</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Core</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#AsyncBenchmarkControl"><span class="hs-identifier">AsyncBenchmarkControl</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>                   </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#TraceBenchTxSubmit"><span class="hs-identifier">TraceBenchTxSubmit</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#btConnect_"><span class="hs-identifier">btConnect_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#btN2N_"><span class="hs-identifier">btN2N_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#btSubmission2_"><span class="hs-identifier">btSubmission2_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#btTxSubmit_"><span class="hs-identifier">btTxSubmit_</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.OuroborosImports.html"><span class="hs-identifier">Cardano.Benchmarking.OuroborosImports</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Core</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.OuroborosImports.html#LocalSubmitTx"><span class="hs-identifier">LocalSubmitTx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-cli-10.12.0.0-3b0e51c9e830a10f35dffa8a70878b0d49410b456f11a039549b00ca0705ec4b/share/doc/html/src/Cardano.CLI.Type.Common.html#SigningKeyFile"><span class="hs-identifier">SigningKeyFile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>                   </span><span class="annot"><a href="Cardano.Benchmarking.OuroborosImports.html#makeLocalConnectInfo"><span class="hs-identifier">makeLocalConnectInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.OuroborosImports.html#protocolToCodecConfig"><span class="hs-identifier">protocolToCodecConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.Script.Aeson.html"><span class="hs-identifier">Cardano.Benchmarking.Script.Aeson</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Aeson.html#prettyPrintOrdered"><span class="hs-identifier">prettyPrintOrdered</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Aeson.html#readProtocolParametersFile"><span class="hs-identifier">readProtocolParametersFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html"><span class="hs-identifier">Cardano.Benchmarking.Script.Env</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Error"><span class="hs-identifier">Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#TxGenError"><span class="hs-identifier">TxGenError</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html"><span class="hs-identifier">Cardano.Benchmarking.Script.Env</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Env</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#Error"><span class="hs-identifier">Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#TxGenError"><span class="hs-identifier">TxGenError</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html"><span class="hs-identifier">Cardano.Benchmarking.Script.Types</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.Types.html"><span class="hs-identifier">Cardano.Benchmarking.Types</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Core</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Types.html#SubmissionErrorPolicy"><span class="hs-identifier">SubmissionErrorPolicy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.Version.html"><span class="hs-identifier">Cardano.Benchmarking.Version</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Version</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Benchmarking.Wallet.html"><span class="hs-identifier">Cardano.Benchmarking.Wallet</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Wallet</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-ledger-core-1.17.0.0-83e9f90039551f2a6895e10ab92d6bea07addf468677d5a8141d8c65f1c89209/share/doc/html/src/Cardano.Ledger.Coin.html"><span class="hs-identifier">Cardano.Ledger.Coin</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-ledger-core-1.17.0.0-83e9f90039551f2a6895e10ab92d6bea07addf468677d5a8141d8c65f1c89209/share/doc/html/src/Cardano.Ledger.Core.html"><span class="hs-identifier">Cardano.Ledger.Core</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Ledger</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.6/trace-dispatcher-2.10.0/doc/html/trace-dispatcher/src/Cardano.Logging.html"><span class="hs-identifier">Cardano.Logging</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.6/trace-dispatcher-2.10.0/doc/html/trace-dispatcher/src/Cardano.Logging.Types.html#LocalSocket"><span class="hs-identifier">LocalSocket</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.Fund.html"><span class="hs-identifier">Cardano.TxGenerator.Fund</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Fund</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.FundQueue.html"><span class="hs-identifier">Cardano.TxGenerator.FundQueue</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">FundQueue</span></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Genesis.html"><span class="hs-identifier">Cardano.TxGenerator.Genesis</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Genesis</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.PlutusContext.html"><span class="hs-identifier">Cardano.TxGenerator.PlutusContext</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.ProtocolParameters.html"><span class="hs-identifier">Cardano.TxGenerator.ProtocolParameters</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.Setup.Plutus.html"><span class="hs-identifier">Cardano.TxGenerator.Setup.Plutus</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Plutus</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.Setup.SigningKey.html"><span class="hs-identifier">Cardano.TxGenerator.Setup.SigningKey</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.Tx.html"><span class="hs-identifier">Cardano.TxGenerator.Tx</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.Types.html"><span class="hs-identifier">Cardano.TxGenerator.Types</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Utils.html"><span class="hs-identifier">Cardano.TxGenerator.Utils</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="file:///nix/store/4m9a4kp43ngm3wz3k1bkxqq4xvd1dpl5-scientific-lib-scientific-0.3.8.0-haddock-doc/share/doc/scientific/html/src/Utils.html"><span class="hs-identifier">Utils</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.UTxO.html"><span class="hs-identifier">Cardano.TxGenerator.UTxO</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Concurrent.html"><span class="hs-identifier">Control.Concurrent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Conc.IO.html#threadDelay"><span class="hs-identifier">threadDelay</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html"><span class="hs-identifier">Control.Monad.Trans.RWS.Strict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#ask"><span class="hs-identifier">ask</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span>           </span><span class="hs-string">&quot;contra-tracer&quot;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.6/trace-dispatcher-2.10.0/doc/html/trace-dispatcher/src/Control.Tracer.html"><span class="hs-identifier">Control.Tracer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/na2s8yspw84mcsl8qrdxgvscb3q6b5pv-contra-tracer-lib-contra-tracer-0.1.0.2-haddock-doc/share/doc/contra-tracer/html/src/Control.Tracer.html#Tracer"><span class="hs-identifier">Tracer</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Lazy.Char8.html"><span class="hs-identifier">Data.ByteString.Lazy.Char8</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BSL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Lazy.html#writeFile"><span class="hs-identifier">writeFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Ratio.html"><span class="hs-identifier">Data.Ratio</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%25"><span class="hs-operator">(%)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier">unpack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.html"><span class="hs-identifier">Streaming</span></a></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html"><span class="hs-identifier">Streaming.Prelude</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.html"><span class="hs-identifier">Streaming</span></a></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span id="local-6989586621679907928"><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#liftCoreWithEra"><span class="hs-identifier hs-type">liftCoreWithEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679907925"><span class="annot"><a href="#local-6989586621679907925"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#IsShelleyBasedEra"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679907925"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.HasTypeProxy.html#AsType"><span class="hs-identifier hs-type">AsType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679907925"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-type">TxGenError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679907928"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-type">TxGenError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679907928"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-68"></span><span id="liftCoreWithEra"><span class="annot"><span class="annottext">liftCoreWithEra :: forall x.
AnyCardanoEra
-&gt; (forall era.
    IsShelleyBasedEra era =&gt;
    AsType era -&gt; ExceptT TxGenError IO x)
-&gt; ActionM (Either TxGenError x)
</span><a href="Cardano.Benchmarking.Script.Core.html#liftCoreWithEra"><span class="hs-identifier hs-var hs-var">liftCoreWithEra</span></a></span></span><span> </span><span id="local-6989586621679908518"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679908518"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621679908519"><span class="annot"><span class="annottext">forall era.
IsShelleyBasedEra era =&gt;
AsType era -&gt; ExceptT TxGenError IO x
</span><a href="#local-6989586621679908519"><span class="hs-identifier hs-var">coreCall</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
-&gt; (forall era.
    IsShelleyBasedEra era =&gt;
    AsType era -&gt; ActionM (Either TxGenError x))
-&gt; ActionM (Either TxGenError x)
forall x.
AnyCardanoEra
-&gt; (forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x)
-&gt; ActionM x
</span><a href="Cardano.Benchmarking.Script.Core.html#withEra"><span class="hs-identifier hs-var">withEra</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679908518"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError x) -&gt; ActionM (Either TxGenError x)
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either TxGenError x) -&gt; ActionM (Either TxGenError x))
-&gt; (AsType era -&gt; IO (Either TxGenError x))
-&gt; AsType era
-&gt; ActionM (Either TxGenError x)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT TxGenError IO x -&gt; IO (Either TxGenError x)
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxGenError IO x -&gt; IO (Either TxGenError x))
-&gt; (AsType era -&gt; ExceptT TxGenError IO x)
-&gt; AsType era
-&gt; IO (Either TxGenError x)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era -&gt; ExceptT TxGenError IO x
forall era.
IsShelleyBasedEra era =&gt;
AsType era -&gt; ExceptT TxGenError IO x
</span><a href="#local-6989586621679908519"><span class="hs-identifier hs-var">coreCall</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span id="local-6989586621679907932"><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#withEra"><span class="hs-identifier hs-type">withEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679907931"><span class="annot"><a href="#local-6989586621679907931"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#IsShelleyBasedEra"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679907931"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.HasTypeProxy.html#AsType"><span class="hs-identifier hs-type">AsType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679907931"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679907932"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679907932"><span class="hs-identifier hs-type">x</span></a></span></span><span>
</span><span id="line-71"></span><span id="withEra"><span class="annot"><span class="annottext">withEra :: forall x.
AnyCardanoEra
-&gt; (forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x)
-&gt; ActionM x
</span><a href="Cardano.Benchmarking.Script.Core.html#withEra"><span class="hs-identifier hs-var hs-var">withEra</span></a></span></span><span> </span><span id="local-6989586621679908527"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679908527"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621679908528"><span class="annot"><span class="annottext">forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x
</span><a href="#local-6989586621679908528"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679908527"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-73"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#ConwayEra"><span class="hs-identifier hs-var">ConwayEra</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsType ConwayEra -&gt; ActionM x
forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x
</span><a href="#local-6989586621679908528"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">AsType ConwayEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AsConwayEra"><span class="hs-identifier hs-var">AsConwayEra</span></a></span><span>
</span><span id="line-74"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#BabbageEra"><span class="hs-identifier hs-var">BabbageEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsType BabbageEra -&gt; ActionM x
forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x
</span><a href="#local-6989586621679908528"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">AsType BabbageEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AsBabbageEra"><span class="hs-identifier hs-var">AsBabbageEra</span></a></span><span>
</span><span id="line-75"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AlonzoEra"><span class="hs-identifier hs-var">AlonzoEra</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsType AlonzoEra -&gt; ActionM x
forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x
</span><a href="#local-6989586621679908528"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">AsType AlonzoEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AsAlonzoEra"><span class="hs-identifier hs-var">AsAlonzoEra</span></a></span><span>
</span><span id="line-76"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#MaryEra"><span class="hs-identifier hs-var">MaryEra</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsType MaryEra -&gt; ActionM x
forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x
</span><a href="#local-6989586621679908528"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">AsType MaryEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AsMaryEra"><span class="hs-identifier hs-var">AsMaryEra</span></a></span><span>
</span><span id="line-77"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AllegraEra"><span class="hs-identifier hs-var">AllegraEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsType AllegraEra -&gt; ActionM x
forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x
</span><a href="#local-6989586621679908528"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">AsType AllegraEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AsAllegraEra"><span class="hs-identifier hs-var">AsAllegraEra</span></a></span><span>
</span><span id="line-78"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#ShelleyEra"><span class="hs-identifier hs-var">ShelleyEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsType ShelleyEra -&gt; ActionM x
forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x
</span><a href="#local-6989586621679908528"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">AsType ShelleyEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AsShelleyEra"><span class="hs-identifier hs-var">AsShelleyEra</span></a></span><span>
</span><span id="line-79"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#ByronEra"><span class="hs-identifier hs-var">ByronEra</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM x
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;byron not supported&quot;</span></span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#setProtocolParameters"><span class="hs-identifier hs-type">setProtocolParameters</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#ProtocolParametersSource"><span class="hs-identifier hs-type">ProtocolParametersSource</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span id="setProtocolParameters"><span class="annot"><span class="annottext">setProtocolParameters :: ProtocolParametersSource -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#setProtocolParameters"><span class="hs-identifier hs-var hs-var">setProtocolParameters</span></a></span></span><span> </span><span id="local-6989586621679908573"><span class="annot"><span class="annottext">ProtocolParametersSource
</span><a href="#local-6989586621679908573"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ProtocolParametersSource
</span><a href="#local-6989586621679908573"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-83"></span><span>  </span><span class="annot"><span class="annottext">ProtocolParametersSource
</span><a href="Cardano.Benchmarking.Script.Types.html#QueryLocalNode"><span class="hs-identifier hs-var">QueryLocalNode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-84"></span><span>    </span><span class="annot"><span class="annottext">ProtocolParameterMode -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setProtoParamMode"><span class="hs-identifier hs-var">setProtoParamMode</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameterMode
</span><a href="Cardano.Benchmarking.Script.Types.html#ProtocolParameterQuery"><span class="hs-identifier hs-var">ProtocolParameterQuery</span></a></span><span>
</span><span id="line-85"></span><span>  </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#UseLocalProtocolFile"><span class="hs-identifier hs-type">UseLocalProtocolFile</span></a></span><span> </span><span id="local-6989586621679908578"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908578"><span class="hs-identifier hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-86"></span><span>    </span><span id="local-6989586621679908579"><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679908579"><span class="hs-identifier hs-var">protocolParameters</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO ProtocolParameters
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO ProtocolParameters
 -&gt; ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters)
-&gt; IO ProtocolParameters
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO ProtocolParameters
</span><a href="Cardano.Benchmarking.Script.Aeson.html#readProtocolParametersFile"><span class="hs-identifier hs-var">readProtocolParametersFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908578"><span class="hs-identifier hs-var">file</span></a></span><span>
</span><span id="line-87"></span><span>    </span><span class="annot"><span class="annottext">ProtocolParameterMode -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setProtoParamMode"><span class="hs-identifier hs-var">setProtoParamMode</span></a></span><span> </span><span class="annot"><span class="annottext">(ProtocolParameterMode -&gt; ActionM ())
-&gt; ProtocolParameterMode -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters -&gt; ProtocolParameterMode
</span><a href="Cardano.Benchmarking.Script.Types.html#ProtocolParameterLocal"><span class="hs-identifier hs-var">ProtocolParameterLocal</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679908579"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#readSigningKey"><span class="hs-identifier hs-type">readSigningKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-cli-10.12.0.0-3b0e51c9e830a10f35dffa8a70878b0d49410b456f11a039549b00ca0705ec4b/share/doc/html/src/Cardano.CLI.Type.Common.html#SigningKeyFile"><span class="hs-identifier hs-type">SigningKeyFile</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.IO.Internal.Base.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span id="readSigningKey"><span class="annot"><span class="annottext">readSigningKey :: [Char] -&gt; SigningKeyFile 'In -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#readSigningKey"><span class="hs-identifier hs-var hs-var">readSigningKey</span></a></span></span><span> </span><span id="local-6989586621679908582"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908582"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679908583"><span class="annot"><span class="annottext">SigningKeyFile 'In
</span><a href="#local-6989586621679908583"><span class="hs-identifier hs-var">filePath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-91"></span><span>  </span><span class="annot"><span class="annottext">IO (Either TxGenError (SigningKey PaymentKey))
-&gt; ExceptT
     Error
     (RWST EnvConsts () Env IO)
     (Either TxGenError (SigningKey PaymentKey))
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SigningKeyFile 'In
-&gt; IO (Either TxGenError (SigningKey PaymentKey))
</span><a href="Cardano.TxGenerator.Setup.SigningKey.html#readSigningKeyFile"><span class="hs-identifier hs-var">readSigningKeyFile</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKeyFile 'In
</span><a href="#local-6989586621679908583"><span class="hs-identifier hs-var">filePath</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExceptT
  Error
  (RWST EnvConsts () Env IO)
  (Either TxGenError (SigningKey PaymentKey))
-&gt; (Either TxGenError (SigningKey PaymentKey) -&gt; ActionM ())
-&gt; ActionM ()
forall a b.
ExceptT Error (RWST EnvConsts () Env IO) a
-&gt; (a -&gt; ExceptT Error (RWST EnvConsts () Env IO) b)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-92"></span><span>    </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679908585"><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679908585"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; ActionM ()
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679908585"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-93"></span><span>    </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679908587"><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679908587"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SigningKey PaymentKey -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvKeys"><span class="hs-identifier hs-var">setEnvKeys</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908582"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679908587"><span class="hs-identifier hs-var">key</span></a></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#defineSigningKey"><span class="hs-identifier hs-type">defineSigningKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Key.Internal.Class.html#SigningKey"><span class="hs-identifier hs-type">SigningKey</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Key.Internal.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span id="defineSigningKey"><span class="annot"><span class="annottext">defineSigningKey :: [Char] -&gt; SigningKey PaymentKey -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#defineSigningKey"><span class="hs-identifier hs-var hs-var">defineSigningKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SigningKey PaymentKey -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvKeys"><span class="hs-identifier hs-var">setEnvKeys</span></a></span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#addFund"><span class="hs-identifier hs-type">addFund</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-ledger-core-1.17.0.0-83e9f90039551f2a6895e10ab92d6bea07addf468677d5a8141d8c65f1c89209/share/doc/html/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">L.Coin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span id="addFund"><span class="annot"><span class="annottext">addFund :: AnyCardanoEra -&gt; [Char] -&gt; TxIn -&gt; Coin -&gt; [Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#addFund"><span class="hs-identifier hs-var hs-var">addFund</span></a></span></span><span> </span><span id="local-6989586621679908591"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679908591"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621679908592"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908592"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span id="local-6989586621679908593"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621679908593"><span class="hs-identifier hs-var">txIn</span></a></span></span><span> </span><span id="local-6989586621679908594"><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679908594"><span class="hs-identifier hs-var">lovelace</span></a></span></span><span> </span><span id="local-6989586621679908595"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908595"><span class="hs-identifier hs-var">keyName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-100"></span><span>  </span><span id="local-6989586621679908596"><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679908596"><span class="hs-identifier hs-var">fundKey</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM (SigningKey PaymentKey)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvKeys"><span class="hs-identifier hs-var">getEnvKeys</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908595"><span class="hs-identifier hs-var">keyName</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-102"></span><span>    </span><span class="annot"><a href="#local-6989586621679908598"><span class="hs-identifier hs-type">mkOutValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679907977"><span class="annot"><a href="#local-6989586621679907977"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#IsShelleyBasedEra"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679907977"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.HasTypeProxy.html#AsType"><span class="hs-identifier hs-type">AsType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679907977"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#InAnyCardanoEra"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#TxOutValue"><span class="hs-identifier hs-type">TxOutValue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>    </span><span id="local-6989586621679908598"><span class="annot"><span class="annottext">mkOutValue :: forall era.
IsShelleyBasedEra era =&gt;
AsType era -&gt; ActionM (InAnyCardanoEra TxOutValue)
</span><a href="#local-6989586621679908598"><span class="hs-identifier hs-var hs-var">mkOutValue</span></a></span></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra TxOutValue -&gt; ActionM (InAnyCardanoEra TxOutValue)
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(InAnyCardanoEra TxOutValue
 -&gt; ActionM (InAnyCardanoEra TxOutValue))
-&gt; InAnyCardanoEra TxOutValue
-&gt; ActionM (InAnyCardanoEra TxOutValue)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; TxOutValue era -&gt; InAnyCardanoEra TxOutValue
forall era (thing :: * -&gt; *).
Typeable era =&gt;
CardanoEra era -&gt; thing era -&gt; InAnyCardanoEra thing
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#InAnyCardanoEra"><span class="hs-identifier hs-var">InAnyCardanoEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsCardanoEra era =&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#cardanoEra"><span class="hs-identifier hs-var">cardanoEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679907977"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Coin -&gt; TxOutValue era
forall era. ShelleyBasedEra era -&gt; Coin -&gt; TxOutValue era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#lovelaceToTxOutValue"><span class="hs-identifier hs-var">lovelaceToTxOutValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEra"><span class="hs-identifier hs-var">shelleyBasedEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679907977"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679908594"><span class="hs-identifier hs-var">lovelace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>  </span><span id="local-6989586621679908614"><span class="annot"><span class="annottext">InAnyCardanoEra TxOutValue
</span><a href="#local-6989586621679908614"><span class="hs-identifier hs-var">outValue</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
-&gt; (forall era.
    IsShelleyBasedEra era =&gt;
    AsType era -&gt; ActionM (InAnyCardanoEra TxOutValue))
-&gt; ActionM (InAnyCardanoEra TxOutValue)
forall x.
AnyCardanoEra
-&gt; (forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x)
-&gt; ActionM x
</span><a href="Cardano.Benchmarking.Script.Core.html#withEra"><span class="hs-identifier hs-var">withEra</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679908591"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era -&gt; ActionM (InAnyCardanoEra TxOutValue)
forall era.
IsShelleyBasedEra era =&gt;
AsType era -&gt; ActionM (InAnyCardanoEra TxOutValue)
</span><a href="#local-6989586621679908598"><span class="hs-identifier hs-var">mkOutValue</span></a></span><span>
</span><span id="line-105"></span><span>  </span><span class="annot"><span class="annottext">[Char]
-&gt; TxIn
-&gt; InAnyCardanoEra TxOutValue
-&gt; SigningKey PaymentKey
-&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#addFundToWallet"><span class="hs-identifier hs-var">addFundToWallet</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908592"><span class="hs-identifier hs-var">wallet</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621679908593"><span class="hs-identifier hs-var">txIn</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra TxOutValue
</span><a href="#local-6989586621679908614"><span class="hs-identifier hs-var">outValue</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679908596"><span class="hs-identifier hs-var">fundKey</span></a></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#addFundToWallet"><span class="hs-identifier hs-type">addFundToWallet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#InAnyCardanoEra"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Output.html#TxOutValue"><span class="hs-identifier hs-type">TxOutValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Key.Internal.Class.html#SigningKey"><span class="hs-identifier hs-type">SigningKey</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Key.Internal.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span id="addFundToWallet"><span class="annot"><span class="annottext">addFundToWallet :: [Char]
-&gt; TxIn
-&gt; InAnyCardanoEra TxOutValue
-&gt; SigningKey PaymentKey
-&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#addFundToWallet"><span class="hs-identifier hs-var hs-var">addFundToWallet</span></a></span></span><span> </span><span id="local-6989586621679908618"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908618"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span id="local-6989586621679908619"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621679908619"><span class="hs-identifier hs-var">txIn</span></a></span></span><span> </span><span id="local-6989586621679908620"><span class="annot"><span class="annottext">InAnyCardanoEra TxOutValue
</span><a href="#local-6989586621679908620"><span class="hs-identifier hs-var">outVal</span></a></span></span><span> </span><span id="local-6989586621679908621"><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679908621"><span class="hs-identifier hs-var">skey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-109"></span><span>  </span><span id="local-6989586621679908622"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679908622"><span class="hs-identifier hs-var">walletRef</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908618"><span class="hs-identifier hs-var">wallet</span></a></span><span>
</span><span id="line-110"></span><span>  </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WalletRef -&gt; Fund -&gt; IO ()
</span><a href="Cardano.Benchmarking.Wallet.html#walletRefInsertFund"><span class="hs-identifier hs-var">walletRefInsertFund</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679908622"><span class="hs-identifier hs-var">walletRef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InAnyCardanoEra FundInEra -&gt; Fund
</span><a href="Cardano.TxGenerator.Fund.html#Fund"><span class="hs-identifier hs-var">FundQueue.Fund</span></a></span><span> </span><span class="annot"><span class="annottext">(InAnyCardanoEra FundInEra -&gt; Fund)
-&gt; InAnyCardanoEra FundInEra -&gt; Fund
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra TxOutValue -&gt; InAnyCardanoEra FundInEra
</span><a href="#local-6989586621679908626"><span class="hs-identifier hs-var">mkFund</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra TxOutValue
</span><a href="#local-6989586621679908620"><span class="hs-identifier hs-var">outVal</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-112"></span><span>    </span><span id="local-6989586621679908626"><span class="annot"><span class="annottext">mkFund :: InAnyCardanoEra TxOutValue -&gt; InAnyCardanoEra FundInEra
</span><a href="#local-6989586621679908626"><span class="hs-identifier hs-var hs-var">mkFund</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall era. IsCardanoEra era =&gt; TxOutValue era -&gt; FundInEra era)
-&gt; InAnyCardanoEra TxOutValue -&gt; InAnyCardanoEra FundInEra
forall (f1 :: * -&gt; *) (f2 :: * -&gt; *).
(forall era. IsCardanoEra era =&gt; f1 era -&gt; f2 era)
-&gt; InAnyCardanoEra f1 -&gt; InAnyCardanoEra f2
</span><a href="Cardano.TxGenerator.Utils.html#liftAnyEra"><span class="hs-identifier hs-var">Utils.liftAnyEra</span></a></span><span> </span><span class="annot"><span class="annottext">((forall era. IsCardanoEra era =&gt; TxOutValue era -&gt; FundInEra era)
 -&gt; InAnyCardanoEra TxOutValue -&gt; InAnyCardanoEra FundInEra)
-&gt; (forall era.
    IsCardanoEra era =&gt;
    TxOutValue era -&gt; FundInEra era)
-&gt; InAnyCardanoEra TxOutValue
-&gt; InAnyCardanoEra FundInEra
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679908629"><span class="annot"><span class="annottext">TxOutValue era
</span><a href="#local-6989586621679908629"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Fund.html#FundInEra"><span class="hs-identifier hs-type">FundInEra</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-113"></span><span>           </span><span class="annot"><span class="annottext">_fundTxIn :: TxIn
</span><a href="Cardano.TxGenerator.Fund.html#_fundTxIn"><span class="hs-identifier hs-var">_fundTxIn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621679908619"><span class="hs-identifier hs-var">txIn</span></a></span><span>
</span><span id="line-114"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_fundWitness :: Witness WitCtxTxIn era
</span><a href="Cardano.TxGenerator.Fund.html#_fundWitness"><span class="hs-identifier hs-var">_fundWitness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KeyWitnessInCtx WitCtxTxIn -&gt; Witness WitCtxTxIn era
forall witctx era. KeyWitnessInCtx witctx -&gt; Witness witctx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#KeyWitness"><span class="hs-identifier hs-var">KeyWitness</span></a></span><span> </span><span class="annot"><span class="annottext">KeyWitnessInCtx WitCtxTxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#KeyWitnessForSpending"><span class="hs-identifier hs-var">KeyWitnessForSpending</span></a></span><span>
</span><span id="line-115"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_fundVal :: TxOutValue era
</span><a href="Cardano.TxGenerator.Fund.html#_fundVal"><span class="hs-identifier hs-var">_fundVal</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOutValue era
</span><a href="#local-6989586621679908629"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-116"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_fundSigningKey :: Maybe (SigningKey PaymentKey)
</span><a href="Cardano.TxGenerator.Fund.html#_fundSigningKey"><span class="hs-identifier hs-var">_fundSigningKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey -&gt; Maybe (SigningKey PaymentKey)
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679908621"><span class="hs-identifier hs-var">skey</span></a></span><span>
</span><span id="line-117"></span><span>         </span><span class="hs-special">}</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#getLocalSubmitTx"><span class="hs-identifier hs-type">getLocalSubmitTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.OuroborosImports.html#LocalSubmitTx"><span class="hs-identifier hs-type">LocalSubmitTx</span></a></span><span>
</span><span id="line-120"></span><span id="getLocalSubmitTx"><span class="annot"><span class="annottext">getLocalSubmitTx :: ActionM LocalSubmitTx
</span><a href="Cardano.Benchmarking.Script.Core.html#getLocalSubmitTx"><span class="hs-identifier hs-var hs-var">getLocalSubmitTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo -&gt; LocalSubmitTx
forall (m :: * -&gt; *).
MonadIO m =&gt;
LocalNodeConnectInfo
-&gt; TxInMode -&gt; m (SubmitResult TxValidationErrorInCardanoMode)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#submitTxToNodeLocal"><span class="hs-identifier hs-var">submitTxToNodeLocal</span></a></span><span> </span><span class="annot"><span class="annottext">(LocalNodeConnectInfo -&gt; LocalSubmitTx)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) LocalNodeConnectInfo
-&gt; ActionM LocalSubmitTx
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST EnvConsts () Env IO) LocalNodeConnectInfo
</span><a href="Cardano.Benchmarking.Script.Core.html#getLocalConnectInfo"><span class="hs-identifier hs-var">getLocalConnectInfo</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#delay"><span class="hs-identifier hs-type">delay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span id="delay"><span class="annot"><span class="annottext">delay :: Double -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#delay"><span class="hs-identifier hs-var hs-var">delay</span></a></span></span><span> </span><span id="local-6989586621679908642"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679908642"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IO ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Conc.IO.html#threadDelay"><span class="hs-identifier hs-var">threadDelay</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; IO ()) -&gt; Int -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Int
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#floor"><span class="hs-identifier hs-var">floor</span></a></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Int) -&gt; Double -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1_000_000</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679908642"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#waitBenchmarkCore"><span class="hs-identifier hs-type">waitBenchmarkCore</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#AsyncBenchmarkControl"><span class="hs-identifier hs-type">AsyncBenchmarkControl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span id="waitBenchmarkCore"><span class="annot"><span class="annottext">waitBenchmarkCore :: AsyncBenchmarkControl -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#waitBenchmarkCore"><span class="hs-identifier hs-var hs-var">waitBenchmarkCore</span></a></span></span><span> </span><span id="local-6989586621679908646"><span class="annot"><span class="annottext">AsyncBenchmarkControl
</span><a href="#local-6989586621679908646"><span class="hs-identifier hs-var">ctl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-127"></span><span>  </span><span id="local-6989586621679908647"><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679908647"><span class="hs-identifier hs-var">tracers</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM BenchTracers
</span><a href="Cardano.Benchmarking.Script.Env.html#getBenchTracers"><span class="hs-identifier hs-var">getBenchTracers</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span class="annot"><span class="annottext">Either TxGenError ()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError ())
-&gt; ExceptT Error (RWST EnvConsts () Env IO) (Either TxGenError ())
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either TxGenError ())
 -&gt; ExceptT Error (RWST EnvConsts () Env IO) (Either TxGenError ()))
-&gt; IO (Either TxGenError ())
-&gt; ExceptT Error (RWST EnvConsts () Env IO) (Either TxGenError ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT TxGenError IO () -&gt; IO (Either TxGenError ())
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxGenError IO () -&gt; IO (Either TxGenError ()))
-&gt; ExceptT TxGenError IO () -&gt; IO (Either TxGenError ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (TraceBenchTxSubmit TxId)
-&gt; AsyncBenchmarkControl -&gt; ExceptT TxGenError IO ()
</span><a href="Cardano.Benchmarking.GeneratorTx.html#waitBenchmark"><span class="hs-identifier hs-var">GeneratorTx.waitBenchmark</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BenchTracers -&gt; Trace IO (TraceBenchTxSubmit TxId)
</span><a href="Cardano.Benchmarking.LogTypes.html#btTxSubmit_"><span class="hs-identifier hs-var">btTxSubmit_</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679908647"><span class="hs-identifier hs-var">tracers</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AsyncBenchmarkControl
</span><a href="#local-6989586621679908646"><span class="hs-identifier hs-var">ctl</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="annot"><span class="annottext">() -&gt; ActionM ()
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#getConnectClient"><span class="hs-identifier hs-type">getConnectClient</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.GeneratorTx.NodeToNode.html#ConnectClient"><span class="hs-identifier hs-type">ConnectClient</span></a></span><span>
</span><span id="line-132"></span><span id="getConnectClient"><span class="annot"><span class="annottext">getConnectClient :: ActionM ConnectClient
</span><a href="Cardano.Benchmarking.Script.Core.html#getConnectClient"><span class="hs-identifier hs-var hs-var">getConnectClient</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-133"></span><span>  </span><span id="local-6989586621679908650"><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679908650"><span class="hs-identifier hs-var">tracers</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM BenchTracers
</span><a href="Cardano.Benchmarking.Script.Env.html#getBenchTracers"><span class="hs-identifier hs-var">getBenchTracers</span></a></span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Network.Internal.NetworkId.html#Testnet"><span class="hs-identifier hs-type">Testnet</span></a></span><span> </span><span id="local-6989586621679908652"><span class="annot"><span class="annottext">NetworkMagic
</span><a href="#local-6989586621679908652"><span class="hs-identifier hs-var">networkMagic</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM NetworkId
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvNetworkId"><span class="hs-identifier hs-var">getEnvNetworkId</span></a></span><span>
</span><span id="line-135"></span><span>  </span><span id="local-6989586621679908654"><span class="annot"><span class="annottext">SomeConsensusProtocol
</span><a href="#local-6989586621679908654"><span class="hs-identifier hs-var">protocol</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM SomeConsensusProtocol
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvProtocol"><span class="hs-identifier hs-var">getEnvProtocol</span></a></span><span>
</span><span id="line-136"></span><span>  </span><span class="annot"><span class="annottext">ExceptT
  Error (RWST EnvConsts () Env IO) (Trace IO SendRecvTxSubmission2)
-&gt; ActionM ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT
   Error (RWST EnvConsts () Env IO) (Trace IO SendRecvTxSubmission2)
 -&gt; ActionM ())
-&gt; ExceptT
     Error (RWST EnvConsts () Env IO) (Trace IO SendRecvTxSubmission2)
-&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO SendRecvTxSubmission2
-&gt; ExceptT
     Error (RWST EnvConsts () Env IO) (Trace IO SendRecvTxSubmission2)
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Trace IO SendRecvTxSubmission2
 -&gt; ExceptT
      Error (RWST EnvConsts () Env IO) (Trace IO SendRecvTxSubmission2))
-&gt; Trace IO SendRecvTxSubmission2
-&gt; ExceptT
     Error (RWST EnvConsts () Env IO) (Trace IO SendRecvTxSubmission2)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers -&gt; Trace IO SendRecvTxSubmission2
</span><a href="Cardano.Benchmarking.LogTypes.html#btSubmission2_"><span class="hs-identifier hs-var">btSubmission2_</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679908650"><span class="hs-identifier hs-var">tracers</span></a></span><span>
</span><span id="line-137"></span><span>  </span><span id="local-6989586621679908657"><span class="annot"><span class="annottext">EnvConsts
</span><a href="#local-6989586621679908657"><span class="hs-identifier hs-var">envConsts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RWST EnvConsts () Env IO EnvConsts
-&gt; ExceptT Error (RWST EnvConsts () Env IO) EnvConsts
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT Error m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">RWST EnvConsts () Env IO EnvConsts
forall w (m :: * -&gt; *) r s. (Monoid w, Monad m) =&gt; RWST r w s m r
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.RWS.Strict.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span>
</span><span id="line-138"></span><span>  </span><span class="annot"><span class="annottext">ConnectClient -&gt; ActionM ConnectClient
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(ConnectClient -&gt; ActionM ConnectClient)
-&gt; ConnectClient -&gt; ActionM ConnectClient
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">EnvConsts
-&gt; Tracer IO SendRecvConnect
-&gt; Tracer IO SendRecvTxSubmission2
-&gt; CodecConfig CardanoBlock
-&gt; NetworkMagic
-&gt; ConnectClient
forall blk.
(blk ~ CardanoBlock, RunNode blk) =&gt;
EnvConsts
-&gt; Tracer IO SendRecvConnect
-&gt; Tracer IO SendRecvTxSubmission2
-&gt; CodecConfig CardanoBlock
-&gt; NetworkMagic
-&gt; AddrInfo
-&gt; TxSubmissionClient (GenTxId blk) (GenTx blk) IO ()
-&gt; IO ()
</span><a href="Cardano.Benchmarking.GeneratorTx.NodeToNode.html#benchmarkConnectTxSubmit"><span class="hs-identifier hs-var">benchmarkConnectTxSubmit</span></a></span><span>
</span><span id="line-139"></span><span>                       </span><span class="annot"><span class="annottext">EnvConsts
</span><a href="#local-6989586621679908657"><span class="hs-identifier hs-var">envConsts</span></a></span><span>
</span><span id="line-140"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SendRecvConnect -&gt; IO ()) -&gt; Tracer IO SendRecvConnect
forall (m :: * -&gt; *) a. (a -&gt; m ()) -&gt; Tracer m a
</span><a href="file:///nix/store/na2s8yspw84mcsl8qrdxgvscb3q6b5pv-contra-tracer-lib-contra-tracer-0.1.0.2-haddock-doc/share/doc/contra-tracer/html/src/Control.Tracer.html#Tracer"><span class="hs-identifier hs-var">Tracer</span></a></span><span> </span><span class="annot"><span class="annottext">((SendRecvConnect -&gt; IO ()) -&gt; Tracer IO SendRecvConnect)
-&gt; (SendRecvConnect -&gt; IO ()) -&gt; Tracer IO SendRecvConnect
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO SendRecvConnect -&gt; SendRecvConnect -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; Trace m a -&gt; a -&gt; m ()
</span><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.6/trace-dispatcher-2.10.0/doc/html/trace-dispatcher/src/Cardano.Logging.Trace.html#traceWith"><span class="hs-identifier hs-var">traceWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BenchTracers -&gt; Trace IO SendRecvConnect
</span><a href="Cardano.Benchmarking.LogTypes.html#btConnect_"><span class="hs-identifier hs-var">btConnect_</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679908650"><span class="hs-identifier hs-var">tracers</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>                       </span><span class="annot"><span class="annottext">Tracer IO SendRecvTxSubmission2
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="hs-comment">-- (btSubmission2_ tracers)</span><span>
</span><span id="line-142"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SomeConsensusProtocol -&gt; CodecConfig CardanoBlock
</span><a href="Cardano.Benchmarking.OuroborosImports.html#protocolToCodecConfig"><span class="hs-identifier hs-var">protocolToCodecConfig</span></a></span><span> </span><span class="annot"><span class="annottext">SomeConsensusProtocol
</span><a href="#local-6989586621679908654"><span class="hs-identifier hs-var">protocol</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>                       </span><span class="annot"><span class="annottext">NetworkMagic
</span><a href="#local-6989586621679908652"><span class="hs-identifier hs-var">networkMagic</span></a></span><span>
</span><span id="line-144"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#waitBenchmark"><span class="hs-identifier hs-type">waitBenchmark</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span id="waitBenchmark"><span class="annot"><span class="annottext">waitBenchmark :: ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#waitBenchmark"><span class="hs-identifier hs-var hs-var">waitBenchmark</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-146"></span><span>  </span><span id="local-6989586621679908662"><span class="annot"><span class="annottext">Maybe AsyncBenchmarkControl
</span><a href="#local-6989586621679908662"><span class="hs-identifier hs-var">abcMaybe</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM (Maybe AsyncBenchmarkControl)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvThreads"><span class="hs-identifier hs-var">getEnvThreads</span></a></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe AsyncBenchmarkControl
</span><a href="#local-6989586621679908662"><span class="hs-identifier hs-var">abcMaybe</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-148"></span><span>    </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679908664"><span class="annot"><span class="annottext">AsyncBenchmarkControl
</span><a href="#local-6989586621679908664"><span class="hs-identifier hs-var">abc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsyncBenchmarkControl -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#waitBenchmarkCore"><span class="hs-identifier hs-var">waitBenchmarkCore</span></a></span><span> </span><span class="annot"><span class="annottext">AsyncBenchmarkControl
</span><a href="#local-6989586621679908664"><span class="hs-identifier hs-var">abc</span></a></span><span>
</span><span id="line-149"></span><span>    </span><span class="annot"><span class="annottext">Maybe AsyncBenchmarkControl
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-150"></span><span>      </span><span class="annot"><span class="annottext">Error -&gt; ActionM ()
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error -&gt; ActionM ()) -&gt; ([Char] -&gt; Error) -&gt; [Char] -&gt; ActionM ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#TxGenError"><span class="hs-identifier hs-var">Env.TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError -&gt; Error) -&gt; ([Char] -&gt; TxGenError) -&gt; [Char] -&gt; Error
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-151"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;waitBenchmark: missing AsyncBenchmarkControl&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#cancelBenchmark"><span class="hs-identifier hs-type">cancelBenchmark</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span id="cancelBenchmark"><span class="annot"><span class="annottext">cancelBenchmark :: ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#cancelBenchmark"><span class="hs-identifier hs-var hs-var">cancelBenchmark</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-155"></span><span>  </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679908668"><span class="annot"><span class="annottext">abc :: AsyncBenchmarkControl
</span><a href="#local-6989586621679908668"><span class="hs-identifier hs-var">abc</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#AsyncBenchmarkControl"><span class="hs-identifier hs-type">AsyncBenchmarkControl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679908670"><span id="local-6989586621679908671"><span id="local-6989586621679908672"><span id="local-6989586621679908673"><span class="annot"><span class="annottext">[Async ()]
IO ()
IO SubmissionSummary
Async ()
abcFeeder :: Async ()
abcWorkers :: [Async ()]
abcSummary :: IO SubmissionSummary
abcShutdown :: IO ()
abcFeeder :: AsyncBenchmarkControl -&gt; Async ()
abcWorkers :: AsyncBenchmarkControl -&gt; [Async ()]
abcSummary :: AsyncBenchmarkControl -&gt; IO SubmissionSummary
abcShutdown :: AsyncBenchmarkControl -&gt; IO ()
</span><a href="#local-6989586621679908670"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM (Maybe AsyncBenchmarkControl)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvThreads"><span class="hs-identifier hs-var">getEnvThreads</span></a></span><span>
</span><span id="line-156"></span><span>  </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679908673"><span class="hs-identifier hs-var">abcShutdown</span></a></span><span>
</span><span id="line-157"></span><span>  </span><span class="annot"><span class="annottext">AsyncBenchmarkControl -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#waitBenchmarkCore"><span class="hs-identifier hs-var">waitBenchmarkCore</span></a></span><span> </span><span class="annot"><span class="annottext">AsyncBenchmarkControl
</span><a href="#local-6989586621679908668"><span class="hs-identifier hs-var">abc</span></a></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#getLocalConnectInfo"><span class="hs-identifier hs-type">getLocalConnectInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#LocalNodeConnectInfo"><span class="hs-identifier hs-type">LocalNodeConnectInfo</span></a></span><span>
</span><span id="line-160"></span><span id="getLocalConnectInfo"><span class="annot"><span class="annottext">getLocalConnectInfo :: ExceptT Error (RWST EnvConsts () Env IO) LocalNodeConnectInfo
</span><a href="Cardano.Benchmarking.Script.Core.html#getLocalConnectInfo"><span class="hs-identifier hs-var hs-var">getLocalConnectInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NetworkId -&gt; SocketPath -&gt; LocalNodeConnectInfo
</span><a href="Cardano.Benchmarking.OuroborosImports.html#makeLocalConnectInfo"><span class="hs-identifier hs-var">makeLocalConnectInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(NetworkId -&gt; SocketPath -&gt; LocalNodeConnectInfo)
-&gt; ActionM NetworkId
-&gt; ExceptT
     Error
     (RWST EnvConsts () Env IO)
     (SocketPath -&gt; LocalNodeConnectInfo)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ActionM NetworkId
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvNetworkId"><span class="hs-identifier hs-var">getEnvNetworkId</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT
  Error
  (RWST EnvConsts () Env IO)
  (SocketPath -&gt; LocalNodeConnectInfo)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) SocketPath
-&gt; ExceptT Error (RWST EnvConsts () Env IO) LocalNodeConnectInfo
forall a b.
ExceptT Error (RWST EnvConsts () Env IO) (a -&gt; b)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) a
-&gt; ExceptT Error (RWST EnvConsts () Env IO) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST EnvConsts () Env IO) SocketPath
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvSocketPath"><span class="hs-identifier hs-var">getEnvSocketPath</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#queryEra"><span class="hs-identifier hs-type">queryEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#AnyShelleyBasedEra"><span class="hs-identifier hs-type">AnyShelleyBasedEra</span></a></span><span>
</span><span id="line-163"></span><span id="queryEra"><span class="annot"><span class="annottext">queryEra :: ActionM AnyShelleyBasedEra
</span><a href="Cardano.Benchmarking.Script.Core.html#queryEra"><span class="hs-identifier hs-var hs-var">queryEra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-164"></span><span>  </span><span id="local-6989586621679908680"><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621679908680"><span class="hs-identifier hs-var">localNodeConnectInfo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST EnvConsts () Env IO) LocalNodeConnectInfo
</span><a href="Cardano.Benchmarking.Script.Core.html#getLocalConnectInfo"><span class="hs-identifier hs-var">getLocalConnectInfo</span></a></span><span>
</span><span id="line-165"></span><span>  </span><span id="local-6989586621679908681"><span class="annot"><span class="annottext">ChainTip
</span><a href="#local-6989586621679908681"><span class="hs-identifier hs-var">chainTip</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ChainTip
forall (m :: * -&gt; *).
MonadIO m =&gt;
LocalNodeConnectInfo -&gt; m ChainTip
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#getLocalChainTip"><span class="hs-identifier hs-var">getLocalChainTip</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621679908680"><span class="hs-identifier hs-var">localNodeConnectInfo</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span id="local-6989586621679908684"><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621679908684"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(IO (Either Error AnyCardanoEra)
 -&gt; RWST EnvConsts () Env IO (Either Error AnyCardanoEra))
-&gt; ExceptT Error IO AnyCardanoEra
-&gt; ExceptT Error (RWST EnvConsts () Env IO) AnyCardanoEra
forall (m :: * -&gt; *) e a (n :: * -&gt; *) e' b.
(m (Either e a) -&gt; n (Either e' b))
-&gt; ExceptT e m a -&gt; ExceptT e' n b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#mapExceptT"><span class="hs-identifier hs-var">mapExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either Error AnyCardanoEra)
-&gt; RWST EnvConsts () Env IO (Either Error AnyCardanoEra)
forall a. IO a -&gt; RWST EnvConsts () Env IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT Error IO AnyCardanoEra
 -&gt; ExceptT Error (RWST EnvConsts () Env IO) AnyCardanoEra)
-&gt; (ExceptT AcquiringFailure IO AnyCardanoEra
    -&gt; ExceptT Error IO AnyCardanoEra)
-&gt; ExceptT AcquiringFailure IO AnyCardanoEra
-&gt; ExceptT Error (RWST EnvConsts () Env IO) AnyCardanoEra
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-167"></span><span>    </span><span class="annot"><span class="annottext">(AcquiringFailure -&gt; Error)
-&gt; ExceptT AcquiringFailure IO AnyCardanoEra
-&gt; ExceptT Error IO AnyCardanoEra
forall e' (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) e a.
MonadTransError e' t m =&gt;
(e -&gt; e') -&gt; ExceptT e m a -&gt; t m a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Monad.Error.html#modifyError"><span class="hs-identifier hs-var">modifyError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxGenError -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#TxGenError"><span class="hs-identifier hs-var">Env.TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError -&gt; Error)
-&gt; (AcquiringFailure -&gt; TxGenError) -&gt; AcquiringFailure -&gt; Error
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; TxGenError)
-&gt; (AcquiringFailure -&gt; [Char]) -&gt; AcquiringFailure -&gt; TxGenError
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AcquiringFailure -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ExceptT AcquiringFailure IO AnyCardanoEra
 -&gt; ExceptT Error (RWST EnvConsts () Env IO) AnyCardanoEra)
-&gt; ExceptT AcquiringFailure IO AnyCardanoEra
-&gt; ExceptT Error (RWST EnvConsts () Env IO) AnyCardanoEra
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-168"></span><span>      </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; QueryInMode AnyCardanoEra
-&gt; ExceptT AcquiringFailure IO AnyCardanoEra
forall result.
LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; QueryInMode result
-&gt; ExceptT AcquiringFailure IO result
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#queryNodeLocalState"><span class="hs-identifier hs-var">queryNodeLocalState</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621679908680"><span class="hs-identifier hs-var">localNodeConnectInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ChainPoint -&gt; Target ChainPoint
forall point. point -&gt; Target point
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/ouroboros-network-protocols-0.14.0.2-1a26fdf733a5961ac0970a492a7cf0333c9ab1fde6617e1a008d914f163716a6/share/doc/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#SpecificPoint"><span class="hs-identifier hs-var">SpecificPoint</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainPoint -&gt; Target ChainPoint)
-&gt; ChainPoint -&gt; Target ChainPoint
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ChainTip -&gt; ChainPoint
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Block.html#chainTipToChainPoint"><span class="hs-identifier hs-var">chainTipToChainPoint</span></a></span><span> </span><span class="annot"><span class="annottext">ChainTip
</span><a href="#local-6989586621679908681"><span class="hs-identifier hs-var">chainTip</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">QueryInMode AnyCardanoEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#QueryCurrentEra"><span class="hs-identifier hs-var">QueryCurrentEra</span></a></span><span>
</span><span id="line-169"></span><span>  </span><span class="annot"><span class="annottext">ActionM AnyShelleyBasedEra
-&gt; (ShelleyBasedEraConstraints era =&gt;
    ShelleyBasedEra era -&gt; ActionM AnyShelleyBasedEra)
-&gt; CardanoEra era
-&gt; ActionM AnyShelleyBasedEra
forall a era.
a
-&gt; (ShelleyBasedEraConstraints era =&gt; ShelleyBasedEra era -&gt; a)
-&gt; CardanoEra era
-&gt; a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Case.html#caseByronOrShelleyBasedEra"><span class="hs-identifier hs-var">caseByronOrShelleyBasedEra</span></a></span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxGenError -&gt; ActionM AnyShelleyBasedEra
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError -&gt; ActionM AnyShelleyBasedEra)
-&gt; TxGenError -&gt; ActionM AnyShelleyBasedEra
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;queryEra Byron not supported&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyShelleyBasedEra -&gt; ActionM AnyShelleyBasedEra
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(AnyShelleyBasedEra -&gt; ActionM AnyShelleyBasedEra)
-&gt; (ShelleyBasedEra era -&gt; AnyShelleyBasedEra)
-&gt; ShelleyBasedEra era
-&gt; ActionM AnyShelleyBasedEra
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; AnyShelleyBasedEra
forall era.
Typeable era =&gt;
ShelleyBasedEra era -&gt; AnyShelleyBasedEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#AnyShelleyBasedEra"><span class="hs-identifier hs-var">AnyShelleyBasedEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>    </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621679908684"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#queryRemoteProtocolParameters"><span class="hs-identifier hs-type">queryRemoteProtocolParameters</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.ProtocolParameters.html#ProtocolParameters"><span class="hs-identifier hs-type">ProtocolParameters</span></a></span><span>
</span><span id="line-175"></span><span id="queryRemoteProtocolParameters"><span class="annot"><span class="annottext">queryRemoteProtocolParameters :: ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters
</span><a href="Cardano.Benchmarking.Script.Core.html#queryRemoteProtocolParameters"><span class="hs-identifier hs-var hs-var">queryRemoteProtocolParameters</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-176"></span><span>  </span><span id="local-6989586621679908698"><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621679908698"><span class="hs-identifier hs-var">localNodeConnectInfo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST EnvConsts () Env IO) LocalNodeConnectInfo
</span><a href="Cardano.Benchmarking.Script.Core.html#getLocalConnectInfo"><span class="hs-identifier hs-var">getLocalConnectInfo</span></a></span><span>
</span><span id="line-177"></span><span>  </span><span id="local-6989586621679908699"><span class="annot"><span class="annottext">ChainTip
</span><a href="#local-6989586621679908699"><span class="hs-identifier hs-var">chainTip</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO ChainTip -&gt; ExceptT Error (RWST EnvConsts () Env IO) ChainTip
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO ChainTip -&gt; ExceptT Error (RWST EnvConsts () Env IO) ChainTip)
-&gt; IO ChainTip -&gt; ExceptT Error (RWST EnvConsts () Env IO) ChainTip
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo -&gt; IO ChainTip
forall (m :: * -&gt; *).
MonadIO m =&gt;
LocalNodeConnectInfo -&gt; m ChainTip
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#getLocalChainTip"><span class="hs-identifier hs-var">getLocalChainTip</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621679908698"><span class="hs-identifier hs-var">localNodeConnectInfo</span></a></span><span>
</span><span id="line-178"></span><span>  </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#AnyShelleyBasedEra"><span class="hs-identifier hs-type">AnyShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621679908701"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621679908701"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM AnyShelleyBasedEra
</span><a href="Cardano.Benchmarking.Script.Core.html#queryEra"><span class="hs-identifier hs-var">queryEra</span></a></span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-180"></span><span>    </span><span class="annot"><a href="#local-6989586621679908702"><span class="hs-identifier hs-type">callQuery</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679908079"><span class="annot"><a href="#local-6989586621679908079"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-181"></span><span>                 </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#QueryInEra"><span class="hs-identifier hs-type">QueryInEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908079"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-ledger-core-1.17.0.0-83e9f90039551f2a6895e10ab92d6bea07addf468677d5a8141d8c65f1c89209/share/doc/html/src/Cardano.Ledger.Core.PParams.html#PParams"><span class="hs-identifier hs-type">Ledger.PParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908079"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.ProtocolParameters.html#ProtocolParameters"><span class="hs-identifier hs-type">ProtocolParameters</span></a></span><span>
</span><span id="line-183"></span><span>    </span><span id="local-6989586621679908702"><span class="annot"><span class="annottext">callQuery :: forall era.
QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters
</span><a href="#local-6989586621679908702"><span class="hs-identifier hs-var hs-var">callQuery</span></a></span></span><span> </span><span id="local-6989586621679908720"><span class="annot"><span class="annottext">query :: QueryInEra era (PParams (ShelleyLedgerEra era))
</span><a href="#local-6989586621679908720"><span class="hs-identifier hs-var">query</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#QueryInShelleyBasedEra"><span class="hs-identifier hs-type">QueryInShelleyBasedEra</span></a></span><span> </span><span id="local-6989586621679908722"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621679908722"><span class="hs-identifier hs-var">shelleyEra</span></a></span></span><span> </span><span class="annot"><span class="annottext">QueryInShelleyBasedEra era (PParams (ShelleyLedgerEra era))
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-184"></span><span>      </span><span id="local-6989586621679908723"><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621679908723"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either Error (PParams (ShelleyLedgerEra era))
-&gt; ExceptT
     Error (RWST EnvConsts () Env IO) (PParams (ShelleyLedgerEra era))
forall e (m :: * -&gt; *) a. MonadError e m =&gt; Either e a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/mtl-2.3.1/src/Control.Monad.Error.Class.html#liftEither"><span class="hs-identifier hs-var">liftEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Either Error (PParams (ShelleyLedgerEra era))
 -&gt; ExceptT
      Error (RWST EnvConsts () Env IO) (PParams (ShelleyLedgerEra era)))
-&gt; (Either EraMismatch (PParams (ShelleyLedgerEra era))
    -&gt; Either Error (PParams (ShelleyLedgerEra era)))
-&gt; Either EraMismatch (PParams (ShelleyLedgerEra era))
-&gt; ExceptT
     Error (RWST EnvConsts () Env IO) (PParams (ShelleyLedgerEra era))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(EraMismatch -&gt; Error)
-&gt; Either EraMismatch (PParams (ShelleyLedgerEra era))
-&gt; Either Error (PParams (ShelleyLedgerEra era))
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxGenError -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#TxGenError"><span class="hs-identifier hs-var">Env.TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError -&gt; Error)
-&gt; (EraMismatch -&gt; TxGenError) -&gt; EraMismatch -&gt; Error
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; TxGenError)
-&gt; (EraMismatch -&gt; [Char]) -&gt; EraMismatch -&gt; TxGenError
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">EraMismatch -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Either EraMismatch (PParams (ShelleyLedgerEra era))
 -&gt; ExceptT
      Error (RWST EnvConsts () Env IO) (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT
     Error
     (RWST EnvConsts () Env IO)
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT
     Error (RWST EnvConsts () Env IO) (PParams (ShelleyLedgerEra era))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">(IO
   (Either
      Error (Either EraMismatch (PParams (ShelleyLedgerEra era))))
 -&gt; RWST
      EnvConsts
      ()
      Env
      IO
      (Either
         Error (Either EraMismatch (PParams (ShelleyLedgerEra era)))))
-&gt; ExceptT
     Error IO (Either EraMismatch (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT
     Error
     (RWST EnvConsts () Env IO)
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
forall (m :: * -&gt; *) e a (n :: * -&gt; *) e' b.
(m (Either e a) -&gt; n (Either e' b))
-&gt; ExceptT e m a -&gt; ExceptT e' n b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#mapExceptT"><span class="hs-identifier hs-var">mapExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">IO
  (Either
     Error (Either EraMismatch (PParams (ShelleyLedgerEra era))))
-&gt; RWST
     EnvConsts
     ()
     Env
     IO
     (Either
        Error (Either EraMismatch (PParams (ShelleyLedgerEra era))))
forall a. IO a -&gt; RWST EnvConsts () Env IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AcquiringFailure -&gt; Error)
-&gt; ExceptT
     AcquiringFailure
     IO
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT
     Error IO (Either EraMismatch (PParams (ShelleyLedgerEra era)))
forall e' (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) e a.
MonadTransError e' t m =&gt;
(e -&gt; e') -&gt; ExceptT e m a -&gt; t m a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Monad.Error.html#modifyError"><span class="hs-identifier hs-var">modifyError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxGenError -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#TxGenError"><span class="hs-identifier hs-var">Env.TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError -&gt; Error)
-&gt; (AcquiringFailure -&gt; TxGenError) -&gt; AcquiringFailure -&gt; Error
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; TxGenError)
-&gt; (AcquiringFailure -&gt; [Char]) -&gt; AcquiringFailure -&gt; TxGenError
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AcquiringFailure -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ExceptT
   AcquiringFailure
   IO
   (Either EraMismatch (PParams (ShelleyLedgerEra era)))
 -&gt; ExceptT
      Error IO (Either EraMismatch (PParams (ShelleyLedgerEra era))))
-&gt; ExceptT
     AcquiringFailure
     IO
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT
     Error IO (Either EraMismatch (PParams (ShelleyLedgerEra era)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-185"></span><span>          </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; QueryInMode
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
-&gt; ExceptT
     AcquiringFailure
     IO
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
forall result.
LocalNodeConnectInfo
-&gt; Target ChainPoint
-&gt; QueryInMode result
-&gt; ExceptT AcquiringFailure IO result
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Network.IPC.Internal.html#queryNodeLocalState"><span class="hs-identifier hs-var">queryNodeLocalState</span></a></span><span> </span><span class="annot"><span class="annottext">LocalNodeConnectInfo
</span><a href="#local-6989586621679908698"><span class="hs-identifier hs-var">localNodeConnectInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ChainPoint -&gt; Target ChainPoint
forall point. point -&gt; Target point
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/ouroboros-network-protocols-0.14.0.2-1a26fdf733a5961ac0970a492a7cf0333c9ab1fde6617e1a008d914f163716a6/share/doc/html/src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#SpecificPoint"><span class="hs-identifier hs-var">SpecificPoint</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainPoint -&gt; Target ChainPoint)
-&gt; ChainPoint -&gt; Target ChainPoint
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ChainTip -&gt; ChainPoint
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Block.html#chainTipToChainPoint"><span class="hs-identifier hs-var">chainTipToChainPoint</span></a></span><span> </span><span class="annot"><span class="annottext">ChainTip
</span><a href="#local-6989586621679908699"><span class="hs-identifier hs-var">chainTip</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; QueryInMode
     (Either EraMismatch (PParams (ShelleyLedgerEra era)))
forall era result1.
QueryInEra era result1 -&gt; QueryInMode (Either EraMismatch result1)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#QueryInEra"><span class="hs-identifier hs-var">QueryInEra</span></a></span><span> </span><span class="annot"><span class="annottext">QueryInEra era (PParams (ShelleyLedgerEra era))
</span><a href="#local-6989586621679908720"><span class="hs-identifier hs-var">query</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679908728"><span class="annot"><span class="annottext">pp' :: ProtocolParameters
</span><a href="#local-6989586621679908728"><span class="hs-identifier hs-var hs-var">pp'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; PParams (ShelleyLedgerEra era) -&gt; ProtocolParameters
forall era.
ShelleyBasedEra era
-&gt; PParams (ShelleyLedgerEra era) -&gt; ProtocolParameters
</span><a href="Cardano.TxGenerator.ProtocolParameters.html#fromLedgerPParams"><span class="hs-identifier hs-var">fromLedgerPParams</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621679908722"><span class="hs-identifier hs-var">shelleyEra</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621679908723"><span class="hs-identifier hs-var">pp</span></a></span><span>
</span><span id="line-187"></span><span>          </span><span id="local-6989586621679908731"><span class="annot"><span class="annottext">pparamsFile :: [Char]
</span><a href="#local-6989586621679908731"><span class="hs-identifier hs-var hs-var">pparamsFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;protocol-parameters-queried.json&quot;</span></span><span>
</span><span id="line-188"></span><span>      </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ByteString -&gt; IO ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Lazy.html#writeFile"><span class="hs-identifier hs-var">BSL.writeFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908731"><span class="hs-identifier hs-var">pparamsFile</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.Benchmarking.Script.Aeson.html#prettyPrintOrdered"><span class="hs-identifier hs-var">prettyPrintOrdered</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679908728"><span class="hs-identifier hs-var">pp'</span></a></span><span>
</span><span id="line-189"></span><span>      </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;queryRemoteProtocolParameters : query result saved in: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908731"><span class="hs-identifier hs-var">pparamsFile</span></a></span><span>
</span><span id="line-190"></span><span>      </span><span class="annot"><span class="annottext">ProtocolParameters
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679908728"><span class="hs-identifier hs-var">pp'</span></a></span><span>
</span><span id="line-191"></span><span>  </span><span class="annot"><span class="annottext">QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters
forall era.
QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters
</span><a href="#local-6989586621679908702"><span class="hs-identifier hs-var">callQuery</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryInEra era (PParams (ShelleyLedgerEra era))
 -&gt; ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters)
-&gt; QueryInEra era (PParams (ShelleyLedgerEra era))
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; QueryInShelleyBasedEra era (PParams (ShelleyLedgerEra era))
-&gt; QueryInEra era (PParams (ShelleyLedgerEra era))
forall era result.
ShelleyBasedEra era
-&gt; QueryInShelleyBasedEra era result -&gt; QueryInEra era result
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#QueryInShelleyBasedEra"><span class="hs-identifier hs-var">QueryInShelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621679908701"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">QueryInShelleyBasedEra era (PParams (ShelleyLedgerEra era))
forall era.
QueryInShelleyBasedEra era (PParams (ShelleyLedgerEra era))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Query.Internal.Type.QueryInMode.html#QueryProtocolParameters"><span class="hs-identifier hs-var">QueryProtocolParameters</span></a></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#getProtocolParameters"><span class="hs-identifier hs-type">getProtocolParameters</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.ProtocolParameters.html#ProtocolParameters"><span class="hs-identifier hs-type">ProtocolParameters</span></a></span><span>
</span><span id="line-194"></span><span id="getProtocolParameters"><span class="annot"><span class="annottext">getProtocolParameters :: ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters
</span><a href="Cardano.Benchmarking.Script.Core.html#getProtocolParameters"><span class="hs-identifier hs-var hs-var">getProtocolParameters</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-195"></span><span>  </span><span class="annot"><span class="annottext">ActionM ProtocolParameterMode
</span><a href="Cardano.Benchmarking.Script.Env.html#getProtoParamMode"><span class="hs-identifier hs-var">getProtoParamMode</span></a></span><span>  </span><span class="annot"><span class="annottext">ActionM ProtocolParameterMode
-&gt; (ProtocolParameterMode
    -&gt; ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters
forall a b.
ExceptT Error (RWST EnvConsts () Env IO) a
-&gt; (a -&gt; ExceptT Error (RWST EnvConsts () Env IO) b)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-196"></span><span>    </span><span class="annot"><span class="annottext">ProtocolParameterMode
</span><a href="Cardano.Benchmarking.Script.Types.html#ProtocolParameterQuery"><span class="hs-identifier hs-var">ProtocolParameterQuery</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters
</span><a href="Cardano.Benchmarking.Script.Core.html#queryRemoteProtocolParameters"><span class="hs-identifier hs-var">queryRemoteProtocolParameters</span></a></span><span>
</span><span id="line-197"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#ProtocolParameterLocal"><span class="hs-identifier hs-type">ProtocolParameterLocal</span></a></span><span> </span><span id="local-6989586621679908736"><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679908736"><span class="hs-identifier hs-var">parameters</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679908736"><span class="hs-identifier hs-var">parameters</span></a></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#waitForEra"><span class="hs-identifier hs-type">waitForEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#AnyShelleyBasedEra"><span class="hs-identifier hs-type">AnyShelleyBasedEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span id="waitForEra"><span class="annot"><span class="annottext">waitForEra :: AnyShelleyBasedEra -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#waitForEra"><span class="hs-identifier hs-var hs-var">waitForEra</span></a></span></span><span> </span><span id="local-6989586621679908738"><span class="annot"><span class="annottext">AnyShelleyBasedEra
</span><a href="#local-6989586621679908738"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-201"></span><span>  </span><span id="local-6989586621679908739"><span class="annot"><span class="annottext">AnyShelleyBasedEra
</span><a href="#local-6989586621679908739"><span class="hs-identifier hs-var">currentEra</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM AnyShelleyBasedEra
</span><a href="Cardano.Benchmarking.Script.Core.html#queryEra"><span class="hs-identifier hs-var">queryEra</span></a></span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">AnyShelleyBasedEra
</span><a href="#local-6989586621679908739"><span class="hs-identifier hs-var">currentEra</span></a></span><span> </span><span class="annot"><span class="annottext">AnyShelleyBasedEra -&gt; AnyShelleyBasedEra -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">AnyShelleyBasedEra
</span><a href="#local-6989586621679908738"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-203"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">() -&gt; ActionM ()
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-205"></span><span>      </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceError"><span class="hs-identifier hs-var">traceError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Current era: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">AnyShelleyBasedEra -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">AnyShelleyBasedEra
</span><a href="#local-6989586621679908739"><span class="hs-identifier hs-var">currentEra</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; Waiting for: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">AnyShelleyBasedEra -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">AnyShelleyBasedEra
</span><a href="#local-6989586621679908738"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-206"></span><span>      </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IO ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Conc.IO.html#threadDelay"><span class="hs-identifier hs-var">threadDelay</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1_000_000</span></span><span>
</span><span id="line-207"></span><span>      </span><span class="annot"><span class="annottext">AnyShelleyBasedEra -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#waitForEra"><span class="hs-identifier hs-var">waitForEra</span></a></span><span> </span><span class="annot"><span class="annottext">AnyShelleyBasedEra
</span><a href="#local-6989586621679908738"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#localSubmitTx"><span class="hs-identifier hs-type">localSubmitTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Consensus.Internal.InMode.html#TxInMode"><span class="hs-identifier hs-type">TxInMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/ouroboros-network-protocols-0.14.0.2-1a26fdf733a5961ac0970a492a7cf0333c9ab1fde6617e1a008d914f163716a6/share/doc/html/src/Ouroboros.Network.Protocol.LocalTxSubmission.Type.html#SubmitResult"><span class="hs-identifier hs-type">SubmitResult</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Consensus.Internal.InMode.html#TxValidationErrorInCardanoMode"><span class="hs-identifier hs-type">TxValidationErrorInCardanoMode</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span id="localSubmitTx"><span class="annot"><span class="annottext">localSubmitTx :: TxInMode -&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode)
</span><a href="Cardano.Benchmarking.Script.Core.html#localSubmitTx"><span class="hs-identifier hs-var hs-var">localSubmitTx</span></a></span></span><span> </span><span id="local-6989586621679908742"><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621679908742"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-211"></span><span>  </span><span id="local-6989586621679908743"><span class="annot"><span class="annottext">LocalSubmitTx
</span><a href="#local-6989586621679908743"><span class="hs-identifier hs-var">submit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM LocalSubmitTx
</span><a href="Cardano.Benchmarking.Script.Core.html#getLocalSubmitTx"><span class="hs-identifier hs-var">getLocalSubmitTx</span></a></span><span>
</span><span id="line-212"></span><span>  </span><span id="local-6989586621679908744"><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
</span><a href="#local-6989586621679908744"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (SubmitResult TxValidationErrorInCardanoMode)
-&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode)
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (SubmitResult TxValidationErrorInCardanoMode)
 -&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode))
-&gt; IO (SubmitResult TxValidationErrorInCardanoMode)
-&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LocalSubmitTx
</span><a href="#local-6989586621679908743"><span class="hs-identifier hs-var">submit</span></a></span><span> </span><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621679908742"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
</span><a href="#local-6989586621679908744"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-214"></span><span>    </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/ouroboros-network-protocols-0.14.0.2-1a26fdf733a5961ac0970a492a7cf0333c9ab1fde6617e1a008d914f163716a6/share/doc/html/src/Ouroboros.Network.Protocol.LocalTxSubmission.Type.html#SubmitSuccess"><span class="hs-identifier hs-var">SubmitSuccess</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
-&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode)
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
</span><a href="#local-6989586621679908744"><span class="hs-identifier hs-var">ret</span></a></span><span>
</span><span id="line-215"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/ouroboros-network-protocols-0.14.0.2-1a26fdf733a5961ac0970a492a7cf0333c9ab1fde6617e1a008d914f163716a6/share/doc/html/src/Ouroboros.Network.Protocol.LocalTxSubmission.Type.html#SubmitFail"><span class="hs-identifier hs-type">SubmitFail</span></a></span><span> </span><span id="local-6989586621679908747"><span class="annot"><span class="annottext">TxValidationErrorInCardanoMode
</span><a href="#local-6989586621679908747"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-216"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679908748"><span class="annot"><span class="annottext">msg :: [Char]
</span><a href="#local-6989586621679908748"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;local submit failed: &quot;</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TxValidationErrorInCardanoMode -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxValidationErrorInCardanoMode
</span><a href="#local-6989586621679908747"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; (&quot;</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TxInMode -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621679908742"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;)&quot;</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-217"></span><span>      </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908748"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-218"></span><span>      </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
-&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode)
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">SubmitResult TxValidationErrorInCardanoMode
</span><a href="#local-6989586621679908744"><span class="hs-identifier hs-var">ret</span></a></span><span>
</span><span id="line-219"></span><span class="hs-comment">--      throwE $ ApiError msg</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="hs-comment">-- TODO:</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- It should be possible to exit the tx-generator with an exception and also get the log messages.</span><span>
</span><span id="line-223"></span><span class="hs-comment">-- Problem 1: When doing throwE $ ApiError msg logmessages get lost !</span><span>
</span><span id="line-224"></span><span class="hs-comment">-- Problem 2: Workbench restarts the tx-generator -&gt; this may be the reason for loss of messages</span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#toMetadata"><span class="hs-identifier hs-type">toMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679908108"><span class="annot"><a href="#local-6989586621679908108"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#IsShelleyBasedEra"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908108"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMetadataInEra"><span class="hs-identifier hs-type">TxMetadataInEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908108"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-227"></span><span id="toMetadata"><span class="annot"><span class="annottext">toMetadata :: forall era.
IsShelleyBasedEra era =&gt;
Maybe Int -&gt; TxMetadataInEra era
</span><a href="Cardano.Benchmarking.Script.Core.html#toMetadata"><span class="hs-identifier hs-var hs-var">toMetadata</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxMetadataInEra era
forall era. TxMetadataInEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMetadataNone"><span class="hs-identifier hs-var">TxMetadataNone</span></a></span><span>
</span><span id="line-228"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#toMetadata"><span class="hs-identifier hs-var">toMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679908756"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679908756"><span class="hs-identifier hs-var">payloadSize</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Either [Char] (TxMetadataInEra era)
forall era.
IsShelleyBasedEra era =&gt;
Int -&gt; Either [Char] (TxMetadataInEra era)
</span><a href="Cardano.Benchmarking.GeneratorTx.SizedMetadata.html#mkMetadata"><span class="hs-identifier hs-var">mkMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679908756"><span class="hs-identifier hs-var">payloadSize</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-229"></span><span>  </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679908757"><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621679908757"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxMetadataInEra era
</span><a href="#local-6989586621679908757"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-230"></span><span>  </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679908758"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908758"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxMetadataInEra era
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908758"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#submitAction"><span class="hs-identifier hs-type">submitAction</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#AnyCardanoEra"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#SubmitMode"><span class="hs-identifier hs-type">SubmitMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Generator"><span class="hs-identifier hs-type">Generator</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenTxParams"><span class="hs-identifier hs-type">TxGenTxParams</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span id="submitAction"><span class="annot"><span class="annottext">submitAction :: AnyCardanoEra
-&gt; SubmitMode -&gt; Generator -&gt; TxGenTxParams -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#submitAction"><span class="hs-identifier hs-var hs-var">submitAction</span></a></span></span><span> </span><span id="local-6989586621679908760"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679908760"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621679908761"><span class="annot"><span class="annottext">SubmitMode
</span><a href="#local-6989586621679908761"><span class="hs-identifier hs-var">submitMode</span></a></span></span><span> </span><span id="local-6989586621679908762"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679908762"><span class="hs-identifier hs-var">generator</span></a></span></span><span> </span><span id="local-6989586621679908763"><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679908763"><span class="hs-identifier hs-var">txParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
-&gt; (forall {era}.
    IsShelleyBasedEra era =&gt;
    AsType era -&gt; ActionM ())
-&gt; ActionM ()
forall x.
AnyCardanoEra
-&gt; (forall era. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM x)
-&gt; ActionM x
</span><a href="Cardano.Benchmarking.Script.Core.html#withEra"><span class="hs-identifier hs-var">withEra</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679908760"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">((forall {era}. IsShelleyBasedEra era =&gt; AsType era -&gt; ActionM ())
 -&gt; ActionM ())
-&gt; (forall {era}.
    IsShelleyBasedEra era =&gt;
    AsType era -&gt; ActionM ())
-&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SubmitMode
-&gt; Generator -&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM ()
forall era.
IsShelleyBasedEra era =&gt;
SubmitMode
-&gt; Generator -&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#submitInEra"><span class="hs-identifier hs-var">submitInEra</span></a></span><span> </span><span class="annot"><span class="annottext">SubmitMode
</span><a href="#local-6989586621679908761"><span class="hs-identifier hs-var">submitMode</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679908762"><span class="hs-identifier hs-var">generator</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679908763"><span class="hs-identifier hs-var">txParams</span></a></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#submitInEra"><span class="hs-identifier hs-type">submitInEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679908118"><span class="annot"><a href="#local-6989586621679908118"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#IsShelleyBasedEra"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908118"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#SubmitMode"><span class="hs-identifier hs-type">SubmitMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Generator"><span class="hs-identifier hs-type">Generator</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenTxParams"><span class="hs-identifier hs-type">TxGenTxParams</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.HasTypeProxy.html#AsType"><span class="hs-identifier hs-type">AsType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908118"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span id="submitInEra"><span class="annot"><span class="annottext">submitInEra :: forall era.
IsShelleyBasedEra era =&gt;
SubmitMode
-&gt; Generator -&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#submitInEra"><span class="hs-identifier hs-var hs-var">submitInEra</span></a></span></span><span> </span><span id="local-6989586621679908790"><span class="annot"><span class="annottext">SubmitMode
</span><a href="#local-6989586621679908790"><span class="hs-identifier hs-var">submitMode</span></a></span></span><span> </span><span id="local-6989586621679908791"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679908791"><span class="hs-identifier hs-var">generator</span></a></span></span><span> </span><span id="local-6989586621679908792"><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679908792"><span class="hs-identifier hs-var">txParams</span></a></span></span><span> </span><span id="local-6989586621679908793"><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679908793"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-237"></span><span>  </span><span id="local-6989586621679908794"><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679908794"><span class="hs-identifier hs-var">txStream</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
forall era.
IsShelleyBasedEra era =&gt;
Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
</span><a href="Cardano.Benchmarking.Script.Core.html#evalGenerator"><span class="hs-identifier hs-var">evalGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679908791"><span class="hs-identifier hs-var">generator</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679908792"><span class="hs-identifier hs-var">txParams</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679908793"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SubmitMode
</span><a href="#local-6989586621679908790"><span class="hs-identifier hs-var">submitMode</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-239"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#NodeToNode"><span class="hs-identifier hs-type">NodeToNode</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty NodeIPv4Address
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NodeToNode deprecated: ToDo: remove&quot;</span></span><span>
</span><span id="line-240"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Benchmark"><span class="hs-identifier hs-type">Benchmark</span></a></span><span> </span><span id="local-6989586621679908798"><span class="annot"><span class="annottext">TargetNodes
</span><a href="#local-6989586621679908798"><span class="hs-identifier hs-var">nodes</span></a></span></span><span> </span><span id="local-6989586621679908799"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679908799"><span class="hs-identifier hs-var">tpsRate</span></a></span></span><span> </span><span id="local-6989586621679908800"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679908800"><span class="hs-identifier hs-var">txCount</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxStream IO era
-&gt; TargetNodes -&gt; Double -&gt; Int -&gt; AsType era -&gt; ActionM ()
forall era.
IsShelleyBasedEra era =&gt;
TxStream IO era
-&gt; TargetNodes -&gt; Double -&gt; Int -&gt; AsType era -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#benchmarkTxStream"><span class="hs-identifier hs-var">benchmarkTxStream</span></a></span><span> </span><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679908794"><span class="hs-identifier hs-var">txStream</span></a></span><span> </span><span class="annot"><span class="annottext">TargetNodes
</span><a href="#local-6989586621679908798"><span class="hs-identifier hs-var">nodes</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679908799"><span class="hs-identifier hs-var">tpsRate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679908800"><span class="hs-identifier hs-var">txCount</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679908793"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-241"></span><span>    </span><span class="annot"><span class="annottext">SubmitMode
</span><a href="Cardano.Benchmarking.Script.Types.html#LocalSocket"><span class="hs-identifier hs-var">LocalSocket</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Tx era -&gt; ActionM ()) -&gt; TxStream IO era -&gt; ActionM ()
</span><a href="#local-6989586621679908803"><span class="hs-identifier hs-var">submitAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ActionM (SubmitResult TxValidationErrorInCardanoMode) -&gt; ActionM ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(ActionM (SubmitResult TxValidationErrorInCardanoMode)
 -&gt; ActionM ())
-&gt; (Tx era
    -&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode))
-&gt; Tx era
-&gt; ActionM ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TxInMode -&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode)
</span><a href="Cardano.Benchmarking.Script.Core.html#localSubmitTx"><span class="hs-identifier hs-var">localSubmitTx</span></a></span><span> </span><span class="annot"><span class="annottext">(TxInMode -&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode))
-&gt; (Tx era -&gt; TxInMode)
-&gt; Tx era
-&gt; ActionM (SubmitResult TxValidationErrorInCardanoMode)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; TxInMode
forall era. IsShelleyBasedEra era =&gt; Tx era -&gt; TxInMode
</span><a href="Cardano.TxGenerator.Utils.html#mkTxInModeCardano"><span class="hs-identifier hs-var">Utils.mkTxInModeCardano</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679908794"><span class="hs-identifier hs-var">txStream</span></a></span><span>
</span><span id="line-242"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#DumpToFile"><span class="hs-identifier hs-type">DumpToFile</span></a></span><span> </span><span id="local-6989586621679908806"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908806"><span class="hs-identifier hs-var">filePath</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Stream (Of [Char]) IO () -&gt; IO ()
forall r. [Char] -&gt; Stream (Of [Char]) IO r -&gt; IO r
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#writeFile"><span class="hs-identifier hs-var">Streaming.writeFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679908806"><span class="hs-identifier hs-var">filePath</span></a></span><span> </span><span class="annot"><span class="annottext">(Stream (Of [Char]) IO () -&gt; IO ())
-&gt; Stream (Of [Char]) IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era) -&gt; [Char])
-&gt; TxStream IO era -&gt; Stream (Of [Char]) IO ()
forall (m :: * -&gt; *) a b r.
Monad m =&gt;
(a -&gt; b) -&gt; Stream (Of a) m r -&gt; Stream (Of b) m r
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#map"><span class="hs-identifier hs-var">Streaming.map</span></a></span><span> </span><span class="annot"><span class="annottext">Either TxGenError (Tx era) -&gt; [Char]
forall {a} {a}. (Show a, Show a) =&gt; Either a a -&gt; [Char]
</span><a href="#local-6989586621679908809"><span class="hs-identifier hs-var">showTx</span></a></span><span> </span><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679908794"><span class="hs-identifier hs-var">txStream</span></a></span><span>
</span><span id="line-243"></span><span>    </span><span class="annot"><span class="annottext">SubmitMode
</span><a href="Cardano.Benchmarking.Script.Types.html#DiscardTX"><span class="hs-identifier hs-var">DiscardTX</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era) -&gt; IO ()) -&gt; TxStream IO era -&gt; IO ()
forall (m :: * -&gt; *) a x r.
Monad m =&gt;
(a -&gt; m x) -&gt; Stream (Of a) m r -&gt; m r
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#mapM_"><span class="hs-identifier hs-var">Streaming.mapM_</span></a></span><span> </span><span class="annot"><span class="annottext">Either TxGenError (Tx era) -&gt; IO ()
forall {m :: * -&gt; *} {a} {b}.
(Monad m, Show a) =&gt;
Either a b -&gt; m ()
</span><a href="#local-6989586621679908812"><span class="hs-identifier hs-var">forceTx</span></a></span><span> </span><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679908794"><span class="hs-identifier hs-var">txStream</span></a></span><span>
</span><span id="line-244"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-245"></span><span>  </span><span id="local-6989586621679908812"><span class="annot"><span class="annottext">forceTx :: Either a b -&gt; m ()
</span><a href="#local-6989586621679908812"><span class="hs-identifier hs-var hs-var">forceTx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>  </span><span class="annot"><a href="#local-6989586621679908812"><span class="hs-identifier hs-var">forceTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679908825"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679908825"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; m ()
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; m ()) -&gt; [Char] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679908825"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-247"></span><span>  </span><span id="local-6989586621679908809"><span class="annot"><span class="annottext">showTx :: Either a a -&gt; [Char]
</span><a href="#local-6989586621679908809"><span class="hs-identifier hs-var hs-var">showTx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679908832"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679908832"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char]
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; [Char]) -&gt; [Char] -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679908832"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-248"></span><span>  </span><span class="annot"><a href="#local-6989586621679908809"><span class="hs-identifier hs-var">showTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679908833"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679908833"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; [Char] -&gt; [Char]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679908833"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-249"></span><span>   </span><span class="hs-comment">-- todo: use Streaming.run</span><span>
</span><span id="line-250"></span><span>  </span><span class="annot"><a href="#local-6989586621679908803"><span class="hs-identifier hs-type">submitAll</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908118"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Wallet.html#TxStream"><span class="hs-identifier hs-type">TxStream</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908118"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>  </span><span id="local-6989586621679908803"><span class="annot"><span class="annottext">submitAll :: (Tx era -&gt; ActionM ()) -&gt; TxStream IO era -&gt; ActionM ()
</span><a href="#local-6989586621679908803"><span class="hs-identifier hs-var hs-var">submitAll</span></a></span></span><span> </span><span id="local-6989586621679908834"><span class="annot"><span class="annottext">Tx era -&gt; ActionM ()
</span><a href="#local-6989586621679908834"><span class="hs-identifier hs-var">callback</span></a></span></span><span> </span><span id="local-6989586621679908835"><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679908835"><span class="hs-identifier hs-var">stream</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-252"></span><span>    </span><span id="local-6989586621679908836"><span class="annot"><span class="annottext">Either () (Of (Either TxGenError (Tx era)) (TxStream IO era))
</span><a href="#local-6989586621679908836"><span class="hs-identifier hs-var">step</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either () (Of (Either TxGenError (Tx era)) (TxStream IO era)))
-&gt; ExceptT
     Error
     (RWST EnvConsts () Env IO)
     (Either () (Of (Either TxGenError (Tx era)) (TxStream IO era)))
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either () (Of (Either TxGenError (Tx era)) (TxStream IO era)))
 -&gt; ExceptT
      Error
      (RWST EnvConsts () Env IO)
      (Either () (Of (Either TxGenError (Tx era)) (TxStream IO era))))
-&gt; IO
     (Either () (Of (Either TxGenError (Tx era)) (TxStream IO era)))
-&gt; ExceptT
     Error
     (RWST EnvConsts () Env IO)
     (Either () (Of (Either TxGenError (Tx era)) (TxStream IO era)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxStream IO era
-&gt; IO
     (Either () (Of (Either TxGenError (Tx era)) (TxStream IO era)))
forall (m :: * -&gt; *) (f :: * -&gt; *) r.
Monad m =&gt;
Stream f m r -&gt; m (Either r (f (Stream f m r)))
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Internal.html#inspect"><span class="hs-identifier hs-var">Streaming.inspect</span></a></span><span> </span><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679908835"><span class="hs-identifier hs-var">stream</span></a></span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either () (Of (Either TxGenError (Tx era)) (TxStream IO era))
</span><a href="#local-6989586621679908836"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-254"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; ActionM ()
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679908838"><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679908838"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Data.Functor.Of.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span id="local-6989586621679908840"><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679908840"><span class="hs-identifier hs-var">_rest</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; ActionM ()
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError -&gt; ActionM ()) -&gt; TxGenError -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; TxGenError) -&gt; [Char] -&gt; TxGenError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679908838"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-256"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679908841"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679908841"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Data.Functor.Of.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span id="local-6989586621679908842"><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679908842"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-257"></span><span>        </span><span class="annot"><span class="annottext">Tx era -&gt; ActionM ()
</span><a href="#local-6989586621679908834"><span class="hs-identifier hs-var">callback</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679908841"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-258"></span><span>        </span><span class="annot"><span class="annottext">(Tx era -&gt; ActionM ()) -&gt; TxStream IO era -&gt; ActionM ()
</span><a href="#local-6989586621679908803"><span class="hs-identifier hs-var">submitAll</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; ActionM ()
</span><a href="#local-6989586621679908834"><span class="hs-identifier hs-var">callback</span></a></span><span> </span><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679908842"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#benchmarkTxStream"><span class="hs-identifier hs-type">benchmarkTxStream</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679908126"><span class="annot"><a href="#local-6989586621679908126"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#IsShelleyBasedEra"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908126"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Wallet.html#TxStream"><span class="hs-identifier hs-type">TxStream</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908126"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#TargetNodes"><span class="hs-identifier hs-type">TargetNodes</span></a></span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TPSRate"><span class="hs-identifier hs-type">TPSRate</span></a></span><span>
</span><span id="line-264"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#NumberOfTxs"><span class="hs-identifier hs-type">NumberOfTxs</span></a></span><span>
</span><span id="line-265"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.HasTypeProxy.html#AsType"><span class="hs-identifier hs-type">AsType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908126"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-266"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span id="benchmarkTxStream"><span class="annot"><span class="annottext">benchmarkTxStream :: forall era.
IsShelleyBasedEra era =&gt;
TxStream IO era
-&gt; TargetNodes -&gt; Double -&gt; Int -&gt; AsType era -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#benchmarkTxStream"><span class="hs-identifier hs-var hs-var">benchmarkTxStream</span></a></span></span><span> </span><span id="local-6989586621679908851"><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679908851"><span class="hs-identifier hs-var">txStream</span></a></span></span><span> </span><span id="local-6989586621679908852"><span class="annot"><span class="annottext">TargetNodes
</span><a href="#local-6989586621679908852"><span class="hs-identifier hs-var">targetNodes</span></a></span></span><span> </span><span id="local-6989586621679908853"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679908853"><span class="hs-identifier hs-var">tps</span></a></span></span><span> </span><span id="local-6989586621679908854"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679908854"><span class="hs-identifier hs-var">txCount</span></a></span></span><span> </span><span id="local-6989586621679908855"><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679908855"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-268"></span><span>  </span><span id="local-6989586621679908856"><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679908856"><span class="hs-identifier hs-var">tracers</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM BenchTracers
</span><a href="Cardano.Benchmarking.Script.Env.html#getBenchTracers"><span class="hs-identifier hs-var">getBenchTracers</span></a></span><span>
</span><span id="line-269"></span><span>  </span><span id="local-6989586621679908857"><span class="annot"><span class="annottext">ConnectClient
</span><a href="#local-6989586621679908857"><span class="hs-identifier hs-var">connectClient</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM ConnectClient
</span><a href="Cardano.Benchmarking.Script.Core.html#getConnectClient"><span class="hs-identifier hs-var">getConnectClient</span></a></span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-271"></span><span>    </span><span class="annot"><a href="#local-6989586621679908858"><span class="hs-identifier hs-type">coreCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.HasTypeProxy.html#AsType"><span class="hs-identifier hs-type">AsType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908126"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#ExceptT"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-type">TxGenError</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.LogTypes.html#AsyncBenchmarkControl"><span class="hs-identifier hs-type">AsyncBenchmarkControl</span></a></span><span>
</span><span id="line-272"></span><span>    </span><span id="local-6989586621679908858"><span class="annot"><span class="annottext">coreCall :: AsType era -&gt; ExceptT TxGenError IO AsyncBenchmarkControl
</span><a href="#local-6989586621679908858"><span class="hs-identifier hs-var hs-var">coreCall</span></a></span></span><span> </span><span id="local-6989586621679908859"><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679908859"><span class="hs-identifier hs-var">eraProxy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Trace IO (TraceBenchTxSubmit TxId)
-&gt; Trace IO NodeToNodeSubmissionTrace
-&gt; ConnectClient
-&gt; TargetNodes
-&gt; Double
-&gt; SubmissionErrorPolicy
-&gt; AsType era
-&gt; Int
-&gt; TxStream IO era
-&gt; ExceptT TxGenError IO AsyncBenchmarkControl
forall era.
IsShelleyBasedEra era =&gt;
Trace IO (TraceBenchTxSubmit TxId)
-&gt; Trace IO NodeToNodeSubmissionTrace
-&gt; ConnectClient
-&gt; TargetNodes
-&gt; Double
-&gt; SubmissionErrorPolicy
-&gt; AsType era
-&gt; Int
-&gt; TxStream IO era
-&gt; ExceptT TxGenError IO AsyncBenchmarkControl
</span><a href="Cardano.Benchmarking.GeneratorTx.html#walletBenchmark"><span class="hs-identifier hs-var">GeneratorTx.walletBenchmark</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BenchTracers -&gt; Trace IO (TraceBenchTxSubmit TxId)
</span><a href="Cardano.Benchmarking.LogTypes.html#btTxSubmit_"><span class="hs-identifier hs-var">btTxSubmit_</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679908856"><span class="hs-identifier hs-var">tracers</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BenchTracers -&gt; Trace IO NodeToNodeSubmissionTrace
</span><a href="Cardano.Benchmarking.LogTypes.html#btN2N_"><span class="hs-identifier hs-var">btN2N_</span></a></span><span> </span><span class="annot"><span class="annottext">BenchTracers
</span><a href="#local-6989586621679908856"><span class="hs-identifier hs-var">tracers</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ConnectClient
</span><a href="#local-6989586621679908857"><span class="hs-identifier hs-var">connectClient</span></a></span><span>
</span><span id="line-273"></span><span>                                               </span><span class="annot"><span class="annottext">TargetNodes
</span><a href="#local-6989586621679908852"><span class="hs-identifier hs-var">targetNodes</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679908853"><span class="hs-identifier hs-var">tps</span></a></span><span> </span><span class="annot"><span class="annottext">SubmissionErrorPolicy
</span><a href="Cardano.Benchmarking.Types.html#LogErrors"><span class="hs-identifier hs-var">LogErrors</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679908859"><span class="hs-identifier hs-var">eraProxy</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679908854"><span class="hs-identifier hs-var">txCount</span></a></span><span> </span><span class="annot"><span class="annottext">TxStream IO era
</span><a href="#local-6989586621679908851"><span class="hs-identifier hs-var">txStream</span></a></span><span>
</span><span id="line-274"></span><span>  </span><span id="local-6989586621679908861"><span class="annot"><span class="annottext">Either TxGenError AsyncBenchmarkControl
</span><a href="#local-6989586621679908861"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError AsyncBenchmarkControl)
-&gt; ExceptT
     Error
     (RWST EnvConsts () Env IO)
     (Either TxGenError AsyncBenchmarkControl)
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either TxGenError AsyncBenchmarkControl)
 -&gt; ExceptT
      Error
      (RWST EnvConsts () Env IO)
      (Either TxGenError AsyncBenchmarkControl))
-&gt; IO (Either TxGenError AsyncBenchmarkControl)
-&gt; ExceptT
     Error
     (RWST EnvConsts () Env IO)
     (Either TxGenError AsyncBenchmarkControl)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptT TxGenError IO AsyncBenchmarkControl
-&gt; IO (Either TxGenError AsyncBenchmarkControl)
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxGenError IO AsyncBenchmarkControl
 -&gt; IO (Either TxGenError AsyncBenchmarkControl))
-&gt; ExceptT TxGenError IO AsyncBenchmarkControl
-&gt; IO (Either TxGenError AsyncBenchmarkControl)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era -&gt; ExceptT TxGenError IO AsyncBenchmarkControl
</span><a href="#local-6989586621679908858"><span class="hs-identifier hs-var">coreCall</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679908855"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-275"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either TxGenError AsyncBenchmarkControl
</span><a href="#local-6989586621679908861"><span class="hs-identifier hs-var">ret</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-276"></span><span>    </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679908862"><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679908862"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; ActionM ()
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679908862"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-277"></span><span>    </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679908863"><span class="annot"><span class="annottext">AsyncBenchmarkControl
</span><a href="#local-6989586621679908863"><span class="hs-identifier hs-var">ctl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsyncBenchmarkControl -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvThreads"><span class="hs-identifier hs-var">setEnvThreads</span></a></span><span> </span><span class="annot"><span class="annottext">AsyncBenchmarkControl
</span><a href="#local-6989586621679908863"><span class="hs-identifier hs-var">ctl</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span id="local-6989586621679908123"><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#evalGenerator"><span class="hs-identifier hs-type">evalGenerator</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#IsShelleyBasedEra"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908123"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Generator"><span class="hs-identifier hs-type">Generator</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenTxParams"><span class="hs-identifier hs-type">TxGenTxParams</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.HasTypeProxy.html#AsType"><span class="hs-identifier hs-type">AsType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908123"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Wallet.html#TxStream"><span class="hs-identifier hs-type">TxStream</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908123"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-280"></span><span id="evalGenerator"><span class="annot"><span class="annottext">evalGenerator :: forall era.
IsShelleyBasedEra era =&gt;
Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
</span><a href="Cardano.Benchmarking.Script.Core.html#evalGenerator"><span class="hs-identifier hs-var hs-var">evalGenerator</span></a></span></span><span> </span><span id="local-6989586621679908995"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679908995"><span class="hs-identifier hs-var">generator</span></a></span></span><span> </span><span id="local-6989586621679908996"><span class="annot"><span class="annottext">txParams :: TxGenTxParams
</span><a href="#local-6989586621679908996"><span class="hs-identifier hs-var">txParams</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.TxGenerator.Types.html#TxGenTxParams"><span class="hs-identifier hs-type">TxGenTxParams</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">txParamFee :: TxGenTxParams -&gt; Coin
</span><a href="Cardano.TxGenerator.Types.html#txParamFee"><span class="hs-identifier hs-var">txParamFee</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679908999"><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679908999"><span class="hs-identifier hs-var">fee</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679909000"><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679909000"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-281"></span><span>  </span><span id="local-6989586621679909001"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679909001"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM NetworkId
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvNetworkId"><span class="hs-identifier hs-var">getEnvNetworkId</span></a></span><span>
</span><span id="line-282"></span><span>  </span><span id="local-6989586621679909002"><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679909002"><span class="hs-identifier hs-var">protocolParameters</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters
</span><a href="Cardano.Benchmarking.Script.Core.html#getProtocolParameters"><span class="hs-identifier hs-var">getProtocolParameters</span></a></span><span>
</span><span id="line-283"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; ProtocolParameters
-&gt; Either
     ProtocolParametersConversionError (LedgerProtocolParameters era)
forall era.
ShelleyBasedEra era
-&gt; ProtocolParameters
-&gt; Either
     ProtocolParametersConversionError (LedgerProtocolParameters era)
</span><a href="Cardano.TxGenerator.ProtocolParameters.html#convertToLedgerProtocolParameters"><span class="hs-identifier hs-var">convertToLedgerProtocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEra"><span class="hs-identifier hs-var">shelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679909002"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-284"></span><span>    </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679909004"><span class="annot"><span class="annottext">ProtocolParametersConversionError
</span><a href="#local-6989586621679909004"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Error -&gt; ActionM (TxStream IO era)
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxGenError -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#TxGenError"><span class="hs-identifier hs-var">Env.TxGenError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolParametersConversionError -&gt; TxGenError
forall e. Error e =&gt; e -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#ApiError"><span class="hs-identifier hs-var">ApiError</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParametersConversionError
</span><a href="#local-6989586621679909004"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>    </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679909006"><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621679909006"><span class="hs-identifier hs-var">ledgerParameters</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-286"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679908995"><span class="hs-identifier hs-var">generator</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-287"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#SecureGenesis"><span class="hs-identifier hs-type">SecureGenesis</span></a></span><span> </span><span id="local-6989586621679909008"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909008"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span id="local-6989586621679909009"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909009"><span class="hs-identifier hs-var">genesisKeyName</span></a></span></span><span> </span><span id="local-6989586621679909010"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909010"><span class="hs-identifier hs-var">destKeyName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-288"></span><span>          </span><span id="local-6989586621679909011"><span class="annot"><span class="annottext">ShelleyGenesis
</span><a href="#local-6989586621679909011"><span class="hs-identifier hs-var">genesis</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM ShelleyGenesis
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvGenesis"><span class="hs-identifier hs-var">getEnvGenesis</span></a></span><span>
</span><span id="line-289"></span><span>          </span><span id="local-6989586621679909013"><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679909013"><span class="hs-identifier hs-var">destKey</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM (SigningKey PaymentKey)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvKeys"><span class="hs-identifier hs-var">getEnvKeys</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909010"><span class="hs-identifier hs-var">destKeyName</span></a></span><span>
</span><span id="line-290"></span><span>          </span><span id="local-6989586621679909014"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909014"><span class="hs-identifier hs-var">destWallet</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909008"><span class="hs-identifier hs-var">wallet</span></a></span><span>
</span><span id="line-291"></span><span>          </span><span id="local-6989586621679909015"><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679909015"><span class="hs-identifier hs-var">genesisKey</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM (SigningKey PaymentKey)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvKeys"><span class="hs-identifier hs-var">getEnvKeys</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909009"><span class="hs-identifier hs-var">genesisKeyName</span></a></span><span>
</span><span id="line-292"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679909016"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679909016"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679909017"><span class="annot"><span class="annottext">Fund
</span><a href="#local-6989586621679909017"><span class="hs-identifier hs-var">fund</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(TxGenError -&gt; Error)
-&gt; ExceptT TxGenError (RWST EnvConsts () Env IO) (Tx era, Fund)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) (Tx era, Fund)
forall (m :: * -&gt; *) x y a.
Functor m =&gt;
(x -&gt; y) -&gt; ExceptT x m a -&gt; ExceptT y m a
</span><a href="file:///nix/store/1b4my2m47g921s9na6vjrjsbp0aa7pkc-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#firstExceptT"><span class="hs-identifier hs-var">firstExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#TxGenError"><span class="hs-identifier hs-var">Env.TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT TxGenError (RWST EnvConsts () Env IO) (Tx era, Fund)
 -&gt; ExceptT Error (RWST EnvConsts () Env IO) (Tx era, Fund))
-&gt; ExceptT TxGenError (RWST EnvConsts () Env IO) (Tx era, Fund)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) (Tx era, Fund)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Either TxGenError (Tx era, Fund)
-&gt; ExceptT TxGenError (RWST EnvConsts () Env IO) (Tx era, Fund)
forall (m :: * -&gt; *) x a. Monad m =&gt; Either x a -&gt; ExceptT x m a
</span><a href="file:///nix/store/1b4my2m47g921s9na6vjrjsbp0aa7pkc-transformers-except-lib-transformers-except-0.1.4-haddock-doc/share/doc/transformers-except/html/src/Control.Monad.Trans.Except.Extra.html#hoistEither"><span class="hs-identifier hs-var">hoistEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era, Fund)
 -&gt; ExceptT TxGenError (RWST EnvConsts () Env IO) (Tx era, Fund))
-&gt; Either TxGenError (Tx era, Fund)
-&gt; ExceptT TxGenError (RWST EnvConsts () Env IO) (Tx era, Fund)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-293"></span><span>            </span><span class="annot"><span class="annottext">NetworkId
-&gt; ShelleyGenesis
-&gt; SigningKey PaymentKey
-&gt; SigningKey PaymentKey
-&gt; TxGenTxParams
-&gt; Either TxGenError (Tx era, Fund)
forall era.
IsShelleyBasedEra era =&gt;
NetworkId
-&gt; ShelleyGenesis
-&gt; SigningKey PaymentKey
-&gt; SigningKey PaymentKey
-&gt; TxGenTxParams
-&gt; Either TxGenError (Tx era, Fund)
</span><a href="Cardano.TxGenerator.Genesis.html#genesisSecureInitialFund"><span class="hs-identifier hs-var">Genesis.genesisSecureInitialFund</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679909001"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis
</span><a href="#local-6989586621679909011"><span class="hs-identifier hs-var">genesis</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679909015"><span class="hs-identifier hs-var">genesisKey</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679909013"><span class="hs-identifier hs-var">destKey</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679908996"><span class="hs-identifier hs-var">txParams</span></a></span><span>
</span><span id="line-294"></span><span>          </span><span class="hs-keyword">let</span><span>
</span><span id="line-295"></span><span>            </span><span id="local-6989586621679909021"><span class="annot"><span class="annottext">gen :: IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679909021"><span class="hs-identifier hs-var hs-var">gen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-296"></span><span>              </span><span class="annot"><span class="annottext">WalletRef -&gt; Fund -&gt; IO ()
</span><a href="Cardano.Benchmarking.Wallet.html#walletRefInsertFund"><span class="hs-identifier hs-var">walletRefInsertFund</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909014"><span class="hs-identifier hs-var">destWallet</span></a></span><span> </span><span class="annot"><span class="annottext">Fund
</span><a href="#local-6989586621679909017"><span class="hs-identifier hs-var">fund</span></a></span><span>
</span><span id="line-297"></span><span>              </span><span class="annot"><span class="annottext">Either TxGenError (Tx era) -&gt; IO (Either TxGenError (Tx era))
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era) -&gt; IO (Either TxGenError (Tx era)))
-&gt; Either TxGenError (Tx era) -&gt; IO (Either TxGenError (Tx era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; Either TxGenError (Tx era)
forall a b. b -&gt; Either a b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679909016"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-298"></span><span>          </span><span class="annot"><span class="annottext">TxStream IO era -&gt; ActionM (TxStream IO era)
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(TxStream IO era -&gt; ActionM (TxStream IO era))
-&gt; TxStream IO era -&gt; ActionM (TxStream IO era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IO (TxStream IO era) -&gt; TxStream IO era
forall (m :: * -&gt; *) (f :: * -&gt; *) r.
(Monad m, Functor f) =&gt;
m (Stream f m r) -&gt; Stream f m r
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Internal.html#effect"><span class="hs-identifier hs-var">Streaming.effect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either TxGenError (Tx era) -&gt; TxStream IO era
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; Stream (Of a) m ()
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#yield"><span class="hs-identifier hs-var">Streaming.yield</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era) -&gt; TxStream IO era)
-&gt; IO (Either TxGenError (Tx era)) -&gt; IO (TxStream IO era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679909021"><span class="hs-identifier hs-var">gen</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span>        </span><span class="hs-comment">-- 'Split' combines regular payments and payments for change.</span><span>
</span><span id="line-301"></span><span>        </span><span class="hs-comment">-- There are lists of payments buried in the 'PayWithChange'</span><span>
</span><span id="line-302"></span><span>        </span><span class="hs-comment">-- type conditionally sent back by 'Utils.includeChange', to</span><span>
</span><span id="line-303"></span><span>        </span><span class="hs-comment">-- then be used while partially applied as the @valueSplitter@</span><span>
</span><span id="line-304"></span><span>        </span><span class="hs-comment">-- in 'sourceToStoreTransactionNew'.</span><span>
</span><span id="line-305"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Split"><span class="hs-identifier hs-type">Split</span></a></span><span> </span><span id="local-6989586621679909025"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909025"><span class="hs-identifier hs-var">walletName</span></a></span></span><span> </span><span id="local-6989586621679909026"><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679909026"><span class="hs-identifier hs-var">payMode</span></a></span></span><span> </span><span id="local-6989586621679909027"><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679909027"><span class="hs-identifier hs-var">payModeChange</span></a></span></span><span> </span><span id="local-6989586621679909028"><span class="annot"><span class="annottext">[Coin]
</span><a href="#local-6989586621679909028"><span class="hs-identifier hs-var">coins</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-306"></span><span>          </span><span id="local-6989586621679909029"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909029"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909025"><span class="hs-identifier hs-var">walletName</span></a></span><span>
</span><span id="line-307"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679909030"><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679909030"><span class="hs-identifier hs-var">toUTxO</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679909031"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909031"><span class="hs-identifier hs-var">addressOut</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
forall era.
IsShelleyBasedEra era =&gt;
PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
</span><a href="Cardano.Benchmarking.Script.Core.html#interpretPayMode"><span class="hs-identifier hs-var">interpretPayMode</span></a></span><span> </span><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679909026"><span class="hs-identifier hs-var">payMode</span></a></span><span>
</span><span id="line-308"></span><span>          </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;split output address : &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909031"><span class="hs-identifier hs-var">addressOut</span></a></span><span>
</span><span id="line-309"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679909033"><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679909033"><span class="hs-identifier hs-var">toUTxOChange</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679909034"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909034"><span class="hs-identifier hs-var">addressChange</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
forall era.
IsShelleyBasedEra era =&gt;
PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
</span><a href="Cardano.Benchmarking.Script.Core.html#interpretPayMode"><span class="hs-identifier hs-var">interpretPayMode</span></a></span><span> </span><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679909027"><span class="hs-identifier hs-var">payModeChange</span></a></span><span>
</span><span id="line-310"></span><span>          </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;split change address : &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909034"><span class="hs-identifier hs-var">addressChange</span></a></span><span>
</span><span id="line-311"></span><span>          </span><span class="hs-keyword">let</span><span>
</span><span id="line-312"></span><span>            </span><span id="local-6989586621679909035"><span class="annot"><span class="annottext">fundSource :: FundSource IO
</span><a href="#local-6989586621679909035"><span class="hs-identifier hs-var hs-var">fundSource</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WalletRef -&gt; Int -&gt; FundSource IO
</span><a href="Cardano.Benchmarking.Wallet.html#walletSource"><span class="hs-identifier hs-var">walletSource</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909029"><span class="hs-identifier hs-var">wallet</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-313"></span><span>            </span><span id="local-6989586621679909037"><span class="annot"><span class="annottext">inToOut :: [Coin] -&gt; PayWithChange
</span><a href="#local-6989586621679909037"><span class="hs-identifier hs-var hs-var">inToOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Coin -&gt; [Coin] -&gt; [Coin] -&gt; PayWithChange
</span><a href="Cardano.TxGenerator.Utils.html#includeChange"><span class="hs-identifier hs-var">Utils.includeChange</span></a></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679908999"><span class="hs-identifier hs-var">fee</span></a></span><span> </span><span class="annot"><span class="annottext">[Coin]
</span><a href="#local-6989586621679909028"><span class="hs-identifier hs-var">coins</span></a></span><span>
</span><span id="line-314"></span><span>            </span><span id="local-6989586621679909039"><span class="annot"><span class="annottext">txGenerator :: TxGenerator era
</span><a href="#local-6989586621679909039"><span class="hs-identifier hs-var hs-var">txGenerator</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; LedgerProtocolParameters era
-&gt; (TxInsCollateral era, [Fund])
-&gt; TxFee era
-&gt; TxMetadataInEra era
-&gt; TxGenerator era
forall era.
IsShelleyBasedEra era =&gt;
ShelleyBasedEra era
-&gt; LedgerProtocolParameters era
-&gt; (TxInsCollateral era, [Fund])
-&gt; TxFee era
-&gt; TxMetadataInEra era
-&gt; TxGenerator era
</span><a href="Cardano.TxGenerator.Tx.html#genTx"><span class="hs-identifier hs-var">genTx</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEra"><span class="hs-identifier hs-var">shelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621679909006"><span class="hs-identifier hs-var">ledgerParameters</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInsCollateral era
forall era. TxInsCollateral era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxInsCollateralNone"><span class="hs-identifier hs-var">TxInsCollateralNone</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxFee era
</span><a href="#local-6989586621679909042"><span class="hs-identifier hs-var">feeInEra</span></a></span><span> </span><span class="annot"><span class="annottext">TxMetadataInEra era
forall era. TxMetadataInEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMetadataNone"><span class="hs-identifier hs-var">TxMetadataNone</span></a></span><span>
</span><span id="line-315"></span><span>            </span><span id="local-6989586621679909043"><span class="annot"><span class="annottext">sourceToStore :: IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679909043"><span class="hs-identifier hs-var hs-var">sourceToStore</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxGenerator era
-&gt; FundSource IO
-&gt; ([Coin] -&gt; PayWithChange)
-&gt; CreateAndStoreList IO era PayWithChange
-&gt; IO (Either TxGenError (Tx era))
forall (m :: * -&gt; *) era split.
Monad m =&gt;
TxGenerator era
-&gt; FundSource m
-&gt; ([Coin] -&gt; split)
-&gt; CreateAndStoreList m era split
-&gt; m (Either TxGenError (Tx era))
</span><a href="Cardano.TxGenerator.Tx.html#sourceToStoreTransactionNew"><span class="hs-identifier hs-var">sourceToStoreTransactionNew</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenerator era
</span><a href="#local-6989586621679909039"><span class="hs-identifier hs-var">txGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">FundSource IO
</span><a href="#local-6989586621679909035"><span class="hs-identifier hs-var">fundSource</span></a></span><span> </span><span class="annot"><span class="annottext">[Coin] -&gt; PayWithChange
</span><a href="#local-6989586621679909037"><span class="hs-identifier hs-var">inToOut</span></a></span><span> </span><span class="annot"><span class="annottext">(CreateAndStoreList IO era PayWithChange
 -&gt; IO (Either TxGenError (Tx era)))
-&gt; CreateAndStoreList IO era PayWithChange
-&gt; IO (Either TxGenError (Tx era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era
-&gt; CreateAndStore IO era -&gt; CreateAndStoreList IO era PayWithChange
forall (m :: * -&gt; *) era.
Monad m =&gt;
CreateAndStore m era
-&gt; CreateAndStore m era -&gt; CreateAndStoreList m era PayWithChange
</span><a href="Cardano.Benchmarking.Wallet.html#mangleWithChange"><span class="hs-identifier hs-var">mangleWithChange</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679909033"><span class="hs-identifier hs-var">toUTxOChange</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679909030"><span class="hs-identifier hs-var">toUTxO</span></a></span><span>
</span><span id="line-316"></span><span>          </span><span class="annot"><span class="annottext">TxStream IO era -&gt; ActionM (TxStream IO era)
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(TxStream IO era -&gt; ActionM (TxStream IO era))
-&gt; TxStream IO era -&gt; ActionM (TxStream IO era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IO (TxStream IO era) -&gt; TxStream IO era
forall (m :: * -&gt; *) (f :: * -&gt; *) r.
(Monad m, Functor f) =&gt;
m (Stream f m r) -&gt; Stream f m r
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Internal.html#effect"><span class="hs-identifier hs-var">Streaming.effect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either TxGenError (Tx era) -&gt; TxStream IO era
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; Stream (Of a) m ()
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#yield"><span class="hs-identifier hs-var">Streaming.yield</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era) -&gt; TxStream IO era)
-&gt; IO (Either TxGenError (Tx era)) -&gt; IO (TxStream IO era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679909043"><span class="hs-identifier hs-var">sourceToStore</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span>        </span><span class="hs-comment">-- The 'SplitN' case's call chain is somewhat elaborate.</span><span>
</span><span id="line-319"></span><span>        </span><span class="hs-comment">-- The division is done in 'Utils.inputsToOutputsWithFee'</span><span>
</span><span id="line-320"></span><span>        </span><span class="hs-comment">-- but things are threaded through</span><span>
</span><span id="line-321"></span><span>        </span><span class="hs-comment">-- 'Cardano.Benchmarking.Wallet.mangle' and packed into</span><span>
</span><span id="line-322"></span><span>        </span><span class="hs-comment">-- the transaction assembled by 'sourceToStoreTransactionNew'.</span><span>
</span><span id="line-323"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#SplitN"><span class="hs-identifier hs-type">SplitN</span></a></span><span> </span><span id="local-6989586621679909047"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909047"><span class="hs-identifier hs-var">walletName</span></a></span></span><span> </span><span id="local-6989586621679909048"><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679909048"><span class="hs-identifier hs-var">payMode</span></a></span></span><span> </span><span id="local-6989586621679909049"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679909049"><span class="hs-identifier hs-var">count</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-324"></span><span>          </span><span id="local-6989586621679909050"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909050"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909047"><span class="hs-identifier hs-var">walletName</span></a></span><span>
</span><span id="line-325"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679909051"><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679909051"><span class="hs-identifier hs-var">toUTxO</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679909052"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909052"><span class="hs-identifier hs-var">addressOut</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
forall era.
IsShelleyBasedEra era =&gt;
PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
</span><a href="Cardano.Benchmarking.Script.Core.html#interpretPayMode"><span class="hs-identifier hs-var">interpretPayMode</span></a></span><span> </span><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679909048"><span class="hs-identifier hs-var">payMode</span></a></span><span>
</span><span id="line-326"></span><span>          </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;SplitN output address : &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909052"><span class="hs-identifier hs-var">addressOut</span></a></span><span>
</span><span id="line-327"></span><span>          </span><span class="hs-keyword">let</span><span>
</span><span id="line-328"></span><span>            </span><span id="local-6989586621679909053"><span class="annot"><span class="annottext">fundSource :: FundSource IO
</span><a href="#local-6989586621679909053"><span class="hs-identifier hs-var hs-var">fundSource</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WalletRef -&gt; Int -&gt; FundSource IO
</span><a href="Cardano.Benchmarking.Wallet.html#walletSource"><span class="hs-identifier hs-var">walletSource</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909050"><span class="hs-identifier hs-var">wallet</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-329"></span><span>            </span><span id="local-6989586621679909054"><span class="annot"><span class="annottext">inToOut :: [Coin] -&gt; [Coin]
</span><a href="#local-6989586621679909054"><span class="hs-identifier hs-var hs-var">inToOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Int -&gt; [Coin] -&gt; [Coin]
</span><a href="Cardano.TxGenerator.Utils.html#inputsToOutputsWithFee"><span class="hs-identifier hs-var">Utils.inputsToOutputsWithFee</span></a></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679908999"><span class="hs-identifier hs-var">fee</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679909049"><span class="hs-identifier hs-var">count</span></a></span><span>
</span><span id="line-330"></span><span>            </span><span id="local-6989586621679909056"><span class="annot"><span class="annottext">txGenerator :: TxGenerator era
</span><a href="#local-6989586621679909056"><span class="hs-identifier hs-var hs-var">txGenerator</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; LedgerProtocolParameters era
-&gt; (TxInsCollateral era, [Fund])
-&gt; TxFee era
-&gt; TxMetadataInEra era
-&gt; TxGenerator era
forall era.
IsShelleyBasedEra era =&gt;
ShelleyBasedEra era
-&gt; LedgerProtocolParameters era
-&gt; (TxInsCollateral era, [Fund])
-&gt; TxFee era
-&gt; TxMetadataInEra era
-&gt; TxGenerator era
</span><a href="Cardano.TxGenerator.Tx.html#genTx"><span class="hs-identifier hs-var">genTx</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEra"><span class="hs-identifier hs-var">shelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621679909006"><span class="hs-identifier hs-var">ledgerParameters</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInsCollateral era
forall era. TxInsCollateral era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxInsCollateralNone"><span class="hs-identifier hs-var">TxInsCollateralNone</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxFee era
</span><a href="#local-6989586621679909042"><span class="hs-identifier hs-var">feeInEra</span></a></span><span> </span><span class="annot"><span class="annottext">TxMetadataInEra era
forall era. TxMetadataInEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxMetadataNone"><span class="hs-identifier hs-var">TxMetadataNone</span></a></span><span>
</span><span id="line-331"></span><span>            </span><span id="local-6989586621679909057"><span class="annot"><span class="annottext">sourceToStore :: IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679909057"><span class="hs-identifier hs-var hs-var">sourceToStore</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxGenerator era
-&gt; FundSource IO
-&gt; ([Coin] -&gt; [Coin])
-&gt; CreateAndStoreList IO era [Coin]
-&gt; IO (Either TxGenError (Tx era))
forall (m :: * -&gt; *) era split.
Monad m =&gt;
TxGenerator era
-&gt; FundSource m
-&gt; ([Coin] -&gt; split)
-&gt; CreateAndStoreList m era split
-&gt; m (Either TxGenError (Tx era))
</span><a href="Cardano.TxGenerator.Tx.html#sourceToStoreTransactionNew"><span class="hs-identifier hs-var">sourceToStoreTransactionNew</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenerator era
</span><a href="#local-6989586621679909056"><span class="hs-identifier hs-var">txGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">FundSource IO
</span><a href="#local-6989586621679909053"><span class="hs-identifier hs-var">fundSource</span></a></span><span> </span><span class="annot"><span class="annottext">[Coin] -&gt; [Coin]
</span><a href="#local-6989586621679909054"><span class="hs-identifier hs-var">inToOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Coin]
forall (m :: * -&gt; *) era.
Monad m =&gt;
[CreateAndStore m era] -&gt; CreateAndStoreList m era [Coin]
</span><a href="Cardano.Benchmarking.Wallet.html#mangle"><span class="hs-identifier hs-var">mangle</span></a></span><span> </span><span class="annot"><span class="annottext">([CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Coin])
-&gt; [CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Coin]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era -&gt; [CreateAndStore IO era]
forall a. a -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#repeat"><span class="hs-identifier hs-var">repeat</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679909051"><span class="hs-identifier hs-var">toUTxO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-332"></span><span>          </span><span class="annot"><span class="annottext">TxStream IO era -&gt; ActionM (TxStream IO era)
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(TxStream IO era -&gt; ActionM (TxStream IO era))
-&gt; TxStream IO era -&gt; ActionM (TxStream IO era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IO (TxStream IO era) -&gt; TxStream IO era
forall (m :: * -&gt; *) (f :: * -&gt; *) r.
(Monad m, Functor f) =&gt;
m (Stream f m r) -&gt; Stream f m r
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Internal.html#effect"><span class="hs-identifier hs-var">Streaming.effect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either TxGenError (Tx era) -&gt; TxStream IO era
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; Stream (Of a) m ()
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#yield"><span class="hs-identifier hs-var">Streaming.yield</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era) -&gt; TxStream IO era)
-&gt; IO (Either TxGenError (Tx era)) -&gt; IO (TxStream IO era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679909057"><span class="hs-identifier hs-var">sourceToStore</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#NtoM"><span class="hs-identifier hs-type">NtoM</span></a></span><span> </span><span id="local-6989586621679909061"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909061"><span class="hs-identifier hs-var">walletName</span></a></span></span><span> </span><span id="local-6989586621679909062"><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679909062"><span class="hs-identifier hs-var">payMode</span></a></span></span><span> </span><span id="local-6989586621679909063"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679909063"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621679909064"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679909064"><span class="hs-identifier hs-var">outputs</span></a></span></span><span> </span><span id="local-6989586621679909065"><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679909065"><span class="hs-identifier hs-var">metadataSize</span></a></span></span><span> </span><span id="local-6989586621679909066"><span class="annot"><span class="annottext">Maybe [Char]
</span><a href="#local-6989586621679909066"><span class="hs-identifier hs-var">collateralWallet</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-335"></span><span>          </span><span id="local-6989586621679909067"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909067"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909061"><span class="hs-identifier hs-var">walletName</span></a></span><span>
</span><span id="line-336"></span><span>          </span><span id="local-6989586621679909068"><span class="annot"><span class="annottext">(TxInsCollateral era, [Fund])
</span><a href="#local-6989586621679909068"><span class="hs-identifier hs-var">collaterals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe [Char] -&gt; ActionM (TxInsCollateral era, [Fund])
forall era.
IsShelleyBasedEra era =&gt;
Maybe [Char] -&gt; ActionM (TxInsCollateral era, [Fund])
</span><a href="Cardano.Benchmarking.Script.Core.html#selectCollateralFunds"><span class="hs-identifier hs-var">selectCollateralFunds</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [Char]
</span><a href="#local-6989586621679909066"><span class="hs-identifier hs-var">collateralWallet</span></a></span><span>
</span><span id="line-337"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679909070"><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679909070"><span class="hs-identifier hs-var">toUTxO</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679909071"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909071"><span class="hs-identifier hs-var">addressOut</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
forall era.
IsShelleyBasedEra era =&gt;
PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
</span><a href="Cardano.Benchmarking.Script.Core.html#interpretPayMode"><span class="hs-identifier hs-var">interpretPayMode</span></a></span><span> </span><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679909062"><span class="hs-identifier hs-var">payMode</span></a></span><span>
</span><span id="line-338"></span><span>          </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NtoM output address : &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909071"><span class="hs-identifier hs-var">addressOut</span></a></span><span>
</span><span id="line-339"></span><span>          </span><span class="hs-keyword">let</span><span>
</span><span id="line-340"></span><span>            </span><span id="local-6989586621679909072"><span class="annot"><span class="annottext">fundSource :: FundSource IO
</span><a href="#local-6989586621679909072"><span class="hs-identifier hs-var hs-var">fundSource</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WalletRef -&gt; Int -&gt; FundSource IO
</span><a href="Cardano.Benchmarking.Wallet.html#walletSource"><span class="hs-identifier hs-var">walletSource</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909067"><span class="hs-identifier hs-var">wallet</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679909063"><span class="hs-identifier hs-var">inputs</span></a></span><span>
</span><span id="line-341"></span><span>            </span><span id="local-6989586621679909073"><span class="annot"><span class="annottext">inToOut :: [Coin] -&gt; [Coin]
</span><a href="#local-6989586621679909073"><span class="hs-identifier hs-var hs-var">inToOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Int -&gt; [Coin] -&gt; [Coin]
</span><a href="Cardano.TxGenerator.Utils.html#inputsToOutputsWithFee"><span class="hs-identifier hs-var">Utils.inputsToOutputsWithFee</span></a></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679908999"><span class="hs-identifier hs-var">fee</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679909064"><span class="hs-identifier hs-var">outputs</span></a></span><span>
</span><span id="line-342"></span><span>            </span><span id="local-6989586621679909074"><span class="annot"><span class="annottext">txGenerator :: TxGenerator era
</span><a href="#local-6989586621679909074"><span class="hs-identifier hs-var hs-var">txGenerator</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; LedgerProtocolParameters era
-&gt; (TxInsCollateral era, [Fund])
-&gt; TxFee era
-&gt; TxMetadataInEra era
-&gt; TxGenerator era
forall era.
IsShelleyBasedEra era =&gt;
ShelleyBasedEra era
-&gt; LedgerProtocolParameters era
-&gt; (TxInsCollateral era, [Fund])
-&gt; TxFee era
-&gt; TxMetadataInEra era
-&gt; TxGenerator era
</span><a href="Cardano.TxGenerator.Tx.html#genTx"><span class="hs-identifier hs-var">genTx</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEra"><span class="hs-identifier hs-var">shelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerProtocolParameters era
</span><a href="#local-6989586621679909006"><span class="hs-identifier hs-var">ledgerParameters</span></a></span><span> </span><span class="annot"><span class="annottext">(TxInsCollateral era, [Fund])
</span><a href="#local-6989586621679909068"><span class="hs-identifier hs-var">collaterals</span></a></span><span> </span><span class="annot"><span class="annottext">TxFee era
</span><a href="#local-6989586621679909042"><span class="hs-identifier hs-var">feeInEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Int -&gt; TxMetadataInEra era
forall era.
IsShelleyBasedEra era =&gt;
Maybe Int -&gt; TxMetadataInEra era
</span><a href="Cardano.Benchmarking.Script.Core.html#toMetadata"><span class="hs-identifier hs-var">toMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679909065"><span class="hs-identifier hs-var">metadataSize</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span>            </span><span id="local-6989586621679909075"><span class="annot"><span class="annottext">sourceToStore :: IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679909075"><span class="hs-identifier hs-var hs-var">sourceToStore</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxGenerator era
-&gt; FundSource IO
-&gt; ([Coin] -&gt; [Coin])
-&gt; CreateAndStoreList IO era [Coin]
-&gt; IO (Either TxGenError (Tx era))
forall (m :: * -&gt; *) era split.
Monad m =&gt;
TxGenerator era
-&gt; FundSource m
-&gt; ([Coin] -&gt; split)
-&gt; CreateAndStoreList m era split
-&gt; m (Either TxGenError (Tx era))
</span><a href="Cardano.TxGenerator.Tx.html#sourceToStoreTransactionNew"><span class="hs-identifier hs-var">sourceToStoreTransactionNew</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenerator era
</span><a href="#local-6989586621679909074"><span class="hs-identifier hs-var">txGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">FundSource IO
</span><a href="#local-6989586621679909072"><span class="hs-identifier hs-var">fundSource</span></a></span><span> </span><span class="annot"><span class="annottext">[Coin] -&gt; [Coin]
</span><a href="#local-6989586621679909073"><span class="hs-identifier hs-var">inToOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Coin]
forall (m :: * -&gt; *) era.
Monad m =&gt;
[CreateAndStore m era] -&gt; CreateAndStoreList m era [Coin]
</span><a href="Cardano.Benchmarking.Wallet.html#mangle"><span class="hs-identifier hs-var">mangle</span></a></span><span> </span><span class="annot"><span class="annottext">([CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Coin])
-&gt; [CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Coin]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era -&gt; [CreateAndStore IO era]
forall a. a -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#repeat"><span class="hs-identifier hs-var">repeat</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679909070"><span class="hs-identifier hs-var">toUTxO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span>          </span><span id="local-6989586621679909076"><span class="annot"><span class="annottext">[Fund]
</span><a href="#local-6989586621679909076"><span class="hs-identifier hs-var">fundPreview</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO [Fund] -&gt; ExceptT Error (RWST EnvConsts () Env IO) [Fund]
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO [Fund] -&gt; ExceptT Error (RWST EnvConsts () Env IO) [Fund])
-&gt; IO [Fund] -&gt; ExceptT Error (RWST EnvConsts () Env IO) [Fund]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef -&gt; Int -&gt; IO [Fund]
</span><a href="Cardano.Benchmarking.Wallet.html#walletPreview"><span class="hs-identifier hs-var">walletPreview</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909067"><span class="hs-identifier hs-var">wallet</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679909063"><span class="hs-identifier hs-var">inputs</span></a></span><span>
</span><span id="line-346"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TxGenerator era
-&gt; [Fund]
-&gt; ([Coin] -&gt; [Coin])
-&gt; CreateAndStoreList IO era [Coin]
-&gt; Either TxGenError (Tx era)
forall era split (m :: * -&gt; *).
TxGenerator era
-&gt; [Fund]
-&gt; ([Coin] -&gt; split)
-&gt; CreateAndStoreList m era split
-&gt; Either TxGenError (Tx era)
</span><a href="Cardano.TxGenerator.Tx.html#sourceTransactionPreview"><span class="hs-identifier hs-var">sourceTransactionPreview</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenerator era
</span><a href="#local-6989586621679909074"><span class="hs-identifier hs-var">txGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">[Fund]
</span><a href="#local-6989586621679909076"><span class="hs-identifier hs-var">fundPreview</span></a></span><span> </span><span class="annot"><span class="annottext">[Coin] -&gt; [Coin]
</span><a href="#local-6989586621679909073"><span class="hs-identifier hs-var">inToOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Coin]
forall (m :: * -&gt; *) era.
Monad m =&gt;
[CreateAndStore m era] -&gt; CreateAndStoreList m era [Coin]
</span><a href="Cardano.Benchmarking.Wallet.html#mangle"><span class="hs-identifier hs-var">mangle</span></a></span><span> </span><span class="annot"><span class="annottext">([CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Coin])
-&gt; [CreateAndStore IO era] -&gt; CreateAndStoreList IO era [Coin]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era -&gt; [CreateAndStore IO era]
forall a. a -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#repeat"><span class="hs-identifier hs-var">repeat</span></a></span><span> </span><span class="annot"><span class="annottext">CreateAndStore IO era
</span><a href="#local-6989586621679909070"><span class="hs-identifier hs-var">toUTxO</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-347"></span><span>            </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679909079"><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679909079"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Error creating Tx preview: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679909079"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-348"></span><span>            </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679909080"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679909080"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-349"></span><span>              </span><span class="hs-keyword">let</span><span>
</span><span id="line-350"></span><span>                </span><span id="local-6989586621679909081"><span class="annot"><span class="annottext">txSize :: Int
</span><a href="#local-6989586621679909081"><span class="hs-identifier hs-var hs-var">txSize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; Int
forall era. IsShelleyBasedEra era =&gt; Tx era -&gt; Int
</span><a href="Cardano.TxGenerator.Tx.html#txSizeInBytes"><span class="hs-identifier hs-var">txSizeInBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679909080"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-351"></span><span>                </span><span id="local-6989586621679909083"><span class="annot"><span class="annottext">txFeeEstimate :: Maybe Coin
</span><a href="#local-6989586621679909083"><span class="hs-identifier hs-var hs-var">txFeeEstimate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; ProtocolParameters
-&gt; Either
     ProtocolParametersConversionError (PParams (ShelleyLedgerEra era))
forall era.
ShelleyBasedEra era
-&gt; ProtocolParameters
-&gt; Either
     ProtocolParametersConversionError (PParams (ShelleyLedgerEra era))
</span><a href="Cardano.TxGenerator.ProtocolParameters.html#toLedgerPParams"><span class="hs-identifier hs-var">toLedgerPParams</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEra"><span class="hs-identifier hs-var">shelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679909002"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-352"></span><span>                  </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Coin
forall a. Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-353"></span><span>                  </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679909085"><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621679909085"><span class="hs-identifier hs-var">ledgerPParams</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Maybe Coin
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(Coin -&gt; Maybe Coin) -&gt; Coin -&gt; Maybe Coin
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-354"></span><span>                    </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; PParams (ShelleyLedgerEra era)
-&gt; TxBody era
-&gt; Word
-&gt; Word
-&gt; Int
-&gt; Coin
forall era.
ShelleyBasedEra era
-&gt; PParams (ShelleyLedgerEra era)
-&gt; TxBody era
-&gt; Word
-&gt; Word
-&gt; Int
-&gt; Coin
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Fee.html#evaluateTransactionFee"><span class="hs-identifier hs-var">evaluateTransactionFee</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEra"><span class="hs-identifier hs-var">shelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">PParams (ShelleyLedgerEra era)
</span><a href="#local-6989586621679909085"><span class="hs-identifier hs-var">ledgerPParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tx era -&gt; TxBody era
forall era. Tx era -&gt; TxBody era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Sign.html#getTxBody"><span class="hs-identifier hs-var">getTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679909080"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Word) -&gt; Int -&gt; Word
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679909063"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>    </span><span class="hs-comment">-- 1 key witness per tx input + 1 collateral</span><span>
</span><span id="line-355"></span><span>              </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Projected Tx size in bytes: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679909081"><span class="hs-identifier hs-var">txSize</span></a></span><span>
</span><span id="line-356"></span><span>              </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Projected Tx fee in Coin: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Coin -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Coin
</span><a href="#local-6989586621679909083"><span class="hs-identifier hs-var">txFeeEstimate</span></a></span><span>
</span><span id="line-357"></span><span>              </span><span class="hs-comment">-- TODO: possibly emit a warning when (Just txFeeEstimate) is lower than specified by config in TxGenTxParams.txFee</span><span>
</span><span id="line-358"></span><span>              </span><span id="local-6989586621679909089"><span class="annot"><span class="annottext">Maybe PlutusBudgetSummary
</span><a href="#local-6989586621679909089"><span class="hs-identifier hs-var">summary_</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM (Maybe PlutusBudgetSummary)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvSummary"><span class="hs-identifier hs-var">getEnvSummary</span></a></span><span>
</span><span id="line-359"></span><span>              </span><span class="annot"><span class="annottext">Maybe PlutusBudgetSummary
-&gt; (PlutusBudgetSummary -&gt; ActionM ()) -&gt; ActionM ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#forM_"><span class="hs-identifier hs-var">forM_</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe PlutusBudgetSummary
</span><a href="#local-6989586621679909089"><span class="hs-identifier hs-var">summary_</span></a></span><span> </span><span class="annot"><span class="annottext">((PlutusBudgetSummary -&gt; ActionM ()) -&gt; ActionM ())
-&gt; (PlutusBudgetSummary -&gt; ActionM ()) -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679909092"><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679909092"><span class="hs-identifier hs-var">summary</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-360"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679909093"><span class="annot"><span class="annottext">summary' :: PlutusBudgetSummary
</span><a href="#local-6989586621679909093"><span class="hs-identifier hs-var hs-var">summary'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679909092"><span class="hs-identifier hs-var">summary</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.PlutusContext.html#projectedTxSize"><span class="hs-identifier hs-var">projectedTxSize</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679909081"><span class="hs-identifier hs-type">txSize</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.PlutusContext.html#projectedTxFee"><span class="hs-identifier hs-var">projectedTxFee</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679909083"><span class="hs-identifier hs-type">txFeeEstimate</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-361"></span><span>                </span><span class="annot"><span class="annottext">PlutusBudgetSummary -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvSummary"><span class="hs-identifier hs-var">setEnvSummary</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679909093"><span class="hs-identifier hs-var">summary'</span></a></span><span>
</span><span id="line-362"></span><span>                </span><span class="annot"><span class="annottext">(forall txId. PlutusBudgetSummary -&gt; TraceBenchTxSubmit txId)
-&gt; PlutusBudgetSummary -&gt; ActionM ()
forall x.
(forall txId. x -&gt; TraceBenchTxSubmit txId) -&gt; x -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceBenchTxSubmit"><span class="hs-identifier hs-var">traceBenchTxSubmit</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBudgetSummary -&gt; TraceBenchTxSubmit txId
forall txId. PlutusBudgetSummary -&gt; TraceBenchTxSubmit txId
</span><a href="Cardano.Benchmarking.LogTypes.html#TraceBenchPlutusBudgetSummary"><span class="hs-identifier hs-var">TraceBenchPlutusBudgetSummary</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679909093"><span class="hs-identifier hs-var">summary'</span></a></span><span>
</span><span id="line-363"></span><span>              </span><span class="annot"><span class="annottext">ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#dumpBudgetSummaryIfExisting"><span class="hs-identifier hs-var">dumpBudgetSummaryIfExisting</span></a></span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span>          </span><span class="annot"><span class="annottext">TxStream IO era -&gt; ActionM (TxStream IO era)
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(TxStream IO era -&gt; ActionM (TxStream IO era))
-&gt; TxStream IO era -&gt; ActionM (TxStream IO era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IO (TxStream IO era) -&gt; TxStream IO era
forall (m :: * -&gt; *) (f :: * -&gt; *) r.
(Monad m, Functor f) =&gt;
m (Stream f m r) -&gt; Stream f m r
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Internal.html#effect"><span class="hs-identifier hs-var">Streaming.effect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either TxGenError (Tx era) -&gt; TxStream IO era
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; Stream (Of a) m ()
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#yield"><span class="hs-identifier hs-var">Streaming.yield</span></a></span><span> </span><span class="annot"><span class="annottext">(Either TxGenError (Tx era) -&gt; TxStream IO era)
-&gt; IO (Either TxGenError (Tx era)) -&gt; IO (TxStream IO era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError (Tx era))
</span><a href="#local-6989586621679909075"><span class="hs-identifier hs-var">sourceToStore</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Sequence"><span class="hs-identifier hs-type">Sequence</span></a></span><span> </span><span id="local-6989586621679909101"><span class="annot"><span class="annottext">[Generator]
</span><a href="#local-6989586621679909101"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-368"></span><span>          </span><span id="local-6989586621679909102"><span class="annot"><span class="annottext">[TxStream IO era]
</span><a href="#local-6989586621679909102"><span class="hs-identifier hs-var">gList</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Generator]
-&gt; (Generator -&gt; ActionM (TxStream IO era))
-&gt; ExceptT Error (RWST EnvConsts () Env IO) [TxStream IO era]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html#forM"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="annot"><span class="annottext">[Generator]
</span><a href="#local-6989586621679909101"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">((Generator -&gt; ActionM (TxStream IO era))
 -&gt; ExceptT Error (RWST EnvConsts () Env IO) [TxStream IO era])
-&gt; (Generator -&gt; ActionM (TxStream IO era))
-&gt; ExceptT Error (RWST EnvConsts () Env IO) [TxStream IO era]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679909104"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679909104"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
forall era.
IsShelleyBasedEra era =&gt;
Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
</span><a href="Cardano.Benchmarking.Script.Core.html#evalGenerator"><span class="hs-identifier hs-var">evalGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679909104"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679908996"><span class="hs-identifier hs-var">txParams</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679909000"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-369"></span><span>          </span><span class="annot"><span class="annottext">TxStream IO era -&gt; ActionM (TxStream IO era)
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(TxStream IO era -&gt; ActionM (TxStream IO era))
-&gt; TxStream IO era -&gt; ActionM (TxStream IO era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Stream (Of (TxStream IO era)) IO ()
-&gt; (TxStream IO era -&gt; TxStream IO era) -&gt; TxStream IO era
forall (m :: * -&gt; *) (f :: * -&gt; *) a r x.
(Monad m, Functor f) =&gt;
Stream (Of a) m r -&gt; (a -&gt; Stream f m x) -&gt; Stream f m r
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#for"><span class="hs-identifier hs-var">Streaming.for</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TxStream IO era] -&gt; Stream (Of (TxStream IO era)) IO ()
forall (m :: * -&gt; *) (f :: * -&gt; *) a.
(Monad m, Foldable f) =&gt;
f a -&gt; Stream (Of a) m ()
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#each"><span class="hs-identifier hs-var">Streaming.each</span></a></span><span> </span><span class="annot"><span class="annottext">[TxStream IO era]
</span><a href="#local-6989586621679909102"><span class="hs-identifier hs-var">gList</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxStream IO era -&gt; TxStream IO era
forall a. a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Cycle"><span class="hs-identifier hs-type">Cycle</span></a></span><span> </span><span id="local-6989586621679909109"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679909109"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxStream IO era -&gt; TxStream IO era
forall (m :: * -&gt; *) (f :: * -&gt; *) r s.
(Monad m, Functor f) =&gt;
Stream f m r -&gt; Stream f m s
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#cycle"><span class="hs-identifier hs-var">Streaming.cycle</span></a></span><span> </span><span class="annot"><span class="annottext">(TxStream IO era -&gt; TxStream IO era)
-&gt; ActionM (TxStream IO era) -&gt; ActionM (TxStream IO era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
forall era.
IsShelleyBasedEra era =&gt;
Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
</span><a href="Cardano.Benchmarking.Script.Core.html#evalGenerator"><span class="hs-identifier hs-var">evalGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679909109"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679908996"><span class="hs-identifier hs-var">txParams</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679909000"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#Take"><span class="hs-identifier hs-type">Take</span></a></span><span> </span><span id="local-6989586621679909112"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679909112"><span class="hs-identifier hs-var">count</span></a></span></span><span> </span><span id="local-6989586621679909113"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679909113"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; TxStream IO era -&gt; TxStream IO era
forall (m :: * -&gt; *) (f :: * -&gt; *) r.
(Monad m, Functor f) =&gt;
Int -&gt; Stream f m r -&gt; Stream f m ()
</span><a href="file:///nix/store/3n4pi38x73w1y5lalfwaxx4hldry2xk5-streaming-lib-streaming-0.2.4.0-haddock-doc/share/doc/streaming/html/src/Streaming.Prelude.html#take"><span class="hs-identifier hs-var">Streaming.take</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679909112"><span class="hs-identifier hs-var">count</span></a></span><span> </span><span class="annot"><span class="annottext">(TxStream IO era -&gt; TxStream IO era)
-&gt; ActionM (TxStream IO era) -&gt; ActionM (TxStream IO era)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
forall era.
IsShelleyBasedEra era =&gt;
Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
</span><a href="Cardano.Benchmarking.Script.Core.html#evalGenerator"><span class="hs-identifier hs-var">evalGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679909113"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679908996"><span class="hs-identifier hs-var">txParams</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679909000"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#RoundRobin"><span class="hs-identifier hs-type">RoundRobin</span></a></span><span> </span><span id="local-6989586621679909116"><span class="annot"><span class="annottext">[Generator]
</span><a href="#local-6989586621679909116"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-376"></span><span>          </span><span id="local-6989586621679909117"><span class="annot"><span class="annottext">[TxStream IO era]
</span><a href="#local-6989586621679909117"><span class="hs-identifier hs-var">_gList</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Generator]
-&gt; (Generator -&gt; ActionM (TxStream IO era))
-&gt; ExceptT Error (RWST EnvConsts () Env IO) [TxStream IO era]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html#forM"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="annot"><span class="annottext">[Generator]
</span><a href="#local-6989586621679909116"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">((Generator -&gt; ActionM (TxStream IO era))
 -&gt; ExceptT Error (RWST EnvConsts () Env IO) [TxStream IO era])
-&gt; (Generator -&gt; ActionM (TxStream IO era))
-&gt; ExceptT Error (RWST EnvConsts () Env IO) [TxStream IO era]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679909118"><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679909118"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
forall era.
IsShelleyBasedEra era =&gt;
Generator
-&gt; TxGenTxParams -&gt; AsType era -&gt; ActionM (TxStream IO era)
</span><a href="Cardano.Benchmarking.Script.Core.html#evalGenerator"><span class="hs-identifier hs-var">evalGenerator</span></a></span><span> </span><span class="annot"><span class="annottext">Generator
</span><a href="#local-6989586621679909118"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenTxParams
</span><a href="#local-6989586621679908996"><span class="hs-identifier hs-var">txParams</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621679909000"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-377"></span><span>          </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM (TxStream IO era)
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;return $ foldr1 Streaming.interleaves gList&quot;</span></span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span>        </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#OneOf"><span class="hs-identifier hs-type">OneOf</span></a></span><span> </span><span id="local-6989586621679909120"><span class="annot"><span class="annottext">[(Generator, Double)]
</span><a href="#local-6989586621679909120"><span class="hs-identifier hs-var">_l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM (TxStream IO era)
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;todo: implement Quickcheck style oneOf generator&quot;</span></span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-382"></span><span>    </span><span id="local-6989586621679909042"><span class="annot"><span class="annottext">feeInEra :: TxFee era
</span><a href="#local-6989586621679909042"><span class="hs-identifier hs-var hs-var">feeInEra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Coin -&gt; TxFee era
forall era. IsShelleyBasedEra era =&gt; Coin -&gt; TxFee era
</span><a href="Cardano.TxGenerator.Utils.html#mkTxFee"><span class="hs-identifier hs-var">Utils.mkTxFee</span></a></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679908999"><span class="hs-identifier hs-var">fee</span></a></span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#selectCollateralFunds"><span class="hs-identifier hs-type">selectCollateralFunds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679908194"><span class="annot"><a href="#local-6989586621679908194"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#IsShelleyBasedEra"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908194"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-385"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-386"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxInsCollateral"><span class="hs-identifier hs-type">TxInsCollateral</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908194"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.TxGenerator.Fund.html#Fund"><span class="hs-identifier hs-type">FundQueue.Fund</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span id="selectCollateralFunds"><span class="annot"><span class="annottext">selectCollateralFunds :: forall era.
IsShelleyBasedEra era =&gt;
Maybe [Char] -&gt; ActionM (TxInsCollateral era, [Fund])
</span><a href="Cardano.Benchmarking.Script.Core.html#selectCollateralFunds"><span class="hs-identifier hs-var hs-var">selectCollateralFunds</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxInsCollateral era, [Fund])
-&gt; ExceptT
     Error (RWST EnvConsts () Env IO) (TxInsCollateral era, [Fund])
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInsCollateral era
forall era. TxInsCollateral era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxInsCollateralNone"><span class="hs-identifier hs-var">TxInsCollateralNone</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-388"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#selectCollateralFunds"><span class="hs-identifier hs-var">selectCollateralFunds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679909140"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909140"><span class="hs-identifier hs-var">walletName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-389"></span><span>  </span><span id="local-6989586621679909141"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909141"><span class="hs-identifier hs-var">cw</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909140"><span class="hs-identifier hs-var">walletName</span></a></span><span>
</span><span id="line-390"></span><span>  </span><span id="local-6989586621679909142"><span class="annot"><span class="annottext">[Fund]
</span><a href="#local-6989586621679909142"><span class="hs-identifier hs-var">collateralFunds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO [Fund] -&gt; ExceptT Error (RWST EnvConsts () Env IO) [Fund]
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">WalletRef -&gt; (FundQueue -&gt; [Fund]) -&gt; IO [Fund]
forall a. WalletRef -&gt; (FundQueue -&gt; a) -&gt; IO a
</span><a href="Cardano.Benchmarking.Wallet.html#askWalletRef"><span class="hs-identifier hs-var">askWalletRef</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909141"><span class="hs-identifier hs-var">cw</span></a></span><span> </span><span class="annot"><span class="annottext">FundQueue -&gt; [Fund]
</span><a href="Cardano.TxGenerator.FundQueue.html#toList"><span class="hs-identifier hs-var">FundQueue.toList</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST EnvConsts () Env IO) [Fund]
-&gt; ([Fund] -&gt; ExceptT Error (RWST EnvConsts () Env IO) [Fund])
-&gt; ExceptT Error (RWST EnvConsts () Env IO) [Fund]
forall a b.
ExceptT Error (RWST EnvConsts () Env IO) a
-&gt; (a -&gt; ExceptT Error (RWST EnvConsts () Env IO) b)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-391"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Error -&gt; ExceptT Error (RWST EnvConsts () Env IO) [Fund]
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error -&gt; ExceptT Error (RWST EnvConsts () Env IO) [Fund])
-&gt; Error -&gt; ExceptT Error (RWST EnvConsts () Env IO) [Fund]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#WalletError"><span class="hs-identifier hs-var">WalletError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;selectCollateralFunds: emptylist&quot;</span></span><span>
</span><span id="line-392"></span><span>    </span><span id="local-6989586621679909146"><span class="annot"><span class="annottext">[Fund]
</span><a href="#local-6989586621679909146"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Fund] -&gt; ExceptT Error (RWST EnvConsts () Env IO) [Fund]
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">[Fund]
</span><a href="#local-6989586621679909146"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-393"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; Maybe (AlonzoEraOnwards era)
forall (eon :: * -&gt; *) era.
Eon eon =&gt;
CardanoEra era -&gt; Maybe (eon era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#forEraMaybeEon"><span class="hs-identifier hs-var">forEraMaybeEon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsCardanoEra era =&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#cardanoEra"><span class="hs-identifier hs-var">cardanoEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679908194"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-394"></span><span>      </span><span class="annot"><span class="annottext">Maybe (AlonzoEraOnwards era)
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Error
-&gt; ExceptT
     Error (RWST EnvConsts () Env IO) (TxInsCollateral era, [Fund])
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error
 -&gt; ExceptT
      Error (RWST EnvConsts () Env IO) (TxInsCollateral era, [Fund]))
-&gt; Error
-&gt; ExceptT
     Error (RWST EnvConsts () Env IO) (TxInsCollateral era, [Fund])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#WalletError"><span class="hs-identifier hs-var">WalletError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Error) -&gt; [Char] -&gt; Error
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;selectCollateralFunds: collateral: era not supported :&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsCardanoEra era =&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#cardanoEra"><span class="hs-identifier hs-var">cardanoEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679908194"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-395"></span><span>      </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679909148"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621679909148"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TxInsCollateral era, [Fund])
-&gt; ExceptT
     Error (RWST EnvConsts () Env IO) (TxInsCollateral era, [Fund])
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AlonzoEraOnwards era -&gt; [TxIn] -&gt; TxInsCollateral era
forall era. AlonzoEraOnwards era -&gt; [TxIn] -&gt; TxInsCollateral era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Tx.Internal.Body.html#TxInsCollateral"><span class="hs-identifier hs-var">TxInsCollateral</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621679909148"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">([TxIn] -&gt; TxInsCollateral era) -&gt; [TxIn] -&gt; TxInsCollateral era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>  </span><span class="annot"><span class="annottext">(Fund -&gt; TxIn) -&gt; [Fund] -&gt; [TxIn]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Fund -&gt; TxIn
</span><a href="Cardano.TxGenerator.Fund.html#getFundTxIn"><span class="hs-identifier hs-var">getFundTxIn</span></a></span><span> </span><span class="annot"><span class="annottext">[Fund]
</span><a href="#local-6989586621679909142"><span class="hs-identifier hs-var">collateralFunds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Fund]
</span><a href="#local-6989586621679909142"><span class="hs-identifier hs-var">collateralFunds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#dumpToFile"><span class="hs-identifier hs-type">dumpToFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Consensus.Internal.InMode.html#TxInMode"><span class="hs-identifier hs-type">TxInMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-398"></span><span id="dumpToFile"><span class="annot"><span class="annottext">dumpToFile :: [Char] -&gt; TxInMode -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#dumpToFile"><span class="hs-identifier hs-var hs-var">dumpToFile</span></a></span></span><span> </span><span id="local-6989586621679909153"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909153"><span class="hs-identifier hs-var">filePath</span></a></span></span><span> </span><span id="local-6989586621679909154"><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621679909154"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxInMode -&gt; IO ()
</span><a href="Cardano.Benchmarking.Script.Core.html#dumpToFileIO"><span class="hs-identifier hs-var">dumpToFileIO</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909153"><span class="hs-identifier hs-var">filePath</span></a></span><span> </span><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621679909154"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#dumpToFileIO"><span class="hs-identifier hs-type">dumpToFileIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Consensus.Internal.InMode.html#TxInMode"><span class="hs-identifier hs-type">TxInMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span id="dumpToFileIO"><span class="annot"><span class="annottext">dumpToFileIO :: [Char] -&gt; TxInMode -&gt; IO ()
</span><a href="Cardano.Benchmarking.Script.Core.html#dumpToFileIO"><span class="hs-identifier hs-var hs-var">dumpToFileIO</span></a></span></span><span> </span><span id="local-6989586621679909156"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909156"><span class="hs-identifier hs-var">filePath</span></a></span></span><span> </span><span id="local-6989586621679909157"><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621679909157"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; IO ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/System.IO.html#appendFile"><span class="hs-identifier hs-var">appendFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909156"><span class="hs-identifier hs-var">filePath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; [Char] -&gt; [Char]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">TxInMode -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxInMode
</span><a href="#local-6989586621679909157"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>
</span><span id="line-403"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#initWallet"><span class="hs-identifier hs-type">initWallet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span id="initWallet"><span class="annot"><span class="annottext">initWallet :: [Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#initWallet"><span class="hs-identifier hs-var hs-var">initWallet</span></a></span></span><span> </span><span id="local-6989586621679909160"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909160"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO WalletRef -&gt; ActionM WalletRef
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">IO WalletRef
</span><a href="Cardano.Benchmarking.Wallet.html#initWallet"><span class="hs-identifier hs-var">Wallet.initWallet</span></a></span><span> </span><span class="annot"><span class="annottext">ActionM WalletRef -&gt; (WalletRef -&gt; ActionM ()) -&gt; ActionM ()
forall a b.
ExceptT Error (RWST EnvConsts () Env IO) a
-&gt; (a -&gt; ExceptT Error (RWST EnvConsts () Env IO) b)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; WalletRef -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvWallets"><span class="hs-identifier hs-var">setEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909160"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#interpretPayMode"><span class="hs-identifier hs-type">interpretPayMode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679908177"><span class="annot"><a href="#local-6989586621679908177"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#IsShelleyBasedEra"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908177"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#PayMode"><span class="hs-identifier hs-type">PayMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.TxGenerator.Tx.html#CreateAndStore"><span class="hs-identifier hs-type">CreateAndStore</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908177"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-407"></span><span id="interpretPayMode"><span class="annot"><span class="annottext">interpretPayMode :: forall era.
IsShelleyBasedEra era =&gt;
PayMode -&gt; ActionM (CreateAndStore IO era, [Char])
</span><a href="Cardano.Benchmarking.Script.Core.html#interpretPayMode"><span class="hs-identifier hs-var hs-var">interpretPayMode</span></a></span></span><span> </span><span id="local-6989586621679909176"><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679909176"><span class="hs-identifier hs-var">payMode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-408"></span><span>  </span><span id="local-6989586621679909177"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679909177"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ActionM NetworkId
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvNetworkId"><span class="hs-identifier hs-var">getEnvNetworkId</span></a></span><span>
</span><span id="line-409"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PayMode
</span><a href="#local-6989586621679909176"><span class="hs-identifier hs-var">payMode</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-410"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#PayToAddr"><span class="hs-identifier hs-type">PayToAddr</span></a></span><span> </span><span id="local-6989586621679909179"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909179"><span class="hs-identifier hs-var">keyName</span></a></span></span><span> </span><span id="local-6989586621679909180"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909180"><span class="hs-identifier hs-var">destWallet</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-411"></span><span>      </span><span id="local-6989586621679909181"><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679909181"><span class="hs-identifier hs-var">fundKey</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM (SigningKey PaymentKey)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvKeys"><span class="hs-identifier hs-var">getEnvKeys</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909179"><span class="hs-identifier hs-var">keyName</span></a></span><span>
</span><span id="line-412"></span><span>      </span><span id="local-6989586621679909182"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909182"><span class="hs-identifier hs-var">walletRef</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909180"><span class="hs-identifier hs-var">destWallet</span></a></span><span>
</span><span id="line-413"></span><span>      </span><span class="annot"><span class="annottext">(CreateAndStore IO era, [Char])
-&gt; ActionM (CreateAndStore IO era, [Char])
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">ToUTxO era -&gt; (Fund -&gt; IO ()) -&gt; CreateAndStore IO era
forall era (m :: * -&gt; *).
ToUTxO era -&gt; (Fund -&gt; m ()) -&gt; CreateAndStore m era
</span><a href="Cardano.Benchmarking.Wallet.html#createAndStore"><span class="hs-identifier hs-var">createAndStore</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NetworkId -&gt; SigningKey PaymentKey -&gt; ToUTxO era
forall era.
IsShelleyBasedEra era =&gt;
NetworkId -&gt; SigningKey PaymentKey -&gt; ToUTxO era
</span><a href="Cardano.TxGenerator.UTxO.html#mkUTxOVariant"><span class="hs-identifier hs-var">mkUTxOVariant</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679909177"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679909181"><span class="hs-identifier hs-var">fundKey</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WalletRef -&gt; Fund -&gt; IO ()
</span><a href="Cardano.Benchmarking.Wallet.html#mkWalletFundStore"><span class="hs-identifier hs-var">mkWalletFundStore</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909182"><span class="hs-identifier hs-var">walletRef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-414"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; [Char]) -&gt; Text -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AddressInEra era -&gt; Text
forall addr. SerialiseAddress addr =&gt; addr -&gt; Text
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Address.html#serialiseAddress"><span class="hs-identifier hs-var">serialiseAddress</span></a></span><span> </span><span class="annot"><span class="annottext">(AddressInEra era -&gt; Text) -&gt; AddressInEra era -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall era.
IsShelleyBasedEra era =&gt;
NetworkId -&gt; SigningKey PaymentKey -&gt; AddressInEra era
</span><a href="Cardano.TxGenerator.Utils.html#keyAddress"><span class="hs-identifier hs-var">Utils.keyAddress</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679908177"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679909177"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679909181"><span class="hs-identifier hs-var">fundKey</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#PayToScript"><span class="hs-identifier hs-type">PayToScript</span></a></span><span> </span><span id="local-6989586621679909189"><span class="annot"><span class="annottext">ScriptSpec
</span><a href="#local-6989586621679909189"><span class="hs-identifier hs-var">scriptSpec</span></a></span></span><span> </span><span id="local-6989586621679909190"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909190"><span class="hs-identifier hs-var">destWallet</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-416"></span><span>      </span><span id="local-6989586621679909191"><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909191"><span class="hs-identifier hs-var">walletRef</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM WalletRef
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvWallets"><span class="hs-identifier hs-var">getEnvWallets</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909190"><span class="hs-identifier hs-var">destWallet</span></a></span><span>
</span><span id="line-417"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679909192"><span class="annot"><span class="annottext">Witness WitCtxTxIn era
</span><a href="#local-6989586621679909192"><span class="hs-identifier hs-var">witness</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679909193"><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679909193"><span class="hs-identifier hs-var">script</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679909194"><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679909194"><span class="hs-identifier hs-var">scriptData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679909195"><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679909195"><span class="hs-identifier hs-var">_scriptFee</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ScriptSpec
-&gt; ActionM
     (Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Coin)
forall era.
IsShelleyBasedEra era =&gt;
ScriptSpec
-&gt; ActionM
     (Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Coin)
</span><a href="Cardano.Benchmarking.Script.Core.html#makePlutusContext"><span class="hs-identifier hs-var">makePlutusContext</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptSpec
</span><a href="#local-6989586621679909189"><span class="hs-identifier hs-var">scriptSpec</span></a></span><span>
</span><span id="line-418"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679909193"><span class="hs-identifier hs-var">script</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-419"></span><span>        </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptInAnyLang"><span class="hs-identifier hs-type">ScriptInAnyLang</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptLanguage lang
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679909202"><span class="annot"><span class="annottext">Script lang
</span><a href="#local-6989586621679909202"><span class="hs-identifier hs-var">script'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-420"></span><span>          </span><span class="annot"><span class="annottext">(CreateAndStore IO era, [Char])
-&gt; ActionM (CreateAndStore IO era, [Char])
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">ToUTxO era -&gt; (Fund -&gt; IO ()) -&gt; CreateAndStore IO era
forall era (m :: * -&gt; *).
ToUTxO era -&gt; (Fund -&gt; m ()) -&gt; CreateAndStore m era
</span><a href="Cardano.Benchmarking.Wallet.html#createAndStore"><span class="hs-identifier hs-var">createAndStore</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NetworkId
-&gt; (ScriptInAnyLang, ScriptData)
-&gt; Witness WitCtxTxIn era
-&gt; ToUTxO era
forall era.
IsShelleyBasedEra era =&gt;
NetworkId
-&gt; (ScriptInAnyLang, ScriptData)
-&gt; Witness WitCtxTxIn era
-&gt; ToUTxO era
</span><a href="Cardano.TxGenerator.UTxO.html#mkUTxOScript"><span class="hs-identifier hs-var">mkUTxOScript</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679909177"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679909193"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679909194"><span class="hs-identifier hs-var">scriptData</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Witness WitCtxTxIn era
</span><a href="#local-6989586621679909192"><span class="hs-identifier hs-var">witness</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WalletRef -&gt; Fund -&gt; IO ()
</span><a href="Cardano.Benchmarking.Wallet.html#mkWalletFundStore"><span class="hs-identifier hs-var">mkWalletFundStore</span></a></span><span> </span><span class="annot"><span class="annottext">WalletRef
</span><a href="#local-6989586621679909191"><span class="hs-identifier hs-var">walletRef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-421"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; [Char]) -&gt; Text -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Address ShelleyAddr -&gt; Text
forall addr. SerialiseAddress addr =&gt; addr -&gt; Text
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Address.html#serialiseAddress"><span class="hs-identifier hs-var">serialiseAddress</span></a></span><span> </span><span class="annot"><span class="annottext">(Address ShelleyAddr -&gt; Text) -&gt; Address ShelleyAddr -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
-&gt; PaymentCredential
-&gt; StakeAddressReference
-&gt; Address ShelleyAddr
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Address.html#makeShelleyAddress"><span class="hs-identifier hs-var">makeShelleyAddress</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679909177"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptHash -&gt; PaymentCredential
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Address.html#PaymentCredentialByScript"><span class="hs-identifier hs-var">PaymentCredentialByScript</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptHash -&gt; PaymentCredential)
-&gt; ScriptHash -&gt; PaymentCredential
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Script lang -&gt; ScriptHash
forall lang. Script lang -&gt; ScriptHash
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#hashScript"><span class="hs-identifier hs-var">hashScript</span></a></span><span> </span><span class="annot"><span class="annottext">Script lang
</span><a href="#local-6989586621679909202"><span class="hs-identifier hs-var">script'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">StakeAddressReference
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Address.html#NoStakeAddress"><span class="hs-identifier hs-var">NoStakeAddress</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-422"></span><span>
</span><span id="line-423"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#makePlutusContext"><span class="hs-identifier hs-type">makePlutusContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679908257"><span class="annot"><a href="#local-6989586621679908257"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#IsShelleyBasedEra"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908257"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-424"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#ScriptSpec"><span class="hs-identifier hs-type">ScriptSpec</span></a></span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#Witness"><span class="hs-identifier hs-type">Witness</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#WitCtxTxIn"><span class="hs-identifier hs-type">WitCtxTxIn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908257"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptInAnyLang"><span class="hs-identifier hs-type">ScriptInAnyLang</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.ScriptData.html#ScriptData"><span class="hs-identifier hs-type">ScriptData</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-ledger-core-1.17.0.0-83e9f90039551f2a6895e10ab92d6bea07addf468677d5a8141d8c65f1c89209/share/doc/html/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">L.Coin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-426"></span><span id="makePlutusContext"><span class="annot"><span class="annottext">makePlutusContext :: forall era.
IsShelleyBasedEra era =&gt;
ScriptSpec
-&gt; ActionM
     (Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Coin)
</span><a href="Cardano.Benchmarking.Script.Core.html#makePlutusContext"><span class="hs-identifier hs-var hs-var">makePlutusContext</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#ScriptSpec"><span class="hs-identifier hs-type">ScriptSpec</span></a></span><span class="hs-special">{</span><span id="local-6989586621679909285"><span id="local-6989586621679909286"><span id="local-6989586621679909287"><span class="annot"><span class="annottext">Either [Char] [Char]
TxGenPlutusType
ScriptBudget
scriptSpecFile :: Either [Char] [Char]
scriptSpecBudget :: ScriptBudget
scriptSpecPlutusType :: TxGenPlutusType
scriptSpecFile :: ScriptSpec -&gt; Either [Char] [Char]
scriptSpecBudget :: ScriptSpec -&gt; ScriptBudget
scriptSpecPlutusType :: ScriptSpec -&gt; TxGenPlutusType
</span><a href="#local-6989586621679909285"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-427"></span><span>  </span><span id="local-6989586621679909291"><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679909291"><span class="hs-identifier hs-var">protocolParameters</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExceptT Error (RWST EnvConsts () Env IO) ProtocolParameters
</span><a href="Cardano.Benchmarking.Script.Core.html#getProtocolParameters"><span class="hs-identifier hs-var">getProtocolParameters</span></a></span><span>
</span><span id="line-428"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679909292"><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679909292"><span class="hs-identifier hs-var">script</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679909293"><span class="annot"><span class="annottext">TxGenPlutusResolvedTo
</span><a href="#local-6989586621679909293"><span class="hs-identifier hs-var">resolvedTo</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError (ScriptInAnyLang, TxGenPlutusResolvedTo))
-&gt; ActionM (ScriptInAnyLang, TxGenPlutusResolvedTo)
forall a. IO (Either TxGenError a) -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftIOSafe"><span class="hs-identifier hs-var">liftIOSafe</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either TxGenError (ScriptInAnyLang, TxGenPlutusResolvedTo))
 -&gt; ActionM (ScriptInAnyLang, TxGenPlutusResolvedTo))
-&gt; IO (Either TxGenError (ScriptInAnyLang, TxGenPlutusResolvedTo))
-&gt; ActionM (ScriptInAnyLang, TxGenPlutusResolvedTo)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Either [Char] [Char]
-&gt; IO (Either TxGenError (ScriptInAnyLang, TxGenPlutusResolvedTo))
</span><a href="Cardano.TxGenerator.Setup.Plutus.html#readPlutusScript"><span class="hs-identifier hs-var">Plutus.readPlutusScript</span></a></span><span> </span><span class="annot"><span class="annottext">Either [Char] [Char]
</span><a href="#local-6989586621679909285"><span class="hs-identifier hs-var">scriptSpecFile</span></a></span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span>  </span><span id="local-6989586621679909296"><span class="annot"><span class="annottext">ExecutionUnitPrices
</span><a href="#local-6989586621679909296"><span class="hs-identifier hs-var">executionUnitPrices</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ProtocolParameters -&gt; Maybe ExecutionUnitPrices
</span><a href="Cardano.TxGenerator.ProtocolParameters.html#protocolParamPrices"><span class="hs-identifier hs-var">protocolParamPrices</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679909291"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-431"></span><span>    </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679909298"><span class="annot"><span class="annottext">ExecutionUnitPrices
</span><a href="#local-6989586621679909298"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExecutionUnitPrices
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ExecutionUnitPrices
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnitPrices
</span><a href="#local-6989586621679909298"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-432"></span><span>    </span><span class="annot"><span class="annottext">Maybe ExecutionUnitPrices
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Error
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ExecutionUnitPrices
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error
 -&gt; ExceptT Error (RWST EnvConsts () Env IO) ExecutionUnitPrices)
-&gt; Error
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ExecutionUnitPrices
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#WalletError"><span class="hs-identifier hs-var">WalletError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;unexpected protocolParamPrices == Nothing in runPlutusBenchmark&quot;</span></span><span>
</span><span id="line-433"></span><span>
</span><span id="line-434"></span><span>  </span><span id="local-6989586621679909299"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909299"><span class="hs-identifier hs-var">perTxBudget</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ProtocolParameters -&gt; Maybe ExecutionUnits
</span><a href="Cardano.TxGenerator.ProtocolParameters.html#protocolParamMaxTxExUnits"><span class="hs-identifier hs-var">protocolParamMaxTxExUnits</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679909291"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-435"></span><span>    </span><span class="annot"><span class="annottext">Maybe ExecutionUnits
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxGenError
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ExecutionUnits
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError
 -&gt; ExceptT Error (RWST EnvConsts () Env IO) ExecutionUnits)
-&gt; TxGenError
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ExecutionUnits
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot determine protocolParamMaxTxExUnits&quot;</span></span><span>
</span><span id="line-436"></span><span>    </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679909301"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909301"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ExecutionUnits
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909301"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-437"></span><span>  </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Plutus auto mode : Available budget per TX: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909299"><span class="hs-identifier hs-var">perTxBudget</span></a></span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679909302"><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909302"><span class="hs-identifier hs-var">scriptData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679909303"><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909303"><span class="hs-identifier hs-var">scriptRedeemer</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679909304"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909304"><span class="hs-identifier hs-var">executionUnits</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ScriptBudget
</span><a href="#local-6989586621679909286"><span class="hs-identifier hs-var">scriptSpecBudget</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-440"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#StaticScriptBudget"><span class="hs-identifier hs-type">StaticScriptBudget</span></a></span><span> </span><span id="local-6989586621679909306"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909306"><span class="hs-identifier hs-var">sDataFile</span></a></span></span><span> </span><span id="local-6989586621679909307"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909307"><span class="hs-identifier hs-var">redeemerFile</span></a></span></span><span> </span><span id="local-6989586621679909308"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909308"><span class="hs-identifier hs-var">units</span></a></span></span><span> </span><span id="local-6989586621679909309"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679909309"><span class="hs-identifier hs-var">withCheck</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-441"></span><span>      </span><span id="local-6989586621679909310"><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909310"><span class="hs-identifier hs-var">sData</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError HashableScriptData)
-&gt; ActionM HashableScriptData
forall a. IO (Either TxGenError a) -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftIOSafe"><span class="hs-identifier hs-var">liftIOSafe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; IO (Either TxGenError HashableScriptData)
</span><a href="Cardano.TxGenerator.PlutusContext.html#readScriptData"><span class="hs-identifier hs-var">readScriptData</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909306"><span class="hs-identifier hs-var">sDataFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-442"></span><span>      </span><span id="local-6989586621679909312"><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909312"><span class="hs-identifier hs-var">redeemer</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError HashableScriptData)
-&gt; ActionM HashableScriptData
forall a. IO (Either TxGenError a) -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftIOSafe"><span class="hs-identifier hs-var">liftIOSafe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; IO (Either TxGenError HashableScriptData)
</span><a href="Cardano.TxGenerator.PlutusContext.html#readScriptData"><span class="hs-identifier hs-var">readScriptData</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909307"><span class="hs-identifier hs-var">redeemerFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; ActionM () -&gt; ActionM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679909309"><span class="hs-identifier hs-var">withCheck</span></a></span><span> </span><span class="annot"><span class="annottext">(ActionM () -&gt; ActionM ()) -&gt; ActionM () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-444"></span><span>        </span><span id="local-6989586621679909314"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909314"><span class="hs-identifier hs-var">unitsPreRun</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
-&gt; ScriptInAnyLang
-&gt; ScriptData
-&gt; ScriptData
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ExecutionUnits
</span><a href="Cardano.Benchmarking.Script.Core.html#preExecuteScriptAction"><span class="hs-identifier hs-var">preExecuteScriptAction</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679909291"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679909292"><span class="hs-identifier hs-var">script</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashableScriptData -&gt; ScriptData
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.ScriptData.html#getScriptData"><span class="hs-identifier hs-var">getScriptData</span></a></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909310"><span class="hs-identifier hs-var">sData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashableScriptData -&gt; ScriptData
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.ScriptData.html#getScriptData"><span class="hs-identifier hs-var">getScriptData</span></a></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909312"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; ActionM () -&gt; ActionM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909308"><span class="hs-identifier hs-var">units</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits -&gt; ExecutionUnits -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909314"><span class="hs-identifier hs-var">unitsPreRun</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ActionM () -&gt; ActionM ()) -&gt; ActionM () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-446"></span><span>          </span><span class="annot"><span class="annottext">Error -&gt; ActionM ()
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error -&gt; ActionM ()) -&gt; Error -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#WalletError"><span class="hs-identifier hs-var">WalletError</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Error) -&gt; [Char] -&gt; Error
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-447"></span><span>              </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; Stated execution Units do not match result of pre execution. &quot;</span></span><span>
</span><span id="line-448"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; Stated value : &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909308"><span class="hs-identifier hs-var">units</span></a></span><span>
</span><span id="line-449"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; PreExecution result : &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909314"><span class="hs-identifier hs-var">unitsPreRun</span></a></span><span>
</span><span id="line-450"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-451"></span><span>      </span><span class="annot"><span class="annottext">(HashableScriptData, HashableScriptData, ExecutionUnits)
-&gt; ExceptT
     Error
     (RWST EnvConsts () Env IO)
     (HashableScriptData, HashableScriptData, ExecutionUnits)
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909310"><span class="hs-identifier hs-var">sData</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909312"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909308"><span class="hs-identifier hs-var">units</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span>    </span><span class="annot"><a href="Cardano.Benchmarking.Script.Types.html#AutoScript"><span class="hs-identifier hs-type">AutoScript</span></a></span><span> </span><span id="local-6989586621679909319"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909319"><span class="hs-identifier hs-var">redeemerFile</span></a></span></span><span> </span><span id="local-6989586621679909320"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679909320"><span class="hs-identifier hs-var">txInputs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-454"></span><span>      </span><span id="local-6989586621679909321"><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909321"><span class="hs-identifier hs-var">redeemer</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either TxGenError HashableScriptData)
-&gt; ActionM HashableScriptData
forall a. IO (Either TxGenError a) -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftIOSafe"><span class="hs-identifier hs-var">liftIOSafe</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either TxGenError HashableScriptData)
 -&gt; ActionM HashableScriptData)
-&gt; IO (Either TxGenError HashableScriptData)
-&gt; ActionM HashableScriptData
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO (Either TxGenError HashableScriptData)
</span><a href="Cardano.TxGenerator.PlutusContext.html#readScriptData"><span class="hs-identifier hs-var">readScriptData</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909319"><span class="hs-identifier hs-var">redeemerFile</span></a></span><span>
</span><span id="line-455"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-456"></span><span>        </span><span id="local-6989586621679909322"><span class="annot"><span class="annottext">strategy :: PlutusBudgetFittingStrategy
</span><a href="#local-6989586621679909322"><span class="hs-identifier hs-var hs-var">strategy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TxGenPlutusType
</span><a href="#local-6989586621679909287"><span class="hs-identifier hs-var">scriptSpecPlutusType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-457"></span><span>          </span><span class="annot"><span class="annottext">TxGenPlutusType
</span><a href="Cardano.TxGenerator.Types.html#LimitTxPerBlock_8"><span class="hs-identifier hs-var">LimitTxPerBlock_8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; PlutusBudgetFittingStrategy
</span><a href="Cardano.TxGenerator.PlutusContext.html#TargetTxsPerBlock"><span class="hs-identifier hs-var">TargetTxsPerBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span>
</span><span id="line-458"></span><span>          </span><span class="annot"><span class="annottext">TxGenPlutusType
</span><a href="Cardano.TxGenerator.Types.html#LimitTxPerBlock_4"><span class="hs-identifier hs-var">LimitTxPerBlock_4</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; PlutusBudgetFittingStrategy
</span><a href="Cardano.TxGenerator.PlutusContext.html#TargetTxsPerBlock"><span class="hs-identifier hs-var">TargetTxsPerBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span>
</span><span id="line-459"></span><span>          </span><span class="annot"><span class="annottext">TxGenPlutusType
</span><span class="hs-identifier">_</span></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PlutusBudgetFittingStrategy
</span><a href="Cardano.TxGenerator.PlutusContext.html#TargetTxExpenditure"><span class="hs-identifier hs-var">TargetTxExpenditure</span></a></span><span>
</span><span id="line-460"></span><span>
</span><span id="line-461"></span><span>        </span><span class="hs-comment">-- reflects properties hard-coded into the loop scripts for benchmarking:</span><span>
</span><span id="line-462"></span><span>        </span><span class="hs-comment">-- 1. script datum is not used</span><span>
</span><span id="line-463"></span><span>        </span><span class="hs-comment">-- 2. the loop terminates at 1_000_000 when counting down</span><span>
</span><span id="line-464"></span><span>        </span><span class="hs-comment">-- 3. the loop's initial value is the first numerical value in the redeemer argument structure</span><span>
</span><span id="line-465"></span><span>        </span><span id="local-6989586621679909327"><span class="annot"><span class="annottext">autoBudget :: PlutusAutoBudget
</span><a href="#local-6989586621679909327"><span class="hs-identifier hs-var hs-var">autoBudget</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#PlutusAutoBudget"><span class="hs-identifier hs-type">PlutusAutoBudget</span></a></span><span>
</span><span id="line-466"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">autoBudgetUnits :: ExecutionUnits
</span><a href="Cardano.TxGenerator.Types.html#autoBudgetUnits"><span class="hs-identifier hs-var">autoBudgetUnits</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909299"><span class="hs-identifier hs-var">perTxBudget</span></a></span><span>
</span><span id="line-467"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">autoBudgetDatum :: ScriptData
</span><a href="Cardano.TxGenerator.Types.html#autoBudgetDatum"><span class="hs-identifier hs-var">autoBudgetDatum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; ScriptData
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.ScriptData.html#ScriptDataNumber"><span class="hs-identifier hs-var">ScriptDataNumber</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-468"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">autoBudgetRedeemer :: HashableScriptData
</span><a href="Cardano.TxGenerator.Types.html#autoBudgetRedeemer"><span class="hs-identifier hs-var">autoBudgetRedeemer</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScriptData -&gt; HashableScriptData
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.ScriptData.html#unsafeHashableScriptData"><span class="hs-identifier hs-var">unsafeHashableScriptData</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptData -&gt; HashableScriptData)
-&gt; ScriptData -&gt; HashableScriptData
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Integer) -&gt; ScriptData -&gt; ScriptData
</span><a href="Cardano.TxGenerator.PlutusContext.html#scriptDataModifyNumber"><span class="hs-identifier hs-var">scriptDataModifyNumber</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1_000_000</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashableScriptData -&gt; ScriptData
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.ScriptData.html#getScriptData"><span class="hs-identifier hs-var">getScriptData</span></a></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909321"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-469"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">autoBudgetUpperBoundHint :: Maybe Int
</span><a href="Cardano.TxGenerator.Types.html#autoBudgetUpperBoundHint"><span class="hs-identifier hs-var">autoBudgetUpperBoundHint</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-470"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-471"></span><span>        </span><span id="local-6989586621679909337"><span class="annot"><span class="annottext">scriptInfo :: ([Char], [Char])
</span><a href="#local-6989586621679909337"><span class="hs-identifier hs-var hs-var">scriptInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxGenPlutusResolvedTo -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenPlutusResolvedTo
</span><a href="#local-6989586621679909293"><span class="hs-identifier hs-var">resolvedTo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PlutusBudgetFittingStrategy -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBudgetFittingStrategy
</span><a href="#local-6989586621679909322"><span class="hs-identifier hs-var">strategy</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-472"></span><span>      </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Plutus auto mode : Available budget per Tx: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909299"><span class="hs-identifier hs-var">perTxBudget</span></a></span><span>
</span><span id="line-473"></span><span>                   </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; -- split between inputs per Tx: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679909320"><span class="hs-identifier hs-var">txInputs</span></a></span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
-&gt; ([Char], [Char])
-&gt; ScriptInAnyLang
-&gt; PlutusAutoBudget
-&gt; PlutusBudgetFittingStrategy
-&gt; Int
-&gt; Either
     TxGenError (PlutusBudgetSummary, PlutusAutoBudget, ExecutionUnits)
</span><a href="Cardano.TxGenerator.PlutusContext.html#plutusAutoScaleBlockfit"><span class="hs-identifier hs-var">plutusAutoScaleBlockfit</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679909291"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">([Char], [Char])
</span><a href="#local-6989586621679909337"><span class="hs-identifier hs-var">scriptInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679909292"><span class="hs-identifier hs-var">script</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusAutoBudget
</span><a href="#local-6989586621679909327"><span class="hs-identifier hs-var">autoBudget</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBudgetFittingStrategy
</span><a href="#local-6989586621679909322"><span class="hs-identifier hs-var">strategy</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679909320"><span class="hs-identifier hs-var">txInputs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-476"></span><span>        </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679909339"><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679909339"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxGenError
-&gt; ExceptT
     Error
     (RWST EnvConsts () Env IO)
     (HashableScriptData, HashableScriptData, ExecutionUnits)
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679909339"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-477"></span><span>        </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679909340"><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679909340"><span class="hs-identifier hs-var">summary</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Types.html#PlutusAutoBudget"><span class="hs-identifier hs-type">PlutusAutoBudget</span></a></span><span class="hs-special">{</span><span id="local-6989586621679909341"><span id="local-6989586621679909342"><span id="local-6989586621679909343"><span id="local-6989586621679909344"><span class="annot"><span class="annottext">Maybe Int
ScriptData
HashableScriptData
ExecutionUnits
autoBudgetUnits :: PlutusAutoBudget -&gt; ExecutionUnits
autoBudgetDatum :: PlutusAutoBudget -&gt; ScriptData
autoBudgetRedeemer :: PlutusAutoBudget -&gt; HashableScriptData
autoBudgetUpperBoundHint :: PlutusAutoBudget -&gt; Maybe Int
autoBudgetUnits :: ExecutionUnits
autoBudgetDatum :: ScriptData
autoBudgetRedeemer :: HashableScriptData
autoBudgetUpperBoundHint :: Maybe Int
</span><a href="Cardano.TxGenerator.Types.html#autoBudgetUnits"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span id="local-6989586621679909345"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909345"><span class="hs-identifier hs-var">preRun</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-478"></span><span>          </span><span class="annot"><span class="annottext">PlutusBudgetSummary -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#setEnvSummary"><span class="hs-identifier hs-var">setEnvSummary</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBudgetSummary
</span><a href="#local-6989586621679909340"><span class="hs-identifier hs-var">summary</span></a></span><span>
</span><span id="line-479"></span><span>          </span><span class="annot"><span class="annottext">ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#dumpBudgetSummaryIfExisting"><span class="hs-identifier hs-var">dumpBudgetSummaryIfExisting</span></a></span><span>
</span><span id="line-480"></span><span>          </span><span class="annot"><span class="annottext">(HashableScriptData, HashableScriptData, ExecutionUnits)
-&gt; ExceptT
     Error
     (RWST EnvConsts () Env IO)
     (HashableScriptData, HashableScriptData, ExecutionUnits)
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptData -&gt; HashableScriptData
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.ScriptData.html#unsafeHashableScriptData"><span class="hs-identifier hs-var">unsafeHashableScriptData</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679909342"><span class="hs-identifier hs-var">autoBudgetDatum</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909343"><span class="hs-identifier hs-var">autoBudgetRedeemer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909345"><span class="hs-identifier hs-var">preRun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-481"></span><span>
</span><span id="line-482"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679909346"><span class="annot"><span class="annottext">msg :: [Char]
</span><a href="#local-6989586621679909346"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mconcat"><span class="hs-identifier hs-var">mconcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Plutus Benchmark :&quot;</span></span><span>
</span><span id="line-483"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; Script: &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Either [Char] [Char] -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Either [Char] [Char]
</span><a href="#local-6989586621679909285"><span class="hs-identifier hs-var">scriptSpecFile</span></a></span><span>
</span><span id="line-484"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;, Datum: &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HashableScriptData -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909302"><span class="hs-identifier hs-var">scriptData</span></a></span><span>
</span><span id="line-485"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;, Redeemer: &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HashableScriptData -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909303"><span class="hs-identifier hs-var">scriptRedeemer</span></a></span><span>
</span><span id="line-486"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;, StatedBudget: &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909304"><span class="hs-identifier hs-var">executionUnits</span></a></span><span>
</span><span id="line-487"></span><span>                    </span><span class="hs-special">]</span><span>
</span><span id="line-488"></span><span>  </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909346"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-491"></span><span>    </span><span class="hs-comment">-- TODO --    Cardano.Ledger.Alonzo.Scripts.txscriptfee :: Prices -&gt; ExUnits -&gt; Coin</span><span>
</span><span id="line-492"></span><span>    </span><span id="local-6989586621679909347"><span class="annot"><span class="annottext">scriptFee :: Coin
</span><a href="#local-6989586621679909347"><span class="hs-identifier hs-var hs-var">scriptFee</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Quantity -&gt; Coin
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Value.Internal.html#quantityToLovelace"><span class="hs-identifier hs-var">quantityToLovelace</span></a></span><span> </span><span class="annot"><span class="annottext">(Quantity -&gt; Coin) -&gt; Quantity -&gt; Coin
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Quantity
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Value.Internal.html#Quantity"><span class="hs-identifier hs-var">Quantity</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Quantity) -&gt; Integer -&gt; Quantity
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall b. Integral b =&gt; Rational -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#ceiling"><span class="hs-identifier hs-var">ceiling</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679909351"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-493"></span><span>       </span><span class="hs-keyword">where</span><span>
</span><span id="line-494"></span><span>         </span><span class="annot"><a href="#local-6989586621679909351"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#Rational"><span class="hs-identifier hs-type">Rational</span></a></span><span>
</span><span id="line-495"></span><span>         </span><span id="local-6989586621679909351"><span class="annot"><span class="annottext">f :: Rational
</span><a href="#local-6989586621679909351"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExecutionUnits -&gt; Natural
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#executionSteps"><span class="hs-identifier hs-var">executionSteps</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909353"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Rational -&gt; Rational
forall {a} {a}. (Integral a, Integral a) =&gt; a -&gt; Ratio a -&gt; Ratio a
</span><a href="#local-6989586621679909354"><span class="hs-operator hs-var">`times`</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnitPrices -&gt; Rational
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.ProtocolParameters.html#priceExecutionSteps"><span class="hs-identifier hs-var">priceExecutionSteps</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnitPrices
</span><a href="#local-6989586621679909356"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExecutionUnits -&gt; Natural
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#executionMemory"><span class="hs-identifier hs-var">executionMemory</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909353"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Rational -&gt; Rational
forall {a} {a}. (Integral a, Integral a) =&gt; a -&gt; Ratio a -&gt; Ratio a
</span><a href="#local-6989586621679909354"><span class="hs-operator hs-var">`times`</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnitPrices -&gt; Rational
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.ProtocolParameters.html#priceExecutionMemory"><span class="hs-identifier hs-var">priceExecutionMemory</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnitPrices
</span><a href="#local-6989586621679909356"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-496"></span><span>         </span><span id="local-6989586621679909353"><span class="annot"><span class="annottext">e :: ExecutionUnits
</span><a href="#local-6989586621679909353"><span class="hs-identifier hs-var hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909304"><span class="hs-identifier hs-var">executionUnits</span></a></span><span>
</span><span id="line-497"></span><span>         </span><span id="local-6989586621679909356"><span class="annot"><span class="annottext">p :: ExecutionUnitPrices
</span><a href="#local-6989586621679909356"><span class="hs-identifier hs-var hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExecutionUnitPrices
</span><a href="#local-6989586621679909296"><span class="hs-identifier hs-var">executionUnitPrices</span></a></span><span>
</span><span id="line-498"></span><span>         </span><span id="local-6989586621679909354"><span class="annot"><span class="annottext">times :: a -&gt; Ratio a -&gt; Ratio a
</span><a href="#local-6989586621679909354"><span class="hs-identifier hs-var hs-var">times</span></a></span></span><span> </span><span id="local-6989586621679909392"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679909392"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679909393"><span class="annot"><span class="annottext">Ratio a
</span><a href="#local-6989586621679909393"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679909392"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Ratio a
forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Ratio a -&gt; Ratio a -&gt; Ratio a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Ratio a
</span><a href="#local-6989586621679909393"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-499"></span><span>
</span><span id="line-500"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679909292"><span class="hs-identifier hs-var">script</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-501"></span><span>    </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptInAnyLang"><span class="hs-identifier hs-type">ScriptInAnyLang</span></a></span><span> </span><span id="local-6989586621679909394"><span class="annot"><span class="annottext">ScriptLanguage lang
</span><a href="#local-6989586621679909394"><span class="hs-identifier hs-var">lang</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#PlutusScript"><span class="hs-identifier hs-type">PlutusScript</span></a></span><span> </span><span id="local-6989586621679909408"><span class="annot"><span class="annottext">PlutusScriptVersion lang
</span><a href="#local-6989586621679909408"><span class="hs-identifier hs-var">version</span></a></span></span><span> </span><span id="local-6989586621679909409"><span class="annot"><span class="annottext">PlutusScript lang
</span><a href="#local-6989586621679909409"><span class="hs-identifier hs-var">script'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-502"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-503"></span><span>        </span><span class="annot"><a href="#local-6989586621679909410"><span class="hs-identifier hs-type">scriptWitness</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptWitness"><span class="hs-identifier hs-type">ScriptWitness</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#WitCtxTxIn"><span class="hs-identifier hs-type">WitCtxTxIn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679908257"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-504"></span><span>        </span><span id="local-6989586621679909410"><span class="annot"><span class="annottext">scriptWitness :: ScriptWitness WitCtxTxIn era
</span><a href="#local-6989586621679909410"><span class="hs-identifier hs-var hs-var">scriptWitness</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; ScriptLanguage lang -&gt; Maybe (ScriptLanguageInEra lang era)
forall era lang.
ShelleyBasedEra era
-&gt; ScriptLanguage lang -&gt; Maybe (ScriptLanguageInEra lang era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#scriptLanguageSupportedInEra"><span class="hs-identifier hs-var">scriptLanguageSupportedInEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEra"><span class="hs-identifier hs-var">shelleyBasedEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679908257"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ScriptLanguage lang
</span><a href="#local-6989586621679909394"><span class="hs-identifier hs-var">lang</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-505"></span><span>          </span><span class="annot"><span class="annottext">Maybe (ScriptLanguageInEra lang era)
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ScriptWitness WitCtxTxIn era
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ScriptWitness WitCtxTxIn era)
-&gt; [Char] -&gt; ScriptWitness WitCtxTxIn era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;runPlutusBenchmark: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusScriptVersion lang -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusScriptVersion lang
</span><a href="#local-6989586621679909408"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; not supported in era: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsCardanoEra era =&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Era.Internal.Core.html#cardanoEra"><span class="hs-identifier hs-var">cardanoEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679908257"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-506"></span><span>          </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679909412"><span class="annot"><span class="annottext">ScriptLanguageInEra lang era
</span><a href="#local-6989586621679909412"><span class="hs-identifier hs-var">scriptLang</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ScriptLanguageInEra lang era
-&gt; PlutusScriptVersion lang
-&gt; PlutusScriptOrReferenceInput lang
-&gt; ScriptDatum WitCtxTxIn
-&gt; HashableScriptData
-&gt; ExecutionUnits
-&gt; ScriptWitness WitCtxTxIn era
forall lang era witctx.
IsPlutusScriptLanguage lang =&gt;
ScriptLanguageInEra lang era
-&gt; PlutusScriptVersion lang
-&gt; PlutusScriptOrReferenceInput lang
-&gt; ScriptDatum witctx
-&gt; HashableScriptData
-&gt; ExecutionUnits
-&gt; ScriptWitness witctx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#PlutusScriptWitness"><span class="hs-identifier hs-var">PlutusScriptWitness</span></a></span><span>
</span><span id="line-507"></span><span>                              </span><span class="annot"><span class="annottext">ScriptLanguageInEra lang era
</span><a href="#local-6989586621679909412"><span class="hs-identifier hs-var">scriptLang</span></a></span><span>
</span><span id="line-508"></span><span>                              </span><span class="annot"><span class="annottext">PlutusScriptVersion lang
</span><a href="#local-6989586621679909408"><span class="hs-identifier hs-var">version</span></a></span><span>
</span><span id="line-509"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PlutusScript lang -&gt; PlutusScriptOrReferenceInput lang
forall lang. PlutusScript lang -&gt; PlutusScriptOrReferenceInput lang
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#PScript"><span class="hs-identifier hs-var">PScript</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusScript lang
</span><a href="#local-6989586621679909409"><span class="hs-identifier hs-var">script'</span></a></span><span class="hs-special">)</span><span>               </span><span class="hs-comment">-- TODO: add capability for reference inputs from Babbage era onwards</span><span>
</span><span id="line-510"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe HashableScriptData -&gt; ScriptDatum WitCtxTxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptDatumForTxIn"><span class="hs-identifier hs-var">ScriptDatumForTxIn</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe HashableScriptData -&gt; ScriptDatum WitCtxTxIn)
-&gt; Maybe HashableScriptData -&gt; ScriptDatum WitCtxTxIn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HashableScriptData -&gt; Maybe HashableScriptData
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909302"><span class="hs-identifier hs-var">scriptData</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-511"></span><span>                              </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909303"><span class="hs-identifier hs-var">scriptRedeemer</span></a></span><span>
</span><span id="line-512"></span><span>                              </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909304"><span class="hs-identifier hs-var">executionUnits</span></a></span><span>
</span><span id="line-513"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Coin)
-&gt; ActionM
     (Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Coin)
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptWitnessInCtx WitCtxTxIn
-&gt; ScriptWitness WitCtxTxIn era -&gt; Witness WitCtxTxIn era
forall witctx era.
ScriptWitnessInCtx witctx
-&gt; ScriptWitness witctx era -&gt; Witness witctx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptWitness"><span class="hs-identifier hs-var">ScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptWitnessInCtx WitCtxTxIn
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptWitnessForSpending"><span class="hs-identifier hs-var">ScriptWitnessForSpending</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptWitness WitCtxTxIn era
</span><a href="#local-6989586621679909410"><span class="hs-identifier hs-var">scriptWitness</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679909292"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HashableScriptData -&gt; ScriptData
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.ScriptData.html#getScriptData"><span class="hs-identifier hs-var">getScriptData</span></a></span><span> </span><span class="annot"><span class="annottext">HashableScriptData
</span><a href="#local-6989586621679909302"><span class="hs-identifier hs-var">scriptData</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679909347"><span class="hs-identifier hs-var">scriptFee</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-514"></span><span>    </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-515"></span><span>      </span><span class="annot"><span class="annottext">TxGenError
-&gt; ActionM
     (Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Coin)
forall a. TxGenError -&gt; ActionM a
</span><a href="Cardano.Benchmarking.Script.Env.html#liftTxGenError"><span class="hs-identifier hs-var">liftTxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">(TxGenError
 -&gt; ActionM
      (Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Coin))
-&gt; TxGenError
-&gt; ActionM
     (Witness WitCtxTxIn era, ScriptInAnyLang, ScriptData, Coin)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxGenError
</span><a href="Cardano.TxGenerator.Types.html#TxGenError"><span class="hs-identifier hs-var">TxGenError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;runPlutusBenchmark: only Plutus scripts supported&quot;</span></span><span>
</span><span id="line-516"></span><span>
</span><span id="line-517"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#preExecuteScriptAction"><span class="hs-identifier hs-type">preExecuteScriptAction</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-518"></span><span>     </span><span class="annot"><a href="Cardano.TxGenerator.ProtocolParameters.html#ProtocolParameters"><span class="hs-identifier hs-type">ProtocolParameters</span></a></span><span>
</span><span id="line-519"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ScriptInAnyLang"><span class="hs-identifier hs-type">ScriptInAnyLang</span></a></span><span>
</span><span id="line-520"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.ScriptData.html#ScriptData"><span class="hs-identifier hs-type">ScriptData</span></a></span><span>
</span><span id="line-521"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.ScriptData.html#ScriptData"><span class="hs-identifier hs-type">ScriptData</span></a></span><span>
</span><span id="line-522"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.Script.html#ExecutionUnits"><span class="hs-identifier hs-type">ExecutionUnits</span></a></span><span>
</span><span id="line-523"></span><span id="preExecuteScriptAction"><span class="annot"><span class="annottext">preExecuteScriptAction :: ProtocolParameters
-&gt; ScriptInAnyLang
-&gt; ScriptData
-&gt; ScriptData
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ExecutionUnits
</span><a href="Cardano.Benchmarking.Script.Core.html#preExecuteScriptAction"><span class="hs-identifier hs-var hs-var">preExecuteScriptAction</span></a></span></span><span> </span><span id="local-6989586621679909418"><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679909418"><span class="hs-identifier hs-var">protocolParameters</span></a></span></span><span> </span><span id="local-6989586621679909419"><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679909419"><span class="hs-identifier hs-var">script</span></a></span></span><span> </span><span id="local-6989586621679909420"><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679909420"><span class="hs-identifier hs-var">scriptData</span></a></span></span><span> </span><span id="local-6989586621679909421"><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679909421"><span class="hs-identifier hs-var">redeemer</span></a></span></span><span>
</span><span id="line-524"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
-&gt; ScriptInAnyLang
-&gt; ScriptData
-&gt; HashableScriptData
-&gt; Either TxGenError ExecutionUnits
</span><a href="Cardano.TxGenerator.Setup.Plutus.html#preExecutePlutusScript"><span class="hs-identifier hs-var">Plutus.preExecutePlutusScript</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
</span><a href="#local-6989586621679909418"><span class="hs-identifier hs-var">protocolParameters</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679909419"><span class="hs-identifier hs-var">script</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679909420"><span class="hs-identifier hs-var">scriptData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptData -&gt; HashableScriptData
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-api-10.18.0.0-cf96680f7a5f126623afc107f46c4390ef848488275422e58a8da147b9415623/share/doc/html/src/Cardano.Api.Plutus.Internal.ScriptData.html#unsafeHashableScriptData"><span class="hs-identifier hs-var">unsafeHashableScriptData</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679909421"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-525"></span><span>      </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679909423"><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679909423"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Error -&gt; ExceptT Error (RWST EnvConsts () Env IO) ExecutionUnits
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error -&gt; ExceptT Error (RWST EnvConsts () Env IO) ExecutionUnits)
-&gt; Error -&gt; ExceptT Error (RWST EnvConsts () Env IO) ExecutionUnits
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#WalletError"><span class="hs-identifier hs-var">WalletError</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;makePlutusContext preExecuteScript failed: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TxGenError
</span><a href="#local-6989586621679909423"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-526"></span><span>      </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679909424"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909424"><span class="hs-identifier hs-var">costs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ExecutionUnits
forall a. a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621679909424"><span class="hs-identifier hs-var">costs</span></a></span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#dumpBudgetSummaryIfExisting"><span class="hs-identifier hs-type">dumpBudgetSummaryIfExisting</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-529"></span><span id="dumpBudgetSummaryIfExisting"><span class="annot"><span class="annottext">dumpBudgetSummaryIfExisting :: ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#dumpBudgetSummaryIfExisting"><span class="hs-identifier hs-var hs-var">dumpBudgetSummaryIfExisting</span></a></span></span><span>
</span><span id="line-530"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-531"></span><span>    </span><span id="local-6989586621679909425"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679909425"><span class="hs-identifier hs-var">summary</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ByteString
-&gt; (PlutusBudgetSummary -&gt; ByteString)
-&gt; Maybe PlutusBudgetSummary
-&gt; ByteString
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;{}&quot;</span></span><span> </span><span class="annot"><span class="annottext">PlutusBudgetSummary -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="Cardano.Benchmarking.Script.Aeson.html#prettyPrintOrdered"><span class="hs-identifier hs-var">prettyPrintOrdered</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe PlutusBudgetSummary -&gt; ByteString)
-&gt; ActionM (Maybe PlutusBudgetSummary)
-&gt; ExceptT Error (RWST EnvConsts () Env IO) ByteString
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ActionM (Maybe PlutusBudgetSummary)
</span><a href="Cardano.Benchmarking.Script.Env.html#getEnvSummary"><span class="hs-identifier hs-var">getEnvSummary</span></a></span><span>
</span><span id="line-532"></span><span>    </span><span class="annot"><span class="annottext">IO () -&gt; ActionM ()
forall a. IO a -&gt; ExceptT Error (RWST EnvConsts () Env IO) a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ActionM ()) -&gt; IO () -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ByteString -&gt; IO ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Lazy.html#writeFile"><span class="hs-identifier hs-var">BSL.writeFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909427"><span class="hs-identifier hs-var">summaryFile</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679909425"><span class="hs-identifier hs-var">summary</span></a></span><span>
</span><span id="line-533"></span><span>    </span><span class="annot"><span class="annottext">[Char] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceDebug"><span class="hs-identifier hs-var">traceDebug</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ActionM ()) -&gt; [Char] -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;dumpBudgetSummaryIfExisting : budget summary created/updated in: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679909427"><span class="hs-identifier hs-var">summaryFile</span></a></span><span>
</span><span id="line-534"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-535"></span><span>    </span><span id="local-6989586621679909427"><span class="annot"><span class="annottext">summaryFile :: [Char]
</span><a href="#local-6989586621679909427"><span class="hs-identifier hs-var hs-var">summaryFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;plutus-budget-summary.json&quot;</span></span><span>
</span><span id="line-536"></span><span>
</span><span id="line-537"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#traceTxGeneratorVersion"><span class="hs-identifier hs-type">traceTxGeneratorVersion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-538"></span><span id="traceTxGeneratorVersion"><span class="annot"><span class="annottext">traceTxGeneratorVersion :: ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#traceTxGeneratorVersion"><span class="hs-identifier hs-var hs-var">traceTxGeneratorVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall txId. Version -&gt; TraceBenchTxSubmit txId)
-&gt; Version -&gt; ActionM ()
forall x.
(forall txId. x -&gt; TraceBenchTxSubmit txId) -&gt; x -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Env.html#traceBenchTxSubmit"><span class="hs-identifier hs-var">traceBenchTxSubmit</span></a></span><span> </span><span class="annot"><span class="annottext">Version -&gt; TraceBenchTxSubmit txId
forall txId. Version -&gt; TraceBenchTxSubmit txId
</span><a href="Cardano.Benchmarking.LogTypes.html#TraceTxGeneratorVersion"><span class="hs-identifier hs-var">TraceTxGeneratorVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="Cardano.Benchmarking.Version.html#txGeneratorVersion"><span class="hs-identifier hs-var">Version.txGeneratorVersion</span></a></span><span>
</span><span id="line-539"></span><span>
</span><span id="line-540"></span><span class="hs-comment">{-
This is for dirty hacking and testing and quick-fixes.
Its a function that can be called from the JSON scripts
and for which the JSON encoding is &quot;reserved&quot;.
-}</span><span>
</span><span id="line-545"></span><span class="annot"><a href="Cardano.Benchmarking.Script.Core.html#reserved"><span class="hs-identifier hs-type">reserved</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Script.Env.html#ActionM"><span class="hs-identifier hs-type">ActionM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-546"></span><span id="reserved"><span class="annot"><span class="annottext">reserved :: [[Char]] -&gt; ActionM ()
</span><a href="Cardano.Benchmarking.Script.Core.html#reserved"><span class="hs-identifier hs-var hs-var">reserved</span></a></span></span><span> </span><span class="annot"><span class="annottext">[[Char]]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-547"></span><span>  </span><span class="annot"><span class="annottext">Error -&gt; ActionM ()
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/transformers-0.6.1.0/src/Control.Monad.Trans.Except.html#throwE"><span class="hs-identifier hs-var">throwE</span></a></span><span> </span><span class="annot"><span class="annottext">(Error -&gt; ActionM ()) -&gt; Error -&gt; ActionM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Error
</span><a href="Cardano.Benchmarking.Script.Env.html#UserError"><span class="hs-identifier hs-var">UserError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;no dirty hack is implemented&quot;</span></span><span>
</span><span id="line-548"></span></pre></body></html>