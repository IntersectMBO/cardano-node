<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head id="head" data-base-url=".."><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cardano.TxGenerator.Internal.Fifo</title><link href="../linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="../quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="../haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">tx-generator-2.15: A transaction workload generator for Cardano clusters</span><ul class="links" id="page-menu"><li><a href="src/Cardano.TxGenerator.Internal.Fifo.html">Source</a></li><li><a href="../index.html">Contents</a></li><li><a href="../doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cardano.TxGenerator.Internal.Fifo</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This is a moderately simple implementation, discussed by e.g. Okasaki
in <a href="https://www.cambridge.org/core/journals/journal-of-functional-programming/article/simple-and-efficient-purely-functional-queues-and-deques/7B3036772616B39E87BF7FBD119015AB">https://www.cambridge.org/core/journals/journal-of-functional-programming/article/simple-and-efficient-purely-functional-queues-and-deques/7B3036772616B39E87BF7FBD119015AB</a>
in very close to identical form save for being in SML vs. Haskell in
section 2, and, somewhat earlier, by Hood and Melville (1981),
Gries (1981) and Burton (1982), albeit in other languages. This may
not become large enough for it to ever matter in the tx-generator,
but Tarjan's structure at <a href="https://dl.acm.org/doi/10.1145/324133.324139">https://dl.acm.org/doi/10.1145/324133.324139</a>
might be worthwhile in that case, most likely to happen if someone
notices this existing and wants to use it somewhere where it might be
significantly more stressed.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Fifo">Fifo</a> a = <a href="#v:Fifo">Fifo</a> ![a] ![a]</li><li class="src short"><a href="#v:toList">toList</a> :: <a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a -&gt; [a]</li><li class="src short"><a href="#v:insert">insert</a> :: <a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a -&gt; a -&gt; <a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a</li><li class="src short"><a href="#v:emptyFifo">emptyFifo</a> :: <a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a</li><li class="src short"><a href="#v:remove">remove</a> :: <a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a -&gt; <a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a, a)</li><li class="src short"><a href="#v:removeN">removeN</a> :: <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a -&gt; <a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a, [a])</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Fifo" class="def">Fifo</a> a <a href="src/Cardano.TxGenerator.Internal.Fifo.html#Fifo" class="link">Source</a> <a href="#t:Fifo" class="selflink">#</a></p><div class="doc"><p>This implements the section 2 <strong>Queues as Paired Lists</strong>
 structure described by Okasaki.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Fifo" class="def">Fifo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">![a]</dfn><div class="doc"><p>the front, from where removals are taken</p></div></li><li><dfn class="src">![a]</dfn><div class="doc"><p>the rear, where insertions are put</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:toList" class="def">toList</a> :: <a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a -&gt; [a] <a href="src/Cardano.TxGenerator.Internal.Fifo.html#toList" class="link">Source</a> <a href="#v:toList" class="selflink">#</a></p><div class="doc"><p>The arrivals inserted at the rear remain in reverse order until
 there is a need to dequeue that can't be satisfied from the front.
 Warning : bad complexity when used as a persistent data structure.</p></div></div><div class="top"><p class="src"><a id="v:insert" class="def">insert</a> :: <a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a -&gt; a -&gt; <a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a <a href="src/Cardano.TxGenerator.Internal.Fifo.html#insert" class="link">Source</a> <a href="#v:insert" class="selflink">#</a></p><div class="doc"><p>The rear's reverse ordering allows this to be a simple cons.</p></div></div><div class="top"><p class="src"><a id="v:emptyFifo" class="def">emptyFifo</a> :: <a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a <a href="src/Cardano.TxGenerator.Internal.Fifo.html#emptyFifo" class="link">Source</a> <a href="#v:emptyFifo" class="selflink">#</a></p><div class="doc"><p>The empty queue has no contents to sit in either the front or rear.</p></div></div><div class="top"><p class="src"><a id="v:remove" class="def">remove</a> :: <a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a -&gt; <a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a, a) <a href="src/Cardano.TxGenerator.Internal.Fifo.html#remove" class="link">Source</a> <a href="#v:remove" class="selflink">#</a></p><div class="doc"><p>Potential failure demands the use of <code><a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code>. Empty front
 lists trigger reversals of the rear list and the Fifo part of
 the result becomes a pure front list, namely the tail of that
 reversal.</p></div></div><div class="top"><p class="src"><a id="v:removeN" class="def">removeN</a> :: <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a -&gt; <a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Cardano-TxGenerator-Internal-Fifo.html#t:Fifo" title="Cardano.TxGenerator.Internal.Fifo">Fifo</a> a, [a]) <a href="src/Cardano.TxGenerator.Internal.Fifo.html#removeN" class="link">Source</a> <a href="#v:removeN" class="selflink">#</a></p><div class="doc"><p>Dequeueing <em>n</em> items just iterates calling remove within the
 <code><a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code> monad. Removing n from a Fifo of length k when k &lt; n is
 regarded as a failure.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>