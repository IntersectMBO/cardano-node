<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="annot"><span class="hs-comment">-- | Core types and definitions</span></span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE ExistentialQuantification #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-6"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Test.Tasty.Core</span><span>
</span><span id="line-7"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#FailureReason"><span class="hs-identifier">FailureReason</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-8"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#Outcome"><span class="hs-identifier">Outcome</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#Time"><span class="hs-identifier">Time</span></a></span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#Result"><span class="hs-identifier">Result</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#resultSuccessful"><span class="hs-identifier">resultSuccessful</span></a></span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#exceptionResult"><span class="hs-identifier">exceptionResult</span></a></span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#Progress"><span class="hs-identifier">Progress</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#emptyProgress"><span class="hs-identifier">emptyProgress</span></a></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#IsTest"><span class="hs-identifier">IsTest</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestName"><span class="hs-identifier">TestName</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#ResourceSpec"><span class="hs-identifier">ResourceSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#ResourceError"><span class="hs-identifier">ResourceError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#DependencyType"><span class="hs-identifier">DependencyType</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#ExecutionMode"><span class="hs-identifier">ExecutionMode</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier">TestTree</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#testGroup"><span class="hs-identifier">testGroup</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#sequentialTestGroup"><span class="hs-identifier">sequentialTestGroup</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#after"><span class="hs-identifier">after</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#after_"><span class="hs-identifier">after_</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TreeFold"><span class="hs-identifier">TreeFold</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#trivialFold"><span class="hs-identifier">trivialFold</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#foldTestTree"><span class="hs-identifier">foldTestTree</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#foldTestTree0"><span class="hs-identifier">foldTestTree0</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#treeOptions"><span class="hs-identifier">treeOptions</span></a></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Exception.html"><span class="hs-identifier">Control.Exception</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bifunctor.html"><span class="hs-identifier">Data.Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bifunctor.html#Bifunctor"><span class="hs-identifier">Bifunctor</span></a></span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bifunctor.html#second"><span class="hs-identifier">second</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bifunctor.html#bimap"><span class="hs-identifier">bimap</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html#mapAccumR"><span class="hs-identifier">mapAccumR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Monoid.html"><span class="hs-identifier">Data.Monoid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Semigroup.Internal.html#Any"><span class="hs-identifier">Any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Semigroup.Internal.html#getAny"><span class="hs-identifier">getAny</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Semigroup.Internal.html#Any"><span class="hs-identifier">Any</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Sequence.html"><span class="hs-identifier">Data.Sequence</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Sequence.Internal.html#%7C%3E"><span class="hs-operator">(|&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Sequence.html"><span class="hs-identifier">Data.Sequence</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Seq</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Tagged</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Typeable.html"><span class="hs-identifier">Data.Typeable</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html"><span class="hs-identifier">GHC.Generics</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Options.Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">internal</span></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Tasty.Options.html"><span class="hs-identifier">Test.Tasty.Options</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Tasty.Patterns.html"><span class="hs-identifier">Test.Tasty.Patterns</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Tasty.Patterns.Types.html"><span class="hs-identifier">Test.Tasty.Patterns.Types</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Tasty.Providers.ConsoleFormat.html"><span class="hs-identifier">Test.Tasty.Providers.ConsoleFormat</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Text.Printf.html"><span class="hs-identifier">Text.Printf</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Text.Read.html"><span class="hs-identifier">Text.Read</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Text.Read.html#readMaybe"><span class="hs-identifier">readMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="hs-comment">-- | If a test failed, 'FailureReason' describes why.</span><span>
</span><span id="line-52"></span><span class="hs-comment">--</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- @since 0.8</span><span>
</span><span id="line-54"></span><span class="hs-keyword">data</span><span> </span><span id="FailureReason"><span class="annot"><a href="Test.Tasty.Core.html#FailureReason"><span class="hs-identifier hs-var">FailureReason</span></a></span></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="TestFailed"><span class="annot"><a href="Test.Tasty.Core.html#TestFailed"><span class="hs-identifier hs-var">TestFailed</span></a></span></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-comment">-- ^ test provider indicated failure of the code to test, either because</span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-comment">-- the tested code returned wrong results, or raised an exception</span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TestThrewException"><span class="annot"><a href="Test.Tasty.Core.html#TestThrewException"><span class="hs-identifier hs-var">TestThrewException</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Exception.Type.html#SomeException"><span class="hs-identifier hs-type">SomeException</span></a></span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-comment">-- ^ the test code itself raised an exception. Typical cases include missing</span><span>
</span><span id="line-60"></span><span>    </span><span class="hs-comment">-- example input or output files.</span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-comment">-- Usually, providers do not have to implement this, as their 'run' method</span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-comment">-- may simply raise an exception.</span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TestTimedOut"><span class="annot"><a href="Test.Tasty.Core.html#TestTimedOut"><span class="hs-identifier hs-var">TestTimedOut</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-65"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ test didn't complete in allotted time</span></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TestDepFailed"><span class="annot"><a href="Test.Tasty.Core.html#TestDepFailed"><span class="hs-identifier hs-var">TestDepFailed</span></a></span></span><span> </span><span class="hs-comment">-- See Note [Skipped tests]</span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-comment">-- ^ a dependency of this test failed, so this test was skipped.</span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-comment">-- @since 1.2</span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679094208"><span id="local-6989586621679094217"><span id="local-6989586621679094221"><span class="annot"><span class="annottext">Int -&gt; FailureReason -&gt; ShowS
[FailureReason] -&gt; ShowS
FailureReason -&gt; TestName
(Int -&gt; FailureReason -&gt; ShowS)
-&gt; (FailureReason -&gt; TestName)
-&gt; ([FailureReason] -&gt; ShowS)
-&gt; Show FailureReason
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; TestName) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; FailureReason -&gt; ShowS
showsPrec :: Int -&gt; FailureReason -&gt; ShowS
$cshow :: FailureReason -&gt; TestName
show :: FailureReason -&gt; TestName
$cshowList :: [FailureReason] -&gt; ShowS
showList :: [FailureReason] -&gt; ShowS
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-comment">-- | Outcome of a test run</span><span>
</span><span id="line-73"></span><span class="hs-comment">--</span><span>
</span><span id="line-74"></span><span class="hs-comment">-- Note: this is isomorphic to @'Maybe' 'FailureReason'@. You can use the</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- @generic-maybe@ package to exploit that.</span><span>
</span><span id="line-76"></span><span class="hs-comment">--</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- @since 0.8</span><span>
</span><span id="line-78"></span><span class="hs-keyword">data</span><span> </span><span id="Outcome"><span class="annot"><a href="Test.Tasty.Core.html#Outcome"><span class="hs-identifier hs-var">Outcome</span></a></span></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Success"><span class="annot"><a href="Test.Tasty.Core.html#Success"><span class="hs-identifier hs-var">Success</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ test succeeded</span></span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Failure"><span class="annot"><a href="Test.Tasty.Core.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span></span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#FailureReason"><span class="hs-identifier hs-type">FailureReason</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ test failed because of the 'FailureReason'</span></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679094227"><span id="local-6989586621679094231"><span id="local-6989586621679094235"><span class="annot"><span class="annottext">Int -&gt; Outcome -&gt; ShowS
[Outcome] -&gt; ShowS
Outcome -&gt; TestName
(Int -&gt; Outcome -&gt; ShowS)
-&gt; (Outcome -&gt; TestName) -&gt; ([Outcome] -&gt; ShowS) -&gt; Show Outcome
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; TestName) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Outcome -&gt; ShowS
showsPrec :: Int -&gt; Outcome -&gt; ShowS
$cshow :: Outcome -&gt; TestName
show :: Outcome -&gt; TestName
$cshowList :: [Outcome] -&gt; ShowS
showList :: [Outcome] -&gt; ShowS
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679094238"><span id="local-6989586621679094240"><span class="annot"><span class="annottext">(forall x. Outcome -&gt; Rep Outcome x)
-&gt; (forall x. Rep Outcome x -&gt; Outcome) -&gt; Generic Outcome
forall x. Rep Outcome x -&gt; Outcome
forall x. Outcome -&gt; Rep Outcome x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. Outcome -&gt; Rep Outcome x
from :: forall x. Outcome -&gt; Rep Outcome x
$cto :: forall x. Rep Outcome x -&gt; Outcome
to :: forall x. Rep Outcome x -&gt; Outcome
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-comment">-- | Time in seconds. Used to measure how long the tests took to run.</span><span>
</span><span id="line-84"></span><span class="hs-comment">--</span><span>
</span><span id="line-85"></span><span class="hs-comment">-- @since 0.10</span><span>
</span><span id="line-86"></span><span class="hs-keyword">type</span><span> </span><span id="Time"><span class="annot"><a href="Test.Tasty.Core.html#Time"><span class="hs-identifier hs-var">Time</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-comment">-- | A test result.</span><span>
</span><span id="line-89"></span><span class="hs-comment">--</span><span>
</span><span id="line-90"></span><span class="hs-comment">-- @since 0.1</span><span>
</span><span id="line-91"></span><span class="hs-keyword">data</span><span> </span><span id="Result"><span class="annot"><a href="Test.Tasty.Core.html#Result"><span class="hs-identifier hs-var">Result</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Result"><span class="annot"><a href="Test.Tasty.Core.html#Result"><span class="hs-identifier hs-var">Result</span></a></span></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="resultOutcome"><span class="annot"><span class="annottext">Result -&gt; Outcome
</span><a href="Test.Tasty.Core.html#resultOutcome"><span class="hs-identifier hs-var hs-var">resultOutcome</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#Outcome"><span class="hs-identifier hs-type">Outcome</span></a></span><span>
</span><span id="line-93"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Did the test fail? If so, why?</span></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="resultDescription"><span class="annot"><span class="annottext">Result -&gt; TestName
</span><a href="Test.Tasty.Core.html#resultDescription"><span class="hs-identifier hs-var hs-var">resultDescription</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-96"></span><span>    </span><span class="hs-comment">-- 'resultDescription' may contain some details about the test. For</span><span>
</span><span id="line-97"></span><span>    </span><span class="hs-comment">-- a passed test it's ok to leave it empty. Providers like SmallCheck and</span><span>
</span><span id="line-98"></span><span>    </span><span class="hs-comment">-- QuickCheck use it to provide information about how many tests were</span><span>
</span><span id="line-99"></span><span>    </span><span class="hs-comment">-- generated.</span><span>
</span><span id="line-100"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-101"></span><span>    </span><span class="hs-comment">-- For a failed test, 'resultDescription' should typically provide more</span><span>
</span><span id="line-102"></span><span>    </span><span class="hs-comment">-- information about the failure.</span><span>
</span><span id="line-103"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-104"></span><span>    </span><span class="hs-comment">-- @since 0.11</span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="resultShortDescription"><span class="annot"><span class="annottext">Result -&gt; TestName
</span><a href="Test.Tasty.Core.html#resultShortDescription"><span class="hs-identifier hs-var hs-var">resultShortDescription</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-comment">-- ^ The short description printed in the test run summary, usually @OK@ or</span><span>
</span><span id="line-107"></span><span>    </span><span class="hs-comment">-- @FAIL@.</span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-comment">-- @since 0.10</span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="resultTime"><span class="annot"><span class="annottext">Result -&gt; Time
</span><a href="Test.Tasty.Core.html#resultTime"><span class="hs-identifier hs-var hs-var">resultTime</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span>
</span><span id="line-111"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ How long it took to run the test, in seconds.</span></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="resultDetailsPrinter"><span class="annot"><span class="annottext">Result -&gt; ResultDetailsPrinter
</span><a href="Test.Tasty.Core.html#resultDetailsPrinter"><span class="hs-identifier hs-var hs-var">resultDetailsPrinter</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Providers.ConsoleFormat.html#ResultDetailsPrinter"><span class="hs-identifier hs-type">ResultDetailsPrinter</span></a></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-comment">-- ^ An action that prints additional information about a test.</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-comment">-- This is similar to 'resultDescription' except it can produce</span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-comment">-- colorful/formatted output; see &quot;Test.Tasty.Providers.ConsoleFormat&quot;.</span><span>
</span><span id="line-117"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-118"></span><span>    </span><span class="hs-comment">-- This can be used instead of or in addition to 'resultDescription'.</span><span>
</span><span id="line-119"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-120"></span><span>    </span><span class="hs-comment">-- Usually this is set to 'noResultDetails', which does nothing.</span><span>
</span><span id="line-121"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-comment">-- @since 1.3.1</span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-special">(</span><span> </span><span id="local-6989586621679094251"><span id="local-6989586621679094261"><span id="local-6989586621679094265"><span class="annot"><span class="annottext">Int -&gt; Result -&gt; ShowS
[Result] -&gt; ShowS
Result -&gt; TestName
(Int -&gt; Result -&gt; ShowS)
-&gt; (Result -&gt; TestName) -&gt; ([Result] -&gt; ShowS) -&gt; Show Result
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; TestName) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Result -&gt; ShowS
showsPrec :: Int -&gt; Result -&gt; ShowS
$cshow :: Result -&gt; TestName
show :: Result -&gt; TestName
$cshowList :: [Result] -&gt; ShowS
showList :: [Result] -&gt; ShowS
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ @since 1.2</span></span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-comment">{- Note [Skipped tests]
   ~~~~~~~~~~~~~~~~~~~~
   There are two potential ways to represent the tests that are skipped
   because of their failed dependencies:
   1. With Outcome = Failure, and FailureReason giving the specifics (TestDepFailed)
   2. With a dedicated Outcome = Skipped

   It seems to me that (1) will lead to fewer bugs (esp. in the extension packages),
   because most of the time skipped tests should be handled in the same way
   as failed tests.
   But sometimes it is not obvious what the right behavior should be. E.g.
   should --hide-successes show or hide the skipped tests?

   Perhaps we should hide them, because they aren't really informative.
   Or perhaps we shouldn't hide them, because we are not sure that they
   will pass, and hiding them will imply a false sense of security
   (&quot;there's at most 2 tests failing&quot;, whereas in fact there could be much more).

   So I might change this in the future, but for now treating them as
   failures seems the easiest yet reasonable approach.
-}</span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-comment">-- | 'True' for a passed test, 'False' for a failed one.</span><span>
</span><span id="line-151"></span><span class="hs-comment">--</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- @since 0.8</span><span>
</span><span id="line-153"></span><span class="annot"><a href="Test.Tasty.Core.html#resultSuccessful"><span class="hs-identifier hs-type">resultSuccessful</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-154"></span><span id="resultSuccessful"><span class="annot"><span class="annottext">resultSuccessful :: Result -&gt; Bool
</span><a href="Test.Tasty.Core.html#resultSuccessful"><span class="hs-identifier hs-var hs-var">resultSuccessful</span></a></span></span><span> </span><span id="local-6989586621679094267"><span class="annot"><span class="annottext">Result
</span><a href="#local-6989586621679094267"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Result -&gt; Outcome
</span><a href="Test.Tasty.Core.html#resultOutcome"><span class="hs-identifier hs-var">resultOutcome</span></a></span><span> </span><span class="annot"><span class="annottext">Result
</span><a href="#local-6989586621679094267"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-156"></span><span>    </span><span class="annot"><span class="annottext">Outcome
</span><a href="Test.Tasty.Core.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-157"></span><span>    </span><span class="annot"><a href="Test.Tasty.Core.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="annot"><span class="hs-comment">-- | Shortcut for creating a 'Result' that indicates exception</span></span><span>
</span><span id="line-160"></span><span class="annot"><a href="Test.Tasty.Core.html#exceptionResult"><span class="hs-identifier hs-type">exceptionResult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Exception.Type.html#SomeException"><span class="hs-identifier hs-type">SomeException</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span>
</span><span id="line-161"></span><span id="exceptionResult"><span class="annot"><span class="annottext">exceptionResult :: SomeException -&gt; Result
</span><a href="Test.Tasty.Core.html#exceptionResult"><span class="hs-identifier hs-var hs-var">exceptionResult</span></a></span></span><span> </span><span id="local-6989586621679094268"><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679094268"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">resultOutcome :: Outcome
</span><a href="Test.Tasty.Core.html#resultOutcome"><span class="hs-identifier hs-var">resultOutcome</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FailureReason -&gt; Outcome
</span><a href="Test.Tasty.Core.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">(FailureReason -&gt; Outcome) -&gt; FailureReason -&gt; Outcome
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; FailureReason
</span><a href="Test.Tasty.Core.html#TestThrewException"><span class="hs-identifier hs-var">TestThrewException</span></a></span><span> </span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679094268"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">resultDescription :: TestName
</span><a href="Test.Tasty.Core.html#resultDescription"><span class="hs-identifier hs-var">resultDescription</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TestName
</span><span class="hs-string">&quot;Exception: &quot;</span></span><span> </span><span class="annot"><span class="annottext">TestName -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; TestName
forall e. Exception e =&gt; e -&gt; TestName
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Exception.Type.html#displayException"><span class="hs-identifier hs-var">displayException</span></a></span><span> </span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679094268"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">resultShortDescription :: TestName
</span><a href="Test.Tasty.Core.html#resultShortDescription"><span class="hs-identifier hs-var">resultShortDescription</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TestName
</span><span class="hs-string">&quot;FAIL&quot;</span></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">resultTime :: Time
</span><a href="Test.Tasty.Core.html#resultTime"><span class="hs-identifier hs-var">resultTime</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Time
</span><span class="hs-number">0</span></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">resultDetailsPrinter :: ResultDetailsPrinter
</span><a href="Test.Tasty.Core.html#resultDetailsPrinter"><span class="hs-identifier hs-var">resultDetailsPrinter</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ResultDetailsPrinter
</span><a href="Test.Tasty.Providers.ConsoleFormat.html#noResultDetails"><span class="hs-identifier hs-var">noResultDetails</span></a></span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="hs-comment">-- | Test progress information.</span><span>
</span><span id="line-170"></span><span class="hs-comment">--</span><span>
</span><span id="line-171"></span><span class="hs-comment">-- This may be used by a runner to provide some feedback to the user while</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- a long-running test is executing.</span><span>
</span><span id="line-173"></span><span class="hs-comment">--</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- @since 0.1</span><span>
</span><span id="line-175"></span><span class="hs-keyword">data</span><span> </span><span id="Progress"><span class="annot"><a href="Test.Tasty.Core.html#Progress"><span class="hs-identifier hs-var">Progress</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Progress"><span class="annot"><a href="Test.Tasty.Core.html#Progress"><span class="hs-identifier hs-var">Progress</span></a></span></span><span>
</span><span id="line-176"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="progressText"><span class="annot"><span class="annottext">Progress -&gt; TestName
</span><a href="Test.Tasty.Core.html#progressText"><span class="hs-identifier hs-var hs-var">progressText</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-177"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ textual information about the test's progress</span></span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="progressPercent"><span class="annot"><span class="annottext">Progress -&gt; Float
</span><a href="Test.Tasty.Core.html#progressPercent"><span class="hs-identifier hs-var hs-var">progressPercent</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Float"><span class="hs-identifier hs-type">Float</span></a></span><span>
</span><span id="line-179"></span><span>    </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-180"></span><span>    </span><span class="hs-comment">-- 'progressPercent' should be a value between 0 and 1. If it's impossible</span><span>
</span><span id="line-181"></span><span>    </span><span class="hs-comment">-- to compute the estimate, use 0.</span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-special">(</span><span> </span><span id="local-6989586621679094274"><span id="local-6989586621679094280"><span id="local-6989586621679094284"><span class="annot"><span class="annottext">Int -&gt; Progress -&gt; ShowS
[Progress] -&gt; ShowS
Progress -&gt; TestName
(Int -&gt; Progress -&gt; ShowS)
-&gt; (Progress -&gt; TestName) -&gt; ([Progress] -&gt; ShowS) -&gt; Show Progress
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; TestName) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Progress -&gt; ShowS
showsPrec :: Int -&gt; Progress -&gt; ShowS
$cshow :: Progress -&gt; TestName
show :: Progress -&gt; TestName
$cshowList :: [Progress] -&gt; ShowS
showList :: [Progress] -&gt; ShowS
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ @since 1.2</span></span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679094287"><span id="local-6989586621679094294"><span class="annot"><span class="annottext">Progress -&gt; Progress -&gt; Bool
(Progress -&gt; Progress -&gt; Bool)
-&gt; (Progress -&gt; Progress -&gt; Bool) -&gt; Eq Progress
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Progress -&gt; Progress -&gt; Bool
== :: Progress -&gt; Progress -&gt; Bool
$c/= :: Progress -&gt; Progress -&gt; Bool
/= :: Progress -&gt; Progress -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ @since 1.5</span></span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="hs-comment">-- | Empty progress</span><span>
</span><span id="line-189"></span><span class="hs-comment">--</span><span>
</span><span id="line-190"></span><span class="hs-comment">-- @since 1.5</span><span>
</span><span id="line-191"></span><span class="annot"><a href="Test.Tasty.Core.html#emptyProgress"><span class="hs-identifier hs-type">emptyProgress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#Progress"><span class="hs-identifier hs-type">Progress</span></a></span><span>
</span><span id="line-192"></span><span id="emptyProgress"><span class="annot"><span class="annottext">emptyProgress :: Progress
</span><a href="Test.Tasty.Core.html#emptyProgress"><span class="hs-identifier hs-var hs-var">emptyProgress</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TestName -&gt; Float -&gt; Progress
</span><a href="Test.Tasty.Core.html#Progress"><span class="hs-identifier hs-var">Progress</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><span class="hs-number">0.0</span></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span class="hs-comment">-- | The interface to be implemented by a test provider.</span><span>
</span><span id="line-195"></span><span class="hs-comment">--</span><span>
</span><span id="line-196"></span><span class="hs-comment">-- The type @t@ is the concrete representation of the test which is used by</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- the provider.</span><span>
</span><span id="line-198"></span><span class="hs-comment">--</span><span>
</span><span id="line-199"></span><span class="hs-comment">-- @since 0.1</span><span>
</span><span id="line-200"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094043"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="IsTest"><span class="annot"><a href="Test.Tasty.Core.html#IsTest"><span class="hs-identifier hs-var">IsTest</span></a></span></span><span> </span><span id="local-6989586621679094043"><span class="annot"><a href="#local-6989586621679094043"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-comment">-- | Run the test</span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-203"></span><span>  </span><span class="hs-comment">-- This method should cleanly catch any exceptions in the code to test, and</span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-comment">-- return them as part of the 'Result', see 'FailureReason' for an</span><span>
</span><span id="line-205"></span><span>  </span><span class="hs-comment">-- explanation. It is ok for 'run' to raise an exception if there is a</span><span>
</span><span id="line-206"></span><span>  </span><span class="hs-comment">-- problem with the test suite code itself (for example, if a file that</span><span>
</span><span id="line-207"></span><span>  </span><span class="hs-comment">-- should contain example data or expected output is not found).</span><span>
</span><span id="line-208"></span><span>  </span><span id="run"><span class="annot"><a href="Test.Tasty.Core.html#run"><span class="hs-identifier hs-type">run</span></a></span></span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ options</span></span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679094043"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the test to run</span></span><span>
</span><span id="line-211"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Tasty.Core.html#Progress"><span class="hs-identifier hs-type">Progress</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ a callback to report progress.</span></span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-comment">-- | The list of options that affect execution of tests of this type</span><span>
</span><span id="line-215"></span><span>  </span><span id="testOptions"><span class="annot"><a href="Test.Tasty.Core.html#testOptions"><span class="hs-identifier hs-type">testOptions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span class="annot"><a href="#local-6989586621679094043"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Test.Tasty.Options.html#OptionDescription"><span class="hs-identifier hs-type">OptionDescription</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="hs-comment">-- | The name of a test or a group of tests.</span><span>
</span><span id="line-218"></span><span class="hs-comment">--</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- @since 0.1</span><span>
</span><span id="line-220"></span><span class="hs-keyword">type</span><span> </span><span id="TestName"><span class="annot"><a href="Test.Tasty.Core.html#TestName"><span class="hs-identifier hs-var">TestName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span class="hs-comment">-- | 'ResourceSpec' describes how to acquire a resource (the first field)</span><span>
</span><span id="line-223"></span><span class="hs-comment">-- and how to release it (the second field).</span><span>
</span><span id="line-224"></span><span class="hs-comment">--</span><span>
</span><span id="line-225"></span><span class="hs-comment">-- @since 0.6</span><span>
</span><span id="line-226"></span><span class="hs-keyword">data</span><span> </span><span id="ResourceSpec"><span class="annot"><a href="Test.Tasty.Core.html#ResourceSpec"><span class="hs-identifier hs-var">ResourceSpec</span></a></span></span><span> </span><span id="local-6989586621679094302"><span class="annot"><a href="#local-6989586621679094302"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ResourceSpec"><span class="annot"><a href="Test.Tasty.Core.html#ResourceSpec"><span class="hs-identifier hs-var">ResourceSpec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094302"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679094302"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="annot"><span class="hs-comment">-- | A resources-related exception</span></span><span>
</span><span id="line-229"></span><span class="hs-keyword">data</span><span> </span><span id="ResourceError"><span class="annot"><a href="Test.Tasty.Core.html#ResourceError"><span class="hs-identifier hs-var">ResourceError</span></a></span></span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="NotRunningTests"><span class="annot"><a href="Test.Tasty.Core.html#NotRunningTests"><span class="hs-identifier hs-var">NotRunningTests</span></a></span></span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="UnexpectedState"><span class="annot"><a href="Test.Tasty.Core.html#UnexpectedState"><span class="hs-identifier hs-var">UnexpectedState</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="UseOutsideOfTest"><span class="annot"><a href="Test.Tasty.Core.html#UseOutsideOfTest"><span class="hs-identifier hs-var">UseOutsideOfTest</span></a></span></span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679094307"><span id="local-6989586621679094312"><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#ResourceError"><span class="hs-identifier hs-type">ResourceError</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-236"></span><span>  </span><span id="local-6989586621679094323"><span class="annot"><span class="annottext">show :: ResourceError -&gt; TestName
</span><a href="#local-6989586621679094323"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="annot"><span class="annottext">ResourceError
</span><a href="Test.Tasty.Core.html#NotRunningTests"><span class="hs-identifier hs-var">NotRunningTests</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-237"></span><span>    </span><span class="annot"><span class="annottext">TestName
</span><span class="hs-string">&quot;Unhandled resource. Probably a bug in the runner you're using.&quot;</span></span><span>
</span><span id="line-238"></span><span>  </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Tasty.Core.html#UnexpectedState"><span class="hs-identifier hs-type">UnexpectedState</span></a></span><span> </span><span id="local-6989586621679094325"><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094325"><span class="hs-identifier hs-var">where_</span></a></span></span><span> </span><span id="local-6989586621679094326"><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094326"><span class="hs-identifier hs-var">what</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-239"></span><span>    </span><span class="annot"><span class="annottext">TestName -&gt; TestName -&gt; ShowS
forall r. PrintfType r =&gt; TestName -&gt; r
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Text.Printf.html#printf"><span class="hs-identifier hs-var">printf</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><span class="hs-string">&quot;Unexpected state of the resource (%s) in %s. Report as a tasty bug.&quot;</span></span><span>
</span><span id="line-240"></span><span>      </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094326"><span class="hs-identifier hs-var">what</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094325"><span class="hs-identifier hs-var">where_</span></a></span><span>
</span><span id="line-241"></span><span>  </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ResourceError
</span><a href="Test.Tasty.Core.html#UseOutsideOfTest"><span class="hs-identifier hs-var">UseOutsideOfTest</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-242"></span><span>    </span><span class="annot"><span class="annottext">TestName
</span><span class="hs-string">&quot;It looks like you're attempting to use a resource outside of its test. Don't do that!&quot;</span></span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679094333"><span id="local-6989586621679094337"><span id="local-6989586621679094340"><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Exception.Type.html#Exception"><span class="hs-identifier hs-type">Exception</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#ResourceError"><span class="hs-identifier hs-type">ResourceError</span></a></span></span></span></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span class="hs-comment">-- | These are the two ways in which one test may depend on the others.</span><span>
</span><span id="line-247"></span><span class="hs-comment">--</span><span>
</span><span id="line-248"></span><span class="hs-comment">-- This is the same distinction as the</span><span>
</span><span id="line-249"></span><span class="hs-comment">-- &lt;http://testng.org/doc/documentation-main.html#dependent-methods hard vs soft dependencies in TestNG&gt;.</span><span>
</span><span id="line-250"></span><span class="hs-comment">--</span><span>
</span><span id="line-251"></span><span class="hs-comment">-- @since 1.2</span><span>
</span><span id="line-252"></span><span class="hs-keyword">data</span><span> </span><span id="DependencyType"><span class="annot"><a href="Test.Tasty.Core.html#DependencyType"><span class="hs-identifier hs-var">DependencyType</span></a></span></span><span>
</span><span id="line-253"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="AllSucceed"><span class="annot"><a href="Test.Tasty.Core.html#AllSucceed"><span class="hs-identifier hs-var">AllSucceed</span></a></span></span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-comment">-- ^ The current test tree will be executed after its dependencies finish, and only</span><span>
</span><span id="line-255"></span><span>    </span><span class="hs-comment">-- if all of the dependencies succeed.</span><span>
</span><span id="line-256"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AllFinish"><span class="annot"><a href="Test.Tasty.Core.html#AllFinish"><span class="hs-identifier hs-var">AllFinish</span></a></span></span><span>
</span><span id="line-257"></span><span>    </span><span class="hs-comment">-- ^ The current test tree will be executed after its dependencies finish,</span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-comment">-- regardless of whether they succeed or not.</span><span>
</span><span id="line-259"></span><span>  </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-special">(</span><span> </span><span id="local-6989586621679094346"><span id="local-6989586621679094348"><span class="annot"><span class="annottext">DependencyType -&gt; DependencyType -&gt; Bool
(DependencyType -&gt; DependencyType -&gt; Bool)
-&gt; (DependencyType -&gt; DependencyType -&gt; Bool) -&gt; Eq DependencyType
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: DependencyType -&gt; DependencyType -&gt; Bool
== :: DependencyType -&gt; DependencyType -&gt; Bool
$c/= :: DependencyType -&gt; DependencyType -&gt; Bool
/= :: DependencyType -&gt; DependencyType -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679094352"><span id="local-6989586621679094354"><span id="local-6989586621679094358"><span class="annot"><span class="annottext">Int -&gt; DependencyType -&gt; ShowS
[DependencyType] -&gt; ShowS
DependencyType -&gt; TestName
(Int -&gt; DependencyType -&gt; ShowS)
-&gt; (DependencyType -&gt; TestName)
-&gt; ([DependencyType] -&gt; ShowS)
-&gt; Show DependencyType
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; TestName) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; DependencyType -&gt; ShowS
showsPrec :: Int -&gt; DependencyType -&gt; ShowS
$cshow :: DependencyType -&gt; TestName
show :: DependencyType -&gt; TestName
$cshowList :: [DependencyType] -&gt; ShowS
showList :: [DependencyType] -&gt; ShowS
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-262"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679094361"><span id="local-6989586621679094365"><span id="local-6989586621679094368"><span id="local-6989586621679094373"><span class="annot"><span class="annottext">ReadPrec [DependencyType]
ReadPrec DependencyType
Int -&gt; ReadS DependencyType
ReadS [DependencyType]
(Int -&gt; ReadS DependencyType)
-&gt; ReadS [DependencyType]
-&gt; ReadPrec DependencyType
-&gt; ReadPrec [DependencyType]
-&gt; Read DependencyType
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS DependencyType
readsPrec :: Int -&gt; ReadS DependencyType
$creadList :: ReadS [DependencyType]
readList :: ReadS [DependencyType]
$creadPrec :: ReadPrec DependencyType
readPrec :: ReadPrec DependencyType
$creadListPrec :: ReadPrec [DependencyType]
readListPrec :: ReadPrec [DependencyType]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ @since 1.5</span></span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span class="annot"><span class="hs-comment">-- | Determines mode of execution of a 'TestGroup'</span></span><span>
</span><span id="line-266"></span><span class="hs-keyword">data</span><span> </span><span id="ExecutionMode"><span class="annot"><a href="Test.Tasty.Core.html#ExecutionMode"><span class="hs-identifier hs-var">ExecutionMode</span></a></span></span><span>
</span><span id="line-267"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Sequential"><span class="annot"><a href="Test.Tasty.Core.html#Sequential"><span class="hs-identifier hs-var">Sequential</span></a></span></span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#DependencyType"><span class="hs-identifier hs-type">DependencyType</span></a></span><span>
</span><span id="line-268"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Execute tests one after another</span></span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Parallel"><span class="annot"><a href="Test.Tasty.Core.html#Parallel"><span class="hs-identifier hs-var">Parallel</span></a></span></span><span>
</span><span id="line-270"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Execute tests in parallel</span></span><span>
</span><span id="line-271"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679094380"><span id="local-6989586621679094384"><span id="local-6989586621679094388"><span class="annot"><span class="annottext">Int -&gt; ExecutionMode -&gt; ShowS
[ExecutionMode] -&gt; ShowS
ExecutionMode -&gt; TestName
(Int -&gt; ExecutionMode -&gt; ShowS)
-&gt; (ExecutionMode -&gt; TestName)
-&gt; ([ExecutionMode] -&gt; ShowS)
-&gt; Show ExecutionMode
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; TestName) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; ExecutionMode -&gt; ShowS
showsPrec :: Int -&gt; ExecutionMode -&gt; ShowS
$cshow :: ExecutionMode -&gt; TestName
show :: ExecutionMode -&gt; TestName
$cshowList :: [ExecutionMode] -&gt; ShowS
showList :: [ExecutionMode] -&gt; ShowS
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679094391"><span id="local-6989586621679094395"><span id="local-6989586621679094398"><span id="local-6989586621679094406"><span class="annot"><span class="annottext">ReadPrec [ExecutionMode]
ReadPrec ExecutionMode
Int -&gt; ReadS ExecutionMode
ReadS [ExecutionMode]
(Int -&gt; ReadS ExecutionMode)
-&gt; ReadS [ExecutionMode]
-&gt; ReadPrec ExecutionMode
-&gt; ReadPrec [ExecutionMode]
-&gt; Read ExecutionMode
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS ExecutionMode
readsPrec :: Int -&gt; ReadS ExecutionMode
$creadList :: ReadS [ExecutionMode]
readList :: ReadS [ExecutionMode]
$creadPrec :: ReadPrec ExecutionMode
readPrec :: ReadPrec ExecutionMode
$creadListPrec :: ReadPrec [ExecutionMode]
readListPrec :: ReadPrec [ExecutionMode]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="hs-comment">-- | Determines mode of execution of a 'TestGroup'. Note that this option is</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- not exposed as a command line argument.</span><span>
</span><span id="line-275"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679094415"><span class="annot"><a href="Test.Tasty.Options.html#IsOption"><span class="hs-identifier hs-type">IsOption</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#ExecutionMode"><span class="hs-identifier hs-type">ExecutionMode</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-276"></span><span>  </span><span id="local-6989586621679094419"><span class="annot"><span class="annottext">defaultValue :: ExecutionMode
</span><a href="#local-6989586621679094419"><span class="hs-identifier hs-var hs-var hs-var hs-var">defaultValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExecutionMode
</span><a href="Test.Tasty.Core.html#Parallel"><span class="hs-identifier hs-var">Parallel</span></a></span><span>
</span><span id="line-277"></span><span>  </span><span id="local-6989586621679094422"><span class="annot"><span class="annottext">parseValue :: TestName -&gt; Maybe ExecutionMode
</span><a href="#local-6989586621679094422"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TestName -&gt; Maybe ExecutionMode
forall a. Read a =&gt; TestName -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Text.Read.html#readMaybe"><span class="hs-identifier hs-var">readMaybe</span></a></span><span>
</span><span id="line-278"></span><span>  </span><span id="local-6989586621679094424"><span class="annot"><span class="annottext">optionName :: Tagged ExecutionMode TestName
</span><a href="#local-6989586621679094424"><span class="hs-identifier hs-var hs-var hs-var hs-var">optionName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TestName -&gt; Tagged ExecutionMode TestName
forall {k} (s :: k) b. b -&gt; Tagged s b
</span><span class="hs-identifier hs-var">Tagged</span></span><span> </span><span class="annot"><span class="annottext">TestName
</span><span class="hs-string">&quot;execution-mode&quot;</span></span><span>
</span><span id="line-279"></span><span>  </span><span id="local-6989586621679094427"><span class="annot"><span class="annottext">optionHelp :: Tagged ExecutionMode TestName
</span><a href="#local-6989586621679094427"><span class="hs-identifier hs-var hs-var hs-var hs-var">optionHelp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TestName -&gt; Tagged ExecutionMode TestName
forall {k} (s :: k) b. b -&gt; Tagged s b
</span><span class="hs-identifier hs-var">Tagged</span></span><span> </span><span class="annot"><span class="annottext">TestName
</span><span class="hs-string">&quot;Whether to execute tests sequentially or in parallel&quot;</span></span><span>
</span><span id="line-280"></span><span>  </span><span id="local-6989586621679094430"><span class="annot"><span class="annottext">optionCLParser :: Parser ExecutionMode
</span><a href="#local-6989586621679094430"><span class="hs-identifier hs-var hs-var hs-var hs-var">optionCLParser</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Mod OptionFields ExecutionMode -&gt; Parser ExecutionMode
forall v. IsOption v =&gt; Mod OptionFields v -&gt; Parser v
</span><a href="Test.Tasty.Options.html#mkOptionCLParser"><span class="hs-identifier hs-var">mkOptionCLParser</span></a></span><span> </span><span class="annot"><span class="annottext">Mod OptionFields ExecutionMode
forall (f :: * -&gt; *) a. Mod f a
</span><span class="hs-identifier hs-var">internal</span></span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span class="hs-comment">-- | The main data structure defining a test suite.</span><span>
</span><span id="line-283"></span><span class="hs-comment">--</span><span>
</span><span id="line-284"></span><span class="hs-comment">-- It consists of individual test cases and properties, organized in named</span><span>
</span><span id="line-285"></span><span class="hs-comment">-- groups which form a tree-like hierarchy.</span><span>
</span><span id="line-286"></span><span class="hs-comment">--</span><span>
</span><span id="line-287"></span><span class="hs-comment">-- There is no generic way to create a test case. Instead, every test</span><span>
</span><span id="line-288"></span><span class="hs-comment">-- provider (tasty-hunit, tasty-smallcheck etc.) provides a function to</span><span>
</span><span id="line-289"></span><span class="hs-comment">-- turn a test case into a 'TestTree'.</span><span>
</span><span id="line-290"></span><span class="hs-comment">--</span><span>
</span><span id="line-291"></span><span class="hs-comment">-- Groups can be created using 'testGroup'.</span><span>
</span><span id="line-292"></span><span class="hs-comment">--</span><span>
</span><span id="line-293"></span><span class="hs-comment">-- @since 0.1</span><span>
</span><span id="line-294"></span><span class="hs-keyword">data</span><span> </span><span id="TestTree"><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-var">TestTree</span></a></span></span><span>
</span><span id="line-295"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094433"><span class="annot"><a href="#local-6989586621679094433"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#IsTest"><span class="hs-identifier hs-type">IsTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094433"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="SingleTest"><span class="annot"><a href="Test.Tasty.Core.html#SingleTest"><span class="hs-identifier hs-var">SingleTest</span></a></span></span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestName"><span class="hs-identifier hs-type">TestName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094433"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-296"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ A single test of some particular type</span></span><span>
</span><span id="line-297"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TestGroup"><span class="annot"><a href="Test.Tasty.Core.html#TestGroup"><span class="hs-identifier hs-var">TestGroup</span></a></span></span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestName"><span class="hs-identifier hs-type">TestName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-298"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Assemble a number of tests into a cohesive group</span></span><span>
</span><span id="line-299"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PlusTestOptions"><span class="annot"><a href="Test.Tasty.Core.html#PlusTestOptions"><span class="hs-identifier hs-var">PlusTestOptions</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span>
</span><span id="line-300"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Add some options to child tests</span></span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094436"><span class="annot"><a href="#local-6989586621679094436"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span id="WithResource"><span class="annot"><a href="Test.Tasty.Core.html#WithResource"><span class="hs-identifier hs-var">WithResource</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Tasty.Core.html#ResourceSpec"><span class="hs-identifier hs-type">ResourceSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094436"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094436"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>    </span><span class="hs-comment">-- ^ Acquire the resource before the tests in the inner tree start and</span><span>
</span><span id="line-303"></span><span>    </span><span class="hs-comment">-- release it after they finish. The tree gets an `IO` action which</span><span>
</span><span id="line-304"></span><span>    </span><span class="hs-comment">-- yields the resource, although the resource is shared across all the</span><span>
</span><span id="line-305"></span><span>    </span><span class="hs-comment">-- tests.</span><span>
</span><span id="line-306"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-307"></span><span>    </span><span class="hs-comment">-- @since 0.5</span><span>
</span><span id="line-308"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AskOptions"><span class="annot"><a href="Test.Tasty.Core.html#AskOptions"><span class="hs-identifier hs-var">AskOptions</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>    </span><span class="hs-comment">-- ^ Ask for the options and customize the tests based on them.</span><span>
</span><span id="line-310"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-311"></span><span>    </span><span class="hs-comment">-- @since 0.6</span><span>
</span><span id="line-312"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="After"><span class="annot"><a href="Test.Tasty.Core.html#After"><span class="hs-identifier hs-var">After</span></a></span></span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#DependencyType"><span class="hs-identifier hs-type">DependencyType</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Patterns.Types.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span>
</span><span id="line-313"></span><span>    </span><span class="hs-comment">-- ^ Only run after all tests that match a given pattern finish</span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-comment">-- (and, depending on the 'DependencyType', succeed).</span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-316"></span><span>    </span><span class="hs-comment">-- @since 1.2</span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="hs-comment">-- | Create a named group of test cases or other groups. Tests are executed in</span><span>
</span><span id="line-319"></span><span class="hs-comment">-- parallel. For sequential execution, see 'sequentialTestGroup'.</span><span>
</span><span id="line-320"></span><span class="hs-comment">--</span><span>
</span><span id="line-321"></span><span class="hs-comment">-- @since 0.1</span><span>
</span><span id="line-322"></span><span class="annot"><a href="Test.Tasty.Core.html#testGroup"><span class="hs-identifier hs-type">testGroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestName"><span class="hs-identifier hs-type">TestName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span>
</span><span id="line-323"></span><span id="testGroup"><span class="annot"><span class="annottext">testGroup :: TestName -&gt; [TestTree] -&gt; TestTree
</span><a href="Test.Tasty.Core.html#testGroup"><span class="hs-identifier hs-var hs-var">testGroup</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TestName -&gt; [TestTree] -&gt; TestTree
</span><a href="Test.Tasty.Core.html#TestGroup"><span class="hs-identifier hs-var">TestGroup</span></a></span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span class="hs-comment">-- | Create a named group of test cases or other groups. Tests are executed in</span><span>
</span><span id="line-326"></span><span class="hs-comment">-- order. For parallel execution, see 'testGroup'.</span><span>
</span><span id="line-327"></span><span class="annot"><a href="Test.Tasty.Core.html#sequentialTestGroup"><span class="hs-identifier hs-type">sequentialTestGroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestName"><span class="hs-identifier hs-type">TestName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#DependencyType"><span class="hs-identifier hs-type">DependencyType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span>
</span><span id="line-328"></span><span id="sequentialTestGroup"><span class="annot"><span class="annottext">sequentialTestGroup :: TestName -&gt; DependencyType -&gt; [TestTree] -&gt; TestTree
</span><a href="Test.Tasty.Core.html#sequentialTestGroup"><span class="hs-identifier hs-var hs-var">sequentialTestGroup</span></a></span></span><span> </span><span id="local-6989586621679094440"><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094440"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621679094441"><span class="annot"><span class="annottext">DependencyType
</span><a href="#local-6989586621679094441"><span class="hs-identifier hs-var">depType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TestTree -&gt; TestTree
</span><a href="#local-6989586621679094442"><span class="hs-identifier hs-var">setSequential</span></a></span><span> </span><span class="annot"><span class="annottext">(TestTree -&gt; TestTree)
-&gt; ([TestTree] -&gt; TestTree) -&gt; [TestTree] -&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TestName -&gt; [TestTree] -&gt; TestTree
</span><a href="Test.Tasty.Core.html#TestGroup"><span class="hs-identifier hs-var">TestGroup</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094440"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">([TestTree] -&gt; TestTree)
-&gt; ([TestTree] -&gt; [TestTree]) -&gt; [TestTree] -&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(TestTree -&gt; TestTree) -&gt; [TestTree] -&gt; [TestTree]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">TestTree -&gt; TestTree
</span><a href="#local-6989586621679094444"><span class="hs-identifier hs-var">setParallel</span></a></span><span>
</span><span id="line-329"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-330"></span><span>  </span><span id="local-6989586621679094444"><span class="annot"><span class="annottext">setParallel :: TestTree -&gt; TestTree
</span><a href="#local-6989586621679094444"><span class="hs-identifier hs-var hs-var">setParallel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(OptionSet -&gt; OptionSet) -&gt; TestTree -&gt; TestTree
</span><a href="Test.Tasty.Core.html#PlusTestOptions"><span class="hs-identifier hs-var">PlusTestOptions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExecutionMode -&gt; OptionSet -&gt; OptionSet
forall v. IsOption v =&gt; v -&gt; OptionSet -&gt; OptionSet
</span><a href="Test.Tasty.Options.html#setOption"><span class="hs-identifier hs-var">setOption</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionMode
</span><a href="Test.Tasty.Core.html#Parallel"><span class="hs-identifier hs-var">Parallel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>  </span><span id="local-6989586621679094442"><span class="annot"><span class="annottext">setSequential :: TestTree -&gt; TestTree
</span><a href="#local-6989586621679094442"><span class="hs-identifier hs-var hs-var">setSequential</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(OptionSet -&gt; OptionSet) -&gt; TestTree -&gt; TestTree
</span><a href="Test.Tasty.Core.html#PlusTestOptions"><span class="hs-identifier hs-var">PlusTestOptions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExecutionMode -&gt; OptionSet -&gt; OptionSet
forall v. IsOption v =&gt; v -&gt; OptionSet -&gt; OptionSet
</span><a href="Test.Tasty.Options.html#setOption"><span class="hs-identifier hs-var">setOption</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DependencyType -&gt; ExecutionMode
</span><a href="Test.Tasty.Core.html#Sequential"><span class="hs-identifier hs-var">Sequential</span></a></span><span> </span><span class="annot"><span class="annottext">DependencyType
</span><a href="#local-6989586621679094441"><span class="hs-identifier hs-var">depType</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="hs-comment">-- | Like 'after', but accepts the pattern as a syntax tree instead</span><span>
</span><span id="line-334"></span><span class="hs-comment">-- of a string. Useful for generating a test tree programmatically.</span><span>
</span><span id="line-335"></span><span class="hs-comment">--</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- ==== __Examples__</span><span>
</span><span id="line-337"></span><span class="hs-comment">--</span><span>
</span><span id="line-338"></span><span class="hs-comment">-- Only match on the test's own name, ignoring the group names:</span><span>
</span><span id="line-339"></span><span class="hs-comment">--</span><span>
</span><span id="line-340"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-341"></span><span class="hs-comment">-- 'after_' 'AllFinish' ('Test.Tasty.Patterns.Types.EQ' ('Field' 'NF') ('StringLit' \&quot;Bar\&quot;)) $</span><span>
</span><span id="line-342"></span><span class="hs-comment">--    @testCase@ \&quot;A test that depends on Foo.Bar\&quot; $ ...</span><span>
</span><span id="line-343"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-344"></span><span class="hs-comment">--</span><span>
</span><span id="line-345"></span><span class="hs-comment">-- @since 1.2</span><span>
</span><span id="line-346"></span><span class="annot"><a href="Test.Tasty.Core.html#after_"><span class="hs-identifier hs-type">after_</span></a></span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#DependencyType"><span class="hs-identifier hs-type">DependencyType</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ whether to run the tests even if some of the dependencies fail</span></span><span>
</span><span id="line-348"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Patterns.Types.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the pattern</span></span><span>
</span><span id="line-349"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the subtree that depends on other tests</span></span><span>
</span><span id="line-350"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the subtree annotated with dependency information</span></span><span>
</span><span id="line-351"></span><span id="after_"><span class="annot"><span class="annottext">after_ :: DependencyType -&gt; Expr -&gt; TestTree -&gt; TestTree
</span><a href="Test.Tasty.Core.html#after_"><span class="hs-identifier hs-var hs-var">after_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DependencyType -&gt; Expr -&gt; TestTree -&gt; TestTree
</span><a href="Test.Tasty.Core.html#After"><span class="hs-identifier hs-var">After</span></a></span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span class="hs-comment">-- | The 'after' combinator declares dependencies between tests.</span><span>
</span><span id="line-354"></span><span class="hs-comment">--</span><span>
</span><span id="line-355"></span><span class="hs-comment">-- If a 'TestTree' is wrapped in 'after', the tests in this tree will not run</span><span>
</span><span id="line-356"></span><span class="hs-comment">-- until certain other tests (&#171;dependencies&#187;) have finished. These</span><span>
</span><span id="line-357"></span><span class="hs-comment">-- dependencies are specified using an AWK pattern (see the &#171;Patterns&#187; section</span><span>
</span><span id="line-358"></span><span class="hs-comment">-- in the README).</span><span>
</span><span id="line-359"></span><span class="hs-comment">--</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- Moreover, if the 'DependencyType' argument is set to 'AllSucceed' and</span><span>
</span><span id="line-361"></span><span class="hs-comment">-- at least one dependency has failed, this test tree will not run at all.</span><span>
</span><span id="line-362"></span><span class="hs-comment">--</span><span>
</span><span id="line-363"></span><span class="hs-comment">-- Tasty does not check that the pattern matches any tests (let alone the</span><span>
</span><span id="line-364"></span><span class="hs-comment">-- correct set of tests), so it is on you to supply the right pattern.</span><span>
</span><span id="line-365"></span><span class="hs-comment">--</span><span>
</span><span id="line-366"></span><span class="hs-comment">-- ==== __Examples__</span><span>
</span><span id="line-367"></span><span class="hs-comment">--</span><span>
</span><span id="line-368"></span><span class="hs-comment">-- The following test will be executed only after all tests that contain</span><span>
</span><span id="line-369"></span><span class="hs-comment">-- @Foo@ anywhere in their path finish.</span><span>
</span><span id="line-370"></span><span class="hs-comment">--</span><span>
</span><span id="line-371"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-372"></span><span class="hs-comment">-- 'after' 'AllFinish' \&quot;Foo\&quot; $</span><span>
</span><span id="line-373"></span><span class="hs-comment">--    @testCase@ \&quot;A test that depends on Foo.Bar\&quot; $ ...</span><span>
</span><span id="line-374"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-375"></span><span class="hs-comment">--</span><span>
</span><span id="line-376"></span><span class="hs-comment">-- Note, however, that our test also happens to contain @Foo@ as part of its name,</span><span>
</span><span id="line-377"></span><span class="hs-comment">-- so it also matches the pattern and becomes a dependency of itself. This</span><span>
</span><span id="line-378"></span><span class="hs-comment">-- will result in a 'Test.Tasty.DependencyLoop' exception. To avoid this, either</span><span>
</span><span id="line-379"></span><span class="hs-comment">-- change the test name so that it doesn't mention @Foo@ or make the</span><span>
</span><span id="line-380"></span><span class="hs-comment">-- pattern more specific.</span><span>
</span><span id="line-381"></span><span class="hs-comment">--</span><span>
</span><span id="line-382"></span><span class="hs-comment">-- You can use AWK patterns, for instance, to specify the full path to the dependency.</span><span>
</span><span id="line-383"></span><span class="hs-comment">--</span><span>
</span><span id="line-384"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-385"></span><span class="hs-comment">-- 'after' 'AllFinish' \&quot;$0 == \\\&quot;Tests.Foo.Bar\\\&quot;\&quot; $</span><span>
</span><span id="line-386"></span><span class="hs-comment">--    @testCase@ \&quot;A test that depends on Foo.Bar\&quot; $ ...</span><span>
</span><span id="line-387"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-388"></span><span class="hs-comment">--</span><span>
</span><span id="line-389"></span><span class="hs-comment">-- Or only specify the dependency's own name, ignoring the group names:</span><span>
</span><span id="line-390"></span><span class="hs-comment">--</span><span>
</span><span id="line-391"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-392"></span><span class="hs-comment">-- 'after' 'AllFinish' \&quot;$NF == \\\&quot;Bar\\\&quot;\&quot; $</span><span>
</span><span id="line-393"></span><span class="hs-comment">--    @testCase@ \&quot;A test that depends on Foo.Bar\&quot; $ ...</span><span>
</span><span id="line-394"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-395"></span><span class="hs-comment">--</span><span>
</span><span id="line-396"></span><span class="hs-comment">-- @since 1.2</span><span>
</span><span id="line-397"></span><span class="annot"><a href="Test.Tasty.Core.html#after"><span class="hs-identifier hs-type">after</span></a></span><span>
</span><span id="line-398"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#DependencyType"><span class="hs-identifier hs-type">DependencyType</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ whether to run the tests even if some of the dependencies fail</span></span><span>
</span><span id="line-399"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the pattern</span></span><span>
</span><span id="line-400"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the subtree that depends on other tests</span></span><span>
</span><span id="line-401"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the subtree annotated with dependency information</span></span><span>
</span><span id="line-402"></span><span id="after"><span class="annot"><span class="annottext">after :: DependencyType -&gt; TestName -&gt; TestTree -&gt; TestTree
</span><a href="Test.Tasty.Core.html#after"><span class="hs-identifier hs-var hs-var">after</span></a></span></span><span> </span><span id="local-6989586621679094452"><span class="annot"><span class="annottext">DependencyType
</span><a href="#local-6989586621679094452"><span class="hs-identifier hs-var">deptype</span></a></span></span><span> </span><span id="local-6989586621679094453"><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094453"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-403"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TestName -&gt; Maybe Expr
</span><a href="Test.Tasty.Patterns.html#parseExpr"><span class="hs-identifier hs-var">parseExpr</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094453"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-404"></span><span>    </span><span class="annot"><span class="annottext">Maybe Expr
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TestName -&gt; TestTree -&gt; TestTree
forall a. HasCallStack =&gt; TestName -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(TestName -&gt; TestTree -&gt; TestTree)
-&gt; TestName -&gt; TestTree -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><span class="hs-string">&quot;Could not parse pattern &quot;</span></span><span> </span><span class="annot"><span class="annottext">TestName -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. Show a =&gt; a -&gt; TestName
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094453"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-405"></span><span>    </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679094456"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679094456"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DependencyType -&gt; Expr -&gt; TestTree -&gt; TestTree
</span><a href="Test.Tasty.Core.html#after_"><span class="hs-identifier hs-var">after_</span></a></span><span> </span><span class="annot"><span class="annottext">DependencyType
</span><a href="#local-6989586621679094452"><span class="hs-identifier hs-var">deptype</span></a></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679094456"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span class="hs-comment">-- | An algebra for folding a `TestTree`.</span><span>
</span><span id="line-408"></span><span class="hs-comment">--</span><span>
</span><span id="line-409"></span><span class="hs-comment">-- Instead of constructing fresh records, build upon `trivialFold`</span><span>
</span><span id="line-410"></span><span class="hs-comment">-- instead. This way your code won't break when new nodes/fields are</span><span>
</span><span id="line-411"></span><span class="hs-comment">-- indroduced.</span><span>
</span><span id="line-412"></span><span class="hs-comment">--</span><span>
</span><span id="line-413"></span><span class="hs-comment">-- @since 0.7</span><span>
</span><span id="line-414"></span><span class="hs-keyword">data</span><span> </span><span id="TreeFold"><span class="annot"><a href="Test.Tasty.Core.html#TreeFold"><span class="hs-identifier hs-var">TreeFold</span></a></span></span><span> </span><span id="local-6989586621679094079"><span class="annot"><a href="#local-6989586621679094079"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TreeFold"><span class="annot"><a href="Test.Tasty.Core.html#TreeFold"><span class="hs-identifier hs-var">TreeFold</span></a></span></span><span>
</span><span id="line-415"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="foldSingle"><span class="annot"><span class="annottext">forall b.
TreeFold b -&gt; forall t. IsTest t =&gt; OptionSet -&gt; TestName -&gt; t -&gt; b
</span><a href="Test.Tasty.Core.html#foldSingle"><span class="hs-identifier hs-var hs-var">foldSingle</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094081"><span class="annot"><a href="#local-6989586621679094081"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#IsTest"><span class="hs-identifier hs-type">IsTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094081"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestName"><span class="hs-identifier hs-type">TestName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679094081"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679094079"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-416"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="foldGroup"><span class="annot"><span class="annottext">forall b. TreeFold b -&gt; OptionSet -&gt; TestName -&gt; [b] -&gt; b
</span><a href="Test.Tasty.Core.html#foldGroup"><span class="hs-identifier hs-var hs-var">foldGroup</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestName"><span class="hs-identifier hs-type">TestName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679094079"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679094079"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-417"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ @since 1.4</span></span><span>
</span><span id="line-418"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="foldResource"><span class="annot"><span class="annottext">forall b.
TreeFold b
-&gt; forall a. OptionSet -&gt; ResourceSpec a -&gt; (IO a -&gt; b) -&gt; b
</span><a href="Test.Tasty.Core.html#foldResource"><span class="hs-identifier hs-var hs-var">foldResource</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094085"><span class="annot"><a href="#local-6989586621679094085"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#ResourceSpec"><span class="hs-identifier hs-type">ResourceSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094085"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094085"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679094079"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679094079"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-419"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="foldAfter"><span class="annot"><span class="annottext">forall b.
TreeFold b -&gt; OptionSet -&gt; DependencyType -&gt; Expr -&gt; b -&gt; b
</span><a href="Test.Tasty.Core.html#foldAfter"><span class="hs-identifier hs-var hs-var">foldAfter</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#DependencyType"><span class="hs-identifier hs-type">DependencyType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Patterns.Types.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679094079"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679094079"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-420"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ @since 1.2</span></span><span>
</span><span id="line-421"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-422"></span><span>
</span><span id="line-423"></span><span class="hs-comment">-- | 'trivialFold' can serve as the basis for custom folds. Just override</span><span>
</span><span id="line-424"></span><span class="hs-comment">-- the fields you need.</span><span>
</span><span id="line-425"></span><span class="hs-comment">--</span><span>
</span><span id="line-426"></span><span class="hs-comment">-- Here's what it does:</span><span>
</span><span id="line-427"></span><span class="hs-comment">--</span><span>
</span><span id="line-428"></span><span class="hs-comment">-- * single tests are mapped to `mempty` (you probably do want to override that)</span><span>
</span><span id="line-429"></span><span class="hs-comment">--</span><span>
</span><span id="line-430"></span><span class="hs-comment">-- * test groups are returned unmodified</span><span>
</span><span id="line-431"></span><span class="hs-comment">--</span><span>
</span><span id="line-432"></span><span class="hs-comment">-- * for a resource, an IO action that throws an exception is passed (you</span><span>
</span><span id="line-433"></span><span class="hs-comment">-- want to override this for runners/ingredients that execute tests)</span><span>
</span><span id="line-434"></span><span class="hs-comment">--</span><span>
</span><span id="line-435"></span><span class="hs-comment">-- @since 0.7</span><span>
</span><span id="line-436"></span><span id="local-6989586621679094090"><span class="annot"><a href="Test.Tasty.Core.html#trivialFold"><span class="hs-identifier hs-type">trivialFold</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094090"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TreeFold"><span class="hs-identifier hs-type">TreeFold</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094090"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-437"></span><span id="trivialFold"><span class="annot"><span class="annottext">trivialFold :: forall b. Monoid b =&gt; TreeFold b
</span><a href="Test.Tasty.Core.html#trivialFold"><span class="hs-identifier hs-var hs-var">trivialFold</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TreeFold"><span class="hs-identifier hs-type">TreeFold</span></a></span><span>
</span><span id="line-438"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">foldSingle :: forall t. IsTest t =&gt; OptionSet -&gt; TestName -&gt; t -&gt; b
</span><a href="Test.Tasty.Core.html#foldSingle"><span class="hs-identifier hs-var">foldSingle</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">OptionSet
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TestName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-439"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">foldGroup :: OptionSet -&gt; TestName -&gt; [b] -&gt; b
</span><a href="Test.Tasty.Core.html#foldGroup"><span class="hs-identifier hs-var">foldGroup</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">OptionSet
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TestName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679094468"><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621679094468"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[b] -&gt; b
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mconcat"><span class="hs-identifier hs-var">mconcat</span></a></span><span> </span><span class="annot"><span class="annottext">[b]
</span><a href="#local-6989586621679094468"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-440"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">foldResource :: forall a. OptionSet -&gt; ResourceSpec a -&gt; (IO a -&gt; b) -&gt; b
</span><a href="Test.Tasty.Core.html#foldResource"><span class="hs-identifier hs-var">foldResource</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">OptionSet
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ResourceSpec a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679094470"><span class="annot"><span class="annottext">IO a -&gt; b
</span><a href="#local-6989586621679094470"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO a -&gt; b
</span><a href="#local-6989586621679094470"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(IO a -&gt; b) -&gt; IO a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ResourceError -&gt; IO a
forall e a. Exception e =&gt; e -&gt; IO a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.IO.html#throwIO"><span class="hs-identifier hs-var">throwIO</span></a></span><span> </span><span class="annot"><span class="annottext">ResourceError
</span><a href="Test.Tasty.Core.html#NotRunningTests"><span class="hs-identifier hs-var">NotRunningTests</span></a></span><span>
</span><span id="line-441"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">foldAfter :: OptionSet -&gt; DependencyType -&gt; Expr -&gt; b -&gt; b
</span><a href="Test.Tasty.Core.html#foldAfter"><span class="hs-identifier hs-var">foldAfter</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">OptionSet
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">DependencyType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679094472"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679094472"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679094472"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-442"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span class="hs-comment">-- | Indicates whether a test matched in an evaluated subtree. If no filter was</span><span>
</span><span id="line-446"></span><span class="hs-comment">-- used, tests always match.</span><span>
</span><span id="line-447"></span><span class="hs-keyword">type</span><span> </span><span id="TestMatched"><span class="annot"><a href="Test.Tasty.Core.html#TestMatched"><span class="hs-identifier hs-var">TestMatched</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Semigroup.Internal.html#Any"><span class="hs-identifier hs-type">Any</span></a></span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span class="hs-comment">-- | Used to force tests to be included, even if they would be filtered out by</span><span>
</span><span id="line-450"></span><span class="hs-comment">-- a user's filter. This is used to force dependencies of a test to run. For</span><span>
</span><span id="line-451"></span><span class="hs-comment">-- example, if test @A@ depends on test @B@ and test @A@ is selected to run, test</span><span>
</span><span id="line-452"></span><span class="hs-comment">-- @B@ will be forced to match. Note that this only applies to dependencies</span><span>
</span><span id="line-453"></span><span class="hs-comment">-- specified using 'sequentialTestGroup'.</span><span>
</span><span id="line-454"></span><span class="hs-keyword">type</span><span> </span><span id="ForceTestMatch"><span class="annot"><a href="Test.Tasty.Core.html#ForceTestMatch"><span class="hs-identifier hs-var">ForceTestMatch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Semigroup.Internal.html#Any"><span class="hs-identifier hs-type">Any</span></a></span><span>
</span><span id="line-455"></span><span>
</span><span id="line-456"></span><span class="hs-comment">-- | Fold a test tree into a single value.</span><span>
</span><span id="line-457"></span><span class="hs-comment">--</span><span>
</span><span id="line-458"></span><span class="hs-comment">-- The fold result type should be a monoid. This is used to fold multiple</span><span>
</span><span id="line-459"></span><span class="hs-comment">-- results in a test group. In particular, empty groups get folded into 'mempty'.</span><span>
</span><span id="line-460"></span><span class="hs-comment">--</span><span>
</span><span id="line-461"></span><span class="hs-comment">-- Apart from pure convenience, this function also does the following</span><span>
</span><span id="line-462"></span><span class="hs-comment">-- useful things:</span><span>
</span><span id="line-463"></span><span class="hs-comment">--</span><span>
</span><span id="line-464"></span><span class="hs-comment">-- 1. Keeping track of the current options (which may change due to</span><span>
</span><span id="line-465"></span><span class="hs-comment">-- `PlusTestOptions` nodes)</span><span>
</span><span id="line-466"></span><span class="hs-comment">--</span><span>
</span><span id="line-467"></span><span class="hs-comment">-- 2. Filtering out the tests which do not match the patterns</span><span>
</span><span id="line-468"></span><span class="hs-comment">--</span><span>
</span><span id="line-469"></span><span class="hs-comment">-- Thus, it is preferred to an explicit recursive traversal of the tree.</span><span>
</span><span id="line-470"></span><span class="hs-comment">--</span><span>
</span><span id="line-471"></span><span class="hs-comment">-- @since 0.7</span><span>
</span><span id="line-472"></span><span class="annot"><a href="Test.Tasty.Core.html#foldTestTree"><span class="hs-identifier hs-type">foldTestTree</span></a></span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094096"><span class="annot"><a href="#local-6989586621679094096"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094096"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-474"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TreeFold"><span class="hs-identifier hs-type">TreeFold</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094096"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-475"></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ the algebra (i.e. how to fold a tree)</span></span><span>
</span><span id="line-476"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span>
</span><span id="line-477"></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ initial options</span></span><span>
</span><span id="line-478"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span>
</span><span id="line-479"></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ the tree to fold</span></span><span>
</span><span id="line-480"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679094096"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-481"></span><span id="foldTestTree"><span class="annot"><span class="annottext">foldTestTree :: forall b. Monoid b =&gt; TreeFold b -&gt; OptionSet -&gt; TestTree -&gt; b
</span><a href="Test.Tasty.Core.html#foldTestTree"><span class="hs-identifier hs-var hs-var">foldTestTree</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; TreeFold b -&gt; OptionSet -&gt; TestTree -&gt; b
forall b. b -&gt; TreeFold b -&gt; OptionSet -&gt; TestTree -&gt; b
</span><a href="Test.Tasty.Core.html#foldTestTree0"><span class="hs-identifier hs-var">foldTestTree0</span></a></span><span> </span><span class="annot"><span class="annottext">b
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span class="hs-comment">-- | Like 'foldTestTree', but with a custom (non-Monoid) empty value. Unlike</span><span>
</span><span id="line-484"></span><span class="hs-comment">-- 'foldTestTree', it is not part of the public API.</span><span>
</span><span id="line-485"></span><span class="annot"><a href="Test.Tasty.Core.html#foldTestTree0"><span class="hs-identifier hs-type">foldTestTree0</span></a></span><span>
</span><span id="line-486"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094098"><span class="annot"><a href="#local-6989586621679094098"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-487"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679094098"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-488"></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ &quot;empty&quot; value</span></span><span>
</span><span id="line-489"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TreeFold"><span class="hs-identifier hs-type">TreeFold</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094098"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-490"></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ the algebra (i.e. how to fold a tree)</span></span><span>
</span><span id="line-491"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span>
</span><span id="line-492"></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ initial options</span></span><span>
</span><span id="line-493"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span>
</span><span id="line-494"></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ the tree to fold</span></span><span>
</span><span id="line-495"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679094098"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-496"></span><span id="foldTestTree0"><span class="annot"><span class="annottext">foldTestTree0 :: forall b. b -&gt; TreeFold b -&gt; OptionSet -&gt; TestTree -&gt; b
</span><a href="Test.Tasty.Core.html#foldTestTree0"><span class="hs-identifier hs-var hs-var">foldTestTree0</span></a></span></span><span> </span><span id="local-6989586621679094476"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679094476"><span class="hs-identifier hs-var">empty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Tasty.Core.html#TreeFold"><span class="hs-identifier hs-type">TreeFold</span></a></span><span> </span><span id="local-6989586621679094477"><span class="annot"><span class="annottext">forall t. IsTest t =&gt; OptionSet -&gt; TestName -&gt; t -&gt; b
</span><a href="#local-6989586621679094477"><span class="hs-identifier hs-var">fTest</span></a></span></span><span> </span><span id="local-6989586621679094478"><span class="annot"><span class="annottext">OptionSet -&gt; TestName -&gt; [b] -&gt; b
</span><a href="#local-6989586621679094478"><span class="hs-identifier hs-var">fGroup</span></a></span></span><span> </span><span id="local-6989586621679094479"><span class="annot"><span class="annottext">forall a. OptionSet -&gt; ResourceSpec a -&gt; (IO a -&gt; b) -&gt; b
</span><a href="#local-6989586621679094479"><span class="hs-identifier hs-var">fResource</span></a></span></span><span> </span><span id="local-6989586621679094480"><span class="annot"><span class="annottext">OptionSet -&gt; DependencyType -&gt; Expr -&gt; b -&gt; b
</span><a href="#local-6989586621679094480"><span class="hs-identifier hs-var">fAfter</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679094481"><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094481"><span class="hs-identifier hs-var">opts0</span></a></span></span><span> </span><span id="local-6989586621679094482"><span class="annot"><span class="annottext">TestTree
</span><a href="#local-6989586621679094482"><span class="hs-identifier hs-var">tree0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-497"></span><span>  </span><span class="annot"><span class="annottext">AnnTestTree OptionSet -&gt; b
</span><a href="#local-6989586621679094483"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnnTestTree (OptionSet, Seq TestName) -&gt; AnnTestTree OptionSet
</span><a href="Test.Tasty.Core.html#filterByPattern"><span class="hs-identifier hs-var">filterByPattern</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnnTestTree OptionSet -&gt; AnnTestTree (OptionSet, Seq TestName)
</span><a href="Test.Tasty.Core.html#annotatePath"><span class="hs-identifier hs-var">annotatePath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OptionSet -&gt; TestTree -&gt; AnnTestTree OptionSet
</span><a href="Test.Tasty.Core.html#evaluateOptions"><span class="hs-identifier hs-var">evaluateOptions</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094481"><span class="hs-identifier hs-var">opts0</span></a></span><span> </span><span class="annot"><span class="annottext">TestTree
</span><a href="#local-6989586621679094482"><span class="hs-identifier hs-var">tree0</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-499"></span><span>    </span><span class="annot"><a href="#local-6989586621679094483"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestTree"><span class="hs-identifier hs-type">AnnTestTree</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679094098"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-500"></span><span>    </span><span id="local-6989586621679094483"><span class="annot"><span class="annottext">go :: AnnTestTree OptionSet -&gt; b
</span><a href="#local-6989586621679094483"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-501"></span><span>      </span><span class="annot"><span class="annottext">AnnTestTree OptionSet
</span><a href="Test.Tasty.Core.html#AnnEmptyTestTree"><span class="hs-identifier hs-var">AnnEmptyTestTree</span></a></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679094476"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-502"></span><span>      </span><span class="annot"><a href="Test.Tasty.Core.html#AnnSingleTest"><span class="hs-identifier hs-type">AnnSingleTest</span></a></span><span> </span><span id="local-6989586621679094491"><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094491"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621679094492"><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094492"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679094493"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679094493"><span class="hs-identifier hs-var">test</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OptionSet -&gt; TestName -&gt; t -&gt; b
forall t. IsTest t =&gt; OptionSet -&gt; TestName -&gt; t -&gt; b
</span><a href="#local-6989586621679094477"><span class="hs-identifier hs-var">fTest</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094491"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094492"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679094493"><span class="hs-identifier hs-var">test</span></a></span><span>
</span><span id="line-503"></span><span>      </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestGroup"><span class="hs-identifier hs-type">AnnTestGroup</span></a></span><span> </span><span id="local-6989586621679094495"><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094495"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621679094496"><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094496"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679094497"><span class="annot"><span class="annottext">[AnnTestTree OptionSet]
</span><a href="#local-6989586621679094497"><span class="hs-identifier hs-var">trees</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OptionSet -&gt; TestName -&gt; [b] -&gt; b
</span><a href="#local-6989586621679094478"><span class="hs-identifier hs-var">fGroup</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094495"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094496"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AnnTestTree OptionSet -&gt; b) -&gt; [AnnTestTree OptionSet] -&gt; [b]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">AnnTestTree OptionSet -&gt; b
</span><a href="#local-6989586621679094483"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[AnnTestTree OptionSet]
</span><a href="#local-6989586621679094497"><span class="hs-identifier hs-var">trees</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-504"></span><span>      </span><span class="annot"><a href="Test.Tasty.Core.html#AnnWithResource"><span class="hs-identifier hs-type">AnnWithResource</span></a></span><span> </span><span id="local-6989586621679094499"><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094499"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621679094500"><span class="annot"><span class="annottext">ResourceSpec a
</span><a href="#local-6989586621679094500"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span id="local-6989586621679094501"><span class="annot"><span class="annottext">IO a -&gt; AnnTestTree OptionSet
</span><a href="#local-6989586621679094501"><span class="hs-identifier hs-var">tree</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OptionSet -&gt; ResourceSpec a -&gt; (IO a -&gt; b) -&gt; b
forall a. OptionSet -&gt; ResourceSpec a -&gt; (IO a -&gt; b) -&gt; b
</span><a href="#local-6989586621679094479"><span class="hs-identifier hs-var">fResource</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094499"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">ResourceSpec a
</span><a href="#local-6989586621679094500"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">((IO a -&gt; b) -&gt; b) -&gt; (IO a -&gt; b) -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679094502"><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679094502"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnnTestTree OptionSet -&gt; b
</span><a href="#local-6989586621679094483"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO a -&gt; AnnTestTree OptionSet
</span><a href="#local-6989586621679094501"><span class="hs-identifier hs-var">tree</span></a></span><span> </span><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679094502"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-505"></span><span>      </span><span class="annot"><a href="Test.Tasty.Core.html#AnnAfter"><span class="hs-identifier hs-type">AnnAfter</span></a></span><span> </span><span id="local-6989586621679094504"><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094504"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621679094505"><span class="annot"><span class="annottext">DependencyType
</span><a href="#local-6989586621679094505"><span class="hs-identifier hs-var">deptype</span></a></span></span><span> </span><span id="local-6989586621679094506"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679094506"><span class="hs-identifier hs-var">dep</span></a></span></span><span> </span><span id="local-6989586621679094507"><span class="annot"><span class="annottext">AnnTestTree OptionSet
</span><a href="#local-6989586621679094507"><span class="hs-identifier hs-var">tree</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OptionSet -&gt; DependencyType -&gt; Expr -&gt; b -&gt; b
</span><a href="#local-6989586621679094480"><span class="hs-identifier hs-var">fAfter</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094504"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">DependencyType
</span><a href="#local-6989586621679094505"><span class="hs-identifier hs-var">deptype</span></a></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679094506"><span class="hs-identifier hs-var">dep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnnTestTree OptionSet -&gt; b
</span><a href="#local-6989586621679094483"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">AnnTestTree OptionSet
</span><a href="#local-6989586621679094507"><span class="hs-identifier hs-var">tree</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span class="annot"><span class="hs-comment">-- | 'TestTree' with arbitrary annotations, e. g., evaluated 'OptionSet'.</span></span><span>
</span><span id="line-508"></span><span class="hs-keyword">data</span><span> </span><span id="AnnTestTree"><span class="annot"><a href="Test.Tasty.Core.html#AnnTestTree"><span class="hs-identifier hs-var">AnnTestTree</span></a></span></span><span> </span><span id="local-6989586621679094105"><span class="annot"><a href="#local-6989586621679094105"><span class="hs-identifier hs-type">ann</span></a></span></span><span>
</span><span id="line-509"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="AnnEmptyTestTree"><span class="annot"><a href="Test.Tasty.Core.html#AnnEmptyTestTree"><span class="hs-identifier hs-var">AnnEmptyTestTree</span></a></span></span><span>
</span><span id="line-510"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Just an empty test tree (e. g., when everything has been filtered out).</span></span><span>
</span><span id="line-511"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094508"><span class="annot"><a href="#local-6989586621679094508"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#IsTest"><span class="hs-identifier hs-type">IsTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094508"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="AnnSingleTest"><span class="annot"><a href="Test.Tasty.Core.html#AnnSingleTest"><span class="hs-identifier hs-var">AnnSingleTest</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679094105"><span class="hs-identifier hs-type">ann</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestName"><span class="hs-identifier hs-type">TestName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094508"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-512"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Annotated counterpart of 'SingleTest'.</span></span><span>
</span><span id="line-513"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AnnTestGroup"><span class="annot"><a href="Test.Tasty.Core.html#AnnTestGroup"><span class="hs-identifier hs-var">AnnTestGroup</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679094105"><span class="hs-identifier hs-type">ann</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestName"><span class="hs-identifier hs-type">TestName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestTree"><span class="hs-identifier hs-type">AnnTestTree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094105"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-514"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Annotated counterpart of 'TestGroup'.</span></span><span>
</span><span id="line-515"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094509"><span class="annot"><a href="#local-6989586621679094509"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span id="AnnWithResource"><span class="annot"><a href="Test.Tasty.Core.html#AnnWithResource"><span class="hs-identifier hs-var">AnnWithResource</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679094105"><span class="hs-identifier hs-type">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Tasty.Core.html#ResourceSpec"><span class="hs-identifier hs-type">ResourceSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094509"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094509"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestTree"><span class="hs-identifier hs-type">AnnTestTree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094105"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-516"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Annotated counterpart of 'WithResource'.</span></span><span>
</span><span id="line-517"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AnnAfter"><span class="annot"><a href="Test.Tasty.Core.html#AnnAfter"><span class="hs-identifier hs-var">AnnAfter</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679094105"><span class="hs-identifier hs-type">ann</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#DependencyType"><span class="hs-identifier hs-type">DependencyType</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Patterns.Types.html#Expr"><span class="hs-identifier hs-type">Expr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestTree"><span class="hs-identifier hs-type">AnnTestTree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094105"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-518"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Annotated counterpart of 'After'.</span></span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span class="annot"><span class="hs-comment">-- | Annotate 'TestTree' with options, removing 'PlusTestOptions' and 'AskOptions' nodes.</span></span><span>
</span><span id="line-521"></span><span class="annot"><a href="Test.Tasty.Core.html#evaluateOptions"><span class="hs-identifier hs-type">evaluateOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestTree"><span class="hs-identifier hs-type">AnnTestTree</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span>
</span><span id="line-522"></span><span id="evaluateOptions"><span class="annot"><span class="annottext">evaluateOptions :: OptionSet -&gt; TestTree -&gt; AnnTestTree OptionSet
</span><a href="Test.Tasty.Core.html#evaluateOptions"><span class="hs-identifier hs-var hs-var">evaluateOptions</span></a></span></span><span> </span><span id="local-6989586621679094510"><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094510"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-523"></span><span>  </span><span class="annot"><a href="Test.Tasty.Core.html#SingleTest"><span class="hs-identifier hs-type">SingleTest</span></a></span><span> </span><span id="local-6989586621679094513"><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094513"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679094514"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679094514"><span class="hs-identifier hs-var">test</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-524"></span><span>    </span><span class="annot"><span class="annottext">OptionSet -&gt; TestName -&gt; t -&gt; AnnTestTree OptionSet
forall ann t. IsTest t =&gt; ann -&gt; TestName -&gt; t -&gt; AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnSingleTest"><span class="hs-identifier hs-var">AnnSingleTest</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094510"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094513"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679094514"><span class="hs-identifier hs-var">test</span></a></span><span>
</span><span id="line-525"></span><span>  </span><span class="annot"><a href="Test.Tasty.Core.html#TestGroup"><span class="hs-identifier hs-type">TestGroup</span></a></span><span> </span><span id="local-6989586621679094515"><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094515"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679094516"><span class="annot"><span class="annottext">[TestTree]
</span><a href="#local-6989586621679094516"><span class="hs-identifier hs-var">trees</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-526"></span><span>    </span><span class="annot"><span class="annottext">OptionSet
-&gt; TestName -&gt; [AnnTestTree OptionSet] -&gt; AnnTestTree OptionSet
forall ann. ann -&gt; TestName -&gt; [AnnTestTree ann] -&gt; AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnTestGroup"><span class="hs-identifier hs-var">AnnTestGroup</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094510"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094515"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">([AnnTestTree OptionSet] -&gt; AnnTestTree OptionSet)
-&gt; [AnnTestTree OptionSet] -&gt; AnnTestTree OptionSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(TestTree -&gt; AnnTestTree OptionSet)
-&gt; [TestTree] -&gt; [AnnTestTree OptionSet]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OptionSet -&gt; TestTree -&gt; AnnTestTree OptionSet
</span><a href="Test.Tasty.Core.html#evaluateOptions"><span class="hs-identifier hs-var">evaluateOptions</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094510"><span class="hs-identifier hs-var">opts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TestTree]
</span><a href="#local-6989586621679094516"><span class="hs-identifier hs-var">trees</span></a></span><span>
</span><span id="line-527"></span><span>  </span><span class="annot"><a href="Test.Tasty.Core.html#PlusTestOptions"><span class="hs-identifier hs-type">PlusTestOptions</span></a></span><span> </span><span id="local-6989586621679094517"><span class="annot"><span class="annottext">OptionSet -&gt; OptionSet
</span><a href="#local-6989586621679094517"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679094518"><span class="annot"><span class="annottext">TestTree
</span><a href="#local-6989586621679094518"><span class="hs-identifier hs-var">tree</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-528"></span><span>    </span><span class="annot"><span class="annottext">OptionSet -&gt; TestTree -&gt; AnnTestTree OptionSet
</span><a href="Test.Tasty.Core.html#evaluateOptions"><span class="hs-identifier hs-var">evaluateOptions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OptionSet -&gt; OptionSet
</span><a href="#local-6989586621679094517"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094510"><span class="hs-identifier hs-var">opts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TestTree
</span><a href="#local-6989586621679094518"><span class="hs-identifier hs-var">tree</span></a></span><span>
</span><span id="line-529"></span><span>  </span><span class="annot"><a href="Test.Tasty.Core.html#WithResource"><span class="hs-identifier hs-type">WithResource</span></a></span><span> </span><span id="local-6989586621679094519"><span class="annot"><span class="annottext">ResourceSpec a
</span><a href="#local-6989586621679094519"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span id="local-6989586621679094520"><span class="annot"><span class="annottext">IO a -&gt; TestTree
</span><a href="#local-6989586621679094520"><span class="hs-identifier hs-var">tree</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-530"></span><span>    </span><span class="annot"><span class="annottext">OptionSet
-&gt; ResourceSpec a
-&gt; (IO a -&gt; AnnTestTree OptionSet)
-&gt; AnnTestTree OptionSet
forall ann a.
ann
-&gt; ResourceSpec a -&gt; (IO a -&gt; AnnTestTree ann) -&gt; AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnWithResource"><span class="hs-identifier hs-var">AnnWithResource</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094510"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">ResourceSpec a
</span><a href="#local-6989586621679094519"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">((IO a -&gt; AnnTestTree OptionSet) -&gt; AnnTestTree OptionSet)
-&gt; (IO a -&gt; AnnTestTree OptionSet) -&gt; AnnTestTree OptionSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679094521"><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679094521"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OptionSet -&gt; TestTree -&gt; AnnTestTree OptionSet
</span><a href="Test.Tasty.Core.html#evaluateOptions"><span class="hs-identifier hs-var">evaluateOptions</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094510"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO a -&gt; TestTree
</span><a href="#local-6989586621679094520"><span class="hs-identifier hs-var">tree</span></a></span><span> </span><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679094521"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-531"></span><span>  </span><span class="annot"><a href="Test.Tasty.Core.html#AskOptions"><span class="hs-identifier hs-type">AskOptions</span></a></span><span> </span><span id="local-6989586621679094522"><span class="annot"><span class="annottext">OptionSet -&gt; TestTree
</span><a href="#local-6989586621679094522"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-532"></span><span>    </span><span class="annot"><span class="annottext">OptionSet -&gt; TestTree -&gt; AnnTestTree OptionSet
</span><a href="Test.Tasty.Core.html#evaluateOptions"><span class="hs-identifier hs-var">evaluateOptions</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094510"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OptionSet -&gt; TestTree
</span><a href="#local-6989586621679094522"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094510"><span class="hs-identifier hs-var">opts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-533"></span><span>  </span><span class="annot"><a href="Test.Tasty.Core.html#After"><span class="hs-identifier hs-type">After</span></a></span><span> </span><span id="local-6989586621679094523"><span class="annot"><span class="annottext">DependencyType
</span><a href="#local-6989586621679094523"><span class="hs-identifier hs-var">deptype</span></a></span></span><span> </span><span id="local-6989586621679094524"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679094524"><span class="hs-identifier hs-var">dep</span></a></span></span><span> </span><span id="local-6989586621679094525"><span class="annot"><span class="annottext">TestTree
</span><a href="#local-6989586621679094525"><span class="hs-identifier hs-var">tree</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-534"></span><span>    </span><span class="annot"><span class="annottext">OptionSet
-&gt; DependencyType
-&gt; Expr
-&gt; AnnTestTree OptionSet
-&gt; AnnTestTree OptionSet
forall ann.
ann -&gt; DependencyType -&gt; Expr -&gt; AnnTestTree ann -&gt; AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnAfter"><span class="hs-identifier hs-var">AnnAfter</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094510"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">DependencyType
</span><a href="#local-6989586621679094523"><span class="hs-identifier hs-var">deptype</span></a></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679094524"><span class="hs-identifier hs-var">dep</span></a></span><span> </span><span class="annot"><span class="annottext">(AnnTestTree OptionSet -&gt; AnnTestTree OptionSet)
-&gt; AnnTestTree OptionSet -&gt; AnnTestTree OptionSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet -&gt; TestTree -&gt; AnnTestTree OptionSet
</span><a href="Test.Tasty.Core.html#evaluateOptions"><span class="hs-identifier hs-var">evaluateOptions</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094510"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">TestTree
</span><a href="#local-6989586621679094525"><span class="hs-identifier hs-var">tree</span></a></span><span>
</span><span id="line-535"></span><span>
</span><span id="line-536"></span><span class="annot"><span class="hs-comment">-- | Annotate 'AnnTestTree' with paths.</span></span><span>
</span><span id="line-537"></span><span class="annot"><a href="Test.Tasty.Core.html#annotatePath"><span class="hs-identifier hs-type">annotatePath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestTree"><span class="hs-identifier hs-type">AnnTestTree</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestTree"><span class="hs-identifier hs-type">AnnTestTree</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Patterns.Eval.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-538"></span><span id="annotatePath"><span class="annot"><span class="annottext">annotatePath :: AnnTestTree OptionSet -&gt; AnnTestTree (OptionSet, Seq TestName)
</span><a href="Test.Tasty.Core.html#annotatePath"><span class="hs-identifier hs-var hs-var">annotatePath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Seq TestName
-&gt; AnnTestTree OptionSet -&gt; AnnTestTree (OptionSet, Seq TestName)
</span><a href="#local-6989586621679094527"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Seq TestName
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-539"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-540"></span><span>    </span><span class="annot"><a href="#local-6989586621679094527"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Sequence.Internal.html#Seq"><span class="hs-identifier hs-type">Seq.Seq</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestName"><span class="hs-identifier hs-type">TestName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestTree"><span class="hs-identifier hs-type">AnnTestTree</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestTree"><span class="hs-identifier hs-type">AnnTestTree</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Patterns.Eval.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-541"></span><span>    </span><span id="local-6989586621679094527"><span class="annot"><span class="annottext">go :: Seq TestName
-&gt; AnnTestTree OptionSet -&gt; AnnTestTree (OptionSet, Seq TestName)
</span><a href="#local-6989586621679094527"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679094528"><span class="annot"><span class="annottext">Seq TestName
</span><a href="#local-6989586621679094528"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-542"></span><span>      </span><span class="annot"><span class="annottext">AnnTestTree OptionSet
</span><a href="Test.Tasty.Core.html#AnnEmptyTestTree"><span class="hs-identifier hs-var">AnnEmptyTestTree</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnnTestTree (OptionSet, Seq TestName)
forall ann. AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnEmptyTestTree"><span class="hs-identifier hs-var">AnnEmptyTestTree</span></a></span><span>
</span><span id="line-543"></span><span>      </span><span class="annot"><a href="Test.Tasty.Core.html#AnnSingleTest"><span class="hs-identifier hs-type">AnnSingleTest</span></a></span><span> </span><span id="local-6989586621679094531"><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094531"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621679094532"><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094532"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679094533"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679094533"><span class="hs-identifier hs-var">tree</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-544"></span><span>        </span><span class="annot"><span class="annottext">(OptionSet, Seq TestName)
-&gt; TestName -&gt; t -&gt; AnnTestTree (OptionSet, Seq TestName)
forall ann t. IsTest t =&gt; ann -&gt; TestName -&gt; t -&gt; AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnSingleTest"><span class="hs-identifier hs-var">AnnSingleTest</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094531"><span class="hs-identifier hs-var">opts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Seq TestName
</span><a href="#local-6989586621679094528"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">Seq TestName -&gt; TestName -&gt; Seq TestName
forall a. Seq a -&gt; a -&gt; Seq a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Sequence.Internal.html#%7C%3E"><span class="hs-operator hs-var">|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094532"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094532"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679094533"><span class="hs-identifier hs-var">tree</span></a></span><span>
</span><span id="line-545"></span><span>      </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestGroup"><span class="hs-identifier hs-type">AnnTestGroup</span></a></span><span> </span><span id="local-6989586621679094534"><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094534"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621679094535"><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094535"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679094536"><span class="annot"><span class="annottext">[AnnTestTree OptionSet]
</span><a href="#local-6989586621679094536"><span class="hs-identifier hs-var">trees</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-546"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679094537"><span class="annot"><span class="annottext">newPath :: Seq TestName
</span><a href="#local-6989586621679094537"><span class="hs-identifier hs-var hs-var">newPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Seq TestName
</span><a href="#local-6989586621679094528"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">Seq TestName -&gt; TestName -&gt; Seq TestName
forall a. Seq a -&gt; a -&gt; Seq a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Sequence.Internal.html#%7C%3E"><span class="hs-operator hs-var">|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094535"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-547"></span><span>        </span><span class="annot"><span class="annottext">(OptionSet, Seq TestName)
-&gt; TestName
-&gt; [AnnTestTree (OptionSet, Seq TestName)]
-&gt; AnnTestTree (OptionSet, Seq TestName)
forall ann. ann -&gt; TestName -&gt; [AnnTestTree ann] -&gt; AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnTestGroup"><span class="hs-identifier hs-var">AnnTestGroup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094534"><span class="hs-identifier hs-var">opts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Seq TestName
</span><a href="#local-6989586621679094537"><span class="hs-identifier hs-var">newPath</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094535"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AnnTestTree OptionSet -&gt; AnnTestTree (OptionSet, Seq TestName))
-&gt; [AnnTestTree OptionSet]
-&gt; [AnnTestTree (OptionSet, Seq TestName)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Seq TestName
-&gt; AnnTestTree OptionSet -&gt; AnnTestTree (OptionSet, Seq TestName)
</span><a href="#local-6989586621679094527"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Seq TestName
</span><a href="#local-6989586621679094537"><span class="hs-identifier hs-var">newPath</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AnnTestTree OptionSet]
</span><a href="#local-6989586621679094536"><span class="hs-identifier hs-var">trees</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-548"></span><span>      </span><span class="annot"><a href="Test.Tasty.Core.html#AnnWithResource"><span class="hs-identifier hs-type">AnnWithResource</span></a></span><span> </span><span id="local-6989586621679094538"><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094538"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621679094539"><span class="annot"><span class="annottext">ResourceSpec a
</span><a href="#local-6989586621679094539"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span id="local-6989586621679094540"><span class="annot"><span class="annottext">IO a -&gt; AnnTestTree OptionSet
</span><a href="#local-6989586621679094540"><span class="hs-identifier hs-var">tree</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-549"></span><span>        </span><span class="annot"><span class="annottext">(OptionSet, Seq TestName)
-&gt; ResourceSpec a
-&gt; (IO a -&gt; AnnTestTree (OptionSet, Seq TestName))
-&gt; AnnTestTree (OptionSet, Seq TestName)
forall ann a.
ann
-&gt; ResourceSpec a -&gt; (IO a -&gt; AnnTestTree ann) -&gt; AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnWithResource"><span class="hs-identifier hs-var">AnnWithResource</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094538"><span class="hs-identifier hs-var">opts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Seq TestName
</span><a href="#local-6989586621679094528"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ResourceSpec a
</span><a href="#local-6989586621679094539"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">((IO a -&gt; AnnTestTree (OptionSet, Seq TestName))
 -&gt; AnnTestTree (OptionSet, Seq TestName))
-&gt; (IO a -&gt; AnnTestTree (OptionSet, Seq TestName))
-&gt; AnnTestTree (OptionSet, Seq TestName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679094541"><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679094541"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Seq TestName
-&gt; AnnTestTree OptionSet -&gt; AnnTestTree (OptionSet, Seq TestName)
</span><a href="#local-6989586621679094527"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Seq TestName
</span><a href="#local-6989586621679094528"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO a -&gt; AnnTestTree OptionSet
</span><a href="#local-6989586621679094540"><span class="hs-identifier hs-var">tree</span></a></span><span> </span><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679094541"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-550"></span><span>      </span><span class="annot"><a href="Test.Tasty.Core.html#AnnAfter"><span class="hs-identifier hs-type">AnnAfter</span></a></span><span> </span><span id="local-6989586621679094542"><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094542"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621679094543"><span class="annot"><span class="annottext">DependencyType
</span><a href="#local-6989586621679094543"><span class="hs-identifier hs-var">deptype</span></a></span></span><span> </span><span id="local-6989586621679094544"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679094544"><span class="hs-identifier hs-var">dep</span></a></span></span><span> </span><span id="local-6989586621679094545"><span class="annot"><span class="annottext">AnnTestTree OptionSet
</span><a href="#local-6989586621679094545"><span class="hs-identifier hs-var">tree</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-551"></span><span>        </span><span class="annot"><span class="annottext">(OptionSet, Seq TestName)
-&gt; DependencyType
-&gt; Expr
-&gt; AnnTestTree (OptionSet, Seq TestName)
-&gt; AnnTestTree (OptionSet, Seq TestName)
forall ann.
ann -&gt; DependencyType -&gt; Expr -&gt; AnnTestTree ann -&gt; AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnAfter"><span class="hs-identifier hs-var">AnnAfter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094542"><span class="hs-identifier hs-var">opts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Seq TestName
</span><a href="#local-6989586621679094528"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DependencyType
</span><a href="#local-6989586621679094543"><span class="hs-identifier hs-var">deptype</span></a></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679094544"><span class="hs-identifier hs-var">dep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Seq TestName
-&gt; AnnTestTree OptionSet -&gt; AnnTestTree (OptionSet, Seq TestName)
</span><a href="#local-6989586621679094527"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Seq TestName
</span><a href="#local-6989586621679094528"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">AnnTestTree OptionSet
</span><a href="#local-6989586621679094545"><span class="hs-identifier hs-var">tree</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-552"></span><span>
</span><span id="line-553"></span><span class="annot"><span class="hs-comment">-- | Filter test tree by pattern, replacing leafs with 'AnnEmptyTestTree'.</span></span><span>
</span><span id="line-554"></span><span class="annot"><a href="Test.Tasty.Core.html#filterByPattern"><span class="hs-identifier hs-type">filterByPattern</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestTree"><span class="hs-identifier hs-type">AnnTestTree</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Patterns.Eval.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestTree"><span class="hs-identifier hs-type">AnnTestTree</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span>
</span><span id="line-555"></span><span id="filterByPattern"><span class="annot"><span class="annottext">filterByPattern :: AnnTestTree (OptionSet, Seq TestName) -&gt; AnnTestTree OptionSet
</span><a href="Test.Tasty.Core.html#filterByPattern"><span class="hs-identifier hs-var hs-var">filterByPattern</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TestMatched, AnnTestTree OptionSet) -&gt; AnnTestTree OptionSet
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">((TestMatched, AnnTestTree OptionSet) -&gt; AnnTestTree OptionSet)
-&gt; (AnnTestTree (OptionSet, Seq TestName)
    -&gt; (TestMatched, AnnTestTree OptionSet))
-&gt; AnnTestTree (OptionSet, Seq TestName)
-&gt; AnnTestTree OptionSet
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TestMatched
-&gt; AnnTestTree (OptionSet, Seq TestName)
-&gt; (TestMatched, AnnTestTree OptionSet)
</span><a href="#local-6989586621679094547"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; TestMatched
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Semigroup.Internal.html#Any"><span class="hs-identifier hs-var">Any</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-556"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-557"></span><span>    </span><span id="local-6989586621679094548"><span class="annot"><span class="annottext">mkGroup :: ann -&gt; TestName -&gt; [AnnTestTree ann] -&gt; AnnTestTree ann
</span><a href="#local-6989586621679094548"><span class="hs-identifier hs-var hs-var">mkGroup</span></a></span></span><span> </span><span id="local-6989586621679094549"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621679094549"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621679094550"><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094550"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679094551"><span class="annot"><span class="annottext">[AnnTestTree ann]
</span><a href="#local-6989586621679094551"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(AnnTestTree ann -&gt; Bool) -&gt; [AnnTestTree ann] -&gt; [AnnTestTree ann]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">AnnTestTree ann -&gt; Bool
forall {ann}. AnnTestTree ann -&gt; Bool
</span><a href="#local-6989586621679094552"><span class="hs-identifier hs-var">isNonEmpty</span></a></span><span> </span><span class="annot"><span class="annottext">[AnnTestTree ann]
</span><a href="#local-6989586621679094551"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-558"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnnTestTree ann
forall ann. AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnEmptyTestTree"><span class="hs-identifier hs-var">AnnEmptyTestTree</span></a></span><span>
</span><span id="line-559"></span><span>      </span><span id="local-6989586621679094553"><span class="annot"><span class="annottext">[AnnTestTree ann]
</span><a href="#local-6989586621679094553"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ann -&gt; TestName -&gt; [AnnTestTree ann] -&gt; AnnTestTree ann
forall ann. ann -&gt; TestName -&gt; [AnnTestTree ann] -&gt; AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnTestGroup"><span class="hs-identifier hs-var">AnnTestGroup</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621679094549"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094550"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[AnnTestTree ann]
</span><a href="#local-6989586621679094553"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-560"></span><span>
</span><span id="line-561"></span><span>    </span><span id="local-6989586621679094552"><span class="annot"><span class="annottext">isNonEmpty :: AnnTestTree ann -&gt; Bool
</span><a href="#local-6989586621679094552"><span class="hs-identifier hs-var hs-var">isNonEmpty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-562"></span><span>      </span><span class="annot"><span class="annottext">AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnEmptyTestTree"><span class="hs-identifier hs-var">AnnEmptyTestTree</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-563"></span><span>      </span><span class="annot"><span class="annottext">AnnTestTree ann
</span><span class="hs-identifier">_</span></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-564"></span><span>
</span><span id="line-565"></span><span>    </span><span class="annot"><a href="#local-6989586621679094547"><span class="hs-identifier hs-type">go</span></a></span><span>
</span><span id="line-566"></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#ForceTestMatch"><span class="hs-identifier hs-type">ForceTestMatch</span></a></span><span>
</span><span id="line-567"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestTree"><span class="hs-identifier hs-type">AnnTestTree</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Patterns.Eval.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-568"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Tasty.Core.html#TestMatched"><span class="hs-identifier hs-type">TestMatched</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestTree"><span class="hs-identifier hs-type">AnnTestTree</span></a></span><span> </span><span class="annot"><a href="Test.Tasty.Options.html#OptionSet"><span class="hs-identifier hs-type">OptionSet</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-569"></span><span>    </span><span id="local-6989586621679094547"><span class="annot"><span class="annottext">go :: TestMatched
-&gt; AnnTestTree (OptionSet, Seq TestName)
-&gt; (TestMatched, AnnTestTree OptionSet)
</span><a href="#local-6989586621679094547"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679094554"><span class="annot"><span class="annottext">TestMatched
</span><a href="#local-6989586621679094554"><span class="hs-identifier hs-var">forceMatch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-570"></span><span>      </span><span class="annot"><span class="annottext">AnnTestTree (OptionSet, Seq TestName)
</span><a href="Test.Tasty.Core.html#AnnEmptyTestTree"><span class="hs-identifier hs-var">AnnEmptyTestTree</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-571"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; TestMatched
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Semigroup.Internal.html#Any"><span class="hs-identifier hs-var">Any</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnnTestTree OptionSet
forall ann. AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnEmptyTestTree"><span class="hs-identifier hs-var">AnnEmptyTestTree</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-572"></span><span>
</span><span id="line-573"></span><span>      </span><span class="annot"><a href="Test.Tasty.Core.html#AnnSingleTest"><span class="hs-identifier hs-type">AnnSingleTest</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679094559"><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094559"><span class="hs-identifier hs-var">opts</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679094560"><span class="annot"><span class="annottext">Seq TestName
</span><a href="#local-6989586621679094560"><span class="hs-identifier hs-var">path</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679094561"><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094561"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679094562"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679094562"><span class="hs-identifier hs-var">tree</span></a></span></span><span>
</span><span id="line-574"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TestMatched -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Semigroup.Internal.html#getAny"><span class="hs-identifier hs-var">getAny</span></a></span><span> </span><span class="annot"><span class="annottext">TestMatched
</span><a href="#local-6989586621679094554"><span class="hs-identifier hs-var">forceMatch</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">TestPattern -&gt; Seq TestName -&gt; Bool
</span><a href="Test.Tasty.Patterns.html#testPatternMatches"><span class="hs-identifier hs-var">testPatternMatches</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OptionSet -&gt; TestPattern
forall v. IsOption v =&gt; OptionSet -&gt; v
</span><a href="Test.Tasty.Options.html#lookupOption"><span class="hs-identifier hs-var">lookupOption</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094559"><span class="hs-identifier hs-var">opts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Seq TestName
</span><a href="#local-6989586621679094560"><span class="hs-identifier hs-var">path</span></a></span><span>
</span><span id="line-575"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; TestMatched
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Semigroup.Internal.html#Any"><span class="hs-identifier hs-var">Any</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">OptionSet -&gt; TestName -&gt; t -&gt; AnnTestTree OptionSet
forall ann t. IsTest t =&gt; ann -&gt; TestName -&gt; t -&gt; AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnSingleTest"><span class="hs-identifier hs-var">AnnSingleTest</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094559"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094561"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679094562"><span class="hs-identifier hs-var">tree</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-576"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-577"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; TestMatched
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Semigroup.Internal.html#Any"><span class="hs-identifier hs-var">Any</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnnTestTree OptionSet
forall ann. AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnEmptyTestTree"><span class="hs-identifier hs-var">AnnEmptyTestTree</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-578"></span><span>
</span><span id="line-579"></span><span>      </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestGroup"><span class="hs-identifier hs-type">AnnTestGroup</span></a></span><span> </span><span class="annot"><span class="annottext">(OptionSet, Seq TestName)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TestName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-580"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TestMatched
</span><a href="#local-6989586621679094554"><span class="hs-identifier hs-var">forceMatch</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnnTestTree OptionSet
forall ann. AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnEmptyTestTree"><span class="hs-identifier hs-var">AnnEmptyTestTree</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-581"></span><span>
</span><span id="line-582"></span><span>      </span><span class="annot"><a href="Test.Tasty.Core.html#AnnTestGroup"><span class="hs-identifier hs-type">AnnTestGroup</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679094566"><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094566"><span class="hs-identifier hs-var">opts</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Seq TestName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679094567"><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094567"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679094568"><span class="annot"><span class="annottext">[AnnTestTree (OptionSet, Seq TestName)]
</span><a href="#local-6989586621679094568"><span class="hs-identifier hs-var">trees</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-583"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OptionSet -&gt; ExecutionMode
forall v. IsOption v =&gt; OptionSet -&gt; v
</span><a href="Test.Tasty.Options.html#lookupOption"><span class="hs-identifier hs-var">lookupOption</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094566"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-584"></span><span>          </span><span class="annot"><span class="annottext">ExecutionMode
</span><a href="Test.Tasty.Core.html#Parallel"><span class="hs-identifier hs-var">Parallel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-585"></span><span>            </span><span class="annot"><span class="annottext">([TestMatched] -&gt; TestMatched)
-&gt; ([AnnTestTree OptionSet] -&gt; AnnTestTree OptionSet)
-&gt; ([TestMatched], [AnnTestTree OptionSet])
-&gt; (TestMatched, AnnTestTree OptionSet)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; (a, c) -&gt; (b, d)
forall (p :: * -&gt; * -&gt; *) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bifunctor.html#bimap"><span class="hs-identifier hs-var">bimap</span></a></span><span>
</span><span id="line-586"></span><span>              </span><span class="annot"><span class="annottext">[TestMatched] -&gt; TestMatched
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mconcat"><span class="hs-identifier hs-var">mconcat</span></a></span><span>
</span><span id="line-587"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OptionSet
-&gt; TestName -&gt; [AnnTestTree OptionSet] -&gt; AnnTestTree OptionSet
forall ann. ann -&gt; TestName -&gt; [AnnTestTree ann] -&gt; AnnTestTree ann
</span><a href="#local-6989586621679094548"><span class="hs-identifier hs-var">mkGroup</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094566"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094567"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-588"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(TestMatched, AnnTestTree OptionSet)]
-&gt; ([TestMatched], [AnnTestTree OptionSet])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#unzip"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AnnTestTree (OptionSet, Seq TestName)
 -&gt; (TestMatched, AnnTestTree OptionSet))
-&gt; [AnnTestTree (OptionSet, Seq TestName)]
-&gt; [(TestMatched, AnnTestTree OptionSet)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TestMatched
-&gt; AnnTestTree (OptionSet, Seq TestName)
-&gt; (TestMatched, AnnTestTree OptionSet)
</span><a href="#local-6989586621679094547"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">TestMatched
</span><a href="#local-6989586621679094554"><span class="hs-identifier hs-var">forceMatch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AnnTestTree (OptionSet, Seq TestName)]
</span><a href="#local-6989586621679094568"><span class="hs-identifier hs-var">trees</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-589"></span><span>          </span><span class="annot"><a href="Test.Tasty.Core.html#Sequential"><span class="hs-identifier hs-type">Sequential</span></a></span><span> </span><span class="annot"><span class="annottext">DependencyType
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-590"></span><span>            </span><span class="annot"><span class="annottext">([AnnTestTree OptionSet] -&gt; AnnTestTree OptionSet)
-&gt; (TestMatched, [AnnTestTree OptionSet])
-&gt; (TestMatched, AnnTestTree OptionSet)
forall b c a. (b -&gt; c) -&gt; (a, b) -&gt; (a, c)
forall (p :: * -&gt; * -&gt; *) b c a.
Bifunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bifunctor.html#second"><span class="hs-identifier hs-var">second</span></a></span><span>
</span><span id="line-591"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OptionSet
-&gt; TestName -&gt; [AnnTestTree OptionSet] -&gt; AnnTestTree OptionSet
forall ann. ann -&gt; TestName -&gt; [AnnTestTree ann] -&gt; AnnTestTree ann
</span><a href="#local-6989586621679094548"><span class="hs-identifier hs-var">mkGroup</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094566"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">TestName
</span><a href="#local-6989586621679094567"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-592"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TestMatched
 -&gt; AnnTestTree (OptionSet, Seq TestName)
 -&gt; (TestMatched, AnnTestTree OptionSet))
-&gt; TestMatched
-&gt; [AnnTestTree (OptionSet, Seq TestName)]
-&gt; (TestMatched, [AnnTestTree OptionSet])
forall (t :: * -&gt; *) s a b.
Traversable t =&gt;
(s -&gt; a -&gt; (s, b)) -&gt; s -&gt; t a -&gt; (s, t b)
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Traversable.html#mapAccumR"><span class="hs-identifier hs-var">mapAccumR</span></a></span><span> </span><span class="annot"><span class="annottext">TestMatched
-&gt; AnnTestTree (OptionSet, Seq TestName)
-&gt; (TestMatched, AnnTestTree OptionSet)
</span><a href="#local-6989586621679094547"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">TestMatched
</span><a href="#local-6989586621679094554"><span class="hs-identifier hs-var">forceMatch</span></a></span><span> </span><span class="annot"><span class="annottext">[AnnTestTree (OptionSet, Seq TestName)]
</span><a href="#local-6989586621679094568"><span class="hs-identifier hs-var">trees</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-593"></span><span>
</span><span id="line-594"></span><span>      </span><span class="annot"><a href="Test.Tasty.Core.html#AnnWithResource"><span class="hs-identifier hs-type">AnnWithResource</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679094571"><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094571"><span class="hs-identifier hs-var">opts</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Seq TestName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679094572"><span class="annot"><span class="annottext">ResourceSpec a
</span><a href="#local-6989586621679094572"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span id="local-6989586621679094573"><span class="annot"><span class="annottext">IO a -&gt; AnnTestTree (OptionSet, Seq TestName)
</span><a href="#local-6989586621679094573"><span class="hs-identifier hs-var">tree</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-595"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(TestMatched, AnnTestTree OptionSet) -&gt; TestMatched
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TestMatched
-&gt; AnnTestTree (OptionSet, Seq TestName)
-&gt; (TestMatched, AnnTestTree OptionSet)
</span><a href="#local-6989586621679094547"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">TestMatched
</span><a href="#local-6989586621679094554"><span class="hs-identifier hs-var">forceMatch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO a -&gt; AnnTestTree (OptionSet, Seq TestName)
</span><a href="#local-6989586621679094573"><span class="hs-identifier hs-var">tree</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ResourceError -&gt; IO a
forall e a. Exception e =&gt; e -&gt; IO a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.IO.html#throwIO"><span class="hs-identifier hs-var">throwIO</span></a></span><span> </span><span class="annot"><span class="annottext">ResourceError
</span><a href="Test.Tasty.Core.html#NotRunningTests"><span class="hs-identifier hs-var">NotRunningTests</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-596"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">OptionSet
-&gt; ResourceSpec a
-&gt; (IO a -&gt; AnnTestTree OptionSet)
-&gt; AnnTestTree OptionSet
forall ann a.
ann
-&gt; ResourceSpec a -&gt; (IO a -&gt; AnnTestTree ann) -&gt; AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnWithResource"><span class="hs-identifier hs-var">AnnWithResource</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094571"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">ResourceSpec a
</span><a href="#local-6989586621679094572"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">((IO a -&gt; AnnTestTree OptionSet) -&gt; AnnTestTree OptionSet)
-&gt; (IO a -&gt; AnnTestTree OptionSet) -&gt; AnnTestTree OptionSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679094575"><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679094575"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TestMatched, AnnTestTree OptionSet) -&gt; AnnTestTree OptionSet
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TestMatched
-&gt; AnnTestTree (OptionSet, Seq TestName)
-&gt; (TestMatched, AnnTestTree OptionSet)
</span><a href="#local-6989586621679094547"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">TestMatched
</span><a href="#local-6989586621679094554"><span class="hs-identifier hs-var">forceMatch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO a -&gt; AnnTestTree (OptionSet, Seq TestName)
</span><a href="#local-6989586621679094573"><span class="hs-identifier hs-var">tree</span></a></span><span> </span><span class="annot"><span class="annottext">IO a
</span><a href="#local-6989586621679094575"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-597"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-598"></span><span>
</span><span id="line-599"></span><span>      </span><span class="annot"><a href="Test.Tasty.Core.html#AnnAfter"><span class="hs-identifier hs-type">AnnAfter</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679094576"><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094576"><span class="hs-identifier hs-var">opts</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Seq TestName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679094577"><span class="annot"><span class="annottext">DependencyType
</span><a href="#local-6989586621679094577"><span class="hs-identifier hs-var">deptype</span></a></span></span><span> </span><span id="local-6989586621679094578"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679094578"><span class="hs-identifier hs-var">dep</span></a></span></span><span> </span><span id="local-6989586621679094579"><span class="annot"><span class="annottext">AnnTestTree (OptionSet, Seq TestName)
</span><a href="#local-6989586621679094579"><span class="hs-identifier hs-var">tree</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-600"></span><span>        </span><span class="annot"><span class="annottext">(AnnTestTree OptionSet -&gt; AnnTestTree OptionSet)
-&gt; (TestMatched, AnnTestTree OptionSet)
-&gt; (TestMatched, AnnTestTree OptionSet)
forall b c a. (b -&gt; c) -&gt; (a, b) -&gt; (a, c)
forall (p :: * -&gt; * -&gt; *) b c a.
Bifunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bifunctor.html#second"><span class="hs-identifier hs-var">second</span></a></span><span>
</span><span id="line-601"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OptionSet
-&gt; DependencyType
-&gt; Expr
-&gt; AnnTestTree OptionSet
-&gt; AnnTestTree OptionSet
forall ann.
ann -&gt; DependencyType -&gt; Expr -&gt; AnnTestTree ann -&gt; AnnTestTree ann
</span><a href="Test.Tasty.Core.html#AnnAfter"><span class="hs-identifier hs-var">AnnAfter</span></a></span><span> </span><span class="annot"><span class="annottext">OptionSet
</span><a href="#local-6989586621679094576"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">DependencyType
</span><a href="#local-6989586621679094577"><span class="hs-identifier hs-var">deptype</span></a></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679094578"><span class="hs-identifier hs-var">dep</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-602"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TestMatched
-&gt; AnnTestTree (OptionSet, Seq TestName)
-&gt; (TestMatched, AnnTestTree OptionSet)
</span><a href="#local-6989586621679094547"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">TestMatched
</span><a href="#local-6989586621679094554"><span class="hs-identifier hs-var">forceMatch</span></a></span><span> </span><span class="annot"><span class="annottext">AnnTestTree (OptionSet, Seq TestName)
</span><a href="#local-6989586621679094579"><span class="hs-identifier hs-var">tree</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-603"></span><span>
</span><span id="line-604"></span><span class="annot"><span class="hs-comment">-- | Get the list of options that are relevant for a given test tree</span></span><span>
</span><span id="line-605"></span><span class="annot"><a href="Test.Tasty.Core.html#treeOptions"><span class="hs-identifier hs-type">treeOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#TestTree"><span class="hs-identifier hs-type">TestTree</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Test.Tasty.Options.html#OptionDescription"><span class="hs-identifier hs-type">OptionDescription</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-606"></span><span id="treeOptions"><span class="annot"><span class="annottext">treeOptions :: TestTree -&gt; [OptionDescription]
</span><a href="Test.Tasty.Core.html#treeOptions"><span class="hs-identifier hs-var hs-var">treeOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-607"></span><span>
</span><span id="line-608"></span><span>  </span><span class="annot"><span class="annottext">[[OptionDescription]] -&gt; [OptionDescription]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">Prelude.concat</span></a></span><span> </span><span class="annot"><span class="annottext">([[OptionDescription]] -&gt; [OptionDescription])
-&gt; (TestTree -&gt; [[OptionDescription]])
-&gt; TestTree
-&gt; [OptionDescription]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-609"></span><span>  </span><span class="annot"><span class="annottext">Map TypeRep [OptionDescription] -&gt; [[OptionDescription]]
forall k a. Map k a -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#elems"><span class="hs-identifier hs-var">Map.elems</span></a></span><span> </span><span class="annot"><span class="annottext">(Map TypeRep [OptionDescription] -&gt; [[OptionDescription]])
-&gt; (TestTree -&gt; Map TypeRep [OptionDescription])
-&gt; TestTree
-&gt; [[OptionDescription]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-610"></span><span>
</span><span id="line-611"></span><span>  </span><span class="annot"><span class="annottext">TreeFold (Map TypeRep [OptionDescription])
-&gt; OptionSet -&gt; TestTree -&gt; Map TypeRep [OptionDescription]
forall b. Monoid b =&gt; TreeFold b -&gt; OptionSet -&gt; TestTree -&gt; b
</span><a href="Test.Tasty.Core.html#foldTestTree"><span class="hs-identifier hs-var">foldTestTree</span></a></span><span>
</span><span id="line-612"></span><span>    </span><span class="annot"><span class="annottext">TreeFold (Map TypeRep [OptionDescription])
forall b. Monoid b =&gt; TreeFold b
</span><a href="Test.Tasty.Core.html#trivialFold"><span class="hs-identifier hs-var">trivialFold</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#foldSingle"><span class="hs-identifier hs-var">foldSingle</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">OptionSet
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TestName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">t -&gt; Map TypeRep [OptionDescription]
forall t. IsTest t =&gt; t -&gt; Map TypeRep [OptionDescription]
</span><a href="#local-6989586621679094582"><span class="hs-identifier hs-var">getTestOptions</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-613"></span><span>    </span><span class="annot"><span class="annottext">OptionSet
forall a. Monoid a =&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-614"></span><span>
</span><span id="line-615"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-616"></span><span>    </span><span class="annot"><a href="#local-6989586621679094582"><span class="hs-identifier hs-type">getTestOptions</span></a></span><span>
</span><span id="line-617"></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679094140"><span class="annot"><a href="#local-6989586621679094140"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Test.Tasty.Core.html#IsTest"><span class="hs-identifier hs-type">IsTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679094140"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-618"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679094140"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map.Map</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Typeable.html#TypeRep"><span class="hs-identifier hs-type">TypeRep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Test.Tasty.Options.html#OptionDescription"><span class="hs-identifier hs-type">OptionDescription</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-619"></span><span>    </span><span id="local-6989586621679094582"><span class="annot"><span class="annottext">getTestOptions :: forall t. IsTest t =&gt; t -&gt; Map TypeRep [OptionDescription]
</span><a href="#local-6989586621679094582"><span class="hs-identifier hs-var hs-var">getTestOptions</span></a></span></span><span> </span><span id="local-6989586621679094587"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679094587"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-620"></span><span>      </span><span class="annot"><span class="annottext">TypeRep -&gt; [OptionDescription] -&gt; Map TypeRep [OptionDescription]
forall k a. k -&gt; a -&gt; Map k a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#singleton"><span class="hs-identifier hs-var">Map.singleton</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; TypeRep
forall a. Typeable a =&gt; a -&gt; TypeRep
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Typeable.html#typeOf"><span class="hs-identifier hs-var">typeOf</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679094587"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([OptionDescription] -&gt; Map TypeRep [OptionDescription])
-&gt; [OptionDescription] -&gt; Map TypeRep [OptionDescription]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-621"></span><span>          </span><span class="annot"><span class="annottext">Tagged t [OptionDescription] -&gt; t -&gt; [OptionDescription]
forall a b. Tagged a b -&gt; a -&gt; b
</span><span class="hs-identifier hs-var">witness</span></span><span> </span><span class="annot"><span class="annottext">Tagged t [OptionDescription]
forall t. IsTest t =&gt; Tagged t [OptionDescription]
</span><a href="Test.Tasty.Core.html#testOptions"><span class="hs-identifier hs-var">testOptions</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679094587"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-622"></span></pre></body></html>