<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Control.Retry</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">retry-0.9.3.1: Retry combinators for monadic actions that may fail</span><ul class="links" id="page-menu"><li><a href="src/Control.Retry.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Ozgun Ataman &lt;ozgun.ataman@soostone.com&gt;</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>Ozgun Ataman</td></tr><tr><th>Stability</th><td>provisional</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Retry</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Types and Operations</a><ul><li><a href="#g:2">Lenses for <code>RetryStatus</code></a></li></ul></li><li><a href="#g:3">Applying Retry Policies</a><ul><li><a href="#g:4">Resumable variants</a></li></ul></li><li><a href="#g:5">Retry Policies</a></li><li><a href="#g:6">Policy Transformers</a></li><li><a href="#g:7">Development Helpers</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module exposes combinators that can wrap arbitrary monadic
 actions. They run the action and potentially retry running it with
 some configurable delay for a configurable number of times.</p><p>The express purpose of this library is to make it easier to work
 with IO and especially network IO actions that often experience
 temporary failure that warrant retrying of the original action. For
 example, a database query may time out for a while, in which case
 we should delay a bit and retry the query.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">newtype</span> <a href="#t:RetryPolicyM">RetryPolicyM</a> m = <a href="#v:RetryPolicyM">RetryPolicyM</a> {<ul class="subs"><li><a href="#v:getRetryPolicyM">getRetryPolicyM</a> :: <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>)</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:RetryPolicy">RetryPolicy</a> = <span class="keyword">forall</span> m. <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</li><li class="src short"><a href="#v:retryPolicy">retryPolicy</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</li><li class="src short"><a href="#v:retryPolicyDefault">retryPolicyDefault</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</li><li class="src short"><a href="#v:natTransformRetryPolicy">natTransformRetryPolicy</a> :: (<span class="keyword">forall</span> a. m a -&gt; n a) -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> n</li><li class="src short"><span class="keyword">data</span> <a href="#t:RetryAction">RetryAction</a><ul class="subs"><li>= <a href="#v:DontRetry">DontRetry</a></li><li>| <a href="#v:ConsultPolicy">ConsultPolicy</a></li><li>| <a href="#v:ConsultPolicyOverrideDelay">ConsultPolicyOverrideDelay</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li></ul></li><li class="src short"><a href="#v:toRetryAction">toRetryAction</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:RetryStatus">RetryStatus</a> = <a href="#v:RetryStatus">RetryStatus</a> {<ul class="subs"><li><a href="#v:rsIterNumber">rsIterNumber</a> :: !<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:rsCumulativeDelay">rsCumulativeDelay</a> :: !<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:rsPreviousDelay">rsPreviousDelay</a> :: !(<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>)</li></ul>}</li><li class="src short"><a href="#v:defaultRetryStatus">defaultRetryStatus</a> :: <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></li><li class="src short"><a href="#v:applyPolicy">applyPolicy</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a>)</li><li class="src short"><a href="#v:applyAndDelay">applyAndDelay</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a>)</li><li class="src short"><a href="#v:rsIterNumberL">rsIterNumberL</a> :: Lens' <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:rsCumulativeDelayL">rsCumulativeDelayL</a> :: Lens' <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:rsPreviousDelayL">rsPreviousDelayL</a> :: Lens' <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>)</li><li class="src short"><a href="#v:retrying">retrying</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; b -&gt; m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m b) -&gt; m b</li><li class="src short"><a href="#v:retryingDynamic">retryingDynamic</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; b -&gt; m <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a>) -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m b) -&gt; m b</li><li class="src short"><a href="#v:recovering">recovering</a> :: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m) =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:Handler" title="Control.Monad.Catch">Handler</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>] -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:recoveringDynamic">recoveringDynamic</a> :: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m) =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:Handler" title="Control.Monad.Catch">Handler</a> m <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a>] -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:stepping">stepping</a> :: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m) =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:Handler" title="Control.Monad.Catch">Handler</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>] -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m ()) -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a) -&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:recoverAll">recoverAll</a> :: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m) =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:skipAsyncExceptions">skipAsyncExceptions</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:Handler" title="Control.Monad.Catch">Handler</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>]</li><li class="src short"><a href="#v:logRetries">logRetries</a> :: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e) =&gt; (e -&gt; m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; e -&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m ()) -&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:Handler" title="Control.Monad.Catch">Handler</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:defaultLogMsg">defaultLogMsg</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; e -&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:retryOnError">retryOnError</a> :: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/mtl-2.3.1/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> e m) =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; e -&gt; m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:resumeRetrying">resumeRetrying</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; b -&gt; m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m b) -&gt; m b</li><li class="src short"><a href="#v:resumeRetryingDynamic">resumeRetryingDynamic</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; b -&gt; m <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a>) -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m b) -&gt; m b</li><li class="src short"><a href="#v:resumeRecovering">resumeRecovering</a> :: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m) =&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:Handler" title="Control.Monad.Catch">Handler</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>] -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:resumeRecoveringDynamic">resumeRecoveringDynamic</a> :: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m) =&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:Handler" title="Control.Monad.Catch">Handler</a> m <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a>] -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:resumeRecoverAll">resumeRecoverAll</a> :: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m) =&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:constantDelay">constantDelay</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</li><li class="src short"><a href="#v:exponentialBackoff">exponentialBackoff</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</li><li class="src short"><a href="#v:fullJitterBackoff">fullJitterBackoff</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</li><li class="src short"><a href="#v:fibonacciBackoff">fibonacciBackoff</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</li><li class="src short"><a href="#v:limitRetries">limitRetries</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Retry.html#t:RetryPolicy" title="Control.Retry">RetryPolicy</a></li><li class="src short"><a href="#v:limitRetriesByDelay">limitRetriesByDelay</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</li><li class="src short"><a href="#v:limitRetriesByCumulativeDelay">limitRetriesByCumulativeDelay</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</li><li class="src short"><a href="#v:capDelay">capDelay</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</li><li class="src short"><a href="#v:simulatePolicy">simulatePolicy</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; m [(<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>)]</li><li class="src short"><a href="#v:simulatePolicyPP">simulatePolicyPP</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Types and Operations</h1></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:RetryPolicyM" class="def">RetryPolicyM</a> m <a href="src/Control.Retry.html#RetryPolicyM" class="link">Source</a> <a href="#t:RetryPolicyM" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a></code> is a function that takes an <code><a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></code> and
 possibly returns a delay in microseconds.  Iteration numbers start
 at zero and increase by one on each retry.  A *Nothing* return value from
 the function implies we have reached the retry limit.</p><p>Please note that <code><a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a></code> is a <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code>. You can collapse
 multiple strategies into one using <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Monoid.html#v:mappend" title="Data.Monoid">mappend</a></code> or <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Monoid.html#v:-60--62-" title="Data.Monoid">&lt;&gt;</a></code>. The semantics
 of this combination are as follows:</p><ol><li value="1">If either policy returns <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>, the combined policy returns
 <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>. This can be used to <code>inhibit</code> after a number of retries,
 for example.</li><li value="2">If both policies return a delay, the larger delay will be used.
 This is quite natural when combining multiple policies to achieve a
 certain effect.</li></ol><p>Example:</p><p>One can easily define an exponential backoff policy with a limited
 number of retries:</p><pre>&gt; limitedBackoff = exponentialBackoff 50000 &lt;&gt; limitRetries 5</pre><p>Naturally, <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Monoid.html#v:mempty" title="Data.Monoid">mempty</a></code> will retry immediately (delay 0) for an
 unlimited number of retries, forming the identity for the <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code>.</p><p>The default retry policy <code><a href="Control-Retry.html#v:retryPolicyDefault" title="Control.Retry">retryPolicyDefault</a></code> implements a constant 50ms delay, up to 5 times:</p><pre>&gt; retryPolicyDefault = constantDelay 50000 &lt;&gt; limitRetries 5</pre><p>For anything more complex, just define your own <code><a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a></code>:</p><pre>&gt; myPolicy = retryPolicy $ \ rs -&gt; if rsIterNumber rs &gt; 10 then Just 1000 else Just 10000</pre><p>Since 0.7.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RetryPolicyM" class="def">RetryPolicyM</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:getRetryPolicyM" class="def">getRetryPolicyM</a> :: <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:RetryPolicyM">Instances</h4><details id="i:RetryPolicyM" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RetryPolicyM:Monoid:1"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m)</span> <a href="src/Control.Retry.html#line-179" class="link">Source</a> <a href="#t:RetryPolicyM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RetryPolicyM:Monoid:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Retry.html">Control.Retry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m] -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RetryPolicyM:Semigroup:2"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> (<a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m)</span> <a href="src/Control.Retry.html#line-172" class="link">Source</a> <a href="#t:RetryPolicyM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RetryPolicyM:Semigroup:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Retry.html">Control.Retry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m) -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:RetryPolicy" class="def">RetryPolicy</a> = <span class="keyword">forall</span> m. <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m <a href="src/Control.Retry.html#RetryPolicy" class="link">Source</a> <a href="#t:RetryPolicy" class="selflink">#</a></p><div class="doc"><p>Simplified <code><a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a></code> without any use of the monadic context in
 determining policy. Mostly maintains backwards compatitibility with
 type signatures pre-0.7.</p></div></div><div class="top"><p class="src"><a id="v:retryPolicy" class="def">retryPolicy</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m <a href="src/Control.Retry.html#retryPolicy" class="link">Source</a> <a href="#v:retryPolicy" class="selflink">#</a></p><div class="doc"><p>Helper for making simplified policies that don't use the monadic
 context.</p></div></div><div class="top"><p class="src"><a id="v:retryPolicyDefault" class="def">retryPolicyDefault</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m <a href="src/Control.Retry.html#retryPolicyDefault" class="link">Source</a> <a href="#v:retryPolicyDefault" class="selflink">#</a></p><div class="doc"><p>Default retry policy</p></div></div><div class="top"><p class="src"><a id="v:natTransformRetryPolicy" class="def">natTransformRetryPolicy</a> :: (<span class="keyword">forall</span> a. m a -&gt; n a) -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> n <a href="src/Control.Retry.html#natTransformRetryPolicy" class="link">Source</a> <a href="#v:natTransformRetryPolicy" class="selflink">#</a></p><div class="doc"><p>Applies a natural transformation to a policy to run a RetryPolicy
 meant for the monad <code>m</code> in the monad <code>n</code> provided a transformation
 from <code>m</code> to <code>n</code> is available. A common case is if you have a pure
 policy, <code>RetryPolicyM Identity</code> and want to use it to govern an
 <code>IO</code> computation you could write:</p><pre>  purePolicyInIO :: RetryPolicyM Identity -&gt; RetryPolicyM IO
  purePolicyInIO = natTransformRetryPolicy (pure . runIdentity)
</pre></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RetryAction" class="def">RetryAction</a> <a href="src/Control.Retry.html#RetryAction" class="link">Source</a> <a href="#t:RetryAction" class="selflink">#</a></p><div class="doc"><p>How to handle a failed action.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DontRetry" class="def">DontRetry</a></td><td class="doc"><p>Don't retry (regardless of what the <code><a href="Control-Retry.html#t:RetryPolicy" title="Control.Retry">RetryPolicy</a></code> says).</p></td></tr><tr><td class="src"><a id="v:ConsultPolicy" class="def">ConsultPolicy</a></td><td class="doc"><p>Retry if the <code><a href="Control-Retry.html#t:RetryPolicy" title="Control.Retry">RetryPolicy</a></code> says so, with the delay specified by the policy.</p></td></tr><tr><td class="src"><a id="v:ConsultPolicyOverrideDelay" class="def">ConsultPolicyOverrideDelay</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Retry if the <code><a href="Control-Retry.html#t:RetryPolicy" title="Control.Retry">RetryPolicy</a></code> says so, but override the policy's delay (number of microseconds).</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:RetryAction">Instances</h4><details id="i:RetryAction" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RetryAction:Generic:1"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a></span> <a href="src/Control.Retry.html#line-222" class="link">Source</a> <a href="#t:RetryAction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RetryAction:Generic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Retry.html">Control.Retry</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> x <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> x -&gt; <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RetryAction:Read:2"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Read.html#t:Read" title="Text.Read">Read</a> <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a></span> <a href="src/Control.Retry.html#line-222" class="link">Source</a> <a href="#t:RetryAction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RetryAction:Read:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Retry.html">Control.Retry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-ParserCombinators-ReadP.html#t:ReadS" title="Text.ParserCombinators.ReadP">ReadS</a> <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:readsPrec" class="selflink">#</a></p><p class="src"><a href="#v:readList">readList</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-ParserCombinators-ReadP.html#t:ReadS" title="Text.ParserCombinators.ReadP">ReadS</a> [<a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a>] <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:readList" class="selflink">#</a></p><p class="src"><a href="#v:readPrec">readPrec</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-ParserCombinators-ReadPrec.html#t:ReadPrec" title="Text.ParserCombinators.ReadPrec">ReadPrec</a> <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:readPrec" class="selflink">#</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-ParserCombinators-ReadPrec.html#t:ReadPrec" title="Text.ParserCombinators.ReadPrec">ReadPrec</a> [<a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a>] <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:readListPrec" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RetryAction:Show:3"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a></span> <a href="src/Control.Retry.html#line-222" class="link">Source</a> <a href="#t:RetryAction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RetryAction:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Retry.html">Control.Retry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a>] -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RetryAction:Eq:4"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a></span> <a href="src/Control.Retry.html#line-222" class="link">Source</a> <a href="#t:RetryAction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RetryAction:Eq:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Retry.html">Control.Retry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> -&gt; <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> -&gt; <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RetryAction:Rep:5"></span> <span class="keyword">type</span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a></span> <a href="src/Control.Retry.html#line-222" class="link">Source</a> <a href="#t:RetryAction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RetryAction:Rep:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Retry.html">Control.Retry</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> = <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;RetryAction&quot; &quot;Control.Retry&quot; &quot;retry-0.9.3.1-2UVFN20RxZR6JpklqtPsvN&quot; '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;DontRetry&quot; '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;ConsultPolicy&quot; '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;ConsultPolicyOverrideDelay&quot; '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>))))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:toRetryAction" class="def">toRetryAction</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a> <a href="src/Control.Retry.html#toRetryAction" class="link">Source</a> <a href="#v:toRetryAction" class="selflink">#</a></p><div class="doc"><p>Convert a boolean answer to the question &quot;Should we retry?&quot; into
 a <code><a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RetryStatus" class="def">RetryStatus</a> <a href="src/Control.Retry.html#RetryStatus" class="link">Source</a> <a href="#t:RetryStatus" class="selflink">#</a></p><div class="doc"><p>Datatype with stats about retries made thus far.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RetryStatus" class="def">RetryStatus</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:rsIterNumber" class="def">rsIterNumber</a> :: !<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Iteration number, where 0 is the first try</p></div></li><li><dfn class="src"><a id="v:rsCumulativeDelay" class="def">rsCumulativeDelay</a> :: !<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Delay incurred so far from retries in microseconds</p></div></li><li><dfn class="src"><a id="v:rsPreviousDelay" class="def">rsPreviousDelay</a> :: !(<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>)</dfn><div class="doc"><p>Latest attempt's delay. Will always be Nothing on first run.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:RetryStatus">Instances</h4><details id="i:RetryStatus" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RetryStatus:Generic:1"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></span> <a href="src/Control.Retry.html#line-237" class="link">Source</a> <a href="#t:RetryStatus" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RetryStatus:Generic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Retry.html">Control.Retry</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> x <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> x -&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RetryStatus:Read:2"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Read.html#t:Read" title="Text.Read">Read</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></span> <a href="src/Control.Retry.html#line-237" class="link">Source</a> <a href="#t:RetryStatus" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RetryStatus:Read:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Retry.html">Control.Retry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-ParserCombinators-ReadP.html#t:ReadS" title="Text.ParserCombinators.ReadP">ReadS</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:readsPrec" class="selflink">#</a></p><p class="src"><a href="#v:readList">readList</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-ParserCombinators-ReadP.html#t:ReadS" title="Text.ParserCombinators.ReadP">ReadS</a> [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a>] <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:readList" class="selflink">#</a></p><p class="src"><a href="#v:readPrec">readPrec</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-ParserCombinators-ReadPrec.html#t:ReadPrec" title="Text.ParserCombinators.ReadPrec">ReadPrec</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:readPrec" class="selflink">#</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-ParserCombinators-ReadPrec.html#t:ReadPrec" title="Text.ParserCombinators.ReadPrec">ReadPrec</a> [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a>] <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:readListPrec" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RetryStatus:Show:3"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></span> <a href="src/Control.Retry.html#line-237" class="link">Source</a> <a href="#t:RetryStatus" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RetryStatus:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Retry.html">Control.Retry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a>] -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RetryStatus:Eq:4"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></span> <a href="src/Control.Retry.html#line-237" class="link">Source</a> <a href="#t:RetryStatus" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RetryStatus:Eq:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Retry.html">Control.Retry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RetryStatus:Rep:5"></span> <span class="keyword">type</span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></span> <a href="src/Control.Retry.html#line-237" class="link">Source</a> <a href="#t:RetryStatus" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RetryStatus:Rep:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Retry.html">Control.Retry</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> = <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;RetryStatus&quot; &quot;Control.Retry&quot; &quot;retry-0.9.3.1-2UVFN20RxZR6JpklqtPsvN&quot; '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;RetryStatus&quot; '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;rsIterNumber&quot;) '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>) <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;rsCumulativeDelay&quot;) '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>) <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;rsPreviousDelay&quot;) '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>)))))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:defaultRetryStatus" class="def">defaultRetryStatus</a> :: <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> <a href="src/Control.Retry.html#defaultRetryStatus" class="link">Source</a> <a href="#v:defaultRetryStatus" class="selflink">#</a></p><div class="doc"><p>Initial, default retry status. Use fields or lenses to update.</p></div></div><div class="top"><p class="src"><a id="v:applyPolicy" class="def">applyPolicy</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a>) <a href="src/Control.Retry.html#applyPolicy" class="link">Source</a> <a href="#v:applyPolicy" class="selflink">#</a></p><div class="doc"><p>Apply policy on status to see what the decision would be.
 <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> implies no retry, <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> returns updated status.</p></div></div><div class="top"><p class="src"><a id="v:applyAndDelay" class="def">applyAndDelay</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a>) <a href="src/Control.Retry.html#applyAndDelay" class="link">Source</a> <a href="#v:applyAndDelay" class="selflink">#</a></p><div class="doc"><p>Apply policy and delay by its amount if it results in a retry.
 Return updated status.</p></div></div><a href="#g:2" id="g:2"><h2>Lenses for <code>RetryStatus</code></h2></a><div class="top"><p class="src"><a id="v:rsIterNumberL" class="def">rsIterNumberL</a> :: Lens' <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Control.Retry.html#rsIterNumberL" class="link">Source</a> <a href="#v:rsIterNumberL" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rsCumulativeDelayL" class="def">rsCumulativeDelayL</a> :: Lens' <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Control.Retry.html#rsCumulativeDelayL" class="link">Source</a> <a href="#v:rsCumulativeDelayL" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rsPreviousDelayL" class="def">rsPreviousDelayL</a> :: Lens' <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>) <a href="src/Control.Retry.html#rsPreviousDelayL" class="link">Source</a> <a href="#v:rsPreviousDelayL" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>Applying Retry Policies</h1></a><div class="top"><p class="src"><a id="v:retrying" class="def">retrying</a> <a href="src/Control.Retry.html#retrying" class="link">Source</a> <a href="#v:retrying" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; b -&gt; m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</td><td class="doc"><p>An action to check whether the result should be retried.
 If True, we delay and retry the operation.</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m b)</td><td class="doc"><p>Action to run</p></td></tr><tr><td class="src">-&gt; m b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Retry combinator for actions that don't raise exceptions, but
 signal in their type the outcome has failed. Examples are the
 <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code>, <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a></code> and <code>EitherT</code> monads.</p><p>Let's write a function that always fails and watch this combinator
 retry it 5 additional times following the initial run:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import Data.Maybe
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let f _ = putStrLn &quot;Running action&quot; &gt;&gt; return Nothing
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>retrying retryPolicyDefault (const $ return . isNothing) f
</code></strong>Running action
Running action
Running action
Running action
Running action
Running action
Nothing
</pre><p>Note how the latest failing result is returned after all retries
 have been exhausted.</p></div></div><div class="top"><p class="src"><a id="v:retryingDynamic" class="def">retryingDynamic</a> <a href="src/Control.Retry.html#retryingDynamic" class="link">Source</a> <a href="#v:retryingDynamic" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; b -&gt; m <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a>)</td><td class="doc"><p>An action to check whether the result should be retried.
 The returned <code><a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a></code> determines how/if a retry is performed.
 See documentation on <code><a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a></code>.</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m b)</td><td class="doc"><p>Action to run</p></td></tr><tr><td class="src">-&gt; m b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Same as <code><a href="Control-Retry.html#v:retrying" title="Control.Retry">retrying</a></code>, but with the ability to override
 the delay of the retry policy based on information
 obtained after initiation.</p><p>For example, if the action to run is a HTTP request that
 turns out to fail with a status code 429 (&quot;too many requests&quot;),
 the response may contain a &quot;Retry-After&quot; HTTP header which
 specifies the number of seconds
 the client should wait until performing the next request.
 This function allows overriding the delay calculated by the given
 retry policy with the delay extracted from this header value.</p><p>In other words, given an arbitrary <code><a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a></code> <code>rp</code>, the
 following invocation will always delay by 1000 microseconds:</p><pre>retryingDynamic rp (\_ _ -&gt; return $ ConsultPolicyOverrideDelay 1000) f</pre><p>Note that a <code><a href="Control-Retry.html#t:RetryPolicy" title="Control.Retry">RetryPolicy</a></code>s decision to <em>not</em> perform a retry
 cannot be overridden. Ie. <em>when</em> to <em>stop</em> retrying is always decided
 by the retry policy, regardless of the returned <code><a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a></code> value.</p></div></div><div class="top"><p class="src"><a id="v:recovering" class="def">recovering</a> <a href="src/Control.Retry.html#recovering" class="link">Source</a> <a href="#v:recovering" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc"><p>Just use <code><a href="Control-Retry.html#v:retryPolicyDefault" title="Control.Retry">retryPolicyDefault</a></code> for default settings</p></td></tr><tr><td class="src">-&gt; [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:Handler" title="Control.Monad.Catch">Handler</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>]</td><td class="doc"><p>Should a given exception be retried? Action will be
 retried if this returns True *and* the policy allows it.
 This action will be consulted first even if the policy
 later blocks it.</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a)</td><td class="doc"><p>Action to perform</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run an action and recover from a raised exception by potentially
 retrying the action a number of times. Note that if you're going to
 use a handler for <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></code>, you should add explicit cases
 *earlier* in the list of handlers to reject <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Exception-Base.html#t:AsyncException" title="Control.Exception.Base">AsyncException</a></code> and
 <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Exception-Base.html#t:SomeAsyncException" title="Control.Exception.Base">SomeAsyncException</a></code>, as catching these can cause thread and
 program hangs. <code><a href="Control-Retry.html#v:recoverAll" title="Control.Retry">recoverAll</a></code> already does this for you so if you
 just plan on catching <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></code>, you may as well use
 <code><a href="Control-Retry.html#v:recoverAll" title="Control.Retry">recoverAll</a></code></p></div></div><div class="top"><p class="src"><a id="v:recoveringDynamic" class="def">recoveringDynamic</a> <a href="src/Control.Retry.html#recoveringDynamic" class="link">Source</a> <a href="#v:recoveringDynamic" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc"><p>Just use <code><a href="Control-Retry.html#v:retryPolicyDefault" title="Control.Retry">retryPolicyDefault</a></code> for default settings</p></td></tr><tr><td class="src">-&gt; [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:Handler" title="Control.Monad.Catch">Handler</a> m <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a>]</td><td class="doc"><p>Should a given exception be retried? Action will be
 retried if this returns either <code><a href="Control-Retry.html#v:ConsultPolicy" title="Control.Retry">ConsultPolicy</a></code> or
 <code><a href="Control-Retry.html#v:ConsultPolicyOverrideDelay" title="Control.Retry">ConsultPolicyOverrideDelay</a></code> *and* the policy allows it.
 This action will be consulted first even if the policy
 later blocks it.</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a)</td><td class="doc"><p>Action to perform</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The difference between this and <code><a href="Control-Retry.html#v:recovering" title="Control.Retry">recovering</a></code> is the same as
  the difference between <code><a href="Control-Retry.html#v:retryingDynamic" title="Control.Retry">retryingDynamic</a></code> and <code><a href="Control-Retry.html#v:retrying" title="Control.Retry">retrying</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:stepping" class="def">stepping</a> <a href="src/Control.Retry.html#stepping" class="link">Source</a> <a href="#v:stepping" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc"><p>Just use <code><a href="Control-Retry.html#v:retryPolicyDefault" title="Control.Retry">retryPolicyDefault</a></code> for default settings</p></td></tr><tr><td class="src">-&gt; [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:Handler" title="Control.Monad.Catch">Handler</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>]</td><td class="doc"><p>Should a given exception be retried? Action will be
 retried if this returns True *and* the policy allows it.
 This action will be consulted first even if the policy
 later blocks it.</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m ())</td><td class="doc"><p>Action to run with updated status upon failure.</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a)</td><td class="doc"><p>Main action to perform with current status.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></td><td class="doc"><p>Current status of this step</p></td></tr><tr><td class="src">-&gt; m (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A version of <code><a href="Control-Retry.html#v:recovering" title="Control.Retry">recovering</a></code> that tries to run the action only a
 single time. The control will return immediately upon both success
 and failure. Useful for implementing retry logic in distributed
 queues and similar external-interfacing systems.</p></div></div><div class="top"><p class="src"><a id="v:recoverAll" class="def">recoverAll</a> :: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m) =&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a) -&gt; m a <a href="src/Control.Retry.html#recoverAll" class="link">Source</a> <a href="#v:recoverAll" class="selflink">#</a></p><div class="doc"><p>Retry ALL exceptions that may be raised. To be used with caution;
 this matches the exception on <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a></code>. Note that this
 handler explicitly does not handle <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Exception-Base.html#t:AsyncException" title="Control.Exception.Base">AsyncException</a></code> nor
 <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Exception-Base.html#t:SomeAsyncException" title="Control.Exception.Base">SomeAsyncException</a></code> (for versions of base &gt;= 4.7). It is not a
 good idea to catch async exceptions as it can result in hanging
 threads and programs. Note that if you just throw an exception to
 this thread that does not descend from SomeException, recoverAll
 will not catch it.</p><p>See how the action below is run once and retried 5 more times
 before finally failing for good:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let f _ = putStrLn &quot;Running action&quot; &gt;&gt; error &quot;this is an error&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>recoverAll retryPolicyDefault f
</code></strong>Running action
Running action
Running action
Running action
Running action
Running action
*** Exception: this is an error
</pre></div></div><div class="top"><p class="src"><a id="v:skipAsyncExceptions" class="def">skipAsyncExceptions</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:Handler" title="Control.Monad.Catch">Handler</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>] <a href="src/Control.Retry.html#skipAsyncExceptions" class="link">Source</a> <a href="#v:skipAsyncExceptions" class="selflink">#</a></p><div class="doc"><p>List of pre-made handlers that will skip retries on
 <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Exception-Base.html#t:AsyncException" title="Control.Exception.Base">AsyncException</a></code> and <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Exception-Base.html#t:SomeAsyncException" title="Control.Exception.Base">SomeAsyncException</a></code>. Append your handlers to
 this list as a convenient way to make sure you're not catching
 async exceptions like user interrupt.</p></div></div><div class="top"><p class="src"><a id="v:logRetries" class="def">logRetries</a> <a href="src/Control.Retry.html#logRetries" class="link">Source</a> <a href="#v:logRetries" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (e -&gt; m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</td><td class="doc"><p>Test for whether action is to be retried</p></td></tr><tr><td class="src">-&gt; (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; e -&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m ())</td><td class="doc"><p>How to report the generated warning message. Boolean is
 whether it's being retried or crashed.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></td><td class="doc"><p>Retry number</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:Handler" title="Control.Monad.Catch">Handler</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Helper function for constructing handler functions of the form required
 by <code><a href="Control-Retry.html#v:recovering" title="Control.Retry">recovering</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:defaultLogMsg" class="def">defaultLogMsg</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; e -&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Control.Retry.html#defaultLogMsg" class="link">Source</a> <a href="#v:defaultLogMsg" class="selflink">#</a></p><div class="doc"><p>For use with <code><a href="Control-Retry.html#v:logRetries" title="Control.Retry">logRetries</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:retryOnError" class="def">retryOnError</a> <a href="src/Control.Retry.html#retryOnError" class="link">Source</a> <a href="#v:retryOnError" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/mtl-2.3.1/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> e m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc"><p>Policy</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; e -&gt; m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</td><td class="doc"><p>Should an error be retried?</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a)</td><td class="doc"><p>Action to perform</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div></div><a href="#g:4" id="g:4"><h2>Resumable variants</h2></a><div class="top"><p class="src"><a id="v:resumeRetrying" class="def">resumeRetrying</a> <a href="src/Control.Retry.html#resumeRetrying" class="link">Source</a> <a href="#v:resumeRetrying" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; b -&gt; m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</td><td class="doc"><p>An action to check whether the result should be retried.
 If True, we delay and retry the operation.</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m b)</td><td class="doc"><p>Action to run</p></td></tr><tr><td class="src">-&gt; m b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A variant of <code><a href="Control-Retry.html#v:retrying" title="Control.Retry">retrying</a></code> that allows specifying the initial
 <code><a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></code> so that the retrying operation may pick up where it left
 off in regards to its retry policy.</p></div></div><div class="top"><p class="src"><a id="v:resumeRetryingDynamic" class="def">resumeRetryingDynamic</a> <a href="src/Control.Retry.html#resumeRetryingDynamic" class="link">Source</a> <a href="#v:resumeRetryingDynamic" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; b -&gt; m <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a>)</td><td class="doc"><p>An action to check whether the result should be retried.
 The returned <code><a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a></code> determines how/if a retry is performed.
 See documentation on <code><a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a></code>.</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m b)</td><td class="doc"><p>Action to run</p></td></tr><tr><td class="src">-&gt; m b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A variant of <code><a href="Control-Retry.html#v:retryingDynamic" title="Control.Retry">retryingDynamic</a></code> that allows specifying the initial
 <code><a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></code> so that a retrying operation may pick up where it left off
 in regards to its retry policy.</p></div></div><div class="top"><p class="src"><a id="v:resumeRecovering" class="def">resumeRecovering</a> <a href="src/Control.Retry.html#resumeRecovering" class="link">Source</a> <a href="#v:resumeRecovering" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc"><p>Just use <code><a href="Control-Retry.html#v:retryPolicyDefault" title="Control.Retry">retryPolicyDefault</a></code> for default settings</p></td></tr><tr><td class="src">-&gt; [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:Handler" title="Control.Monad.Catch">Handler</a> m <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>]</td><td class="doc"><p>Should a given exception be retried? Action will be
 retried if this returns True *and* the policy allows it.
 This action will be consulted first even if the policy
 later blocks it.</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a)</td><td class="doc"><p>Action to perform</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A variant of <code><a href="Control-Retry.html#v:recovering" title="Control.Retry">recovering</a></code> that allows specifying the initial
 <code><a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></code> so that a recovering operation may pick up where it left
 off in regards to its retry policy.</p></div></div><div class="top"><p class="src"><a id="v:resumeRecoveringDynamic" class="def">resumeRecoveringDynamic</a> <a href="src/Control.Retry.html#resumeRecoveringDynamic" class="link">Source</a> <a href="#v:resumeRecoveringDynamic" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc"><p>Just use <code><a href="Control-Retry.html#v:retryPolicyDefault" title="Control.Retry">retryPolicyDefault</a></code> for default settings</p></td></tr><tr><td class="src">-&gt; [<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:Handler" title="Control.Monad.Catch">Handler</a> m <a href="Control-Retry.html#t:RetryAction" title="Control.Retry">RetryAction</a>]</td><td class="doc"><p>Should a given exception be retried? Action will be
 retried if this returns either <code><a href="Control-Retry.html#v:ConsultPolicy" title="Control.Retry">ConsultPolicy</a></code> or
 <code><a href="Control-Retry.html#v:ConsultPolicyOverrideDelay" title="Control.Retry">ConsultPolicyOverrideDelay</a></code> *and* the policy allows it.
 This action will be consulted first even if the policy
 later blocks it.</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a)</td><td class="doc"><p>Action to perform</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A variant of <code><a href="Control-Retry.html#v:recoveringDynamic" title="Control.Retry">recoveringDynamic</a></code> that allows specifying the initial
 <code><a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></code> so that a recovering operation may pick up where it left
 off in regards to its retry policy.</p></div></div><div class="top"><p class="src"><a id="v:resumeRecoverAll" class="def">resumeRecoverAll</a> :: (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/exceptions-0.10.7/Control-Monad-Catch.html#t:MonadMask" title="Control.Monad.Catch">MonadMask</a> m) =&gt; <a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; (<a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a> -&gt; m a) -&gt; m a <a href="src/Control.Retry.html#resumeRecoverAll" class="link">Source</a> <a href="#v:resumeRecoverAll" class="selflink">#</a></p><div class="doc"><p>A variant of <code><a href="Control-Retry.html#v:recoverAll" title="Control.Retry">recoverAll</a></code> that allows specifying the initial
 <code><a href="Control-Retry.html#t:RetryStatus" title="Control.Retry">RetryStatus</a></code> so that a recovering operation may pick up where it left
 off in regards to its retry policy.</p></div></div><a href="#g:5" id="g:5"><h1>Retry Policies</h1></a><div class="top"><p class="src"><a id="v:constantDelay" class="def">constantDelay</a> <a href="src/Control.Retry.html#constantDelay" class="link">Source</a> <a href="#v:constantDelay" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Base delay in microseconds</p></td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Implement a constant delay with unlimited retries.</p></div></div><div class="top"><p class="src"><a id="v:exponentialBackoff" class="def">exponentialBackoff</a> <a href="src/Control.Retry.html#exponentialBackoff" class="link">Source</a> <a href="#v:exponentialBackoff" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Base delay in microseconds</p></td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Grow delay exponentially each iteration.  Each delay will
 increase by a factor of two.</p></div></div><div class="top"><p class="src"><a id="v:fullJitterBackoff" class="def">fullJitterBackoff</a> <a href="src/Control.Retry.html#fullJitterBackoff" class="link">Source</a> <a href="#v:fullJitterBackoff" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Base delay in microseconds</p></td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>FullJitter exponential backoff as explained in AWS Architecture
 Blog article.</p><pre>http://www.awsarchitectureblog.com/2015/03/backoff.html</pre><p>temp = min(cap, base * 2 ** attempt)</p><p>sleep = temp / 2 + random_between(0, temp / 2)</p></div></div><div class="top"><p class="src"><a id="v:fibonacciBackoff" class="def">fibonacciBackoff</a> <a href="src/Control.Retry.html#fibonacciBackoff" class="link">Source</a> <a href="#v:fibonacciBackoff" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Base delay in microseconds</p></td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Implement Fibonacci backoff.</p></div></div><div class="top"><p class="src"><a id="v:limitRetries" class="def">limitRetries</a> <a href="src/Control.Retry.html#limitRetries" class="link">Source</a> <a href="#v:limitRetries" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Maximum number of retries.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicy" title="Control.Retry">RetryPolicy</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Retry immediately, but only up to <code>n</code> times.</p></div></div><a href="#g:6" id="g:6"><h1>Policy Transformers</h1></a><div class="top"><p class="src"><a id="v:limitRetriesByDelay" class="def">limitRetriesByDelay</a> <a href="src/Control.Retry.html#limitRetriesByDelay" class="link">Source</a> <a href="#v:limitRetriesByDelay" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Time-delay limit in microseconds.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Add an upperbound to a policy such that once the given time-delay
 amount *per try* has been reached or exceeded, the policy will stop
 retrying and fail. If you need to stop retrying once *cumulative*
 delay reaches a time-delay amount, use
 <code><a href="Control-Retry.html#v:limitRetriesByCumulativeDelay" title="Control.Retry">limitRetriesByCumulativeDelay</a></code></p></div></div><div class="top"><p class="src"><a id="v:limitRetriesByCumulativeDelay" class="def">limitRetriesByCumulativeDelay</a> <a href="src/Control.Retry.html#limitRetriesByCumulativeDelay" class="link">Source</a> <a href="#v:limitRetriesByCumulativeDelay" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Time-delay limit in microseconds.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Add an upperbound to a policy such that once the cumulative delay
 over all retries has reached or exceeded the given limit, the
 policy will stop retrying and fail.</p></div></div><div class="top"><p class="src"><a id="v:capDelay" class="def">capDelay</a> <a href="src/Control.Retry.html#capDelay" class="link">Source</a> <a href="#v:capDelay" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>A maximum delay in microseconds</p></td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Set a time-upperbound for any delays that may be directed by the
 given policy.  This function does not terminate the retrying.  The policy
 `capDelay maxDelay (exponentialBackoff n)` will never stop retrying.  It
 will reach a state where it retries forever with a delay of <code>maxDelay</code>
 between each one.  To get termination you need to use one of the
 <code><a href="Control-Retry.html#v:limitRetries" title="Control.Retry">limitRetries</a></code> function variants.</p></div></div><a href="#g:7" id="g:7"><h1>Development Helpers</h1></a><div class="top"><p class="src"><a id="v:simulatePolicy" class="def">simulatePolicy</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> m -&gt; m [(<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>)] <a href="src/Control.Retry.html#simulatePolicy" class="link">Source</a> <a href="#v:simulatePolicy" class="selflink">#</a></p><div class="doc"><p>Run given policy up to N iterations and gather results. In the
 pair, the <code>Int</code> is the iteration number and the <code>Maybe Int</code> is the
 delay in microseconds.</p></div></div><div class="top"><p class="src"><a id="v:simulatePolicyPP" class="def">simulatePolicyPP</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Retry.html#t:RetryPolicyM" title="Control.Retry">RetryPolicyM</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Control.Retry.html#simulatePolicyPP" class="link">Source</a> <a href="#v:simulatePolicyPP" class="selflink">#</a></p><div class="doc"><p>Run given policy up to N iterations and pretty print results on
 the console.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>