<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE OverloadedStrings, RecordWildCards, ScopedTypeVariables #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Network.Mail.SMTP</span><span>
</span><span id="line-4"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Main interface</span></span><span>
</span><span id="line-5"></span><span>      </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMail"><span class="hs-identifier">sendMail</span></a></span><span>
</span><span id="line-6"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMail%27"><span class="hs-identifier">sendMail'</span></a></span><span>
</span><span id="line-7"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLogin"><span class="hs-identifier">sendMailWithLogin</span></a></span><span>
</span><span id="line-8"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLogin%27"><span class="hs-identifier">sendMailWithLogin'</span></a></span><span>
</span><span id="line-9"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithSender"><span class="hs-identifier">sendMailWithSender</span></a></span><span>
</span><span id="line-10"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithSender%27"><span class="hs-identifier">sendMailWithSender'</span></a></span><span>
</span><span id="line-11"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailTLS"><span class="hs-identifier">sendMailTLS</span></a></span><span>
</span><span id="line-12"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailTLS%27"><span class="hs-identifier">sendMailTLS'</span></a></span><span>
</span><span id="line-13"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLoginTLS"><span class="hs-identifier">sendMailWithLoginTLS</span></a></span><span>
</span><span id="line-14"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLoginTLS%27"><span class="hs-identifier">sendMailWithLoginTLS'</span></a></span><span>
</span><span id="line-15"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithSenderTLS"><span class="hs-identifier">sendMailWithSenderTLS</span></a></span><span>
</span><span id="line-16"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithSenderTLS%27"><span class="hs-identifier">sendMailWithSenderTLS'</span></a></span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailSTARTTLS"><span class="hs-identifier">sendMailSTARTTLS</span></a></span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailSTARTTLS%27"><span class="hs-identifier">sendMailSTARTTLS'</span></a></span><span>
</span><span id="line-19"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLoginSTARTTLS"><span class="hs-identifier">sendMailWithLoginSTARTTLS</span></a></span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLoginSTARTTLS%27"><span class="hs-identifier">sendMailWithLoginSTARTTLS'</span></a></span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLoginOAuthSTARTTLS"><span class="hs-identifier">sendMailWithLoginOAuthSTARTTLS</span></a></span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLoginOAuthSTARTTLS%27"><span class="hs-identifier">sendMailWithLoginOAuthSTARTTLS'</span></a></span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithSenderSTARTTLS"><span class="hs-identifier">sendMailWithSenderSTARTTLS</span></a></span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithSenderSTARTTLS%27"><span class="hs-identifier">sendMailWithSenderSTARTTLS'</span></a></span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#simpleMail"><span class="hs-identifier">simpleMail</span></a></span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#plainTextPart"><span class="hs-identifier">plainTextPart</span></a></span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#htmlPart"><span class="hs-identifier">htmlPart</span></a></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#filePart"><span class="hs-identifier">filePart</span></a></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Types.html"><span class="hs-identifier">Network.Mail.SMTP.Types</span></a></span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier">SMTPConnection</span></a></span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span>      </span><span class="annot"><span class="hs-comment">-- * Network.Mail.Mime's sendmail interface (reexports)</span></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">sendmail</span></span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">sendmailCustom</span></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">renderSendMail</span></span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">renderSendMailCustom</span></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span>      </span><span class="annot"><span class="hs-comment">-- * Establishing Connection</span></span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTP"><span class="hs-identifier">connectSMTP</span></a></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTPS"><span class="hs-identifier">connectSMTPS</span></a></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS"><span class="hs-identifier">connectSMTPSTARTTLS</span></a></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTP%27"><span class="hs-identifier">connectSMTP'</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTPS%27"><span class="hs-identifier">connectSMTPS'</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS%27"><span class="hs-identifier">connectSMTPSTARTTLS'</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTPWithHostName"><span class="hs-identifier">connectSMTPWithHostName</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTPWithHostNameAndTlsSettings"><span class="hs-identifier">connectSMTPWithHostNameAndTlsSettings</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTPWithHostNameAndTlsSettingsSTARTTLS"><span class="hs-identifier">connectSMTPWithHostNameAndTlsSettingsSTARTTLS</span></a></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span>      </span><span class="annot"><span class="hs-comment">-- * Operation to a Connection</span></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#sendCommand"><span class="hs-identifier">sendCommand</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#login"><span class="hs-identifier">login</span></a></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#closeSMTP"><span class="hs-identifier">closeSMTP</span></a></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#renderAndSend"><span class="hs-identifier">renderAndSend</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#renderAndSendFrom"><span class="hs-identifier">renderAndSendFrom</span></a></span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html"><span class="hs-identifier">Network.Mail.SMTP.Auth</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Types.html"><span class="hs-identifier">Network.Mail.SMTP.Types</span></a></span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/template-haskell-2.20.0.0/src/System.FilePath.html"><span class="hs-identifier">System.FilePath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/filepath-1.4.300.1/src/System.FilePath.Posix.html#takeFileName"><span class="hs-identifier">takeFileName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html#unless"><span class="hs-identifier">unless</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Char.html"><span class="hs-identifier">Data.Char</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Unicode.html#isDigit"><span class="hs-identifier">isDigit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Network.Socket</span></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Network.BSD</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">getHostName</span></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Network.Mail.Mime</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">filePart</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">htmlPart</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">simpleMail</span></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Network.Connection</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Conn</span></span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B</span></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html"><span class="hs-identifier">Data.ByteString.Char8</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B8</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Lazy.html"><span class="hs-identifier">Data.ByteString.Lazy</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BL</span></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Lazy.html"><span class="hs-identifier">Data.Text.Lazy</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TL</span></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Lazy.Encoding.html"><span class="hs-identifier">Data.Text.Lazy.Encoding</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TL</span></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Encoding.html"><span class="hs-identifier">Data.Text.Encoding</span></a></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Default.Class</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">def</span></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-keyword">data</span><span> </span><span id="SMTPConnection"><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-var">SMTPConnection</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SMTPC"><span class="annot"><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-var">SMTPC</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Conn.Connection</span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679085367"><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-87"></span><span>    </span><span id="local-6989586621679085379"><span class="annot"><span class="annottext">== :: SMTPConnection -&gt; SMTPConnection -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var hs-var hs-var hs-var">(==)</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-type">SMTPC</span></a></span><span> </span><span id="local-6989586621679085380"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085380"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-type">SMTPC</span></a></span><span> </span><span id="local-6989586621679085381"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085381"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; ConnectionID
</span><span class="hs-identifier hs-var">Conn.connectionID</span></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085380"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">ConnectionID -&gt; ConnectionID -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Connection -&gt; ConnectionID
</span><span class="hs-identifier hs-var">Conn.connectionID</span></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085381"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server with the specified host and default port (25)</span></span><span>
</span><span id="line-90"></span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTP"><span class="hs-identifier hs-type">connectSMTP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ name of the server</span></span><span>
</span><span id="line-91"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span>
</span><span id="line-92"></span><span id="connectSMTP"><span class="annot"><span class="annottext">connectSMTP :: [Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTP"><span class="hs-identifier hs-var hs-var">connectSMTP</span></a></span></span><span> </span><span id="local-6989586621679085384"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085384"><span class="hs-identifier hs-var">hostname</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTP%27"><span class="hs-identifier hs-var">connectSMTP'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085384"><span class="hs-identifier hs-var">hostname</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><span class="hs-number">25</span></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server with the specified host and default port (587). Uses STARTTLS</span></span><span>
</span><span id="line-95"></span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS"><span class="hs-identifier hs-type">connectSMTPSTARTTLS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ name of the server</span></span><span>
</span><span id="line-96"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span>
</span><span id="line-97"></span><span id="connectSMTPSTARTTLS"><span class="annot"><span class="annottext">connectSMTPSTARTTLS :: [Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS"><span class="hs-identifier hs-var hs-var">connectSMTPSTARTTLS</span></a></span></span><span> </span><span id="local-6989586621679085385"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085385"><span class="hs-identifier hs-var">hostname</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS%27"><span class="hs-identifier hs-var">connectSMTPSTARTTLS'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085385"><span class="hs-identifier hs-var">hostname</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><span class="hs-number">587</span></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="annot"><a href="Network.Mail.SMTP.html#defaultTlsSettings"><span class="hs-identifier hs-type">defaultTlsSettings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Conn.TLSSettings</span></span><span>
</span><span id="line-100"></span><span id="defaultTlsSettings"><span class="annot"><span class="annottext">defaultTlsSettings :: TLSSettings
</span><a href="Network.Mail.SMTP.html#defaultTlsSettings"><span class="hs-identifier hs-var hs-var">defaultTlsSettings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">TLSSettings
forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-comment">-- | Connect to an SMTP server with the specified host via SMTPS on port (465).</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- According to RFC 8314 this should be preferred over STARTTLS if the server</span><span>
</span><span id="line-104"></span><span class="hs-comment">-- offers it.</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- If you need a different port number or more sophisticated 'Conn.TLSSettings'</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- use 'connectSMTPWithHostNameAndTlsSettings'.</span><span>
</span><span id="line-107"></span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTPS"><span class="hs-identifier hs-type">connectSMTPS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ name of the server</span></span><span>
</span><span id="line-108"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span>
</span><span id="line-109"></span><span id="connectSMTPS"><span class="annot"><span class="annottext">connectSMTPS :: [Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPS"><span class="hs-identifier hs-var hs-var">connectSMTPS</span></a></span></span><span> </span><span id="local-6989586621679085388"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085388"><span class="hs-identifier hs-var">hostname</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span>
</span><span id="line-110"></span><span>    </span><span class="annot"><span class="annottext">[Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPS%27"><span class="hs-identifier hs-var">connectSMTPS'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085388"><span class="hs-identifier hs-var">hostname</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><span class="hs-number">465</span></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server with the specified host and port</span></span><span>
</span><span id="line-113"></span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTP%27"><span class="hs-identifier hs-type">connectSMTP'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ name of the server</span></span><span>
</span><span id="line-114"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ port number</span></span><span>
</span><span id="line-115"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span>
</span><span id="line-116"></span><span id="connectSMTP%27"><span class="annot"><span class="annottext">connectSMTP' :: [Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTP%27"><span class="hs-identifier hs-var hs-var">connectSMTP'</span></a></span></span><span> </span><span id="local-6989586621679085389"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085389"><span class="hs-identifier hs-var">hostname</span></a></span></span><span> </span><span id="local-6989586621679085390"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085390"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; PortNumber -&gt; IO [Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPWithHostName"><span class="hs-identifier hs-var">connectSMTPWithHostName</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085389"><span class="hs-identifier hs-var">hostname</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085390"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">IO [Char]
</span><span class="hs-identifier hs-var">getHostName</span></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server with the specified host and port using TLS</span></span><span>
</span><span id="line-119"></span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTPS%27"><span class="hs-identifier hs-type">connectSMTPS'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ name of the server</span></span><span>
</span><span id="line-120"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ port number</span></span><span>
</span><span id="line-121"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span>
</span><span id="line-122"></span><span id="connectSMTPS%27"><span class="annot"><span class="annottext">connectSMTPS' :: [Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPS%27"><span class="hs-identifier hs-var hs-var">connectSMTPS'</span></a></span></span><span> </span><span id="local-6989586621679085391"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085391"><span class="hs-identifier hs-var">hostname</span></a></span></span><span> </span><span id="local-6989586621679085392"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085392"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
-&gt; PortNumber
-&gt; IO [Char]
-&gt; Maybe TLSSettings
-&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPWithHostNameAndTlsSettings"><span class="hs-identifier hs-var">connectSMTPWithHostNameAndTlsSettings</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085391"><span class="hs-identifier hs-var">hostname</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085392"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">IO [Char]
</span><span class="hs-identifier hs-var">getHostName</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TLSSettings -&gt; Maybe TLSSettings
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">TLSSettings
</span><a href="Network.Mail.SMTP.html#defaultTlsSettings"><span class="hs-identifier hs-var">defaultTlsSettings</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server with the specified host and port using STARTTLS</span></span><span>
</span><span id="line-125"></span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS%27"><span class="hs-identifier hs-type">connectSMTPSTARTTLS'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ name of the server</span></span><span>
</span><span id="line-126"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ port number</span></span><span>
</span><span id="line-127"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span>
</span><span id="line-128"></span><span id="connectSMTPSTARTTLS%27"><span class="annot"><span class="annottext">connectSMTPSTARTTLS' :: [Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS%27"><span class="hs-identifier hs-var hs-var">connectSMTPSTARTTLS'</span></a></span></span><span> </span><span id="local-6989586621679085393"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085393"><span class="hs-identifier hs-var">hostname</span></a></span></span><span> </span><span id="local-6989586621679085394"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085394"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
-&gt; PortNumber -&gt; IO [Char] -&gt; TLSSettings -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPWithHostNameAndTlsSettingsSTARTTLS"><span class="hs-identifier hs-var">connectSMTPWithHostNameAndTlsSettingsSTARTTLS</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085393"><span class="hs-identifier hs-var">hostname</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085394"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">IO [Char]
</span><span class="hs-identifier hs-var">getHostName</span></span><span> </span><span class="annot"><span class="annottext">TLSSettings
</span><a href="Network.Mail.SMTP.html#defaultTlsSettings"><span class="hs-identifier hs-var">defaultTlsSettings</span></a></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server with the specified host and port</span></span><span>
</span><span id="line-131"></span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTPWithHostName"><span class="hs-identifier hs-type">connectSMTPWithHostName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ name of the server</span></span><span>
</span><span id="line-132"></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ port number</span></span><span>
</span><span id="line-133"></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Returns the host name to use to send from</span></span><span>
</span><span id="line-134"></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span>
</span><span id="line-135"></span><span id="connectSMTPWithHostName"><span class="annot"><span class="annottext">connectSMTPWithHostName :: [Char] -&gt; PortNumber -&gt; IO [Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPWithHostName"><span class="hs-identifier hs-var hs-var">connectSMTPWithHostName</span></a></span></span><span> </span><span id="local-6989586621679085395"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085395"><span class="hs-identifier hs-var">hostname</span></a></span></span><span> </span><span id="local-6989586621679085396"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085396"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679085397"><span class="annot"><span class="annottext">IO [Char]
</span><a href="#local-6989586621679085397"><span class="hs-identifier hs-var">getMailHostName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-136"></span><span>    </span><span class="annot"><span class="annottext">[Char]
-&gt; PortNumber
-&gt; IO [Char]
-&gt; Maybe TLSSettings
-&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPWithHostNameAndTlsSettings"><span class="hs-identifier hs-var">connectSMTPWithHostNameAndTlsSettings</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085395"><span class="hs-identifier hs-var">hostname</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085396"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">IO [Char]
</span><a href="#local-6989586621679085397"><span class="hs-identifier hs-var">getMailHostName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe TLSSettings
forall a. Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server with the specified host and port and maybe via TLS</span></span><span>
</span><span id="line-139"></span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTPWithHostNameAndTlsSettings"><span class="hs-identifier hs-type">connectSMTPWithHostNameAndTlsSettings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ name of the server</span></span><span>
</span><span id="line-140"></span><span>                                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ port number</span></span><span>
</span><span id="line-141"></span><span>                                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Returns the host name to use to send from</span></span><span>
</span><span id="line-142"></span><span>                                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Conn.TLSSettings</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ optional TLS parameters</span></span><span>
</span><span id="line-143"></span><span>                                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span>
</span><span id="line-144"></span><span id="connectSMTPWithHostNameAndTlsSettings"><span class="annot"><span class="annottext">connectSMTPWithHostNameAndTlsSettings :: [Char]
-&gt; PortNumber
-&gt; IO [Char]
-&gt; Maybe TLSSettings
-&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPWithHostNameAndTlsSettings"><span class="hs-identifier hs-var hs-var">connectSMTPWithHostNameAndTlsSettings</span></a></span></span><span> </span><span id="local-6989586621679085398"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085398"><span class="hs-identifier hs-var">hostname</span></a></span></span><span> </span><span id="local-6989586621679085399"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085399"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679085400"><span class="annot"><span class="annottext">IO [Char]
</span><a href="#local-6989586621679085400"><span class="hs-identifier hs-var">getMailHostName</span></a></span></span><span> </span><span id="local-6989586621679085401"><span class="annot"><span class="annottext">Maybe TLSSettings
</span><a href="#local-6989586621679085401"><span class="hs-identifier hs-var">tlsSettings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-145"></span><span>    </span><span id="local-6989586621679085402"><span class="annot"><span class="annottext">ConnectionContext
</span><a href="#local-6989586621679085402"><span class="hs-identifier hs-var">context</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO ConnectionContext
</span><span class="hs-identifier hs-var">Conn.initConnectionContext</span></span><span>
</span><span id="line-146"></span><span>    </span><span class="annot"><span class="annottext">ConnectionContext -&gt; ConnectionParams -&gt; IO Connection
</span><span class="hs-identifier hs-var">Conn.connectTo</span></span><span> </span><span class="annot"><span class="annottext">ConnectionContext
</span><a href="#local-6989586621679085402"><span class="hs-identifier hs-var">context</span></a></span><span> </span><span class="annot"><span class="annottext">ConnectionParams
</span><a href="#local-6989586621679085405"><span class="hs-identifier hs-var">connParams</span></a></span><span> </span><span class="annot"><span class="annottext">IO Connection
-&gt; (Connection -&gt; IO SMTPConnection) -&gt; IO SMTPConnection
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">IO [Char] -&gt; Connection -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectStream"><span class="hs-identifier hs-var">connectStream</span></a></span><span> </span><span class="annot"><span class="annottext">IO [Char]
</span><a href="#local-6989586621679085400"><span class="hs-identifier hs-var">getMailHostName</span></a></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-148"></span><span>    </span><span id="local-6989586621679085405"><span class="annot"><span class="annottext">connParams :: ConnectionParams
</span><a href="#local-6989586621679085405"><span class="hs-identifier hs-var hs-var">connParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
-&gt; PortNumber
-&gt; Maybe TLSSettings
-&gt; Maybe ProxySettings
-&gt; ConnectionParams
</span><span class="hs-identifier hs-var">Conn.ConnectionParams</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085398"><span class="hs-identifier hs-var">hostname</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085399"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe TLSSettings
</span><a href="#local-6989586621679085401"><span class="hs-identifier hs-var">tlsSettings</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ProxySettings
forall a. Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-149"></span><span>     </span><span>
</span><span id="line-150"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server with the specified host and port using STARTTLS</span></span><span>
</span><span id="line-151"></span><span class="annot"><a href="Network.Mail.SMTP.html#connectSMTPWithHostNameAndTlsSettingsSTARTTLS"><span class="hs-identifier hs-type">connectSMTPWithHostNameAndTlsSettingsSTARTTLS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ name of the server</span></span><span>
</span><span id="line-152"></span><span>                                              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ port number</span></span><span>
</span><span id="line-153"></span><span>                                              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Returns the host name to use to send from</span></span><span>
</span><span id="line-154"></span><span>                                              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Conn.TLSSettings</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ TLS parameters</span></span><span>
</span><span id="line-155"></span><span>                                              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span>
</span><span id="line-156"></span><span id="connectSMTPWithHostNameAndTlsSettingsSTARTTLS"><span class="annot"><span class="annottext">connectSMTPWithHostNameAndTlsSettingsSTARTTLS :: [Char]
-&gt; PortNumber -&gt; IO [Char] -&gt; TLSSettings -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPWithHostNameAndTlsSettingsSTARTTLS"><span class="hs-identifier hs-var hs-var">connectSMTPWithHostNameAndTlsSettingsSTARTTLS</span></a></span></span><span> </span><span id="local-6989586621679085408"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085408"><span class="hs-identifier hs-var">hostname</span></a></span></span><span> </span><span id="local-6989586621679085409"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085409"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679085410"><span class="annot"><span class="annottext">IO [Char]
</span><a href="#local-6989586621679085410"><span class="hs-identifier hs-var">getMailHostName</span></a></span></span><span> </span><span id="local-6989586621679085411"><span class="annot"><span class="annottext">TLSSettings
</span><a href="#local-6989586621679085411"><span class="hs-identifier hs-var">tlsSettings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-157"></span><span>     </span><span id="local-6989586621679085412"><span class="annot"><span class="annottext">ConnectionContext
</span><a href="#local-6989586621679085412"><span class="hs-identifier hs-var">context</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO ConnectionContext
</span><span class="hs-identifier hs-var">Conn.initConnectionContext</span></span><span>
</span><span id="line-158"></span><span>     </span><span class="annot"><span class="annottext">ConnectionContext -&gt; ConnectionParams -&gt; IO Connection
</span><span class="hs-identifier hs-var">Conn.connectTo</span></span><span> </span><span class="annot"><span class="annottext">ConnectionContext
</span><a href="#local-6989586621679085412"><span class="hs-identifier hs-var">context</span></a></span><span> </span><span class="annot"><span class="annottext">ConnectionParams
</span><a href="#local-6989586621679085413"><span class="hs-identifier hs-var">connParams</span></a></span><span> </span><span class="annot"><span class="annottext">IO Connection
-&gt; (Connection -&gt; IO SMTPConnection) -&gt; IO SMTPConnection
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">IO [Char]
-&gt; ConnectionContext
-&gt; TLSSettings
-&gt; Connection
-&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectStreamSTARTTLS"><span class="hs-identifier hs-var">connectStreamSTARTTLS</span></a></span><span> </span><span class="annot"><span class="annottext">IO [Char]
</span><a href="#local-6989586621679085410"><span class="hs-identifier hs-var">getMailHostName</span></a></span><span> </span><span class="annot"><span class="annottext">ConnectionContext
</span><a href="#local-6989586621679085412"><span class="hs-identifier hs-var">context</span></a></span><span> </span><span class="annot"><span class="annottext">TLSSettings
</span><a href="#local-6989586621679085411"><span class="hs-identifier hs-var">tlsSettings</span></a></span><span>
</span><span id="line-159"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span>
</span><span id="line-160"></span><span>     </span><span id="local-6989586621679085413"><span class="annot"><span class="annottext">connParams :: ConnectionParams
</span><a href="#local-6989586621679085413"><span class="hs-identifier hs-var hs-var">connParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
-&gt; PortNumber
-&gt; Maybe TLSSettings
-&gt; Maybe ProxySettings
-&gt; ConnectionParams
</span><span class="hs-identifier hs-var">Conn.ConnectionParams</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085408"><span class="hs-identifier hs-var">hostname</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085409"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe TLSSettings
forall a. Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ProxySettings
forall a. Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="annot"><span class="hs-comment">-- | Attemp to send a 'Command' to the SMTP server once</span></span><span>
</span><span id="line-163"></span><span class="annot"><a href="Network.Mail.SMTP.html#tryOnce"><span class="hs-identifier hs-type">tryOnce</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Types.html#Command"><span class="hs-identifier hs-type">Command</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Types.html#ReplyCode"><span class="hs-identifier hs-type">ReplyCode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-164"></span><span id="tryOnce"><span class="annot"><span class="annottext">tryOnce :: SMTPConnection -&gt; Command -&gt; ReplyCode -&gt; IO ByteString
</span><a href="Network.Mail.SMTP.html#tryOnce"><span class="hs-identifier hs-var hs-var">tryOnce</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ReplyCode
-&gt; SMTPConnection -&gt; Command -&gt; ReplyCode -&gt; IO ByteString
</span><a href="Network.Mail.SMTP.html#tryCommand"><span class="hs-identifier hs-var">tryCommand</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">1</span></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="annot"><span class="hs-comment">-- | Repeatedly attempt to send a 'Command' to the SMTP server</span></span><span>
</span><span id="line-167"></span><span class="annot"><a href="Network.Mail.SMTP.html#tryCommand"><span class="hs-identifier hs-type">tryCommand</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Types.html#Command"><span class="hs-identifier hs-type">Command</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Types.html#ReplyCode"><span class="hs-identifier hs-type">ReplyCode</span></a></span><span>
</span><span id="line-168"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-169"></span><span id="tryCommand"><span class="annot"><span class="annottext">tryCommand :: ReplyCode
-&gt; SMTPConnection -&gt; Command -&gt; ReplyCode -&gt; IO ByteString
</span><a href="Network.Mail.SMTP.html#tryCommand"><span class="hs-identifier hs-var hs-var">tryCommand</span></a></span></span><span> </span><span id="local-6989586621679085417"><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085417"><span class="hs-identifier hs-var">tries</span></a></span></span><span> </span><span id="local-6989586621679085418"><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085418"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span id="local-6989586621679085419"><span class="annot"><span class="annottext">Command
</span><a href="#local-6989586621679085419"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span id="local-6989586621679085420"><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085420"><span class="hs-identifier hs-var">expectedReply</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679085421"><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085421"><span class="hs-identifier hs-var">code</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085422"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085422"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReplyCode
-&gt; SMTPConnection
-&gt; Command
-&gt; ReplyCode
-&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#tryCommandNoFail"><span class="hs-identifier hs-var">tryCommandNoFail</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085417"><span class="hs-identifier hs-var">tries</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085418"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Command
</span><a href="#local-6989586621679085419"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085420"><span class="hs-identifier hs-var">expectedReply</span></a></span><span>
</span><span id="line-171"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085421"><span class="hs-identifier hs-var">code</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode -&gt; ReplyCode -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085420"><span class="hs-identifier hs-var">expectedReply</span></a></span><span>
</span><span id="line-172"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ByteString
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085422"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-173"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-174"></span><span>        </span><span class="annot"><span class="annottext">SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#closeSMTP"><span class="hs-identifier hs-var">closeSMTP</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085418"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-175"></span><span>        </span><span class="annot"><span class="annottext">[Char] -&gt; IO ByteString
forall a. [Char] -&gt; IO a
forall (m :: * -&gt; *) a. MonadFail m =&gt; [Char] -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.Fail.html#fail"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; IO ByteString) -&gt; [Char] -&gt; IO ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Unexpected reply to: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Command -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Command
</span><a href="#local-6989586621679085419"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-176"></span><span>          </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;, Expected reply code: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085420"><span class="hs-identifier hs-var">expectedReply</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-177"></span><span>          </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;, Got this instead: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085421"><span class="hs-identifier hs-var">code</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085422"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="annot"><a href="Network.Mail.SMTP.html#tryCommandNoFail"><span class="hs-identifier hs-type">tryCommandNoFail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Types.html#Command"><span class="hs-identifier hs-type">Command</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Types.html#ReplyCode"><span class="hs-identifier hs-type">ReplyCode</span></a></span><span>
</span><span id="line-180"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#ReplyCode"><span class="hs-identifier hs-type">ReplyCode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span id="tryCommandNoFail"><span class="annot"><span class="annottext">tryCommandNoFail :: ReplyCode
-&gt; SMTPConnection
-&gt; Command
-&gt; ReplyCode
-&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#tryCommandNoFail"><span class="hs-identifier hs-var hs-var">tryCommandNoFail</span></a></span></span><span> </span><span id="local-6989586621679085425"><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085425"><span class="hs-identifier hs-var">tries</span></a></span></span><span> </span><span id="local-6989586621679085426"><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085426"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span id="local-6989586621679085427"><span class="annot"><span class="annottext">Command
</span><a href="#local-6989586621679085427"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span id="local-6989586621679085428"><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085428"><span class="hs-identifier hs-var">expectedReply</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679085429"><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085429"><span class="hs-identifier hs-var">code</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085430"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085430"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SMTPConnection -&gt; Command -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#sendCommand"><span class="hs-identifier hs-var">sendCommand</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085426"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Command
</span><a href="#local-6989586621679085427"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085429"><span class="hs-identifier hs-var">code</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode -&gt; ReplyCode -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085428"><span class="hs-identifier hs-var">expectedReply</span></a></span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">(ReplyCode, ByteString) -&gt; IO (ReplyCode, ByteString)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085429"><span class="hs-identifier hs-var">code</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085430"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085425"><span class="hs-identifier hs-var">tries</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode -&gt; ReplyCode -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3E"><span class="hs-operator hs-var">&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">1</span></span><span>
</span><span id="line-186"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ReplyCode
-&gt; SMTPConnection
-&gt; Command
-&gt; ReplyCode
-&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#tryCommandNoFail"><span class="hs-identifier hs-var">tryCommandNoFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085425"><span class="hs-identifier hs-var">tries</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode -&gt; ReplyCode -&gt; ReplyCode
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085426"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Command
</span><a href="#local-6989586621679085427"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085428"><span class="hs-identifier hs-var">expectedReply</span></a></span><span>
</span><span id="line-187"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">(ReplyCode, ByteString) -&gt; IO (ReplyCode, ByteString)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085429"><span class="hs-identifier hs-var">code</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085430"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="annot"><span class="hs-comment">-- | Create an 'SMTPConnection' from an already connected Handle</span></span><span>
</span><span id="line-190"></span><span class="annot"><a href="Network.Mail.SMTP.html#connectStream"><span class="hs-identifier hs-type">connectStream</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Conn.Connection</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span>
</span><span id="line-191"></span><span id="connectStream"><span class="annot"><span class="annottext">connectStream :: IO [Char] -&gt; Connection -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectStream"><span class="hs-identifier hs-var hs-var">connectStream</span></a></span></span><span> </span><span id="local-6989586621679085432"><span class="annot"><span class="annottext">IO [Char]
</span><a href="#local-6989586621679085432"><span class="hs-identifier hs-var">getMailHostName</span></a></span></span><span> </span><span id="local-6989586621679085433"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085433"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-192"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679085434"><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085434"><span class="hs-identifier hs-var">code1</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#parseResponse"><span class="hs-identifier hs-var">parseResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085433"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-193"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085434"><span class="hs-identifier hs-var">code1</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode -&gt; ReplyCode -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">220</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-194"></span><span>        </span><span class="annot"><span class="annottext">Connection -&gt; IO ()
</span><span class="hs-identifier hs-var">Conn.connectionClose</span></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085433"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-195"></span><span>        </span><span class="annot"><span class="annottext">[Char] -&gt; IO ()
forall a. [Char] -&gt; IO a
forall (m :: * -&gt; *) a. MonadFail m =&gt; [Char] -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.Fail.html#fail"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;cannot connect to the server&quot;</span></span><span>
</span><span id="line-196"></span><span>    </span><span id="local-6989586621679085437"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085437"><span class="hs-identifier hs-var">senderHost</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO [Char]
</span><a href="#local-6989586621679085432"><span class="hs-identifier hs-var">getMailHostName</span></a></span><span>
</span><span id="line-197"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679085438"><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085438"><span class="hs-identifier hs-var">code</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085439"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085439"><span class="hs-identifier hs-var">initialMsg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReplyCode
-&gt; SMTPConnection
-&gt; Command
-&gt; ReplyCode
-&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#tryCommandNoFail"><span class="hs-identifier hs-var">tryCommandNoFail</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Connection -&gt; [ByteString] -&gt; SMTPConnection
</span><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-var">SMTPC</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085433"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Command
</span><a href="Network.Mail.SMTP.Types.html#EHLO"><span class="hs-identifier hs-var">EHLO</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Command) -&gt; ByteString -&gt; Command
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#pack"><span class="hs-identifier hs-var">B8.pack</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085437"><span class="hs-identifier hs-var">senderHost</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">250</span></span><span>
</span><span id="line-198"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085438"><span class="hs-identifier hs-var">code</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode -&gt; ReplyCode -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">250</span></span><span>
</span><span id="line-199"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SMTPConnection -&gt; IO SMTPConnection
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Connection -&gt; [ByteString] -&gt; SMTPConnection
</span><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-var">SMTPC</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085433"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ByteString] -&gt; [ByteString]
forall a. HasCallStack =&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#tail"><span class="hs-identifier hs-var">tail</span></a></span><span> </span><span class="annot"><span class="annottext">([ByteString] -&gt; [ByteString]) -&gt; [ByteString] -&gt; [ByteString]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#lines"><span class="hs-identifier hs-var">B8.lines</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085439"><span class="hs-identifier hs-var">initialMsg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-comment">-- EHLO failed, try HELO</span><span>
</span><span id="line-201"></span><span>        </span><span id="local-6989586621679085444"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085444"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReplyCode
-&gt; SMTPConnection -&gt; Command -&gt; ReplyCode -&gt; IO ByteString
</span><a href="Network.Mail.SMTP.html#tryCommand"><span class="hs-identifier hs-var">tryCommand</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Connection -&gt; [ByteString] -&gt; SMTPConnection
</span><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-var">SMTPC</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085433"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Command
</span><a href="Network.Mail.SMTP.Types.html#HELO"><span class="hs-identifier hs-var">HELO</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Command) -&gt; ByteString -&gt; Command
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#pack"><span class="hs-identifier hs-var">B8.pack</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085437"><span class="hs-identifier hs-var">senderHost</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">250</span></span><span>
</span><span id="line-202"></span><span>        </span><span class="annot"><span class="annottext">SMTPConnection -&gt; IO SMTPConnection
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Connection -&gt; [ByteString] -&gt; SMTPConnection
</span><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-var">SMTPC</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085433"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ByteString] -&gt; [ByteString]
forall a. HasCallStack =&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#tail"><span class="hs-identifier hs-var">tail</span></a></span><span> </span><span class="annot"><span class="annottext">([ByteString] -&gt; [ByteString]) -&gt; [ByteString] -&gt; [ByteString]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#lines"><span class="hs-identifier hs-var">B8.lines</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085444"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="annot"><span class="hs-comment">-- | Create an 'SMTPConnection' from an already connected Handle using STARTTLS</span></span><span>
</span><span id="line-205"></span><span class="annot"><a href="Network.Mail.SMTP.html#connectStreamSTARTTLS"><span class="hs-identifier hs-type">connectStreamSTARTTLS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Conn.ConnectionContext</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Conn.TLSSettings</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Conn.Connection</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span>
</span><span id="line-206"></span><span id="connectStreamSTARTTLS"><span class="annot"><span class="annottext">connectStreamSTARTTLS :: IO [Char]
-&gt; ConnectionContext
-&gt; TLSSettings
-&gt; Connection
-&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectStreamSTARTTLS"><span class="hs-identifier hs-var hs-var">connectStreamSTARTTLS</span></a></span></span><span> </span><span id="local-6989586621679085446"><span class="annot"><span class="annottext">IO [Char]
</span><a href="#local-6989586621679085446"><span class="hs-identifier hs-var">getMailHostName</span></a></span></span><span> </span><span id="local-6989586621679085447"><span class="annot"><span class="annottext">ConnectionContext
</span><a href="#local-6989586621679085447"><span class="hs-identifier hs-var">context</span></a></span></span><span> </span><span id="local-6989586621679085448"><span class="annot"><span class="annottext">TLSSettings
</span><a href="#local-6989586621679085448"><span class="hs-identifier hs-var">tlsSettings</span></a></span></span><span> </span><span id="local-6989586621679085449"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085449"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679085450"><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085450"><span class="hs-identifier hs-var">code1</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#parseResponse"><span class="hs-identifier hs-var">parseResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085449"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-208"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085450"><span class="hs-identifier hs-var">code1</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode -&gt; ReplyCode -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">220</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-209"></span><span>        </span><span class="annot"><span class="annottext">Connection -&gt; IO ()
</span><span class="hs-identifier hs-var">Conn.connectionClose</span></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085449"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-210"></span><span>        </span><span class="annot"><span class="annottext">[Char] -&gt; IO ()
forall a. [Char] -&gt; IO a
forall (m :: * -&gt; *) a. MonadFail m =&gt; [Char] -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.Fail.html#fail"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;cannot connect to the server&quot;</span></span><span>
</span><span id="line-211"></span><span>    </span><span id="local-6989586621679085451"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085451"><span class="hs-identifier hs-var">senderHost</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO [Char]
</span><a href="#local-6989586621679085446"><span class="hs-identifier hs-var">getMailHostName</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReplyCode
-&gt; SMTPConnection -&gt; Command -&gt; ReplyCode -&gt; IO ByteString
</span><a href="Network.Mail.SMTP.html#tryCommand"><span class="hs-identifier hs-var">tryCommand</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Connection -&gt; [ByteString] -&gt; SMTPConnection
</span><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-var">SMTPC</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085449"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Command
</span><a href="Network.Mail.SMTP.Types.html#EHLO"><span class="hs-identifier hs-var">EHLO</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Command) -&gt; ByteString -&gt; Command
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#pack"><span class="hs-identifier hs-var">B8.pack</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085451"><span class="hs-identifier hs-var">senderHost</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">250</span></span><span>
</span><span id="line-213"></span><span>    </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReplyCode
-&gt; SMTPConnection -&gt; Command -&gt; ReplyCode -&gt; IO ByteString
</span><a href="Network.Mail.SMTP.html#tryCommand"><span class="hs-identifier hs-var">tryCommand</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Connection -&gt; [ByteString] -&gt; SMTPConnection
</span><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-var">SMTPC</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085449"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Command
</span><a href="Network.Mail.SMTP.Types.html#STARTTLS"><span class="hs-identifier hs-var">STARTTLS</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">220</span></span><span>
</span><span id="line-214"></span><span>    </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ConnectionContext -&gt; Connection -&gt; TLSSettings -&gt; IO ()
</span><span class="hs-identifier hs-var">Conn.connectionSetSecure</span></span><span> </span><span class="annot"><span class="annottext">ConnectionContext
</span><a href="#local-6989586621679085447"><span class="hs-identifier hs-var">context</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085449"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">TLSSettings
</span><a href="#local-6989586621679085448"><span class="hs-identifier hs-var">tlsSettings</span></a></span><span>
</span><span id="line-215"></span><span>    </span><span id="local-6989586621679085454"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085454"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReplyCode
-&gt; SMTPConnection -&gt; Command -&gt; ReplyCode -&gt; IO ByteString
</span><a href="Network.Mail.SMTP.html#tryCommand"><span class="hs-identifier hs-var">tryCommand</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Connection -&gt; [ByteString] -&gt; SMTPConnection
</span><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-var">SMTPC</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085449"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Command
</span><a href="Network.Mail.SMTP.Types.html#EHLO"><span class="hs-identifier hs-var">EHLO</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Command) -&gt; ByteString -&gt; Command
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#pack"><span class="hs-identifier hs-var">B8.pack</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085451"><span class="hs-identifier hs-var">senderHost</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">250</span></span><span>
</span><span id="line-216"></span><span>    </span><span class="annot"><span class="annottext">SMTPConnection -&gt; IO SMTPConnection
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Connection -&gt; [ByteString] -&gt; SMTPConnection
</span><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-var">SMTPC</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085449"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ByteString] -&gt; [ByteString]
forall a. HasCallStack =&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#tail"><span class="hs-identifier hs-var">tail</span></a></span><span> </span><span class="annot"><span class="annottext">([ByteString] -&gt; [ByteString]) -&gt; [ByteString] -&gt; [ByteString]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#lines"><span class="hs-identifier hs-var">B8.lines</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085454"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="annot"><a href="Network.Mail.SMTP.html#parseResponse"><span class="hs-identifier hs-type">parseResponse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Conn.Connection</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#ReplyCode"><span class="hs-identifier hs-type">ReplyCode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span id="parseResponse"><span class="annot"><span class="annottext">parseResponse :: Connection -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#parseResponse"><span class="hs-identifier hs-var hs-var">parseResponse</span></a></span></span><span> </span><span id="local-6989586621679085455"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085455"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-220"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679085456"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085456"><span class="hs-identifier hs-var">code</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085457"><span class="annot"><span class="annottext">[ByteString]
</span><a href="#local-6989586621679085457"><span class="hs-identifier hs-var">bdy</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (ByteString, [ByteString])
</span><a href="#local-6989586621679085458"><span class="hs-identifier hs-var">readLines</span></a></span><span>
</span><span id="line-221"></span><span>    </span><span class="annot"><span class="annottext">(ReplyCode, ByteString) -&gt; IO (ReplyCode, ByteString)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; ReplyCode
forall a. Read a =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Text.Read.html#read"><span class="hs-identifier hs-var">read</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ReplyCode) -&gt; [Char] -&gt; ReplyCode
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#unpack"><span class="hs-identifier hs-var">B8.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085456"><span class="hs-identifier hs-var">code</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[ByteString] -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#unlines"><span class="hs-identifier hs-var">B8.unlines</span></a></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><a href="#local-6989586621679085457"><span class="hs-identifier hs-var">bdy</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-223"></span><span>    </span><span id="local-6989586621679085458"><span class="annot"><span class="annottext">readLines :: IO (ByteString, [ByteString])
</span><a href="#local-6989586621679085458"><span class="hs-identifier hs-var hs-var">readLines</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-224"></span><span>      </span><span id="local-6989586621679085471"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085471"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReplyCode -&gt; Connection -&gt; IO ByteString
</span><span class="hs-identifier hs-var">Conn.connectionGetLine</span></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">1000</span></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085455"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-225"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679085473"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085473"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085474"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085474"><span class="hs-identifier hs-var">bdy</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; ByteString -&gt; (ByteString, ByteString)
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#span"><span class="hs-identifier hs-var">B8.span</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Unicode.html#isDigit"><span class="hs-identifier hs-var">isDigit</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085471"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-226"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#not"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#null"><span class="hs-identifier hs-var">B8.null</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085474"><span class="hs-identifier hs-var">bdy</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%26%26"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Char
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#head"><span class="hs-identifier hs-var">B8.head</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085474"><span class="hs-identifier hs-var">bdy</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span>
</span><span id="line-227"></span><span>         </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679085480"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085480"><span class="hs-identifier hs-var">c2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085481"><span class="annot"><span class="annottext">[ByteString]
</span><a href="#local-6989586621679085481"><span class="hs-identifier hs-var">ls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (ByteString, [ByteString])
</span><a href="#local-6989586621679085458"><span class="hs-identifier hs-var">readLines</span></a></span><span>
</span><span id="line-228"></span><span>                 </span><span class="annot"><span class="annottext">(ByteString, [ByteString]) -&gt; IO (ByteString, [ByteString])
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085480"><span class="hs-identifier hs-var">c2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; ByteString -&gt; ByteString
ByteString -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#tail"><span class="hs-identifier hs-var">B8.tail</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085474"><span class="hs-identifier hs-var">bdy</span></a></span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span class="annot"><span class="annottext">[ByteString]
</span><a href="#local-6989586621679085481"><span class="hs-identifier hs-var">ls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>         </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">(ByteString, [ByteString]) -&gt; IO (ByteString, [ByteString])
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085473"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HasCallStack =&gt; ByteString -&gt; ByteString
ByteString -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#tail"><span class="hs-identifier hs-var">B8.tail</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085474"><span class="hs-identifier hs-var">bdy</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="annot"><span class="hs-comment">-- | Send a 'Command' to the SMTP server</span></span><span>
</span><span id="line-233"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendCommand"><span class="hs-identifier hs-type">sendCommand</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Types.html#Command"><span class="hs-identifier hs-type">Command</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#ReplyCode"><span class="hs-identifier hs-type">ReplyCode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span id="sendCommand"><span class="annot"><span class="annottext">sendCommand :: SMTPConnection -&gt; Command -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#sendCommand"><span class="hs-identifier hs-var hs-var">sendCommand</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-type">SMTPC</span></a></span><span> </span><span id="local-6989586621679085483"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085483"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#DATA"><span class="hs-identifier hs-type">DATA</span></a></span><span> </span><span id="local-6989586621679085485"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085485"><span class="hs-identifier hs-var">dat</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-236"></span><span>    </span><span class="annot"><span class="annottext">Connection -&gt; ByteString -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#bsPutCrLf"><span class="hs-identifier hs-var">bsPutCrLf</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085483"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;DATA&quot;</span></span><span>
</span><span id="line-237"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679085487"><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085487"><span class="hs-identifier hs-var">code</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#parseResponse"><span class="hs-identifier hs-var">parseResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085483"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-238"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085487"><span class="hs-identifier hs-var">code</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode -&gt; ReplyCode -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">354</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO ()
forall a. [Char] -&gt; IO a
forall (m :: * -&gt; *) a. MonadFail m =&gt; [Char] -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.Fail.html#fail"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;this server cannot accept any data.&quot;</span></span><span>
</span><span id="line-239"></span><span>    </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; [ByteString] -&gt; IO ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#mapM_"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="#local-6989586621679085489"><span class="hs-identifier hs-var">sendLine</span></a></span><span> </span><span class="annot"><span class="annottext">([ByteString] -&gt; IO ()) -&gt; [ByteString] -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString]
</span><a href="#local-6989586621679085490"><span class="hs-identifier hs-var">split</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085485"><span class="hs-identifier hs-var">dat</span></a></span><span>
</span><span id="line-240"></span><span>    </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="#local-6989586621679085489"><span class="hs-identifier hs-var">sendLine</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085491"><span class="hs-identifier hs-var">dot</span></a></span><span>
</span><span id="line-241"></span><span>    </span><span class="annot"><span class="annottext">Connection -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#parseResponse"><span class="hs-identifier hs-var">parseResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085483"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-242"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-243"></span><span>    </span><span id="local-6989586621679085489"><span class="annot"><span class="annottext">sendLine :: ByteString -&gt; IO ()
</span><a href="#local-6989586621679085489"><span class="hs-identifier hs-var hs-var">sendLine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; ByteString -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#bsPutCrLf"><span class="hs-identifier hs-var">bsPutCrLf</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085483"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-244"></span><span>    </span><span id="local-6989586621679085490"><span class="annot"><span class="annottext">split :: ByteString -&gt; [ByteString]
</span><a href="#local-6989586621679085490"><span class="hs-identifier hs-var hs-var">split</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString) -&gt; [ByteString] -&gt; [ByteString]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="#local-6989586621679085492"><span class="hs-identifier hs-var">padDot</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (ByteString -&gt; ByteString) -&gt; ByteString -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="#local-6989586621679085494"><span class="hs-identifier hs-var">stripCR</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([ByteString] -&gt; [ByteString])
-&gt; (ByteString -&gt; [ByteString]) -&gt; ByteString -&gt; [ByteString]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#lines"><span class="hs-identifier hs-var">B8.lines</span></a></span><span>
</span><span id="line-245"></span><span>    </span><span class="hs-comment">-- remove \r at the end of a line</span><span>
</span><span id="line-246"></span><span>    </span><span id="local-6989586621679085494"><span class="annot"><span class="annottext">stripCR :: ByteString -&gt; ByteString
</span><a href="#local-6989586621679085494"><span class="hs-identifier hs-var hs-var">stripCR</span></a></span></span><span> </span><span id="local-6989586621679085497"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085497"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085498"><span class="hs-identifier hs-var">cr</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#isSuffixOf"><span class="hs-operator hs-var">`B8.isSuffixOf`</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085497"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; ByteString -&gt; ByteString
ByteString -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#init"><span class="hs-identifier hs-var">B8.init</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085497"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085497"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-247"></span><span>    </span><span class="hs-comment">-- duplicate . at the start of a line</span><span>
</span><span id="line-248"></span><span>    </span><span id="local-6989586621679085492"><span class="annot"><span class="annottext">padDot :: ByteString -&gt; ByteString
</span><a href="#local-6989586621679085492"><span class="hs-identifier hs-var hs-var">padDot</span></a></span></span><span> </span><span id="local-6989586621679085503"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085503"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085491"><span class="hs-identifier hs-var">dot</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#isPrefixOf"><span class="hs-operator hs-var">`B8.isPrefixOf`</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085503"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085491"><span class="hs-identifier hs-var">dot</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085503"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085503"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-249"></span><span>    </span><span id="local-6989586621679085498"><span class="annot"><span class="annottext">cr :: ByteString
</span><a href="#local-6989586621679085498"><span class="hs-identifier hs-var hs-var">cr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#pack"><span class="hs-identifier hs-var">B8.pack</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;\r&quot;</span></span><span>
</span><span id="line-250"></span><span>    </span><span id="local-6989586621679085491"><span class="annot"><span class="annottext">dot :: ByteString
</span><a href="#local-6989586621679085491"><span class="hs-identifier hs-var hs-var">dot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#pack"><span class="hs-identifier hs-var">B8.pack</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;.&quot;</span></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendCommand"><span class="hs-identifier hs-var">sendCommand</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-type">SMTPC</span></a></span><span> </span><span id="local-6989586621679085505"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085505"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#AUTH"><span class="hs-identifier hs-type">AUTH</span></a></span><span> </span><span class="annot"><span class="annottext">AuthType
</span><a href="Network.Mail.SMTP.Auth.html#LOGIN"><span class="hs-identifier hs-var">LOGIN</span></a></span><span> </span><span id="local-6989586621679085508"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085508"><span class="hs-identifier hs-var">username</span></a></span></span><span> </span><span id="local-6989586621679085509"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085509"><span class="hs-identifier hs-var">password</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-253"></span><span>    </span><span class="annot"><span class="annottext">Connection -&gt; ByteString -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#bsPutCrLf"><span class="hs-identifier hs-var">bsPutCrLf</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085505"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085510"><span class="hs-identifier hs-var">command</span></a></span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><span class="annottext">(ReplyCode, ByteString)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#parseResponse"><span class="hs-identifier hs-var">parseResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085505"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><span class="annottext">Connection -&gt; ByteString -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#bsPutCrLf"><span class="hs-identifier hs-var">bsPutCrLf</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085505"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085511"><span class="hs-identifier hs-var">userB64</span></a></span><span>
</span><span id="line-256"></span><span>    </span><span class="annot"><span class="annottext">(ReplyCode, ByteString)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#parseResponse"><span class="hs-identifier hs-var">parseResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085505"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-257"></span><span>    </span><span class="annot"><span class="annottext">Connection -&gt; ByteString -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#bsPutCrLf"><span class="hs-identifier hs-var">bsPutCrLf</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085505"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085512"><span class="hs-identifier hs-var">passB64</span></a></span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679085513"><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085513"><span class="hs-identifier hs-var">code</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085514"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085514"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#parseResponse"><span class="hs-identifier hs-var">parseResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085505"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-259"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085513"><span class="hs-identifier hs-var">code</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode -&gt; ReplyCode -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">235</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO ()
forall a. [Char] -&gt; IO a
forall (m :: * -&gt; *) a. MonadFail m =&gt; [Char] -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.Fail.html#fail"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;authentication failed.&quot;</span></span><span>
</span><span id="line-260"></span><span>    </span><span class="annot"><span class="annottext">(ReplyCode, ByteString) -&gt; IO (ReplyCode, ByteString)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085513"><span class="hs-identifier hs-var">code</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085514"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-262"></span><span>    </span><span id="local-6989586621679085510"><span class="annot"><span class="annottext">command :: ByteString
</span><a href="#local-6989586621679085510"><span class="hs-identifier hs-var hs-var">command</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;AUTH LOGIN&quot;</span></span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679085511"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085511"><span class="hs-identifier hs-var">userB64</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085512"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085512"><span class="hs-identifier hs-var">passB64</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; (ByteString, ByteString)
</span><a href="Network.Mail.SMTP.Auth.html#encodeLogin"><span class="hs-identifier hs-var">encodeLogin</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085508"><span class="hs-identifier hs-var">username</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085509"><span class="hs-identifier hs-var">password</span></a></span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendCommand"><span class="hs-identifier hs-var">sendCommand</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-type">SMTPC</span></a></span><span> </span><span id="local-6989586621679085517"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085517"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#AUTH"><span class="hs-identifier hs-type">AUTH</span></a></span><span> </span><span class="annot"><span class="annottext">AuthType
</span><a href="Network.Mail.SMTP.Auth.html#LOGIN_OAUTH"><span class="hs-identifier hs-var">LOGIN_OAUTH</span></a></span><span> </span><span id="local-6989586621679085519"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085519"><span class="hs-identifier hs-var">username</span></a></span></span><span> </span><span id="local-6989586621679085520"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085520"><span class="hs-identifier hs-var">token</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-266"></span><span>    </span><span class="annot"><span class="annottext">Connection -&gt; ByteString -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#bsPutCrLf"><span class="hs-identifier hs-var">bsPutCrLf</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085517"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085521"><span class="hs-identifier hs-var">command</span></a></span><span>
</span><span id="line-267"></span><span>    </span><span class="annot"><span class="annottext">(ReplyCode, ByteString)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#parseResponse"><span class="hs-identifier hs-var">parseResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085517"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-268"></span><span>    </span><span class="annot"><span class="annottext">Connection -&gt; ByteString -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#bsPutCrLf"><span class="hs-identifier hs-var">bsPutCrLf</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085517"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085522"><span class="hs-identifier hs-var">tokenB64</span></a></span><span>
</span><span id="line-269"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679085523"><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085523"><span class="hs-identifier hs-var">code</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085524"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085524"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#parseResponse"><span class="hs-identifier hs-var">parseResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085517"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-270"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085523"><span class="hs-identifier hs-var">code</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode -&gt; ReplyCode -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">235</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO ()
forall a. [Char] -&gt; IO a
forall (m :: * -&gt; *) a. MonadFail m =&gt; [Char] -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.Fail.html#fail"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;authentication failed.&quot;</span></span><span>
</span><span id="line-271"></span><span>    </span><span class="annot"><span class="annottext">(ReplyCode, ByteString) -&gt; IO (ReplyCode, ByteString)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085523"><span class="hs-identifier hs-var">code</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085524"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-273"></span><span>    </span><span id="local-6989586621679085521"><span class="annot"><span class="annottext">command :: ByteString
</span><a href="#local-6989586621679085521"><span class="hs-identifier hs-var hs-var">command</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;AUTH XOAUTH2&quot;</span></span><span>
</span><span id="line-274"></span><span>    </span><span id="local-6989586621679085522"><span class="annot"><span class="annottext">tokenB64 :: ByteString
</span><a href="#local-6989586621679085522"><span class="hs-identifier hs-var hs-var">tokenB64</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; ByteString
</span><a href="Network.Mail.SMTP.Auth.html#encodeLoginOAuth"><span class="hs-identifier hs-var">encodeLoginOAuth</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085519"><span class="hs-identifier hs-var">username</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085520"><span class="hs-identifier hs-var">token</span></a></span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendCommand"><span class="hs-identifier hs-var">sendCommand</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-type">SMTPC</span></a></span><span> </span><span id="local-6989586621679085527"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085527"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#AUTH"><span class="hs-identifier hs-type">AUTH</span></a></span><span> </span><span id="local-6989586621679085528"><span class="annot"><span class="annottext">AuthType
</span><a href="#local-6989586621679085528"><span class="hs-identifier hs-var">at</span></a></span></span><span> </span><span id="local-6989586621679085529"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085529"><span class="hs-identifier hs-var">username</span></a></span></span><span> </span><span id="local-6989586621679085530"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085530"><span class="hs-identifier hs-var">password</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-277"></span><span>    </span><span class="annot"><span class="annottext">Connection -&gt; ByteString -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#bsPutCrLf"><span class="hs-identifier hs-var">bsPutCrLf</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085527"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085531"><span class="hs-identifier hs-var">command</span></a></span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679085532"><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085532"><span class="hs-identifier hs-var">code</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679085533"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085533"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#parseResponse"><span class="hs-identifier hs-var">parseResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085527"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-279"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReplyCode
</span><a href="#local-6989586621679085532"><span class="hs-identifier hs-var">code</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode -&gt; ReplyCode -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">334</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO ()
forall a. [Char] -&gt; IO a
forall (m :: * -&gt; *) a. MonadFail m =&gt; [Char] -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.Fail.html#fail"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;authentication failed.&quot;</span></span><span>
</span><span id="line-280"></span><span>    </span><span class="annot"><span class="annottext">Connection -&gt; ByteString -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#bsPutCrLf"><span class="hs-identifier hs-var">bsPutCrLf</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085527"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ()) -&gt; ByteString -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AuthType -&gt; [Char] -&gt; [Char] -&gt; [Char] -&gt; ByteString
</span><a href="Network.Mail.SMTP.Auth.html#auth"><span class="hs-identifier hs-var">auth</span></a></span><span> </span><span class="annot"><span class="annottext">AuthType
</span><a href="#local-6989586621679085528"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#unpack"><span class="hs-identifier hs-var">B8.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085533"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085529"><span class="hs-identifier hs-var">username</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085530"><span class="hs-identifier hs-var">password</span></a></span><span>
</span><span id="line-281"></span><span>    </span><span class="annot"><span class="annottext">Connection -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#parseResponse"><span class="hs-identifier hs-var">parseResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085527"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-282"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-283"></span><span>    </span><span id="local-6989586621679085531"><span class="annot"><span class="annottext">command :: ByteString
</span><a href="#local-6989586621679085531"><span class="hs-identifier hs-var hs-var">command</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#pack"><span class="hs-identifier hs-var">B8.pack</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ByteString) -&gt; [Char] -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.OldList.html#unwords"><span class="hs-identifier hs-var">unwords</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;AUTH&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AuthType -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">AuthType
</span><a href="#local-6989586621679085528"><span class="hs-identifier hs-var">at</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendCommand"><span class="hs-identifier hs-var">sendCommand</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-type">SMTPC</span></a></span><span> </span><span id="local-6989586621679085538"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085538"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679085539"><span class="annot"><span class="annottext">Command
</span><a href="#local-6989586621679085539"><span class="hs-identifier hs-var">meth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-286"></span><span>    </span><span class="annot"><span class="annottext">Connection -&gt; ByteString -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#bsPutCrLf"><span class="hs-identifier hs-var">bsPutCrLf</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085538"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085540"><span class="hs-identifier hs-var">command</span></a></span><span>
</span><span id="line-287"></span><span>    </span><span class="annot"><span class="annottext">Connection -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#parseResponse"><span class="hs-identifier hs-var">parseResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085538"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-288"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-289"></span><span>    </span><span id="local-6989586621679085540"><span class="annot"><span class="annottext">command :: ByteString
</span><a href="#local-6989586621679085540"><span class="hs-identifier hs-var hs-var">command</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Command
</span><a href="#local-6989586621679085539"><span class="hs-identifier hs-var">meth</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-290"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#HELO"><span class="hs-identifier hs-type">HELO</span></a></span><span> </span><span id="local-6989586621679085568"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085568"><span class="hs-identifier hs-var">param</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;HELO &quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085568"><span class="hs-identifier hs-var">param</span></a></span><span>
</span><span id="line-291"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#EHLO"><span class="hs-identifier hs-type">EHLO</span></a></span><span> </span><span id="local-6989586621679085569"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085569"><span class="hs-identifier hs-var">param</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;EHLO &quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085569"><span class="hs-identifier hs-var">param</span></a></span><span>
</span><span id="line-292"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#MAIL"><span class="hs-identifier hs-type">MAIL</span></a></span><span> </span><span id="local-6989586621679085571"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085571"><span class="hs-identifier hs-var">param</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;MAIL FROM:&lt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085571"><span class="hs-identifier hs-var">param</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&gt;&quot;</span></span><span>
</span><span id="line-293"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#RCPT"><span class="hs-identifier hs-type">RCPT</span></a></span><span> </span><span id="local-6989586621679085573"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085573"><span class="hs-identifier hs-var">param</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;RCPT TO:&lt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085573"><span class="hs-identifier hs-var">param</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&gt;&quot;</span></span><span>
</span><span id="line-294"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#EXPN"><span class="hs-identifier hs-type">EXPN</span></a></span><span> </span><span id="local-6989586621679085575"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085575"><span class="hs-identifier hs-var">param</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;EXPN &quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085575"><span class="hs-identifier hs-var">param</span></a></span><span>
</span><span id="line-295"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#VRFY"><span class="hs-identifier hs-type">VRFY</span></a></span><span> </span><span id="local-6989586621679085577"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085577"><span class="hs-identifier hs-var">param</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;VRFY &quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085577"><span class="hs-identifier hs-var">param</span></a></span><span>
</span><span id="line-296"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#HELP"><span class="hs-identifier hs-type">HELP</span></a></span><span> </span><span id="local-6989586621679085579"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085579"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#null"><span class="hs-identifier hs-var">B8.null</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085579"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-297"></span><span>                          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;HELP\r\n&quot;</span></span><span>
</span><span id="line-298"></span><span>                          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;HELP &quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085579"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-299"></span><span>        </span><span class="annot"><span class="annottext">Command
</span><a href="Network.Mail.SMTP.Types.html#NOOP"><span class="hs-identifier hs-var">NOOP</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;NOOP&quot;</span></span><span>
</span><span id="line-300"></span><span>        </span><span class="annot"><span class="annottext">Command
</span><a href="Network.Mail.SMTP.Types.html#RSET"><span class="hs-identifier hs-var">RSET</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;RSET&quot;</span></span><span>
</span><span id="line-301"></span><span>        </span><span class="annot"><span class="annottext">Command
</span><a href="Network.Mail.SMTP.Types.html#QUIT"><span class="hs-identifier hs-var">QUIT</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;QUIT&quot;</span></span><span>
</span><span id="line-302"></span><span>        </span><span class="annot"><span class="annottext">Command
</span><a href="Network.Mail.SMTP.Types.html#STARTTLS"><span class="hs-identifier hs-var">STARTTLS</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;STARTTLS&quot;</span></span><span>
</span><span id="line-303"></span><span>        </span><span class="annot"><a href="Network.Mail.SMTP.Types.html#DATA"><span class="hs-identifier hs-type">DATA</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-304"></span><span>            </span><span class="annot"><span class="annottext">[Char] -&gt; ByteString
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;BUG: DATA pattern should be matched by sendCommand patterns&quot;</span></span><span>
</span><span id="line-305"></span><span>        </span><span class="annot"><a href="Network.Mail.SMTP.Types.html#AUTH"><span class="hs-identifier hs-type">AUTH</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-306"></span><span>            </span><span class="annot"><span class="annottext">[Char] -&gt; ByteString
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;BUG: AUTH pattern should be matched by sendCommand patterns&quot;</span></span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span class="annot"><span class="hs-comment">-- | Send 'QUIT' and close the connection.</span></span><span>
</span><span id="line-310"></span><span class="annot"><a href="Network.Mail.SMTP.html#closeSMTP"><span class="hs-identifier hs-type">closeSMTP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span id="closeSMTP"><span class="annot"><span class="annottext">closeSMTP :: SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#closeSMTP"><span class="hs-identifier hs-var hs-var">closeSMTP</span></a></span></span><span> </span><span id="local-6989586621679085584"><span class="annot"><span class="annottext">c :: SMTPConnection
</span><a href="#local-6989586621679085584"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPC"><span class="hs-identifier hs-type">SMTPC</span></a></span><span> </span><span id="local-6989586621679085585"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085585"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTPConnection -&gt; Command -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#sendCommand"><span class="hs-identifier hs-var">sendCommand</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085584"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Command
</span><a href="Network.Mail.SMTP.Types.html#QUIT"><span class="hs-identifier hs-var">QUIT</span></a></span><span> </span><span class="annot"><span class="annottext">IO (ReplyCode, ByteString) -&gt; IO () -&gt; IO ()
forall a b. IO a -&gt; IO b -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO ()
</span><span class="hs-identifier hs-var">Conn.connectionClose</span></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085585"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span class="annot"><span class="hs-comment">-- | Sends a rendered mail to the server.</span></span><span>
</span><span id="line-314"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendRenderedMail"><span class="hs-identifier hs-type">sendRenderedMail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ sender mail</span></span><span>
</span><span id="line-315"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ receivers</span></span><span>
</span><span id="line-316"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ data</span></span><span>
</span><span id="line-317"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span>
</span><span id="line-318"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span id="sendRenderedMail"><span class="annot"><span class="annottext">sendRenderedMail :: ByteString -&gt; [ByteString] -&gt; ByteString -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendRenderedMail"><span class="hs-identifier hs-var hs-var">sendRenderedMail</span></a></span></span><span> </span><span id="local-6989586621679085587"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085587"><span class="hs-identifier hs-var">sender</span></a></span></span><span> </span><span id="local-6989586621679085588"><span class="annot"><span class="annottext">[ByteString]
</span><a href="#local-6989586621679085588"><span class="hs-identifier hs-var">receivers</span></a></span></span><span> </span><span id="local-6989586621679085589"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085589"><span class="hs-identifier hs-var">dat</span></a></span></span><span> </span><span id="local-6989586621679085590"><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085590"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-320"></span><span>    </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SMTPConnection -&gt; Command -&gt; ReplyCode -&gt; IO ByteString
</span><a href="Network.Mail.SMTP.html#tryOnce"><span class="hs-identifier hs-var">tryOnce</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085590"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Command
</span><a href="Network.Mail.SMTP.Types.html#MAIL"><span class="hs-identifier hs-var">MAIL</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085587"><span class="hs-identifier hs-var">sender</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">250</span></span><span>
</span><span id="line-321"></span><span>    </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ByteString) -&gt; [ByteString] -&gt; IO ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Foldable.html#mapM_"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679085591"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085591"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTPConnection -&gt; Command -&gt; ReplyCode -&gt; IO ByteString
</span><a href="Network.Mail.SMTP.html#tryOnce"><span class="hs-identifier hs-var">tryOnce</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085590"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Command
</span><a href="Network.Mail.SMTP.Types.html#RCPT"><span class="hs-identifier hs-var">RCPT</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085591"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">250</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><a href="#local-6989586621679085588"><span class="hs-identifier hs-var">receivers</span></a></span><span>
</span><span id="line-322"></span><span>    </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SMTPConnection -&gt; Command -&gt; ReplyCode -&gt; IO ByteString
</span><a href="Network.Mail.SMTP.html#tryOnce"><span class="hs-identifier hs-var">tryOnce</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085590"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Command
</span><a href="Network.Mail.SMTP.Types.html#DATA"><span class="hs-identifier hs-var">DATA</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085589"><span class="hs-identifier hs-var">dat</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ReplyCode
</span><span class="hs-number">250</span></span><span>
</span><span id="line-323"></span><span>    </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span class="hs-comment">-- | Render a 'Mail' to a 'ByteString' then send it over the specified</span><span>
</span><span id="line-326"></span><span class="hs-comment">-- 'SMTPConnection'</span><span>
</span><span id="line-327"></span><span class="annot"><a href="Network.Mail.SMTP.html#renderAndSend"><span class="hs-identifier hs-type">renderAndSend</span></a></span><span> </span><span class="hs-glyph">::</span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span id="renderAndSend"><span class="annot"><span class="annottext">renderAndSend :: SMTPConnection -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#renderAndSend"><span class="hs-identifier hs-var hs-var">renderAndSend</span></a></span></span><span> </span><span id="local-6989586621679085593"><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085593"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span id="local-6989586621679085594"><span class="annot"><span class="annottext">mail :: Mail
</span><a href="#local-6989586621679085594"><span class="hs-identifier hs-var">mail</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span class="hs-special">{</span><span id="local-6989586621679085595"><span id="local-6989586621679085596"><span id="local-6989586621679085597"><span id="local-6989586621679085598"><span id="local-6989586621679085599"><span id="local-6989586621679085600"><span class="annot"><span class="annottext">[Alternatives]
Headers
[Address]
Address
mailFrom :: Address
mailTo :: [Address]
mailCc :: [Address]
mailBcc :: [Address]
mailHeaders :: Headers
mailParts :: [Alternatives]
mailBcc :: Mail -&gt; [Address]
mailCc :: Mail -&gt; [Address]
mailFrom :: Mail -&gt; Address
mailHeaders :: Mail -&gt; Headers
mailParts :: Mail -&gt; [Alternatives]
mailTo :: Mail -&gt; [Address]
</span><a href="#local-6989586621679085595"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-329"></span><span>    </span><span id="local-6989586621679085607"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085607"><span class="hs-identifier hs-var">rendered</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="Network.Mail.SMTP.html#lazyToStrict"><span class="hs-identifier hs-var">lazyToStrict</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString) -&gt; IO ByteString -&gt; IO ByteString
forall a b. (a -&gt; b) -&gt; IO a -&gt; IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-operator hs-var">`fmap`</span></a></span><span> </span><span class="annot"><span class="annottext">Mail -&gt; IO ByteString
</span><span class="hs-identifier hs-var">renderMail'</span></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085594"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-330"></span><span>    </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; ByteString -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendRenderedMail"><span class="hs-identifier hs-var">sendRenderedMail</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085610"><span class="hs-identifier hs-var">from</span></a></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><a href="#local-6989586621679085611"><span class="hs-identifier hs-var">to</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085607"><span class="hs-identifier hs-var">rendered</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085593"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-331"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679085612"><span class="annot"><span class="annottext">enc :: Address -&gt; ByteString
</span><a href="#local-6989586621679085612"><span class="hs-identifier hs-var hs-var">enc</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Encoding.html#encodeUtf8"><span class="hs-identifier hs-var">encodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; ByteString) -&gt; (Address -&gt; Text) -&gt; Address -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Address -&gt; Text
</span><span class="hs-identifier hs-var">addressEmail</span></span><span>
</span><span id="line-332"></span><span>        </span><span id="local-6989586621679085610"><span class="annot"><span class="annottext">from :: ByteString
</span><a href="#local-6989586621679085610"><span class="hs-identifier hs-var hs-var">from</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Address -&gt; ByteString
</span><a href="#local-6989586621679085612"><span class="hs-identifier hs-var">enc</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679085595"><span class="hs-identifier hs-var">mailFrom</span></a></span><span>
</span><span id="line-333"></span><span>        </span><span id="local-6989586621679085611"><span class="annot"><span class="annottext">to :: [ByteString]
</span><a href="#local-6989586621679085611"><span class="hs-identifier hs-var hs-var">to</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Address -&gt; ByteString) -&gt; [Address] -&gt; [ByteString]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Address -&gt; ByteString
</span><a href="#local-6989586621679085612"><span class="hs-identifier hs-var">enc</span></a></span><span> </span><span class="annot"><span class="annottext">([Address] -&gt; [ByteString]) -&gt; [Address] -&gt; [ByteString]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Address]
</span><a href="#local-6989586621679085596"><span class="hs-identifier hs-var">mailTo</span></a></span><span> </span><span class="annot"><span class="annottext">[Address] -&gt; [Address] -&gt; [Address]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Address]
</span><a href="#local-6989586621679085597"><span class="hs-identifier hs-var">mailCc</span></a></span><span> </span><span class="annot"><span class="annottext">[Address] -&gt; [Address] -&gt; [Address]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Address]
</span><a href="#local-6989586621679085598"><span class="hs-identifier hs-var">mailBcc</span></a></span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailOnConnection"><span class="hs-identifier hs-type">sendMailOnConnection</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span id="sendMailOnConnection"><span class="annot"><span class="annottext">sendMailOnConnection :: Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailOnConnection"><span class="hs-identifier hs-var hs-var">sendMailOnConnection</span></a></span></span><span> </span><span id="local-6989586621679085616"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085616"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span id="local-6989586621679085617"><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085617"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-337"></span><span>  </span><span class="annot"><span class="annottext">SMTPConnection -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#renderAndSend"><span class="hs-identifier hs-var">renderAndSend</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085617"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085616"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-338"></span><span>  </span><span class="annot"><span class="annottext">SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#closeSMTP"><span class="hs-identifier hs-var">closeSMTP</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085617"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server, send a 'Mail', then disconnect. Uses the default port (25).</span></span><span>
</span><span id="line-341"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMail"><span class="hs-identifier hs-type">sendMail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span id="sendMail"><span class="annot"><span class="annottext">sendMail :: [Char] -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMail"><span class="hs-identifier hs-var hs-var">sendMail</span></a></span></span><span> </span><span id="local-6989586621679085618"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085618"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085619"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085619"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTP"><span class="hs-identifier hs-var">connectSMTP</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085618"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailOnConnection"><span class="hs-identifier hs-var">sendMailOnConnection</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085619"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server, send a 'Mail', then disconnect.</span></span><span>
</span><span id="line-345"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMail%27"><span class="hs-identifier hs-type">sendMail'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span id="sendMail%27"><span class="annot"><span class="annottext">sendMail' :: [Char] -&gt; PortNumber -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMail%27"><span class="hs-identifier hs-var hs-var">sendMail'</span></a></span></span><span> </span><span id="local-6989586621679085620"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085620"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085621"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085621"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679085622"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085622"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTP%27"><span class="hs-identifier hs-var">connectSMTP'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085620"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085621"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailOnConnection"><span class="hs-identifier hs-var">sendMailOnConnection</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085622"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server, login, send a 'Mail', disconnect. Uses the default port (25).</span></span><span>
</span><span id="line-349"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLogin"><span class="hs-identifier hs-type">sendMailWithLogin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#UserName"><span class="hs-identifier hs-type">UserName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#Password"><span class="hs-identifier hs-type">Password</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-350"></span><span id="sendMailWithLogin"><span class="annot"><span class="annottext">sendMailWithLogin :: [Char] -&gt; [Char] -&gt; [Char] -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLogin"><span class="hs-identifier hs-var hs-var">sendMailWithLogin</span></a></span></span><span> </span><span id="local-6989586621679085625"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085625"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085626"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085626"><span class="hs-identifier hs-var">user</span></a></span></span><span> </span><span id="local-6989586621679085627"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085627"><span class="hs-identifier hs-var">pass</span></a></span></span><span> </span><span id="local-6989586621679085628"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085628"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTP"><span class="hs-identifier hs-var">connectSMTP</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085625"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginIntern"><span class="hs-identifier hs-var">sendMailWithLoginIntern</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085626"><span class="hs-identifier hs-var">user</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085627"><span class="hs-identifier hs-var">pass</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085628"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server, login, send a 'Mail', disconnect.</span></span><span>
</span><span id="line-353"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLogin%27"><span class="hs-identifier hs-type">sendMailWithLogin'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#UserName"><span class="hs-identifier hs-type">UserName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#Password"><span class="hs-identifier hs-type">Password</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-354"></span><span id="sendMailWithLogin%27"><span class="annot"><span class="annottext">sendMailWithLogin' :: [Char] -&gt; PortNumber -&gt; [Char] -&gt; [Char] -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLogin%27"><span class="hs-identifier hs-var hs-var">sendMailWithLogin'</span></a></span></span><span> </span><span id="local-6989586621679085630"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085630"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085631"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085631"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679085632"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085632"><span class="hs-identifier hs-var">user</span></a></span></span><span> </span><span id="local-6989586621679085633"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085633"><span class="hs-identifier hs-var">pass</span></a></span></span><span> </span><span id="local-6989586621679085634"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085634"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTP%27"><span class="hs-identifier hs-var">connectSMTP'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085630"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085631"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginIntern"><span class="hs-identifier hs-var">sendMailWithLoginIntern</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085632"><span class="hs-identifier hs-var">user</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085633"><span class="hs-identifier hs-var">pass</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085634"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="annot"><span class="hs-comment">-- | Send a 'Mail' with a given sender.</span></span><span>
</span><span id="line-357"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithSender"><span class="hs-identifier hs-type">sendMailWithSender</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span id="sendMailWithSender"><span class="annot"><span class="annottext">sendMailWithSender :: ByteString -&gt; [Char] -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithSender"><span class="hs-identifier hs-var hs-var">sendMailWithSender</span></a></span></span><span> </span><span id="local-6989586621679085635"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085635"><span class="hs-identifier hs-var">sender</span></a></span></span><span> </span><span id="local-6989586621679085636"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085636"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085637"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085637"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTP"><span class="hs-identifier hs-var">connectSMTP</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085636"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithSenderIntern"><span class="hs-identifier hs-var">sendMailWithSenderIntern</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085635"><span class="hs-identifier hs-var">sender</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085637"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-359"></span><span>
</span><span id="line-360"></span><span class="annot"><span class="hs-comment">-- | Send a 'Mail' with a given sender.</span></span><span>
</span><span id="line-361"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithSender%27"><span class="hs-identifier hs-type">sendMailWithSender'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span id="sendMailWithSender%27"><span class="annot"><span class="annottext">sendMailWithSender' :: ByteString -&gt; [Char] -&gt; PortNumber -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithSender%27"><span class="hs-identifier hs-var hs-var">sendMailWithSender'</span></a></span></span><span> </span><span id="local-6989586621679085639"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085639"><span class="hs-identifier hs-var">sender</span></a></span></span><span> </span><span id="local-6989586621679085640"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085640"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085641"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085641"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679085642"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085642"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTP%27"><span class="hs-identifier hs-var">connectSMTP'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085640"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085641"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithSenderIntern"><span class="hs-identifier hs-var">sendMailWithSenderIntern</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085639"><span class="hs-identifier hs-var">sender</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085642"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server, send a 'Mail', then disconnect. Uses SMTPS with the default port (465).</span></span><span>
</span><span id="line-365"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailTLS"><span class="hs-identifier hs-type">sendMailTLS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-366"></span><span id="sendMailTLS"><span class="annot"><span class="annottext">sendMailTLS :: [Char] -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailTLS"><span class="hs-identifier hs-var hs-var">sendMailTLS</span></a></span></span><span> </span><span id="local-6989586621679085643"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085643"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085644"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085644"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPS"><span class="hs-identifier hs-var">connectSMTPS</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085643"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailOnConnection"><span class="hs-identifier hs-var">sendMailOnConnection</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085644"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server, send a 'Mail', then disconnect. Uses SMTPS.</span></span><span>
</span><span id="line-369"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailTLS%27"><span class="hs-identifier hs-type">sendMailTLS'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-370"></span><span id="sendMailTLS%27"><span class="annot"><span class="annottext">sendMailTLS' :: [Char] -&gt; PortNumber -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailTLS%27"><span class="hs-identifier hs-var hs-var">sendMailTLS'</span></a></span></span><span> </span><span id="local-6989586621679085645"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085645"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085646"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085646"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679085647"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085647"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPS%27"><span class="hs-identifier hs-var">connectSMTPS'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085645"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085646"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailOnConnection"><span class="hs-identifier hs-var">sendMailOnConnection</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085647"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-371"></span><span>
</span><span id="line-372"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server, login, send a 'Mail', disconnect. Uses SMTPS with its default port (465).</span></span><span>
</span><span id="line-373"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLoginTLS"><span class="hs-identifier hs-type">sendMailWithLoginTLS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#UserName"><span class="hs-identifier hs-type">UserName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#Password"><span class="hs-identifier hs-type">Password</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-374"></span><span id="sendMailWithLoginTLS"><span class="annot"><span class="annottext">sendMailWithLoginTLS :: [Char] -&gt; [Char] -&gt; [Char] -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginTLS"><span class="hs-identifier hs-var hs-var">sendMailWithLoginTLS</span></a></span></span><span> </span><span id="local-6989586621679085648"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085648"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085649"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085649"><span class="hs-identifier hs-var">user</span></a></span></span><span> </span><span id="local-6989586621679085650"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085650"><span class="hs-identifier hs-var">pass</span></a></span></span><span> </span><span id="local-6989586621679085651"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085651"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPS"><span class="hs-identifier hs-var">connectSMTPS</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085648"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginIntern"><span class="hs-identifier hs-var">sendMailWithLoginIntern</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085649"><span class="hs-identifier hs-var">user</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085650"><span class="hs-identifier hs-var">pass</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085651"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-375"></span><span>
</span><span id="line-376"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server, login, send a 'Mail', disconnect. Uses SMTPS.</span></span><span>
</span><span id="line-377"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLoginTLS%27"><span class="hs-identifier hs-type">sendMailWithLoginTLS'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#UserName"><span class="hs-identifier hs-type">UserName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#Password"><span class="hs-identifier hs-type">Password</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span id="sendMailWithLoginTLS%27"><span class="annot"><span class="annottext">sendMailWithLoginTLS' :: [Char] -&gt; PortNumber -&gt; [Char] -&gt; [Char] -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginTLS%27"><span class="hs-identifier hs-var hs-var">sendMailWithLoginTLS'</span></a></span></span><span> </span><span id="local-6989586621679085652"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085652"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085653"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085653"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679085654"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085654"><span class="hs-identifier hs-var">user</span></a></span></span><span> </span><span id="local-6989586621679085655"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085655"><span class="hs-identifier hs-var">pass</span></a></span></span><span> </span><span id="local-6989586621679085656"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085656"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPS%27"><span class="hs-identifier hs-var">connectSMTPS'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085652"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085653"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginIntern"><span class="hs-identifier hs-var">sendMailWithLoginIntern</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085654"><span class="hs-identifier hs-var">user</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085655"><span class="hs-identifier hs-var">pass</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085656"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server, login with OAuth, send a 'Mail', disconnect. Uses STARTTLS with the default port (587).</span></span><span>
</span><span id="line-381"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLoginOAuthSTARTTLS"><span class="hs-identifier hs-type">sendMailWithLoginOAuthSTARTTLS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#UserName"><span class="hs-identifier hs-type">UserName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#Token"><span class="hs-identifier hs-type">Token</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span id="sendMailWithLoginOAuthSTARTTLS"><span class="annot"><span class="annottext">sendMailWithLoginOAuthSTARTTLS :: [Char] -&gt; [Char] -&gt; [Char] -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginOAuthSTARTTLS"><span class="hs-identifier hs-var hs-var">sendMailWithLoginOAuthSTARTTLS</span></a></span></span><span> </span><span id="local-6989586621679085658"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085658"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085659"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085659"><span class="hs-identifier hs-var">user</span></a></span></span><span> </span><span id="local-6989586621679085660"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085660"><span class="hs-identifier hs-var">token</span></a></span></span><span> </span><span id="local-6989586621679085661"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085661"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS"><span class="hs-identifier hs-var">connectSMTPSTARTTLS</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085658"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginOAuthIntern"><span class="hs-identifier hs-var">sendMailWithLoginOAuthIntern</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085659"><span class="hs-identifier hs-var">user</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085660"><span class="hs-identifier hs-var">token</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085661"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server, login with OAuth, send a 'Mail', disconnect. Uses STARTTLS.</span></span><span>
</span><span id="line-385"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLoginOAuthSTARTTLS%27"><span class="hs-identifier hs-type">sendMailWithLoginOAuthSTARTTLS'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#UserName"><span class="hs-identifier hs-type">UserName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#Token"><span class="hs-identifier hs-type">Token</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-386"></span><span id="sendMailWithLoginOAuthSTARTTLS%27"><span class="annot"><span class="annottext">sendMailWithLoginOAuthSTARTTLS' :: [Char] -&gt; PortNumber -&gt; [Char] -&gt; [Char] -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginOAuthSTARTTLS%27"><span class="hs-identifier hs-var hs-var">sendMailWithLoginOAuthSTARTTLS'</span></a></span></span><span> </span><span id="local-6989586621679085663"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085663"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085664"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085664"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679085665"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085665"><span class="hs-identifier hs-var">user</span></a></span></span><span> </span><span id="local-6989586621679085666"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085666"><span class="hs-identifier hs-var">token</span></a></span></span><span> </span><span id="local-6989586621679085667"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085667"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS%27"><span class="hs-identifier hs-var">connectSMTPSTARTTLS'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085663"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085664"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginOAuthIntern"><span class="hs-identifier hs-var">sendMailWithLoginOAuthIntern</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085665"><span class="hs-identifier hs-var">user</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085666"><span class="hs-identifier hs-var">token</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085667"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span class="annot"><span class="hs-comment">-- | Send a 'Mail' with a given sender. Uses SMTPS with its default port (465).</span></span><span>
</span><span id="line-389"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithSenderTLS"><span class="hs-identifier hs-type">sendMailWithSenderTLS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-390"></span><span id="sendMailWithSenderTLS"><span class="annot"><span class="annottext">sendMailWithSenderTLS :: ByteString -&gt; [Char] -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithSenderTLS"><span class="hs-identifier hs-var hs-var">sendMailWithSenderTLS</span></a></span></span><span> </span><span id="local-6989586621679085668"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085668"><span class="hs-identifier hs-var">sender</span></a></span></span><span> </span><span id="local-6989586621679085669"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085669"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085670"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085670"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPS"><span class="hs-identifier hs-var">connectSMTPS</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085669"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithSenderIntern"><span class="hs-identifier hs-var">sendMailWithSenderIntern</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085668"><span class="hs-identifier hs-var">sender</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085670"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span class="annot"><span class="hs-comment">-- | Send a 'Mail' with a given sender. Uses SMTPS.</span></span><span>
</span><span id="line-393"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithSenderTLS%27"><span class="hs-identifier hs-type">sendMailWithSenderTLS'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-394"></span><span id="sendMailWithSenderTLS%27"><span class="annot"><span class="annottext">sendMailWithSenderTLS' :: ByteString -&gt; [Char] -&gt; PortNumber -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithSenderTLS%27"><span class="hs-identifier hs-var hs-var">sendMailWithSenderTLS'</span></a></span></span><span> </span><span id="local-6989586621679085671"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085671"><span class="hs-identifier hs-var">sender</span></a></span></span><span> </span><span id="local-6989586621679085672"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085672"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085673"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085673"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679085674"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085674"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPS%27"><span class="hs-identifier hs-var">connectSMTPS'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085672"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085673"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithSenderIntern"><span class="hs-identifier hs-var">sendMailWithSenderIntern</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085671"><span class="hs-identifier hs-var">sender</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085674"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server, send a 'Mail', then disconnect. Uses STARTTLS with the default port (587).</span></span><span>
</span><span id="line-397"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailSTARTTLS"><span class="hs-identifier hs-type">sendMailSTARTTLS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-398"></span><span id="sendMailSTARTTLS"><span class="annot"><span class="annottext">sendMailSTARTTLS :: [Char] -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailSTARTTLS"><span class="hs-identifier hs-var hs-var">sendMailSTARTTLS</span></a></span></span><span> </span><span id="local-6989586621679085675"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085675"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085676"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085676"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS"><span class="hs-identifier hs-var">connectSMTPSTARTTLS</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085675"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailOnConnection"><span class="hs-identifier hs-var">sendMailOnConnection</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085676"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server, send a 'Mail', then disconnect. Uses STARTTLS.</span></span><span>
</span><span id="line-401"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailSTARTTLS%27"><span class="hs-identifier hs-type">sendMailSTARTTLS'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span id="sendMailSTARTTLS%27"><span class="annot"><span class="annottext">sendMailSTARTTLS' :: [Char] -&gt; PortNumber -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailSTARTTLS%27"><span class="hs-identifier hs-var hs-var">sendMailSTARTTLS'</span></a></span></span><span> </span><span id="local-6989586621679085677"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085677"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085678"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085678"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679085679"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085679"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS%27"><span class="hs-identifier hs-var">connectSMTPSTARTTLS'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085677"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085678"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailOnConnection"><span class="hs-identifier hs-var">sendMailOnConnection</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085679"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server, login, send a 'Mail', disconnect. Uses STARTTLS with the default port (587).</span></span><span>
</span><span id="line-405"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLoginSTARTTLS"><span class="hs-identifier hs-type">sendMailWithLoginSTARTTLS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#UserName"><span class="hs-identifier hs-type">UserName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#Password"><span class="hs-identifier hs-type">Password</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-406"></span><span id="sendMailWithLoginSTARTTLS"><span class="annot"><span class="annottext">sendMailWithLoginSTARTTLS :: [Char] -&gt; [Char] -&gt; [Char] -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginSTARTTLS"><span class="hs-identifier hs-var hs-var">sendMailWithLoginSTARTTLS</span></a></span></span><span> </span><span id="local-6989586621679085680"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085680"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085681"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085681"><span class="hs-identifier hs-var">user</span></a></span></span><span> </span><span id="local-6989586621679085682"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085682"><span class="hs-identifier hs-var">pass</span></a></span></span><span> </span><span id="local-6989586621679085683"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085683"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS"><span class="hs-identifier hs-var">connectSMTPSTARTTLS</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085680"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginIntern"><span class="hs-identifier hs-var">sendMailWithLoginIntern</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085681"><span class="hs-identifier hs-var">user</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085682"><span class="hs-identifier hs-var">pass</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085683"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-407"></span><span>
</span><span id="line-408"></span><span class="annot"><span class="hs-comment">-- | Connect to an SMTP server, login, send a 'Mail', disconnect. Uses STARTTLS.</span></span><span>
</span><span id="line-409"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLoginSTARTTLS%27"><span class="hs-identifier hs-type">sendMailWithLoginSTARTTLS'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#UserName"><span class="hs-identifier hs-type">UserName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#Password"><span class="hs-identifier hs-type">Password</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span id="sendMailWithLoginSTARTTLS%27"><span class="annot"><span class="annottext">sendMailWithLoginSTARTTLS' :: [Char] -&gt; PortNumber -&gt; [Char] -&gt; [Char] -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginSTARTTLS%27"><span class="hs-identifier hs-var hs-var">sendMailWithLoginSTARTTLS'</span></a></span></span><span> </span><span id="local-6989586621679085684"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085684"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085685"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085685"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679085686"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085686"><span class="hs-identifier hs-var">user</span></a></span></span><span> </span><span id="local-6989586621679085687"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085687"><span class="hs-identifier hs-var">pass</span></a></span></span><span> </span><span id="local-6989586621679085688"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085688"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS%27"><span class="hs-identifier hs-var">connectSMTPSTARTTLS'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085684"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085685"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginIntern"><span class="hs-identifier hs-var">sendMailWithLoginIntern</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085686"><span class="hs-identifier hs-var">user</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085687"><span class="hs-identifier hs-var">pass</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085688"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="annot"><span class="hs-comment">-- | Send a 'Mail' with a given sender. Uses STARTTLS with the default port (587).</span></span><span>
</span><span id="line-413"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithSenderSTARTTLS"><span class="hs-identifier hs-type">sendMailWithSenderSTARTTLS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-414"></span><span id="sendMailWithSenderSTARTTLS"><span class="annot"><span class="annottext">sendMailWithSenderSTARTTLS :: ByteString -&gt; [Char] -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithSenderSTARTTLS"><span class="hs-identifier hs-var hs-var">sendMailWithSenderSTARTTLS</span></a></span></span><span> </span><span id="local-6989586621679085689"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085689"><span class="hs-identifier hs-var">sender</span></a></span></span><span> </span><span id="local-6989586621679085690"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085690"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085691"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085691"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS"><span class="hs-identifier hs-var">connectSMTPSTARTTLS</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085690"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithSenderIntern"><span class="hs-identifier hs-var">sendMailWithSenderIntern</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085689"><span class="hs-identifier hs-var">sender</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085691"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="annot"><span class="hs-comment">-- | Send a 'Mail' with a given sender. Uses STARTTLS.</span></span><span>
</span><span id="line-417"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithSenderSTARTTLS%27"><span class="hs-identifier hs-type">sendMailWithSenderSTARTTLS'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HostName</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PortNumber</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span id="sendMailWithSenderSTARTTLS%27"><span class="annot"><span class="annottext">sendMailWithSenderSTARTTLS' :: ByteString -&gt; [Char] -&gt; PortNumber -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithSenderSTARTTLS%27"><span class="hs-identifier hs-var hs-var">sendMailWithSenderSTARTTLS'</span></a></span></span><span> </span><span id="local-6989586621679085692"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085692"><span class="hs-identifier hs-var">sender</span></a></span></span><span> </span><span id="local-6989586621679085693"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085693"><span class="hs-identifier hs-var">host</span></a></span></span><span> </span><span id="local-6989586621679085694"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085694"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679085695"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085695"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; PortNumber -&gt; IO SMTPConnection
</span><a href="Network.Mail.SMTP.html#connectSMTPSTARTTLS%27"><span class="hs-identifier hs-var">connectSMTPSTARTTLS'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085693"><span class="hs-identifier hs-var">host</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679085694"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="annot"><span class="annottext">IO SMTPConnection -&gt; (SMTPConnection -&gt; IO ()) -&gt; IO ()
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithSenderIntern"><span class="hs-identifier hs-var">sendMailWithSenderIntern</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085692"><span class="hs-identifier hs-var">sender</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085695"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLoginIntern"><span class="hs-identifier hs-type">sendMailWithLoginIntern</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#UserName"><span class="hs-identifier hs-type">UserName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#Password"><span class="hs-identifier hs-type">Password</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-421"></span><span id="sendMailWithLoginIntern"><span class="annot"><span class="annottext">sendMailWithLoginIntern :: [Char] -&gt; [Char] -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginIntern"><span class="hs-identifier hs-var hs-var">sendMailWithLoginIntern</span></a></span></span><span> </span><span id="local-6989586621679085696"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085696"><span class="hs-identifier hs-var">user</span></a></span></span><span> </span><span id="local-6989586621679085697"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085697"><span class="hs-identifier hs-var">pass</span></a></span></span><span> </span><span id="local-6989586621679085698"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085698"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span id="local-6989586621679085699"><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085699"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-422"></span><span>  </span><span class="annot"><span class="annottext">(ReplyCode, ByteString)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SMTPConnection -&gt; Command -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#sendCommand"><span class="hs-identifier hs-var">sendCommand</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085699"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AuthType -&gt; [Char] -&gt; [Char] -&gt; Command
</span><a href="Network.Mail.SMTP.Types.html#AUTH"><span class="hs-identifier hs-var">AUTH</span></a></span><span> </span><span class="annot"><span class="annottext">AuthType
</span><a href="Network.Mail.SMTP.Auth.html#LOGIN"><span class="hs-identifier hs-var">LOGIN</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085696"><span class="hs-identifier hs-var">user</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085697"><span class="hs-identifier hs-var">pass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-423"></span><span>  </span><span class="annot"><span class="annottext">SMTPConnection -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#renderAndSend"><span class="hs-identifier hs-var">renderAndSend</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085699"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085698"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-424"></span><span>  </span><span class="annot"><span class="annottext">SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#closeSMTP"><span class="hs-identifier hs-var">closeSMTP</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085699"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithLoginOAuthIntern"><span class="hs-identifier hs-type">sendMailWithLoginOAuthIntern</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#UserName"><span class="hs-identifier hs-type">UserName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#Password"><span class="hs-identifier hs-type">Password</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-427"></span><span id="sendMailWithLoginOAuthIntern"><span class="annot"><span class="annottext">sendMailWithLoginOAuthIntern :: [Char] -&gt; [Char] -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithLoginOAuthIntern"><span class="hs-identifier hs-var hs-var">sendMailWithLoginOAuthIntern</span></a></span></span><span> </span><span id="local-6989586621679085700"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085700"><span class="hs-identifier hs-var">user</span></a></span></span><span> </span><span id="local-6989586621679085701"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085701"><span class="hs-identifier hs-var">token</span></a></span></span><span> </span><span id="local-6989586621679085702"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085702"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span id="local-6989586621679085703"><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085703"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-428"></span><span>  </span><span class="annot"><span class="annottext">(ReplyCode, ByteString)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SMTPConnection -&gt; Command -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#sendCommand"><span class="hs-identifier hs-var">sendCommand</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085703"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AuthType -&gt; [Char] -&gt; [Char] -&gt; Command
</span><a href="Network.Mail.SMTP.Types.html#AUTH"><span class="hs-identifier hs-var">AUTH</span></a></span><span> </span><span class="annot"><span class="annottext">AuthType
</span><a href="Network.Mail.SMTP.Auth.html#LOGIN_OAUTH"><span class="hs-identifier hs-var">LOGIN_OAUTH</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085700"><span class="hs-identifier hs-var">user</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085701"><span class="hs-identifier hs-var">token</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-429"></span><span>  </span><span class="annot"><span class="annottext">SMTPConnection -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#renderAndSend"><span class="hs-identifier hs-var">renderAndSend</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085703"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085702"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-430"></span><span>  </span><span class="annot"><span class="annottext">SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#closeSMTP"><span class="hs-identifier hs-var">closeSMTP</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085703"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span class="annot"><a href="Network.Mail.SMTP.html#sendMailWithSenderIntern"><span class="hs-identifier hs-type">sendMailWithSenderIntern</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-433"></span><span id="sendMailWithSenderIntern"><span class="annot"><span class="annottext">sendMailWithSenderIntern :: ByteString -&gt; Mail -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendMailWithSenderIntern"><span class="hs-identifier hs-var hs-var">sendMailWithSenderIntern</span></a></span></span><span> </span><span id="local-6989586621679085704"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085704"><span class="hs-identifier hs-var">sender</span></a></span></span><span> </span><span id="local-6989586621679085705"><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085705"><span class="hs-identifier hs-var">mail</span></a></span></span><span> </span><span id="local-6989586621679085706"><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085706"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-434"></span><span>  </span><span class="annot"><span class="annottext">ByteString -&gt; SMTPConnection -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#renderAndSendFrom"><span class="hs-identifier hs-var">renderAndSendFrom</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085704"><span class="hs-identifier hs-var">sender</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085706"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085705"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-435"></span><span>  </span><span class="annot"><span class="annottext">SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#closeSMTP"><span class="hs-identifier hs-var">closeSMTP</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085706"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="annot"><a href="Network.Mail.SMTP.html#renderAndSendFrom"><span class="hs-identifier hs-type">renderAndSendFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-438"></span><span id="renderAndSendFrom"><span class="annot"><span class="annottext">renderAndSendFrom :: ByteString -&gt; SMTPConnection -&gt; Mail -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#renderAndSendFrom"><span class="hs-identifier hs-var hs-var">renderAndSendFrom</span></a></span></span><span> </span><span id="local-6989586621679085707"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085707"><span class="hs-identifier hs-var">sender</span></a></span></span><span> </span><span id="local-6989586621679085708"><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085708"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span id="local-6989586621679085709"><span class="annot"><span class="annottext">mail :: Mail
</span><a href="#local-6989586621679085709"><span class="hs-identifier hs-var">mail</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span class="hs-special">{</span><span id="local-6989586621679085710"><span id="local-6989586621679085711"><span id="local-6989586621679085712"><span id="local-6989586621679085713"><span id="local-6989586621679085714"><span id="local-6989586621679085715"><span class="annot"><span class="annottext">[Alternatives]
Headers
[Address]
Address
mailBcc :: Mail -&gt; [Address]
mailCc :: Mail -&gt; [Address]
mailFrom :: Mail -&gt; Address
mailHeaders :: Mail -&gt; Headers
mailParts :: Mail -&gt; [Alternatives]
mailTo :: Mail -&gt; [Address]
mailFrom :: Address
mailTo :: [Address]
mailCc :: [Address]
mailBcc :: [Address]
mailHeaders :: Headers
mailParts :: [Alternatives]
</span><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-439"></span><span>    </span><span id="local-6989586621679085716"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085716"><span class="hs-identifier hs-var">rendered</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Lazy.Internal.html#toStrict"><span class="hs-identifier hs-var">BL.toStrict</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString) -&gt; IO ByteString -&gt; IO ByteString
forall a b. (a -&gt; b) -&gt; IO a -&gt; IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-operator hs-var">`fmap`</span></a></span><span> </span><span class="annot"><span class="annottext">Mail -&gt; IO ByteString
</span><span class="hs-identifier hs-var">renderMail'</span></span><span> </span><span class="annot"><span class="annottext">Mail
</span><a href="#local-6989586621679085709"><span class="hs-identifier hs-var">mail</span></a></span><span>
</span><span id="line-440"></span><span>    </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; ByteString -&gt; SMTPConnection -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#sendRenderedMail"><span class="hs-identifier hs-var">sendRenderedMail</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085707"><span class="hs-identifier hs-var">sender</span></a></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><a href="#local-6989586621679085718"><span class="hs-identifier hs-var">to</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085716"><span class="hs-identifier hs-var">rendered</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085708"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-441"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679085719"><span class="annot"><span class="annottext">enc :: Address -&gt; ByteString
</span><a href="#local-6989586621679085719"><span class="hs-identifier hs-var hs-var">enc</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Encoding.html#encodeUtf8"><span class="hs-identifier hs-var">encodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; ByteString) -&gt; (Address -&gt; Text) -&gt; Address -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Address -&gt; Text
</span><span class="hs-identifier hs-var">addressEmail</span></span><span>
</span><span id="line-442"></span><span>        </span><span id="local-6989586621679085718"><span class="annot"><span class="annottext">to :: [ByteString]
</span><a href="#local-6989586621679085718"><span class="hs-identifier hs-var hs-var">to</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Address -&gt; ByteString) -&gt; [Address] -&gt; [ByteString]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Address -&gt; ByteString
</span><a href="#local-6989586621679085719"><span class="hs-identifier hs-var">enc</span></a></span><span> </span><span class="annot"><span class="annottext">([Address] -&gt; [ByteString]) -&gt; [Address] -&gt; [ByteString]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Address]
</span><a href="#local-6989586621679085711"><span class="hs-identifier hs-var">mailTo</span></a></span><span> </span><span class="annot"><span class="annottext">[Address] -&gt; [Address] -&gt; [Address]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Address]
</span><a href="#local-6989586621679085712"><span class="hs-identifier hs-var">mailCc</span></a></span><span> </span><span class="annot"><span class="annottext">[Address] -&gt; [Address] -&gt; [Address]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Address]
</span><a href="#local-6989586621679085713"><span class="hs-identifier hs-var">mailBcc</span></a></span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span class="annot"><span class="hs-comment">-- | A convenience function that sends 'AUTH' 'LOGIN' to the server</span></span><span>
</span><span id="line-445"></span><span class="annot"><a href="Network.Mail.SMTP.html#login"><span class="hs-identifier hs-type">login</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.html#SMTPConnection"><span class="hs-identifier hs-type">SMTPConnection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#UserName"><span class="hs-identifier hs-type">UserName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Network.Mail.SMTP.Auth.html#Password"><span class="hs-identifier hs-type">Password</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Network.Mail.SMTP.Types.html#ReplyCode"><span class="hs-identifier hs-type">ReplyCode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-446"></span><span id="login"><span class="annot"><span class="annottext">login :: SMTPConnection -&gt; [Char] -&gt; [Char] -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#login"><span class="hs-identifier hs-var hs-var">login</span></a></span></span><span> </span><span id="local-6989586621679085720"><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085720"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621679085721"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085721"><span class="hs-identifier hs-var">user</span></a></span></span><span> </span><span id="local-6989586621679085722"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085722"><span class="hs-identifier hs-var">pass</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTPConnection -&gt; Command -&gt; IO (ReplyCode, ByteString)
</span><a href="Network.Mail.SMTP.html#sendCommand"><span class="hs-identifier hs-var">sendCommand</span></a></span><span> </span><span class="annot"><span class="annottext">SMTPConnection
</span><a href="#local-6989586621679085720"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AuthType -&gt; [Char] -&gt; [Char] -&gt; Command
</span><a href="Network.Mail.SMTP.Types.html#AUTH"><span class="hs-identifier hs-var">AUTH</span></a></span><span> </span><span class="annot"><span class="annottext">AuthType
</span><a href="Network.Mail.SMTP.Auth.html#LOGIN"><span class="hs-identifier hs-var">LOGIN</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085721"><span class="hs-identifier hs-var">user</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085722"><span class="hs-identifier hs-var">pass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span class="hs-comment">-- | A simple interface for generating a 'Mail' with a plantext body and</span><span>
</span><span id="line-449"></span><span class="hs-comment">-- an optional HTML body.</span><span>
</span><span id="line-450"></span><span class="annot"><a href="Network.Mail.SMTP.html#simpleMail"><span class="hs-identifier hs-type">simpleMail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Address</span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ from</span></span><span>
</span><span id="line-451"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Address</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ to</span></span><span>
</span><span id="line-452"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Address</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ CC</span></span><span>
</span><span id="line-453"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Address</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ BCC</span></span><span>
</span><span id="line-454"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">T.Text</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ subject</span></span><span>
</span><span id="line-455"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Part</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ list of parts (list your preferred part last)</span></span><span>
</span><span id="line-456"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span>
</span><span id="line-457"></span><span id="simpleMail"><span class="annot"><span class="annottext">simpleMail :: Address
-&gt; [Address]
-&gt; [Address]
-&gt; [Address]
-&gt; Text
-&gt; Alternatives
-&gt; Mail
</span><a href="Network.Mail.SMTP.html#simpleMail"><span class="hs-identifier hs-var hs-var">simpleMail</span></a></span></span><span> </span><span id="local-6989586621679085723"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679085723"><span class="hs-identifier hs-var">from</span></a></span></span><span> </span><span id="local-6989586621679085724"><span class="annot"><span class="annottext">[Address]
</span><a href="#local-6989586621679085724"><span class="hs-identifier hs-var">to</span></a></span></span><span> </span><span id="local-6989586621679085725"><span class="annot"><span class="annottext">[Address]
</span><a href="#local-6989586621679085725"><span class="hs-identifier hs-var">cc</span></a></span></span><span> </span><span id="local-6989586621679085726"><span class="annot"><span class="annottext">[Address]
</span><a href="#local-6989586621679085726"><span class="hs-identifier hs-var">bcc</span></a></span></span><span> </span><span id="local-6989586621679085727"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679085727"><span class="hs-identifier hs-var">subject</span></a></span></span><span> </span><span id="local-6989586621679085728"><span class="annot"><span class="annottext">Alternatives
</span><a href="#local-6989586621679085728"><span class="hs-identifier hs-var">parts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Mail</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mailFrom :: Address
</span><span class="hs-identifier hs-var">mailFrom</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679085723"><span class="hs-identifier hs-var">from</span></a></span><span>
</span><span id="line-459"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mailTo :: [Address]
</span><span class="hs-identifier hs-var">mailTo</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Address]
</span><a href="#local-6989586621679085724"><span class="hs-identifier hs-var">to</span></a></span><span>
</span><span id="line-460"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mailCc :: [Address]
</span><span class="hs-identifier hs-var">mailCc</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Address]
</span><a href="#local-6989586621679085725"><span class="hs-identifier hs-var">cc</span></a></span><span>
</span><span id="line-461"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mailBcc :: [Address]
</span><span class="hs-identifier hs-var">mailBcc</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Address]
</span><a href="#local-6989586621679085726"><span class="hs-identifier hs-var">bcc</span></a></span><span>
</span><span id="line-462"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mailHeaders :: Headers
</span><span class="hs-identifier hs-var">mailHeaders</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Subject&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679085727"><span class="hs-identifier hs-var">subject</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-463"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mailParts :: [Alternatives]
</span><span class="hs-identifier hs-var">mailParts</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Alternatives
</span><a href="#local-6989586621679085728"><span class="hs-identifier hs-var">parts</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-464"></span><span>         </span><span class="hs-special">}</span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span class="annot"><span class="hs-comment">-- | Construct a plain text 'Part'</span></span><span>
</span><span id="line-467"></span><span class="annot"><a href="Network.Mail.SMTP.html#plainTextPart"><span class="hs-identifier hs-type">plainTextPart</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.Lazy.html#Text"><span class="hs-identifier hs-type">TL.Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Part</span></span><span>
</span><span id="line-468"></span><span id="plainTextPart"><span class="annot"><span class="annottext">plainTextPart :: Text -&gt; Part
</span><a href="Network.Mail.SMTP.html#plainTextPart"><span class="hs-identifier hs-var hs-var">plainTextPart</span></a></span></span><span> </span><span id="local-6989586621679085730"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679085730"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Encoding -&gt; Disposition -&gt; Headers -&gt; PartContent -&gt; Part
</span><span class="hs-identifier hs-var">Part</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;text/plain; charset=utf-8&quot;</span></span><span>
</span><span id="line-469"></span><span>              </span><span class="annot"><span class="annottext">Encoding
</span><span class="hs-identifier hs-var">QuotedPrintableText</span></span><span> </span><span class="annot"><span class="annottext">Disposition
</span><span class="hs-identifier hs-var">DefaultDisposition</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; PartContent
</span><span class="hs-identifier hs-var">PartContent</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; PartContent) -&gt; ByteString -&gt; PartContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Lazy.Encoding.html#encodeUtf8"><span class="hs-identifier hs-var">TL.encodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679085730"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-470"></span><span class="hs-pragma">{-# DEPRECATED</span><span> </span><span class="hs-pragma">plainTextPart</span><span> </span><span class="hs-pragma">&quot;Use plainPart from mime-mail package&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-471"></span><span>
</span><span id="line-472"></span><span class="annot"><span class="hs-comment">-- | Construct an html 'Part'</span></span><span>
</span><span id="line-473"></span><span class="annot"><a href="Network.Mail.SMTP.html#htmlPart"><span class="hs-identifier hs-type">htmlPart</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.Lazy.html#Text"><span class="hs-identifier hs-type">TL.Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Part</span></span><span>
</span><span id="line-474"></span><span id="htmlPart"><span class="annot"><span class="annottext">htmlPart :: Text -&gt; Part
</span><a href="Network.Mail.SMTP.html#htmlPart"><span class="hs-identifier hs-var hs-var">htmlPart</span></a></span></span><span> </span><span id="local-6989586621679085735"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679085735"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Encoding -&gt; Disposition -&gt; Headers -&gt; PartContent -&gt; Part
</span><span class="hs-identifier hs-var">Part</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;text/html; charset=utf-8&quot;</span></span><span>
</span><span id="line-475"></span><span>             </span><span class="annot"><span class="annottext">Encoding
</span><span class="hs-identifier hs-var">QuotedPrintableText</span></span><span> </span><span class="annot"><span class="annottext">Disposition
</span><span class="hs-identifier hs-var">DefaultDisposition</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; PartContent
</span><span class="hs-identifier hs-var">PartContent</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; PartContent) -&gt; ByteString -&gt; PartContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Lazy.Encoding.html#encodeUtf8"><span class="hs-identifier hs-var">TL.encodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679085735"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span class="hs-pragma">{-# DEPRECATED</span><span> </span><span class="hs-pragma">htmlPart</span><span> </span><span class="hs-pragma">&quot;Use htmlPart from mime-mail package&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-477"></span><span>
</span><span id="line-478"></span><span class="annot"><span class="hs-comment">-- | Construct a file attachment 'Part'</span></span><span>
</span><span id="line-479"></span><span class="annot"><a href="Network.Mail.SMTP.html#filePart"><span class="hs-identifier hs-type">filePart</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">T.Text</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ content type</span></span><span>
</span><span id="line-480"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ path to file</span></span><span>
</span><span id="line-481"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Part</span></span><span>
</span><span id="line-482"></span><span id="filePart"><span class="annot"><span class="annottext">filePart :: Text -&gt; [Char] -&gt; IO Part
</span><a href="Network.Mail.SMTP.html#filePart"><span class="hs-identifier hs-var hs-var">filePart</span></a></span></span><span> </span><span id="local-6989586621679085737"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679085737"><span class="hs-identifier hs-var">ct</span></a></span></span><span> </span><span id="local-6989586621679085738"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085738"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-483"></span><span>    </span><span id="local-6989586621679085739"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085739"><span class="hs-identifier hs-var">content</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Lazy.html#readFile"><span class="hs-identifier hs-var">BL.readFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085738"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-484"></span><span>    </span><span class="annot"><span class="annottext">Part -&gt; IO Part
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Part -&gt; IO Part) -&gt; Part -&gt; IO Part
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Encoding -&gt; Disposition -&gt; Headers -&gt; PartContent -&gt; Part
</span><span class="hs-identifier hs-var">Part</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679085737"><span class="hs-identifier hs-var">ct</span></a></span><span> </span><span class="annot"><span class="annottext">Encoding
</span><span class="hs-identifier hs-var">Base64</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Disposition
</span><span class="hs-identifier hs-var">AttachmentDisposition</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Disposition) -&gt; Text -&gt; Disposition
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">T.pack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/filepath-1.4.300.1/src/System.FilePath.Posix.html#takeFileName"><span class="hs-identifier hs-var">takeFileName</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679085738"><span class="hs-identifier hs-var">fp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; PartContent
</span><span class="hs-identifier hs-var">PartContent</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679085739"><span class="hs-identifier hs-var">content</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-485"></span><span class="hs-pragma">{-# DEPRECATED</span><span> </span><span class="hs-pragma">filePart</span><span> </span><span class="hs-pragma">&quot;Use filePart from mime-mail package&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-486"></span><span>
</span><span id="line-487"></span><span class="annot"><a href="Network.Mail.SMTP.html#lazyToStrict"><span class="hs-identifier hs-type">lazyToStrict</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Lazy.Internal.html#ByteString"><span class="hs-identifier hs-type">BL.ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">B.ByteString</span></a></span><span>
</span><span id="line-488"></span><span id="lazyToStrict"><span class="annot"><span class="annottext">lazyToStrict :: ByteString -&gt; ByteString
</span><a href="Network.Mail.SMTP.html#lazyToStrict"><span class="hs-identifier hs-var hs-var">lazyToStrict</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ByteString] -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#concat"><span class="hs-identifier hs-var">B.concat</span></a></span><span> </span><span class="annot"><span class="annottext">([ByteString] -&gt; ByteString)
-&gt; (ByteString -&gt; [ByteString]) -&gt; ByteString -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Lazy.html#toChunks"><span class="hs-identifier hs-var">BL.toChunks</span></a></span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span class="annot"><a href="Network.Mail.SMTP.html#crlf"><span class="hs-identifier hs-type">crlf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">B8.ByteString</span></a></span><span>
</span><span id="line-491"></span><span id="crlf"><span class="annot"><span class="annottext">crlf :: ByteString
</span><a href="Network.Mail.SMTP.html#crlf"><span class="hs-identifier hs-var hs-var">crlf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Char8.html#pack"><span class="hs-identifier hs-var">B8.pack</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;\r\n&quot;</span></span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span class="annot"><a href="Network.Mail.SMTP.html#bsPutCrLf"><span class="hs-identifier hs-type">bsPutCrLf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Conn.Connection</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-494"></span><span id="bsPutCrLf"><span class="annot"><span class="annottext">bsPutCrLf :: Connection -&gt; ByteString -&gt; IO ()
</span><a href="Network.Mail.SMTP.html#bsPutCrLf"><span class="hs-identifier hs-var hs-var">bsPutCrLf</span></a></span></span><span> </span><span id="local-6989586621679085747"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085747"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; ByteString -&gt; IO ()
</span><span class="hs-identifier hs-var">Conn.connectionPut</span></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679085747"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; IO ())
-&gt; (ByteString -&gt; ByteString) -&gt; ByteString -&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString -&gt; ByteString)
-&gt; ByteString -&gt; ByteString -&gt; ByteString
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.html#append"><span class="hs-identifier hs-var">B.append</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="Network.Mail.SMTP.html#crlf"><span class="hs-identifier hs-var">crlf</span></a></span><span>
</span><span id="line-495"></span></pre></body></html>