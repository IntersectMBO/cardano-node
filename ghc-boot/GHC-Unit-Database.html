<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>GHC.Unit.Database</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ghc-boot-9.6.6: Shared functionality between GHC and its boot libraries</span><ul class="links" id="page-menu"><li><a href="src/GHC.Unit.Database.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) The University of Glasgow 2009 Duncan Coutts 2014</td></tr><tr><th>Maintainer</th><td>ghc-devs@haskell.org</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">GHC.Unit.Database</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Read and write</a></li><li><a href="#g:2">Locking</a></li><li><a href="#g:3">Misc</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides the view of GHC's database of registered packages that
 is shared between GHC the compiler/library, and the ghc-pkg program. It
 defines the database format that is shared between GHC and ghc-pkg.</p><p>The database format, and this library are constructed so that GHC does not
 have to depend on the Cabal library. The ghc-pkg program acts as the
 gateway between the external package format (which is defined by Cabal) and
 the internal package format which is specialised just for GHC.</p><p>GHC the compiler only needs some of the information which is kept about
 registered packages, such as module names, various paths etc. On the other
 hand ghc-pkg has to keep all the information from Cabal packages and be able
 to regurgitate it for users and other tools.</p><p>The first trick is that we duplicate some of the information in the package
 database. We essentially keep two versions of the database in one file, one
 version used only by ghc-pkg which keeps the full information (using the
 serialised form of the <code>InstalledPackageInfo</code> type defined by the Cabal
 library); and a second version written by ghc-pkg and read by GHC which has
 just the subset of information that GHC needs.</p><p>The second trick is that this module only defines in detail the format of
 the second version -- the bit GHC uses -- and the part managed by ghc-pkg
 is kept in the file but here we treat it as an opaque blob of data. That way
 this library avoids depending on Cabal.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:GenericUnitInfo">GenericUnitInfo</a> srcpkgid srcpkgname uid modulename mod = <a href="#v:GenericUnitInfo">GenericUnitInfo</a> {<ul class="subs"><li><a href="#v:unitId">unitId</a> :: uid</li><li><a href="#v:unitInstanceOf">unitInstanceOf</a> :: uid</li><li><a href="#v:unitInstantiations">unitInstantiations</a> :: [(modulename, mod)]</li><li><a href="#v:unitPackageId">unitPackageId</a> :: srcpkgid</li><li><a href="#v:unitPackageName">unitPackageName</a> :: srcpkgname</li><li><a href="#v:unitPackageVersion">unitPackageVersion</a> :: <a href="../base-4.18.2.1/Data-Version.html#t:Version" title="Data.Version">Version</a></li><li><a href="#v:unitComponentName">unitComponentName</a> :: <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> srcpkgname</li><li><a href="#v:unitAbiHash">unitAbiHash</a> :: <a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a></li><li><a href="#v:unitDepends">unitDepends</a> :: [uid]</li><li><a href="#v:unitAbiDepends">unitAbiDepends</a> :: [(uid, <a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>)]</li><li><a href="#v:unitImportDirs">unitImportDirs</a> :: [FilePathST]</li><li><a href="#v:unitLibraries">unitLibraries</a> :: [<a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>]</li><li><a href="#v:unitExtDepLibsSys">unitExtDepLibsSys</a> :: [<a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>]</li><li><a href="#v:unitExtDepLibsGhc">unitExtDepLibsGhc</a> :: [<a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>]</li><li><a href="#v:unitLibraryDirs">unitLibraryDirs</a> :: [FilePathST]</li><li><a href="#v:unitLibraryDynDirs">unitLibraryDynDirs</a> :: [FilePathST]</li><li><a href="#v:unitExtDepFrameworks">unitExtDepFrameworks</a> :: [<a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>]</li><li><a href="#v:unitExtDepFrameworkDirs">unitExtDepFrameworkDirs</a> :: [FilePathST]</li><li><a href="#v:unitLinkerOptions">unitLinkerOptions</a> :: [<a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>]</li><li><a href="#v:unitCcOptions">unitCcOptions</a> :: [<a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>]</li><li><a href="#v:unitIncludes">unitIncludes</a> :: [<a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>]</li><li><a href="#v:unitIncludeDirs">unitIncludeDirs</a> :: [FilePathST]</li><li><a href="#v:unitHaddockInterfaces">unitHaddockInterfaces</a> :: [FilePathST]</li><li><a href="#v:unitHaddockHTMLs">unitHaddockHTMLs</a> :: [FilePathST]</li><li><a href="#v:unitExposedModules">unitExposedModules</a> :: [(modulename, <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> mod)]</li><li><a href="#v:unitHiddenModules">unitHiddenModules</a> :: [modulename]</li><li><a href="#v:unitIsIndefinite">unitIsIndefinite</a> :: <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:unitIsExposed">unitIsExposed</a> :: <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:unitIsTrusted">unitIsTrusted</a> :: <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:DbUnitInfo">DbUnitInfo</a> = <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:DbModule">DbModule</a><ul class="subs"><li>= <a href="#v:DbModule">DbModule</a> { <ul class="subs"><li><a href="#v:dbModuleUnitId">dbModuleUnitId</a> :: <a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a></li><li><a href="#v:dbModuleName">dbModuleName</a> :: <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li></ul> }</li><li>| <a href="#v:DbModuleVar">DbModuleVar</a> { <ul class="subs"><li><a href="#v:dbModuleVarName">dbModuleVarName</a> :: <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li></ul> }</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:DbInstUnitId">DbInstUnitId</a><ul class="subs"><li>= <a href="#v:DbInstUnitId">DbInstUnitId</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> [(<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a>)]</li><li>| <a href="#v:DbUnitId">DbUnitId</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li></ul></li><li class="src short"><a href="#v:mapGenericUnitInfo">mapGenericUnitInfo</a> :: (uid1 -&gt; uid2) -&gt; (srcpkg1 -&gt; srcpkg2) -&gt; (srcpkgname1 -&gt; srcpkgname2) -&gt; (modname1 -&gt; modname2) -&gt; (mod1 -&gt; mod2) -&gt; <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> srcpkg1 srcpkgname1 uid1 modname1 mod1 -&gt; <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> srcpkg2 srcpkgname2 uid2 modname2 mod2</li><li class="src short"><span class="keyword">data</span> <a href="#t:DbMode">DbMode</a><ul class="subs"><li>= <a href="#v:DbReadOnly">DbReadOnly</a></li><li>| <a href="#v:DbReadWrite">DbReadWrite</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:DbOpenMode">DbOpenMode</a> (mode :: <a href="GHC-Unit-Database.html#t:DbMode" title="GHC.Unit.Database">DbMode</a>) t <span class="keyword">where</span><ul class="subs"><li><a href="#v:DbOpenReadOnly">DbOpenReadOnly</a> :: <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> '<a href="GHC-Unit-Database.html#v:DbReadOnly" title="GHC.Unit.Database">DbReadOnly</a> t</li><li><a href="#v:DbOpenReadWrite">DbOpenReadWrite</a> :: t -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> '<a href="GHC-Unit-Database.html#v:DbReadWrite" title="GHC.Unit.Database">DbReadWrite</a> t</li></ul></li><li class="src short"><a href="#v:isDbOpenReadMode">isDbOpenReadMode</a> :: <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode t -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:readPackageDbForGhc">readPackageDbForGhc</a> :: <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="GHC-Unit-Database.html#t:DbUnitInfo" title="GHC.Unit.Database">DbUnitInfo</a>]</li><li class="src short"><a href="#v:readPackageDbForGhcPkg">readPackageDbForGhcPkg</a> :: <a href="../binary-0.8.9.1/Data-Binary.html#t:Binary" title="Data.Binary">Binary</a> pkgs =&gt; <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode t -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (pkgs, <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode <a href="GHC-Unit-Database.html#t:PackageDbLock" title="GHC.Unit.Database">PackageDbLock</a>)</li><li class="src short"><a href="#v:writePackageDb">writePackageDb</a> :: <a href="../binary-0.8.9.1/Data-Binary.html#t:Binary" title="Data.Binary">Binary</a> pkgs =&gt; <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; [<a href="GHC-Unit-Database.html#t:DbUnitInfo" title="GHC.Unit.Database">DbUnitInfo</a>] -&gt; pkgs -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:PackageDbLock">PackageDbLock</a></li><li class="src short"><a href="#v:lockPackageDb">lockPackageDb</a> :: <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="GHC-Unit-Database.html#t:PackageDbLock" title="GHC.Unit.Database">PackageDbLock</a></li><li class="src short"><a href="#v:unlockPackageDb">unlockPackageDb</a> :: <a href="GHC-Unit-Database.html#t:PackageDbLock" title="GHC.Unit.Database">PackageDbLock</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:mkMungePathUrl">mkMungePathUrl</a> :: FilePathST -&gt; FilePathST -&gt; (FilePathST -&gt; FilePathST, FilePathST -&gt; FilePathST)</li><li class="src short"><a href="#v:mungeUnitInfoPaths">mungeUnitInfoPaths</a> :: FilePathST -&gt; FilePathST -&gt; <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> a b c d e -&gt; <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> a b c d e</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:GenericUnitInfo" class="def">GenericUnitInfo</a> srcpkgid srcpkgname uid modulename mod <a href="src/GHC.Unit.Database.html#GenericUnitInfo" class="link">Source</a> <a href="#t:GenericUnitInfo" class="selflink">#</a></p><div class="doc"><p>Information about an unit (a unit is an installed module library).</p><p>This is a subset of Cabal's <code>InstalledPackageInfo</code>, with just the bits
 that GHC is interested in.</p><p>Some types are left as parameters to be instantiated differently in ghc-pkg
 and in ghc itself.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:GenericUnitInfo" class="def">GenericUnitInfo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unitId" class="def">unitId</a> :: uid</dfn><div class="doc"><p>Unique unit identifier that is used during compilation (e.g. to
 generate symbols).</p></div></li><li><dfn class="src"><a id="v:unitInstanceOf" class="def">unitInstanceOf</a> :: uid</dfn><div class="doc"><p>Identifier of an indefinite unit (i.e. with module holes) that this
 unit is an instance of.</p><p>For non instantiated units, unitInstanceOf=unitId</p></div></li><li><dfn class="src"><a id="v:unitInstantiations" class="def">unitInstantiations</a> :: [(modulename, mod)]</dfn><div class="doc"><p>How this unit instantiates some of its module holes. Map hole module
 names to actual module</p></div></li><li><dfn class="src"><a id="v:unitPackageId" class="def">unitPackageId</a> :: srcpkgid</dfn><div class="doc"><p>Source package identifier.</p><p>Cabal instantiates this with Distribution.Types.PackageId.PackageId
 type which only contains the source package name and version. Notice
 that it doesn't contain the Hackage revision, nor any kind of hash.</p></div></li><li><dfn class="src"><a id="v:unitPackageName" class="def">unitPackageName</a> :: srcpkgname</dfn><div class="doc"><p>Source package name</p></div></li><li><dfn class="src"><a id="v:unitPackageVersion" class="def">unitPackageVersion</a> :: <a href="../base-4.18.2.1/Data-Version.html#t:Version" title="Data.Version">Version</a></dfn><div class="doc"><p>Source package version</p></div></li><li><dfn class="src"><a id="v:unitComponentName" class="def">unitComponentName</a> :: <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> srcpkgname</dfn><div class="doc"><p>Name of the component.</p><p>Cabal supports more than one components (libraries, executables,
 testsuites) in the same package. Each component has a name except the
 default one (that can only be a library component) for which we use
 <a href="Nothing.html">Nothing</a>.</p><p>GHC only deals with &quot;library&quot; components as they are the only kind of
 components that can be registered in a database and used by other
 modules.</p></div></li><li><dfn class="src"><a id="v:unitAbiHash" class="def">unitAbiHash</a> :: <a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a></dfn><div class="doc"><p>ABI hash used to avoid mixing up units compiled with different
 dependencies, compiler, options, etc.</p></div></li><li><dfn class="src"><a id="v:unitDepends" class="def">unitDepends</a> :: [uid]</dfn><div class="doc"><p>Identifiers of the units this one depends on</p></div></li><li><dfn class="src"><a id="v:unitAbiDepends" class="def">unitAbiDepends</a> :: [(uid, <a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>)]</dfn><div class="doc"><p>Like <code><a href="GHC-Unit-Database.html#v:unitDepends" title="GHC.Unit.Database">unitDepends</a></code>, but each dependency is annotated with the ABI hash
 we expect the dependency to respect.</p></div></li><li><dfn class="src"><a id="v:unitImportDirs" class="def">unitImportDirs</a> :: [FilePathST]</dfn><div class="doc"><p>Directories containing module interfaces</p></div></li><li><dfn class="src"><a id="v:unitLibraries" class="def">unitLibraries</a> :: [<a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>]</dfn><div class="doc"><p>Names of the Haskell libraries provided by this unit</p></div></li><li><dfn class="src"><a id="v:unitExtDepLibsSys" class="def">unitExtDepLibsSys</a> :: [<a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>]</dfn><div class="doc"><p>Names of the external system libraries that this unit depends on. See
 also <code><a href="GHC-Unit-Database.html#v:unitExtDepLibsGhc" title="GHC.Unit.Database">unitExtDepLibsGhc</a></code> field.</p></div></li><li><dfn class="src"><a id="v:unitExtDepLibsGhc" class="def">unitExtDepLibsGhc</a> :: [<a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>]</dfn><div class="doc"><p>Because of slight differences between the GHC dynamic linker (in
 GHC.Runtime.Linker) and the
 native system linker, some packages have to link with a different list
 of libraries when using GHC's. Examples include: libs that are actually
 gnu ld scripts, and the possibility that the .a libs do not exactly
 match the .so/.dll equivalents.</p><p>If this field is set, then we use that instead of the
 <code><a href="GHC-Unit-Database.html#v:unitExtDepLibsSys" title="GHC.Unit.Database">unitExtDepLibsSys</a></code> field.</p></div></li><li><dfn class="src"><a id="v:unitLibraryDirs" class="def">unitLibraryDirs</a> :: [FilePathST]</dfn><div class="doc"><p>Directories containing libraries provided by this unit. See also
 <code><a href="GHC-Unit-Database.html#v:unitLibraryDynDirs" title="GHC.Unit.Database">unitLibraryDynDirs</a></code>.</p><p>It seems to be used to store paths to external library dependencies
 too.</p></div></li><li><dfn class="src"><a id="v:unitLibraryDynDirs" class="def">unitLibraryDynDirs</a> :: [FilePathST]</dfn><div class="doc"><p>Directories containing the dynamic libraries provided by this unit.
 See also <code><a href="GHC-Unit-Database.html#v:unitLibraryDirs" title="GHC.Unit.Database">unitLibraryDirs</a></code>.</p><p>It seems to be used to store paths to external dynamic library
 dependencies too.</p></div></li><li><dfn class="src"><a id="v:unitExtDepFrameworks" class="def">unitExtDepFrameworks</a> :: [<a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>]</dfn><div class="doc"><p>Names of the external MacOS frameworks that this unit depends on.</p></div></li><li><dfn class="src"><a id="v:unitExtDepFrameworkDirs" class="def">unitExtDepFrameworkDirs</a> :: [FilePathST]</dfn><div class="doc"><p>Directories containing MacOS frameworks that this unit depends
 on.</p></div></li><li><dfn class="src"><a id="v:unitLinkerOptions" class="def">unitLinkerOptions</a> :: [<a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>]</dfn><div class="doc"><p>Linker (e.g. ld) command line options</p></div></li><li><dfn class="src"><a id="v:unitCcOptions" class="def">unitCcOptions</a> :: [<a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>]</dfn><div class="doc"><p>C compiler options that needs to be passed to the C compiler when we
 compile some C code against this unit.</p></div></li><li><dfn class="src"><a id="v:unitIncludes" class="def">unitIncludes</a> :: [<a href="GHC-Data-ShortText.html#t:ShortText" title="GHC.Data.ShortText">ShortText</a>]</dfn><div class="doc"><p>C header files that are required by this unit (provided by this unit
 or external)</p></div></li><li><dfn class="src"><a id="v:unitIncludeDirs" class="def">unitIncludeDirs</a> :: [FilePathST]</dfn><div class="doc"><p>Directories containing C header files that this unit depends
 on.</p></div></li><li><dfn class="src"><a id="v:unitHaddockInterfaces" class="def">unitHaddockInterfaces</a> :: [FilePathST]</dfn><div class="doc"><p>Paths to Haddock interface files for this unit</p></div></li><li><dfn class="src"><a id="v:unitHaddockHTMLs" class="def">unitHaddockHTMLs</a> :: [FilePathST]</dfn><div class="doc"><p>Paths to Haddock directories containing HTML files</p></div></li><li><dfn class="src"><a id="v:unitExposedModules" class="def">unitExposedModules</a> :: [(modulename, <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> mod)]</dfn><div class="doc"><p>Modules exposed by the unit.</p><p>A module can be re-exported from another package. In this case, we
 indicate the module origin in the second parameter.</p></div></li><li><dfn class="src"><a id="v:unitHiddenModules" class="def">unitHiddenModules</a> :: [modulename]</dfn><div class="doc"><p>Hidden modules.</p><p>These are useful for error reporting (e.g. if a hidden module is
 imported)</p></div></li><li><dfn class="src"><a id="v:unitIsIndefinite" class="def">unitIsIndefinite</a> :: <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>True if this unit has some module holes that need to be instantiated
 with real modules to make the unit usable (a.k.a. Backpack).</p></div></li><li><dfn class="src"><a id="v:unitIsExposed" class="def">unitIsExposed</a> :: <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>True if the unit is exposed. A unit could be installed in a database
 by &quot;disabled&quot; by not being exposed.</p></div></li><li><dfn class="src"><a id="v:unitIsTrusted" class="def">unitIsTrusted</a> :: <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>True if the unit is trusted (cf Safe Haskell)</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:GenericUnitInfo">Instances</h4><details id="i:GenericUnitInfo" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:GenericUnitInfo:Binary:1"></span> <a href="../binary-0.8.9.1/Data-Binary.html#t:Binary" title="Data.Binary">Binary</a> <a href="GHC-Unit-Database.html#t:DbUnitInfo" title="GHC.Unit.Database">DbUnitInfo</a></span> <a href="src/GHC.Unit.Database.html#line-534" class="link">Source</a> <a href="#t:GenericUnitInfo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:GenericUnitInfo:Binary:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Unit-Database.html">GHC.Unit.Database</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:put">put</a> :: <a href="GHC-Unit-Database.html#t:DbUnitInfo" title="GHC.Unit.Database">DbUnitInfo</a> -&gt; <a href="../binary-0.8.9.1/Data-Binary-Put.html#t:Put" title="Data.Binary.Put">Put</a> <a href="../binary-0.8.9.1/src/Data.Binary.Class.html#put" class="link">Source</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:get">get</a> :: <a href="../binary-0.8.9.1/Data-Binary-Get-Internal.html#t:Get" title="Data.Binary.Get.Internal">Get</a> <a href="GHC-Unit-Database.html#t:DbUnitInfo" title="GHC.Unit.Database">DbUnitInfo</a> <a href="../binary-0.8.9.1/src/Data.Binary.Class.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:putList">putList</a> :: [<a href="GHC-Unit-Database.html#t:DbUnitInfo" title="GHC.Unit.Database">DbUnitInfo</a>] -&gt; <a href="../binary-0.8.9.1/Data-Binary-Put.html#t:Put" title="Data.Binary.Put">Put</a> <a href="../binary-0.8.9.1/src/Data.Binary.Class.html#putList" class="link">Source</a> <a href="#v:putList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:GenericUnitInfo:Show:2"></span> (<a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> uid, <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> modulename, <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> mod, <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> srcpkgid, <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> srcpkgname) =&gt; <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> srcpkgid srcpkgname uid modulename mod)</span> <a href="src/GHC.Unit.Database.html#line-251" class="link">Source</a> <a href="#t:GenericUnitInfo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:GenericUnitInfo:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Unit-Database.html">GHC.Unit.Database</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> srcpkgid srcpkgname uid modulename mod -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../base-4.18.2.1/src/GHC.Show.html#showsPrec" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> srcpkgid srcpkgname uid modulename mod -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="../base-4.18.2.1/src/GHC.Show.html#show" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> srcpkgid srcpkgname uid modulename mod] -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../base-4.18.2.1/src/GHC.Show.html#showList" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:GenericUnitInfo:Eq:3"></span> (<a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> uid, <a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> modulename, <a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> mod, <a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> srcpkgid, <a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> srcpkgname) =&gt; <a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> srcpkgid srcpkgname uid modulename mod)</span> <a href="src/GHC.Unit.Database.html#line-251" class="link">Source</a> <a href="#t:GenericUnitInfo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:GenericUnitInfo:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Unit-Database.html">GHC.Unit.Database</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> srcpkgid srcpkgname uid modulename mod -&gt; <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> srcpkgid srcpkgname uid modulename mod -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> srcpkgid srcpkgname uid modulename mod -&gt; <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> srcpkgid srcpkgname uid modulename mod -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:DbUnitInfo" class="def">DbUnitInfo</a> = <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a> <a href="src/GHC.Unit.Database.html#DbUnitInfo" class="link">Source</a> <a href="#t:DbUnitInfo" class="selflink">#</a></p><div class="doc"><p><code>ghc-boot</code>'s UnitInfo, serialized to the database.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DbModule" class="def">DbModule</a> <a href="src/GHC.Unit.Database.html#DbModule" class="link">Source</a> <a href="#t:DbModule" class="selflink">#</a></p><div class="doc"><p><code>ghc-boot</code>'s <code>Module</code>, serialized to the database.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DbModule" class="def">DbModule</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dbModuleUnitId" class="def">dbModuleUnitId</a> :: <a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dbModuleName" class="def">dbModuleName</a> :: <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:DbModuleVar" class="def">DbModuleVar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dbModuleVarName" class="def">dbModuleVarName</a> :: <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DbModule">Instances</h4><details id="i:DbModule" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DbModule:Show:1"></span> <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a></span> <a href="src/GHC.Unit.Database.html#line-286" class="link">Source</a> <a href="#t:DbModule" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DbModule:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Unit-Database.html">GHC.Unit.Database</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a> -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../base-4.18.2.1/src/GHC.Show.html#showsPrec" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="../base-4.18.2.1/src/GHC.Show.html#show" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a>] -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../base-4.18.2.1/src/GHC.Show.html#showList" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DbModule:Binary:2"></span> <a href="../binary-0.8.9.1/Data-Binary.html#t:Binary" title="Data.Binary">Binary</a> <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a></span> <a href="src/GHC.Unit.Database.html#line-631" class="link">Source</a> <a href="#t:DbModule" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DbModule:Binary:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Unit-Database.html">GHC.Unit.Database</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:put">put</a> :: <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a> -&gt; <a href="../binary-0.8.9.1/Data-Binary-Put.html#t:Put" title="Data.Binary.Put">Put</a> <a href="../binary-0.8.9.1/src/Data.Binary.Class.html#put" class="link">Source</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:get">get</a> :: <a href="../binary-0.8.9.1/Data-Binary-Get-Internal.html#t:Get" title="Data.Binary.Get.Internal">Get</a> <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a> <a href="../binary-0.8.9.1/src/Data.Binary.Class.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:putList">putList</a> :: [<a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a>] -&gt; <a href="../binary-0.8.9.1/Data-Binary-Put.html#t:Put" title="Data.Binary.Put">Put</a> <a href="../binary-0.8.9.1/src/Data.Binary.Class.html#putList" class="link">Source</a> <a href="#v:putList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DbModule:Binary:3"></span> <a href="../binary-0.8.9.1/Data-Binary.html#t:Binary" title="Data.Binary">Binary</a> <a href="GHC-Unit-Database.html#t:DbUnitInfo" title="GHC.Unit.Database">DbUnitInfo</a></span> <a href="src/GHC.Unit.Database.html#line-534" class="link">Source</a> <a href="#t:DbModule" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DbModule:Binary:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Unit-Database.html">GHC.Unit.Database</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:put">put</a> :: <a href="GHC-Unit-Database.html#t:DbUnitInfo" title="GHC.Unit.Database">DbUnitInfo</a> -&gt; <a href="../binary-0.8.9.1/Data-Binary-Put.html#t:Put" title="Data.Binary.Put">Put</a> <a href="../binary-0.8.9.1/src/Data.Binary.Class.html#put" class="link">Source</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:get">get</a> :: <a href="../binary-0.8.9.1/Data-Binary-Get-Internal.html#t:Get" title="Data.Binary.Get.Internal">Get</a> <a href="GHC-Unit-Database.html#t:DbUnitInfo" title="GHC.Unit.Database">DbUnitInfo</a> <a href="../binary-0.8.9.1/src/Data.Binary.Class.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:putList">putList</a> :: [<a href="GHC-Unit-Database.html#t:DbUnitInfo" title="GHC.Unit.Database">DbUnitInfo</a>] -&gt; <a href="../binary-0.8.9.1/Data-Binary-Put.html#t:Put" title="Data.Binary.Put">Put</a> <a href="../binary-0.8.9.1/src/Data.Binary.Class.html#putList" class="link">Source</a> <a href="#v:putList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DbModule:Eq:4"></span> <a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a></span> <a href="src/GHC.Unit.Database.html#line-286" class="link">Source</a> <a href="#t:DbModule" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DbModule:Eq:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Unit-Database.html">GHC.Unit.Database</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a> -&gt; <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a> -&gt; <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DbInstUnitId" class="def">DbInstUnitId</a> <a href="src/GHC.Unit.Database.html#DbInstUnitId" class="link">Source</a> <a href="#t:DbInstUnitId" class="selflink">#</a></p><div class="doc"><p><code>ghc-boot</code>'s instantiated unit id, serialized to the database.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DbInstUnitId" class="def">DbInstUnitId</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> [(<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="GHC-Unit-Database.html#t:DbModule" title="GHC.Unit.Database">DbModule</a>)]</td><td class="doc"><p>Instantiated unit</p></td></tr><tr><td class="src"><a id="v:DbUnitId" class="def">DbUnitId</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>Uninstantiated unit</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DbInstUnitId">Instances</h4><details id="i:DbInstUnitId" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DbInstUnitId:Show:1"></span> <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a></span> <a href="src/GHC.Unit.Database.html#line-299" class="link">Source</a> <a href="#t:DbInstUnitId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DbInstUnitId:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Unit-Database.html">GHC.Unit.Database</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a> -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../base-4.18.2.1/src/GHC.Show.html#showsPrec" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="../base-4.18.2.1/src/GHC.Show.html#show" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a>] -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../base-4.18.2.1/src/GHC.Show.html#showList" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DbInstUnitId:Binary:2"></span> <a href="../binary-0.8.9.1/Data-Binary.html#t:Binary" title="Data.Binary">Binary</a> <a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a></span> <a href="src/GHC.Unit.Database.html#line-645" class="link">Source</a> <a href="#t:DbInstUnitId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DbInstUnitId:Binary:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Unit-Database.html">GHC.Unit.Database</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:put">put</a> :: <a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a> -&gt; <a href="../binary-0.8.9.1/Data-Binary-Put.html#t:Put" title="Data.Binary.Put">Put</a> <a href="../binary-0.8.9.1/src/Data.Binary.Class.html#put" class="link">Source</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:get">get</a> :: <a href="../binary-0.8.9.1/Data-Binary-Get-Internal.html#t:Get" title="Data.Binary.Get.Internal">Get</a> <a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a> <a href="../binary-0.8.9.1/src/Data.Binary.Class.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:putList">putList</a> :: [<a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a>] -&gt; <a href="../binary-0.8.9.1/Data-Binary-Put.html#t:Put" title="Data.Binary.Put">Put</a> <a href="../binary-0.8.9.1/src/Data.Binary.Class.html#putList" class="link">Source</a> <a href="#v:putList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DbInstUnitId:Eq:3"></span> <a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a></span> <a href="src/GHC.Unit.Database.html#line-299" class="link">Source</a> <a href="#t:DbInstUnitId" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DbInstUnitId:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Unit-Database.html">GHC.Unit.Database</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a> -&gt; <a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a> -&gt; <a href="GHC-Unit-Database.html#t:DbInstUnitId" title="GHC.Unit.Database">DbInstUnitId</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mapGenericUnitInfo" class="def">mapGenericUnitInfo</a> :: (uid1 -&gt; uid2) -&gt; (srcpkg1 -&gt; srcpkg2) -&gt; (srcpkgname1 -&gt; srcpkgname2) -&gt; (modname1 -&gt; modname2) -&gt; (mod1 -&gt; mod2) -&gt; <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> srcpkg1 srcpkgname1 uid1 modname1 mod1 -&gt; <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> srcpkg2 srcpkgname2 uid2 modname2 mod2 <a href="src/GHC.Unit.Database.html#mapGenericUnitInfo" class="link">Source</a> <a href="#v:mapGenericUnitInfo" class="selflink">#</a></p><div class="doc"><p>Convert between GenericUnitInfo instances</p></div></div><a href="#g:1" id="g:1"><h1>Read and write</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DbMode" class="def">DbMode</a> <a href="src/GHC.Unit.Database.html#DbMode" class="link">Source</a> <a href="#t:DbMode" class="selflink">#</a></p><div class="doc"><p>Mode to open a package db in.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DbReadOnly" class="def">DbReadOnly</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DbReadWrite" class="def">DbReadWrite</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DbOpenMode" class="def">DbOpenMode</a> (mode :: <a href="GHC-Unit-Database.html#t:DbMode" title="GHC.Unit.Database">DbMode</a>) t <span class="keyword">where</span> <a href="src/GHC.Unit.Database.html#DbOpenMode" class="link">Source</a> <a href="#t:DbOpenMode" class="selflink">#</a></p><div class="doc"><p><code><a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a></code> holds a value of type <code>t</code> but only in <code><a href="GHC-Unit-Database.html#v:DbReadWrite" title="GHC.Unit.Database">DbReadWrite</a></code> mode.  So
 it is like <code><a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code> but with a type argument for the mode to enforce that the
 mode is used consistently.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DbOpenReadOnly" class="def">DbOpenReadOnly</a> :: <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> '<a href="GHC-Unit-Database.html#v:DbReadOnly" title="GHC.Unit.Database">DbReadOnly</a> t</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DbOpenReadWrite" class="def">DbOpenReadWrite</a> :: t -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> '<a href="GHC-Unit-Database.html#v:DbReadWrite" title="GHC.Unit.Database">DbReadWrite</a> t</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DbOpenMode">Instances</h4><details id="i:DbOpenMode" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DbOpenMode:Foldable:1"></span> <a href="../base-4.18.2.1/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> (<a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode)</span> <a href="src/GHC.Unit.Database.html#line-368" class="link">Source</a> <a href="#t:DbOpenMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DbOpenMode:Foldable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Unit-Database.html">GHC.Unit.Database</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fold">fold</a> :: <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode m -&gt; m <a href="../base-4.18.2.1/src/Data.Foldable.html#fold" class="link">Source</a> <a href="#v:fold" class="selflink">#</a></p><p class="src"><a href="#v:foldMap">foldMap</a> :: <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; (a -&gt; m) -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; m <a href="../base-4.18.2.1/src/Data.Foldable.html#foldMap" class="link">Source</a> <a href="#v:foldMap" class="selflink">#</a></p><p class="src"><a href="#v:foldMap-39-">foldMap'</a> :: <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; (a -&gt; m) -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; m <a href="../base-4.18.2.1/src/Data.Foldable.html#foldMap%27" class="link">Source</a> <a href="#v:foldMap-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldr">foldr</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; b <a href="../base-4.18.2.1/src/Data.Foldable.html#foldr" class="link">Source</a> <a href="#v:foldr" class="selflink">#</a></p><p class="src"><a href="#v:foldr-39-">foldr'</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; b <a href="../base-4.18.2.1/src/Data.Foldable.html#foldr%27" class="link">Source</a> <a href="#v:foldr-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldl">foldl</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; b <a href="../base-4.18.2.1/src/Data.Foldable.html#foldl" class="link">Source</a> <a href="#v:foldl" class="selflink">#</a></p><p class="src"><a href="#v:foldl-39-">foldl'</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; b <a href="../base-4.18.2.1/src/Data.Foldable.html#foldl%27" class="link">Source</a> <a href="#v:foldl-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldr1">foldr1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; a <a href="../base-4.18.2.1/src/Data.Foldable.html#foldr1" class="link">Source</a> <a href="#v:foldr1" class="selflink">#</a></p><p class="src"><a href="#v:foldl1">foldl1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; a <a href="../base-4.18.2.1/src/Data.Foldable.html#foldl1" class="link">Source</a> <a href="#v:foldl1" class="selflink">#</a></p><p class="src"><a href="#v:toList">toList</a> :: <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; [a] <a href="../base-4.18.2.1/src/Data.Foldable.html#toList" class="link">Source</a> <a href="#v:toList" class="selflink">#</a></p><p class="src"><a href="#v:null">null</a> :: <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../base-4.18.2.1/src/Data.Foldable.html#null" class="link">Source</a> <a href="#v:null" class="selflink">#</a></p><p class="src"><a href="#v:length">length</a> :: <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="../base-4.18.2.1/src/Data.Foldable.html#length" class="link">Source</a> <a href="#v:length" class="selflink">#</a></p><p class="src"><a href="#v:elem">elem</a> :: <a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; a -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../base-4.18.2.1/src/Data.Foldable.html#elem" class="link">Source</a> <a href="#v:elem" class="selflink">#</a></p><p class="src"><a href="#v:maximum">maximum</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; a <a href="../base-4.18.2.1/src/Data.Foldable.html#maximum" class="link">Source</a> <a href="#v:maximum" class="selflink">#</a></p><p class="src"><a href="#v:minimum">minimum</a> :: <a href="../base-4.18.2.1/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; a <a href="../base-4.18.2.1/src/Data.Foldable.html#minimum" class="link">Source</a> <a href="#v:minimum" class="selflink">#</a></p><p class="src"><a href="#v:sum">sum</a> :: <a href="../base-4.18.2.1/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; a <a href="../base-4.18.2.1/src/Data.Foldable.html#sum" class="link">Source</a> <a href="#v:sum" class="selflink">#</a></p><p class="src"><a href="#v:product">product</a> :: <a href="../base-4.18.2.1/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; a <a href="../base-4.18.2.1/src/Data.Foldable.html#product" class="link">Source</a> <a href="#v:product" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DbOpenMode:Traversable:2"></span> <a href="../base-4.18.2.1/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> (<a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode)</span> <a href="src/GHC.Unit.Database.html#line-369" class="link">Source</a> <a href="#t:DbOpenMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DbOpenMode:Traversable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Unit-Database.html">GHC.Unit.Database</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:traverse">traverse</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f =&gt; (a -&gt; f b) -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; f (<a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode b) <a href="../base-4.18.2.1/src/Data.Traversable.html#traverse" class="link">Source</a> <a href="#v:traverse" class="selflink">#</a></p><p class="src"><a href="#v:sequenceA">sequenceA</a> :: <a href="../base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f =&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode (f a) -&gt; f (<a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a) <a href="../base-4.18.2.1/src/Data.Traversable.html#sequenceA" class="link">Source</a> <a href="#v:sequenceA" class="selflink">#</a></p><p class="src"><a href="#v:mapM">mapM</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m b) -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; m (<a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode b) <a href="../base-4.18.2.1/src/Data.Traversable.html#mapM" class="link">Source</a> <a href="#v:mapM" class="selflink">#</a></p><p class="src"><a href="#v:sequence">sequence</a> :: <a href="../base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode (m a) -&gt; m (<a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a) <a href="../base-4.18.2.1/src/Data.Traversable.html#sequence" class="link">Source</a> <a href="#v:sequence" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DbOpenMode:Functor:3"></span> <a href="../base-4.18.2.1/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode)</span> <a href="src/GHC.Unit.Database.html#line-367" class="link">Source</a> <a href="#t:DbOpenMode" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DbOpenMode:Functor:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Unit-Database.html">GHC.Unit.Database</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode b <a href="../base-4.18.2.1/src/GHC.Base.html#fmap" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode b -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode a <a href="../base-4.18.2.1/src/GHC.Base.html#%3C%24" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:isDbOpenReadMode" class="def">isDbOpenReadMode</a> :: <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode t -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/GHC.Unit.Database.html#isDbOpenReadMode" class="link">Source</a> <a href="#v:isDbOpenReadMode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:readPackageDbForGhc" class="def">readPackageDbForGhc</a> :: <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="GHC-Unit-Database.html#t:DbUnitInfo" title="GHC.Unit.Database">DbUnitInfo</a>] <a href="src/GHC.Unit.Database.html#readPackageDbForGhc" class="link">Source</a> <a href="#v:readPackageDbForGhc" class="selflink">#</a></p><div class="doc"><p>Read the part of the package DB that GHC is interested in.</p></div></div><div class="top"><p class="src"><a id="v:readPackageDbForGhcPkg" class="def">readPackageDbForGhcPkg</a> :: <a href="../binary-0.8.9.1/Data-Binary.html#t:Binary" title="Data.Binary">Binary</a> pkgs =&gt; <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode t -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (pkgs, <a href="GHC-Unit-Database.html#t:DbOpenMode" title="GHC.Unit.Database">DbOpenMode</a> mode <a href="GHC-Unit-Database.html#t:PackageDbLock" title="GHC.Unit.Database">PackageDbLock</a>) <a href="src/GHC.Unit.Database.html#readPackageDbForGhcPkg" class="link">Source</a> <a href="#v:readPackageDbForGhcPkg" class="selflink">#</a></p><div class="doc"><p>Read the part of the package DB that ghc-pkg is interested in</p><p>Note that the Binary instance for ghc-pkg's representation of packages
 is not defined in this package. This is because ghc-pkg uses Cabal types
 (and Binary instances for these) which this package does not depend on.</p><p>If we open the package db in read only mode, we get its contents. Otherwise
 we additionally receive a PackageDbLock that represents a lock on the
 database, so that we can safely update it later.</p></div></div><div class="top"><p class="src"><a id="v:writePackageDb" class="def">writePackageDb</a> :: <a href="../binary-0.8.9.1/Data-Binary.html#t:Binary" title="Data.Binary">Binary</a> pkgs =&gt; <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; [<a href="GHC-Unit-Database.html#t:DbUnitInfo" title="GHC.Unit.Database">DbUnitInfo</a>] -&gt; pkgs -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/GHC.Unit.Database.html#writePackageDb" class="link">Source</a> <a href="#v:writePackageDb" class="selflink">#</a></p><div class="doc"><p>Write the whole of the package DB, both parts.</p></div></div><a href="#g:2" id="g:2"><h1>Locking</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PackageDbLock" class="def">PackageDbLock</a> <a href="src/GHC.Unit.Database.html#PackageDbLock" class="link">Source</a> <a href="#t:PackageDbLock" class="selflink">#</a></p><div class="doc"><p>Represents a lock of a package db.</p></div></div><div class="top"><p class="src"><a id="v:lockPackageDb" class="def">lockPackageDb</a> :: <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="GHC-Unit-Database.html#t:PackageDbLock" title="GHC.Unit.Database">PackageDbLock</a> <a href="src/GHC.Unit.Database.html#lockPackageDb" class="link">Source</a> <a href="#v:lockPackageDb" class="selflink">#</a></p><div class="doc"><p>Acquire an exclusive lock related to package DB under given location.</p></div></div><div class="top"><p class="src"><a id="v:unlockPackageDb" class="def">unlockPackageDb</a> :: <a href="GHC-Unit-Database.html#t:PackageDbLock" title="GHC.Unit.Database">PackageDbLock</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/GHC.Unit.Database.html#unlockPackageDb" class="link">Source</a> <a href="#v:unlockPackageDb" class="selflink">#</a></p><div class="doc"><p>Release the lock related to package DB.</p></div></div><a href="#g:3" id="g:3"><h1>Misc</h1></a><div class="top"><p class="src"><a id="v:mkMungePathUrl" class="def">mkMungePathUrl</a> :: FilePathST -&gt; FilePathST -&gt; (FilePathST -&gt; FilePathST, FilePathST -&gt; FilePathST) <a href="src/GHC.Unit.Database.html#mkMungePathUrl" class="link">Source</a> <a href="#v:mkMungePathUrl" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mungeUnitInfoPaths" class="def">mungeUnitInfoPaths</a> :: FilePathST -&gt; FilePathST -&gt; <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> a b c d e -&gt; <a href="GHC-Unit-Database.html#t:GenericUnitInfo" title="GHC.Unit.Database">GenericUnitInfo</a> a b c d e <a href="src/GHC.Unit.Database.html#mungeUnitInfoPaths" class="link">Source</a> <a href="#v:mungeUnitInfoPaths" class="selflink">#</a></p><div class="doc"><p>Perform path/URL variable substitution as per the Cabal ${pkgroot} spec
 (http:/<em>www.haskell.org</em>pipermail<em>libraries</em>2009-May/011772.html)
 Paths/URLs can be relative to ${pkgroot} or ${pkgrooturl}.
 The &quot;pkgroot&quot; is the directory containing the package database.</p><p>Also perform a similar substitution for the older GHC-specific
 &quot;$topdir&quot; variable. The &quot;topdir&quot; is the location of the ghc
 installation (obtained from the -B option).</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>