<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Data.Singletons.ShowSing</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">singletons-3.0.4: Basic singleton types and definitions</span><ul class="links" id="page-menu"><li><a href="src/Data.Singletons.ShowSing.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(C) 2017 Ryan Scott</td></tr><tr><th>License</th><td>BSD-style (see LICENSE)</td></tr><tr><th>Maintainer</th><td>Ryan Scott</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.Singletons.ShowSing</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">The <code>ShowSing</code> type</a></li><li><a href="#g:2">Internal utilities</a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Defines the class <code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code> which is useful for defining <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> instances
 for singleton types. Because <code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code> crucially relies on
 <code>QuantifiedConstraints</code>, it is only defined if this library is built with
 GHC 8.6 or later.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">class</span> (<span class="keyword">forall</span> (z :: k). <a href="Data-Singletons-ShowSing.html#t:ShowSing-39-" title="Data.Singletons.ShowSing">ShowSing'</a> z) =&gt; <a href="#t:ShowSing">ShowSing</a> (k :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)</li><li class="src short"><span class="keyword">class</span> (<span class="keyword">forall</span> (sing :: k -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). sing <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a> =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> (sing z)) =&gt; <a href="#t:ShowSing-39-">ShowSing'</a> (z :: k)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>The <code>ShowSing</code> type</h1></a><div class="top"><p class="src"><span class="keyword">class</span> (<span class="keyword">forall</span> (z :: k). <a href="Data-Singletons-ShowSing.html#t:ShowSing-39-" title="Data.Singletons.ShowSing">ShowSing'</a> z) =&gt; <a id="t:ShowSing" class="def">ShowSing</a> (k :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="src/Data.Singletons.ShowSing.html#ShowSing" class="link">Source</a> <a href="#t:ShowSing" class="selflink">#</a></p><div class="doc"><p>In addition to the promoted and singled versions of the <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> class that
 <code>singletons-base</code> provides, it is also useful to be able to directly define
 <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> instances for singleton types themselves. Doing so is almost entirely
 straightforward, as a derived <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> instance does 90 percent of the work.
 The last 10 percent&#8212;getting the right instance context&#8212;is a bit tricky, and
 that's where <code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code> comes into play.</p><p>As an example, let's consider the singleton type for lists. We want to write
 an instance with the following shape:</p><pre>instance ??? =&gt; <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code>SList</code> (z :: [k])) where
  showsPrec p <code>SNil</code> = showString &quot;SNil&quot;
  showsPrec p (<code>SCons</code> sx sxs) =
    showParen (p &gt; 10) $ showString &quot;SCons &quot; . showsPrec 11 sx
                       . showSpace . showsPrec 11 sxs
</pre><p>To figure out what should go in place of <code>???</code>, observe that we require the
 type of each field to also be <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> instances. In other words, we need
 something like <code>(<code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code><a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a></code> (a :: k)))</code>. But this isn't quite right, as the
 type variable <code>a</code> doesn't appear in the instance head. In fact, this <code>a</code>
 type is really referring to an existentially quantified type variable in the
 <code>SCons</code> constructor, so it doesn't make sense to try and use it like this.</p><p>Luckily, the <code>QuantifiedConstraints</code> language extension provides a solution
 to this problem. This lets you write a context of the form
 <code>(forall a. <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code><a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a></code> (a :: k)))</code>, which demands that there be an instance
 for <code><code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code><a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a></code> (a :: k))</code> that is parametric in the use of <code>a</code>.
 This lets us write something closer to this:</p><pre>instance (forall a. <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code><a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a></code> (a :: k))) =&gt; <code>SList</code> (<code><a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a></code> (z :: [k])) where ...
</pre><p>The <code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code> class is a thin wrapper around
 <code>(forall a. <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code><a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a></code> (a :: k)))</code>. With <code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code>, our final instance
 declaration becomes this:</p><pre>instance <code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code> k =&gt; <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code>SList</code> (z :: [k])) where ...
</pre><p>In fact, this instance can be derived:</p><pre>deriving instance <code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code> k =&gt; <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code>SList</code> (z :: [k]))
</pre><p>(Note that the actual definition of <code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code> is slightly more complicated
 than what this documentation might suggest. For the full story,
 refer to the documentation for <code><a href="Data-Singletons-ShowSing.html#t:ShowSing-39-" title="Data.Singletons.ShowSing">ShowSing'</a></code>.)</p><p>When singling a derived <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> instance, <code>singletons-th</code> will also generate
 a <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> instance for the corresponding singleton type using <code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code>.
 In other words, if you give <code>singletons-th</code> a derived <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> instance, then
 you'll receive the following in return:</p><ul><li>A promoted (<code>PShow</code>) instance</li><li>A singled (<code>SShow</code>) instance</li><li>A <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> instance for the singleton type</li></ul><p>What a bargain!</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ShowSing">Instances</h4><details id="i:ShowSing" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShowSing:ShowSing:1"></span> (<span class="keyword">forall</span> (z :: k). <a href="Data-Singletons-ShowSing.html#t:ShowSing-39-" title="Data.Singletons.ShowSing">ShowSing'</a> z) =&gt; <a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a> k</span> <a href="src/Data.Singletons.ShowSing.html#line-125" class="link">Source</a> <a href="#t:ShowSing" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShowSing:ShowSing:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Singletons-ShowSing.html">Data.Singletons.ShowSing</a></p></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1>Internal utilities</h1></a><div class="top"><p class="src"><span class="keyword">class</span> (<span class="keyword">forall</span> (sing :: k -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). sing <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a> =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> (sing z)) =&gt; <a id="t:ShowSing-39-" class="def">ShowSing'</a> (z :: k) <a href="src/Data.Singletons.ShowSing.html#ShowSing%27" class="link">Source</a> <a href="#t:ShowSing-39-" class="selflink">#</a></p><div class="doc"><p>The workhorse that powers <code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code>. The only reason that <code><a href="Data-Singletons-ShowSing.html#t:ShowSing-39-" title="Data.Singletons.ShowSing">ShowSing'</a></code>
 exists is to work around GHC's inability to put type families in the head
 of a quantified constraint (see
 <a href="https://gitlab.haskell.org/ghc/ghc/issues/14860">this GHC issue</a> for more
 details on this point). In other words, GHC will not let you define
 <code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code> like so:</p><pre>class (forall (z :: k). <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code><a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a></code> z)) =&gt; <code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code> k
</pre><p>By replacing <code><code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code><a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a></code> z)</code> with <code>ShowSing' z</code>, we are able to avoid
 this restriction for the most part.</p><p>The superclass of <code><a href="Data-Singletons-ShowSing.html#t:ShowSing-39-" title="Data.Singletons.ShowSing">ShowSing'</a></code> is a bit peculiar:</p><pre>class (forall (sing :: k -&gt; Type). sing ~ <code><a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a></code> =&gt; <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (sing z)) =&gt; <code><a href="Data-Singletons-ShowSing.html#t:ShowSing-39-" title="Data.Singletons.ShowSing">ShowSing'</a></code> (z :: k)
</pre><p>One might wonder why this superclass is used instead of this seemingly more
 direct equivalent:</p><pre>class <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code><a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a></code> z) =&gt; <code><a href="Data-Singletons-ShowSing.html#t:ShowSing-39-" title="Data.Singletons.ShowSing">ShowSing'</a></code> (z :: k)
</pre><p>Actually, these aren't equivalent! The latter's superclass mentions a type
 family in its head, and this gives GHC's constraint solver trouble when
 trying to match this superclass against other constraints. (See the
 discussion beginning at
 <a href="https://gitlab.haskell.org/ghc/ghc/-/issues/16365#note_189057">https://gitlab.haskell.org/ghc/ghc/-/issues/16365#note_189057</a> for more on
 this point). The former's superclass, on the other hand, does <em>not</em> mention
 a type family in its head, which allows it to match other constraints more
 easily. It may sound like a small difference, but it's the only reason that
 <code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code> is able to work at all without a significant amount of additional
 workarounds.</p><p>The quantified superclass has one major downside. Although the head of the
 quantified superclass is more eager to match, which is usually a good thing,
 it can bite under certain circumstances. Because <code><code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (sing z)</code> will
 match a <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> instance for <em>any</em> types <code>sing :: k -&gt; Type</code> and <code>z :: k</code>,
 (where <code>k</code> is a kind variable), it is possible for GHC's constraint solver
 to get into a situation where multiple instances match <code><code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (sing z)</code>,
 and GHC will get confused as a result. Consider this example:</p><pre>-- As in <a href="Data-Singletons.html">Data.Singletons</a>
newtype <code><a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a></code> :: forall k. k -&gt; Type where
  <code><a href="Data-Singletons.html#v:WrapSing" title="Data.Singletons">WrapSing</a></code> :: forall k (a :: k). { <code><a href="Data-Singletons.html#v:unwrapSing" title="Data.Singletons">unwrapSing</a></code> :: <code><a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a></code> a } -&gt; <code><a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a></code> a

instance <code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code> k =&gt; <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code><a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a></code> (a :: k)) where
  <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#v:showsPrec" title="Text.Show">showsPrec</a></code> _ s = <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#v:showString" title="Text.Show">showString</a></code> &quot;WrapSing {unwrapSing = &quot; . showsPrec 0 s . showChar '}'
</pre><p>When typechecking the <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> instance for <code><a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a></code>, GHC must fill in a
 default definition <code><code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#v:show" title="Text.Show">show</a></code> = defaultShow</code>, where
 <code>defaultShow :: <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code><a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a></code> a) =&gt; <code><a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a></code> a -&gt; <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a></code></code>.
 GHC's constraint solver has two possible ways to satisfy the
 <code><code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code><a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a></code> a)</code> constraint for <code>defaultShow</code>:</p><ol><li value="1">The top-level instance declaration for <code><code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code><a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a></code> (a :: k))</code>
    itself, and</li><li value="2"><code><code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (sing (z :: k))</code> from the head of the quantified constraint arising
    from <code><code><a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a></code> k</code>.</li></ol><p>In practice, GHC will choose (2), as local quantified constraints shadow
 global constraints. This confuses GHC greatly, causing it to error out with
 an error akin to <code>Couldn't match type Sing with WrappedSing</code>. See
 <a href="https://gitlab.haskell.org/ghc/ghc/-/issues/17934">https://gitlab.haskell.org/ghc/ghc/-/issues/17934</a> for a full diagnosis of
 the issue.</p><p>The bad news is that because of GHC#17934, we have to manually define <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#v:show" title="Text.Show">show</a></code>
 (and <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#v:showList" title="Text.Show">showList</a></code>) in the <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> instance for <code><a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a></code> in order to avoid
 confusing GHC's constraint solver. In other words, <code>deriving <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code></code> is a
 no-go for <code><a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a></code>. The good news is that situations like <code><a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a></code>
 are quite rare in the world of <code>singletons</code>&#8212;most of the time, <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code>
 instances for singleton types do <em>not</em> have the shape
 <code><code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (sing (z :: k))</code>, where <code>k</code> is a polymorphic kind variable. Rather,
 most such instances instantiate <code>k</code> to a specific kind (e.g., <code>Bool</code>, or
 <code>[a]</code>), which means that they will not overlap the head of the quantified
 superclass in <code><a href="Data-Singletons-ShowSing.html#t:ShowSing-39-" title="Data.Singletons.ShowSing">ShowSing'</a></code> as observed above.</p><p>Note that we define the single instance for <code><a href="Data-Singletons-ShowSing.html#t:ShowSing-39-" title="Data.Singletons.ShowSing">ShowSing'</a></code> without the use of a
 quantified constraint in the instance context:</p><pre>instance <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a></code> (<code><a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a></code> z) =&gt; <code><a href="Data-Singletons-ShowSing.html#t:ShowSing-39-" title="Data.Singletons.ShowSing">ShowSing'</a></code> (z :: k)
</pre><p>We <em>could</em> define this instance with a quantified constraint in the instance
 context, and it would be equally as expressive. But it doesn't provide any
 additional functionality that the non-quantified version gives, so we opt
 for the non-quantified version, which is easier to read.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ShowSing-39-">Instances</h4><details id="i:ShowSing-39-" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ShowSing-39-:ShowSing-39-:1"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Data-Singletons.html#t:Sing" title="Data.Singletons">Sing</a> z) =&gt; <a href="Data-Singletons-ShowSing.html#t:ShowSing-39-" title="Data.Singletons.ShowSing">ShowSing'</a> (z :: k)</span> <a href="src/Data.Singletons.ShowSing.html#line-227" class="link">Source</a> <a href="#t:ShowSing-39-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ShowSing-39-:ShowSing-39-:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Singletons-ShowSing.html">Data.Singletons.ShowSing</a></p></details></td></tr></table></details></div></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:Show:Show:1"></span> <a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a> k =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a> a)</span> <a href="src/Data.Singletons.ShowSing.html#line-309" class="link">Source</a> <a href="#v:-36-fShowWrappedSing" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:Show:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Data-Singletons.html#t:WrappedSing" title="Data.Singletons">WrappedSing</a> a] -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:Show:Show:2"></span> <a href="Data-Singletons-ShowSing.html#t:ShowSing" title="Data.Singletons.ShowSing">ShowSing</a> k =&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Data-Singletons.html#t:SWrappedSing" title="Data.Singletons">SWrappedSing</a> ws)</span> <a href="src/Data.Singletons.ShowSing.html#line-318" class="link">Source</a> <a href="#v:-36-fShowSWrappedSing" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:Show:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-Singletons.html#t:SWrappedSing" title="Data.Singletons">SWrappedSing</a> ws -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Data-Singletons.html#t:SWrappedSing" title="Data.Singletons">SWrappedSing</a> ws -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Data-Singletons.html#t:SWrappedSing" title="Data.Singletons">SWrappedSing</a> ws] -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>