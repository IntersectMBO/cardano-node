<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Control.Concurrent.Chan.Unagi.NoBlocking</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">unagi-chan-0.4.1.4: Fast concurrent queues with a Chan-like API, and more</span><ul class="links" id="page-menu"><li><a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Concurrent.Chan.Unagi.NoBlocking</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Creating channels</a></li><li><a href="#g:2">Channel operations</a><ul><li><a href="#g:3">Reading</a><ul><li><a href="#g:4">Utilities</a></li></ul></li><li><a href="#g:5">Writing</a></li><li><a href="#g:6">Broadcasting</a></li><li><a href="#g:7">Streaming</a></li></ul></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:newChan">newChan</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:InChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">InChan</a> a, <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a)</li><li class="src short"><span class="keyword">data</span> <a href="#t:InChan">InChan</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:OutChan">OutChan</a> a</li><li class="src short"><a href="#v:tryReadChan">tryReadChan</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a)</li><li class="src short"><a href="#v:readChan">readChan</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Element">Element</a> a = <a href="#v:Element">Element</a> {<ul class="subs"><li><a href="#v:tryRead">tryRead</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li></ul>}</li><li class="src short"><a href="#v:isActive">isActive</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:writeChan">writeChan</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:InChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">InChan</a> a -&gt; a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:writeList2Chan">writeList2Chan</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:InChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">InChan</a> a -&gt; [a] -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:dupChan">dupChan</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:InChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">InChan</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Stream">Stream</a> a = <a href="#v:Stream">Stream</a> {<ul class="subs"><li><a href="#v:tryReadNext">tryReadNext</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Next" title="Control.Concurrent.Chan.Unagi.NoBlocking">Next</a> a)</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:Next">Next</a> a<ul class="subs"><li>= <a href="#v:Next">Next</a> a (<a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Stream" title="Control.Concurrent.Chan.Unagi.NoBlocking">Stream</a> a)</li><li>| <a href="#v:Pending">Pending</a></li></ul></li><li class="src short"><a href="#v:streamChan">streamChan</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Stream" title="Control.Concurrent.Chan.Unagi.NoBlocking">Stream</a> a]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="doc"><p>General-purpose concurrent FIFO queue without blocking reads, and with
   optimized variants for single-threaded producers and/or consumers.  This
   variant, and even more so the SP/SC variants, offer the lowest latency of
   all of the implementations in this library.</p></div><a href="#g:1" id="g:1"><h1>Creating channels</h1></a><div class="top"><p class="src"><a id="v:newChan" class="def">newChan</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:InChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">InChan</a> a, <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a) <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.html#newChan" class="link">Source</a> <a href="#v:newChan" class="selflink">#</a></p><div class="doc"><p>Create a new channel, returning its write and read ends.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InChan" class="def">InChan</a> a <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Internal.html#InChan" class="link">Source</a> <a href="#t:InChan" class="selflink">#</a></p><div class="doc"><p>The write end of a channel created with <code>newChan</code>.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:InChan">Instances</h4><details id="i:InChan" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InChan:Eq:1"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:InChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">InChan</a> a)</span> <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Internal.html#line-49" class="link">Source</a> <a href="#t:InChan" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InChan:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Concurrent-Chan-Unagi-NoBlocking-Internal.html">Control.Concurrent.Chan.Unagi.NoBlocking.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:InChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">InChan</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:InChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">InChan</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:InChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">InChan</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:InChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">InChan</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:OutChan" class="def">OutChan</a> a <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Internal.html#OutChan" class="link">Source</a> <a href="#t:OutChan" class="selflink">#</a></p><div class="doc"><p>The read end of a channel created with <code>newChan</code>.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:OutChan">Instances</h4><details id="i:OutChan" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OutChan:Eq:1"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a)</span> <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Internal.html#line-54" class="link">Source</a> <a href="#t:OutChan" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OutChan:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Concurrent-Chan-Unagi-NoBlocking-Internal.html">Control.Concurrent.Chan.Unagi.NoBlocking.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1>Channel operations</h1></a><a href="#g:3" id="g:3"><h2>Reading</h2></a><div class="top"><p class="src"><a id="v:tryReadChan" class="def">tryReadChan</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a) <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Internal.html#tryReadChan" class="link">Source</a> <a href="#v:tryReadChan" class="selflink">#</a></p><div class="doc"><p>Returns immediately with an <code><code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a></code> a</code> future, which returns one
 unique element when it becomes available via <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:tryRead" title="Control.Concurrent.Chan.Unagi.NoBlocking">tryRead</a></code>.</p><p><em>Note</em>: This is a destructive operation. See <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a></code> for more details.</p><p><em>Note re. exceptions</em>: When an async exception is raised during a <code>tryReadChan</code> 
 the message that the read would have returned is likely to be lost, just as
 it would be when raised directly after this function returns.</p></div></div><div class="top"><p class="src"><a id="v:readChan" class="def">readChan</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> a <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Internal.html#readChan" class="link">Source</a> <a href="#v:readChan" class="selflink">#</a></p><div class="doc"><p><code>readChan io c</code> returns the next element from <code>c</code>, calling <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:tryReadChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">tryReadChan</a></code>
 and looping on the <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a></code> returned, and calling <code>io</code> at each iteration
 when the element is not yet available. It throws <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Exception-Base.html#t:BlockedIndefinitelyOnMVar" title="Control.Exception.Base">BlockedIndefinitelyOnMVar</a></code>
 when <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:isActive" title="Control.Concurrent.Chan.Unagi.NoBlocking">isActive</a></code> determines that a value will never be returned.</p><p>When used like <code>readChan <code>yield</code></code> or <code>readChan (<code>threadDelay</code> 10)</code> this is
 the semantic equivalent to the blocking <code>readChan</code> in the other
 implementations.</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Element" class="def">Element</a> a <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Types.html#Element" class="link">Source</a> <a href="#t:Element" class="selflink">#</a></p><div class="doc"><p>An <code>IO</code> action that returns a particular enqueued element when and if it
 becomes available. </p><p>Each <code>Element</code> corresponds to a particular enqueued element, i.e. a returned
 <code>Element</code> always offers the only means to access one particular enqueued
 item. The value returned by <code>tryRead</code> moves monotonically from <code>Nothing</code>
 to <code>Just a</code> when and if an element becomes available, and is idempotent at
 that point.</p><p>So for instance:</p><pre>   (in, out) &lt;- newChan
   (el, _) &lt;- tryReadChan out  -- READ FROM EMPTY CHAN
   writeChan in &quot;msg1&quot;
   writeChan in &quot;msg2&quot;
   readChan out        -- RETURNS &quot;msg2&quot;
   tryRead el          -- RETURNS &quot;msg1&quot; (which would otherwise be lost)
</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Element" class="def">Element</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:tryRead" class="def">tryRead</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Element">Instances</h4><details id="i:Element" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Element:MonadFail:1"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a></span> <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Types.html#line-66" class="link">Source</a> <a href="#t:Element" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Element:MonadFail:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Concurrent-Chan-Unagi-NoBlocking-Types.html">Control.Concurrent.Chan.Unagi.NoBlocking.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fail">fail</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:fail" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Element:MonadFix:2"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a></span> <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Types.html#line-78" class="link">Source</a> <a href="#t:Element" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Element:MonadFix:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Concurrent-Chan-Unagi-NoBlocking-Types.html">Control.Concurrent.Chan.Unagi.NoBlocking.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mfix">mfix</a> :: (a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a) -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:mfix" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Element:Alternative:3"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Applicative.html#t:Alternative" title="Control.Applicative">Alternative</a> <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a></span> <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Types.html#line-54" class="link">Source</a> <a href="#t:Element" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Element:Alternative:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Concurrent-Chan-Unagi-NoBlocking-Types.html">Control.Concurrent.Chan.Unagi.NoBlocking.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:empty">empty</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:empty" class="selflink">#</a></p><p class="src"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:-60--124--62-" class="selflink">#</a></p><p class="src"><a href="#v:some">some</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> [a] <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:some" class="selflink">#</a></p><p class="src"><a href="#v:many">many</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> [a] <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:many" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Element:Applicative:4"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a></span> <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Types.html#line-50" class="link">Source</a> <a href="#t:Element" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Element:Applicative:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Concurrent-Chan-Unagi-NoBlocking-Types.html">Control.Concurrent.Chan.Unagi.NoBlocking.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> (a -&gt; b) -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> b <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> b -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> c <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> b -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> b <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> b -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Element:Functor:5"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a></span> <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Types.html#line-47" class="link">Source</a> <a href="#t:Element" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Element:Functor:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Concurrent-Chan-Unagi-NoBlocking-Types.html">Control.Concurrent.Chan.Unagi.NoBlocking.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> b <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> b -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Element:Monad:6"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a></span> <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Types.html#line-58" class="link">Source</a> <a href="#t:Element" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Element:Monad:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Concurrent-Chan-Unagi-NoBlocking-Types.html">Control.Concurrent.Chan.Unagi.NoBlocking.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a -&gt; (a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> b) -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> b <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> b -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> b <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Element:MonadPlus:7"></span> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Control-Monad.html#t:MonadPlus" title="Control.Monad">MonadPlus</a> <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a></span> <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Types.html#line-70" class="link">Source</a> <a href="#t:Element" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Element:MonadPlus:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Concurrent-Chan-Unagi-NoBlocking-Types.html">Control.Concurrent.Chan.Unagi.NoBlocking.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mzero">mzero</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:mzero" class="selflink">#</a></p><p class="src"><a href="#v:mplus">mplus</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Element" title="Control.Concurrent.Chan.Unagi.NoBlocking">Element</a> a <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src" class="link">Source</a> <a href="#v:mplus" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:4" id="g:4"><h3>Utilities</h3></a><div class="top"><p class="src"><a id="v:isActive" class="def">isActive</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Internal.html#isActive" class="link">Source</a> <a href="#v:isActive" class="selflink">#</a></p><div class="doc"><p>An action that returns <code>False</code> sometime after the chan no longer has any
 writers.</p><p>After <code>False</code> is returned, any <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:tryRead" title="Control.Concurrent.Chan.Unagi.NoBlocking">tryRead</a></code> which returns <code>Nothing</code> can
 be considered to be dead. Likewise for <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:tryReadNext" title="Control.Concurrent.Chan.Unagi.NoBlocking">tryReadNext</a></code>. Note that in the
 blocking implementations a <code>BlockedIndefinitelyOnMVar</code> exception is raised,
 so this function is unnecessary.</p></div></div><a href="#g:5" id="g:5"><h2>Writing</h2></a><div class="top"><p class="src"><a id="v:writeChan" class="def">writeChan</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:InChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">InChan</a> a -&gt; a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Internal.html#writeChan" class="link">Source</a> <a href="#v:writeChan" class="selflink">#</a></p><div class="doc"><p>Write a value to the channel.</p></div></div><div class="top"><p class="src"><a id="v:writeList2Chan" class="def">writeList2Chan</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:InChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">InChan</a> a -&gt; [a] -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.html#writeList2Chan" class="link">Source</a> <a href="#v:writeList2Chan" class="selflink">#</a></p><div class="doc"><p>Write an entire list of items to a chan type. Writes here from multiple
 threads may be interleaved, and infinite lists are supported.</p></div></div><a href="#g:6" id="g:6"><h2>Broadcasting</h2></a><div class="top"><p class="src"><a id="v:dupChan" class="def">dupChan</a> :: <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:InChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">InChan</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a) <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Internal.html#dupChan" class="link">Source</a> <a href="#v:dupChan" class="selflink">#</a></p><div class="doc"><p>Duplicate a chan: the returned <code>OutChan</code> begins empty, but data written to
 the argument <code>InChan</code> from then on will be available from both the original
 <code>OutChan</code> and the one returned here, creating a kind of broadcast channel.</p><p>See also <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:streamChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">streamChan</a></code> for a faster alternative that might be appropriate.</p></div></div><a href="#g:7" id="g:7"><h2>Streaming</h2></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Stream" class="def">Stream</a> a <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Types.html#Stream" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></p><div class="doc"><p>An infinite stream of elements. <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:tryReadNext" title="Control.Concurrent.Chan.Unagi.NoBlocking">tryReadNext</a></code> can be called any number of
 times from multiple threads, and returns a value which moves monotonically
 from <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:Pending" title="Control.Concurrent.Chan.Unagi.NoBlocking">Pending</a></code> to <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Next" title="Control.Concurrent.Chan.Unagi.NoBlocking">Next</a></code> if and when a head element becomes available. 
 <code>isActive</code> can be used to determine if the stream has expired.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Stream" class="def">Stream</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:tryReadNext" class="def">tryReadNext</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Next" title="Control.Concurrent.Chan.Unagi.NoBlocking">Next</a> a)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Next" class="def">Next</a> a <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Types.html#Next" class="link">Source</a> <a href="#t:Next" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Next" class="def">Next</a> a (<a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Stream" title="Control.Concurrent.Chan.Unagi.NoBlocking">Stream</a> a)</td><td class="doc"><p>The next head element along with the tail <code>Stream</code>.</p></td></tr><tr><td class="src"><a id="v:Pending" class="def">Pending</a></td><td class="doc"><p>The next element is not yet in the queue; you can retry <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:tryReadNext" title="Control.Concurrent.Chan.Unagi.NoBlocking">tryReadNext</a></code> until a <code>Next</code> is returned.</p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:streamChan" class="def">streamChan</a> :: <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:OutChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">OutChan</a> a -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Stream" title="Control.Concurrent.Chan.Unagi.NoBlocking">Stream</a> a] <a href="src/Control.Concurrent.Chan.Unagi.NoBlocking.Internal.html#streamChan" class="link">Source</a> <a href="#v:streamChan" class="selflink">#</a></p><div class="doc"><p>Produce the specified number of interleaved &quot;streams&quot; from a chan.
 Nextuming a <code><a href="UI.html#v:Stream" title="UI">Stream</a></code> is much faster than calling <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:tryReadChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">tryReadChan</a></code>, and
 might be useful when an MPSC queue is needed, or when multiple consumers
 should be load-balanced in a round-robin fashion. </p><p>Usage example:</p><pre>  do mapM_ (<code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:writeChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">writeChan</a></code> i) [1..9]
     [str1, str2, str2] &lt;- <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:streamChan" title="Control.Concurrent.Chan.Unagi.NoBlocking">streamChan</a></code> 3 o
     forkIO $ printStream str1   -- prints: 1,4,7
     forkIO $ printStream str2   -- prints: 2,5,8
     forkIO $ printStream str3   -- prints: 3,6,9
   where 
     printStream str = do
       h &lt;- <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:tryReadNext" title="Control.Concurrent.Chan.Unagi.NoBlocking">tryReadNext</a></code> str
       case h of
         <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Next" title="Control.Concurrent.Chan.Unagi.NoBlocking">Next</a></code> a str' -&gt; print a &gt;&gt; printStream str'
         -- We know that all values were already written, so a Pending tells 
         -- us we can exit; in other cases we might call <code>yield</code> and then 
         -- retry that same <code><code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:tryReadNext" title="Control.Concurrent.Chan.Unagi.NoBlocking">tryReadNext</a></code> str</code>:
         <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#v:Pending" title="Control.Concurrent.Chan.Unagi.NoBlocking">Pending</a></code> -&gt; return ()
</pre><p>Be aware: if one stream consumer falls behind another (e.g. because it is
 slower) the number of elements in the queue which can't be GC'd will grow.
 You may want to do some coordination of <code><a href="Control-Concurrent-Chan-Unagi-NoBlocking.html#t:Stream" title="Control.Concurrent.Chan.Unagi.NoBlocking">Stream</a></code> consumers to prevent
 this.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>