<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Network.DNS.Lookup</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">dns-4.2.0: DNS library in Haskell</span><ul class="links" id="page-menu"><li><a href="src/Network.DNS.Lookup.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Network.DNS.Lookup</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Simple, high-level DNS lookup functions for clients.</p><p>All of the lookup functions necessary run in IO since they
   interact with the network. The return types are similar, but
   differ in what can be returned from a successful lookup.</p><p>We can think of the return type as either &quot;what I asked for&quot; or
   &quot;an error&quot;. For example, the <code><a href="Network-DNS-Lookup.html#v:lookupA" title="Network.DNS.Lookup">lookupA</a></code> function, if successful,
   will return a list of <code>IPv4</code>. The <code><a href="Network-DNS-Lookup.html#v:lookupMX" title="Network.DNS.Lookup">lookupMX</a></code> function will
   instead return a list of <code>(<code><a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a></code>,<code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></code>)</code> pairs, where each pair
   represents a hostname and its associated priority.</p><p>The order of multiple results may not be consistent between
   lookups. If you require consistent results, apply
   <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-List.html#v:sort" title="Data.List">sort</a></code> to the returned list.</p><p>The errors that can occur are the same for all lookups. Namely:</p><ul><li>Timeout</li><li>Wrong sequence number (foul play?)</li><li>Unexpected data in the response</li></ul><p>If an error occurs, you should be able to pattern match on the
   <code><a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a></code> constructor to determine which of these is the case.</p><p><em>Note</em>: A result of &quot;no records&quot; is not considered an
   error. If you perform, say, an 'AAAA' lookup for a domain with
   no such records, the &quot;success&quot; result would be <code>Right []</code>.</p><p>We perform a successful lookup of &quot;www.example.com&quot;:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let hostname = Data.ByteString.Char8.pack &quot;www.example.com&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs &lt;- makeResolvSeed defaultResolvConf
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>withResolver rs $ \resolver -&gt; lookupA resolver hostname
</code></strong>Right [93.184.216.34]
</pre><p>The only error that we can easily cause is a timeout. We do this
   by creating and utilizing a <code><a href="Network-DNS-Resolver.html#t:ResolvConf" title="Network.DNS.Resolver">ResolvConf</a></code> which has a timeout of
   one millisecond and a very limited number of retries:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let hostname2 = Data.ByteString.Char8.pack &quot;www.example.com&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let badrc = defaultResolvConf { resolvTimeout = 0, resolvRetry = 1 }
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs2 &lt;- makeResolvSeed badrc
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>withResolver rs2 $ \resolver -&gt; lookupA resolver hostname2
</code></strong>Left RetryLimitExceeded
</pre><p>As is the convention, successful results will always be wrapped
   in a <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#v:Right" title="Data.Either">Right</a></code> while errors will be wrapped in a <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#v:Left" title="Data.Either">Left</a></code>.</p><p>For convenience, you may wish to enable GHC's OverloadedStrings
   extension. This will allow you to avoid calling
   <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/Data-ByteString-Char8.html#v:pack" title="Data.ByteString.Char8">pack</a></code> on each domain name. See
   <a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/glasgow_exts.html#overloaded-string-literals">https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/glasgow_exts.html#overloaded-string-literals</a>
   for more information. In the following examples,
   we assuem this extension is enabled.</p><p>All lookup functions eventually call <code><a href="Network-DNS-LookupRaw.html#v:lookupRaw" title="Network.DNS.LookupRaw">lookupRaw</a></code>. See its documentation
   to understand the concrete lookup behavior.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:lookupA">lookupA</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [IPv4])</li><li class="src short"><a href="#v:lookupAAAA">lookupAAAA</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [IPv6])</li><li class="src short"><a href="#v:lookupMX">lookupMX</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [(<a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>)])</li><li class="src short"><a href="#v:lookupAviaMX">lookupAviaMX</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [IPv4])</li><li class="src short"><a href="#v:lookupAAAAviaMX">lookupAAAAviaMX</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [IPv6])</li><li class="src short"><a href="#v:lookupNS">lookupNS</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [<a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a>])</li><li class="src short"><a href="#v:lookupNSAuth">lookupNSAuth</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [<a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a>])</li><li class="src short"><a href="#v:lookupTXT">lookupTXT</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>])</li><li class="src short"><a href="#v:lookupSOA">lookupSOA</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [(<a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a>, <a href="Network-DNS-Types.html#t:Mailbox" title="Network.DNS.Types">Mailbox</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word32" title="Data.Word">Word32</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word32" title="Data.Word">Word32</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word32" title="Data.Word">Word32</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word32" title="Data.Word">Word32</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word32" title="Data.Word">Word32</a>)])</li><li class="src short"><a href="#v:lookupPTR">lookupPTR</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [<a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a>])</li><li class="src short"><a href="#v:lookupRDNS">lookupRDNS</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [<a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a>])</li><li class="src short"><a href="#v:lookupSRV">lookupSRV</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [(<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word16" title="Data.Word">Word16</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word16" title="Data.Word">Word16</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word16" title="Data.Word">Word16</a>, <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a>)])</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:lookupA" class="def">lookupA</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [IPv4]) <a href="src/Network.DNS.Lookup.html#lookupA" class="link">Source</a> <a href="#v:lookupA" class="selflink">#</a></p><div class="doc"><p>Look up all 'A' records for the given hostname.</p><p>A straightforward example:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs &lt;- makeResolvSeed defaultResolvConf
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>withResolver rs $ \resolver -&gt; lookupA resolver &quot;192.0.2.1.nip.io&quot;
</code></strong>Right [192.0.2.1]
</pre><p>This function will also follow a CNAME and resolve its target if
   one exists for the queried hostname:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs2 &lt;- makeResolvSeed defaultResolvConf
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>withResolver rs2 $ \resolver -&gt; lookupA resolver &quot;www.kame.net&quot;
</code></strong>Right [210.155.141.200]
</pre></div></div><div class="top"><p class="src"><a id="v:lookupAAAA" class="def">lookupAAAA</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [IPv6]) <a href="src/Network.DNS.Lookup.html#lookupAAAA" class="link">Source</a> <a href="#v:lookupAAAA" class="selflink">#</a></p><div class="doc"><p>Look up all (IPv6) 'AAAA' records for the given hostname.</p><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs &lt;- makeResolvSeed defaultResolvConf
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>withResolver rs $ \resolver -&gt; lookupAAAA resolver &quot;www.wide.ad.jp&quot;
</code></strong>Right [2001:200:0:180c:20c:29ff:fec9:9d61]
</pre></div></div><div class="top"><p class="src"><a id="v:lookupMX" class="def">lookupMX</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [(<a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a>)]) <a href="src/Network.DNS.Lookup.html#lookupMX" class="link">Source</a> <a href="#v:lookupMX" class="selflink">#</a></p><div class="doc"><p>Look up all 'MX' records for the given hostname. Two parts
   constitute an MX record: a hostname , and an integer priority. We
   therefore return each record as a <code>(<code><a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a></code>, Int)</code>.</p><p>In this first example, we look up the MX for the domain &quot;example.com&quot;.
   It has an RFC7505 NULL MX (to prevent a deluge of spam from examples
   posted on the internet).</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs &lt;- makeResolvSeed defaultResolvConf
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>withResolver rs $ \resolver -&gt; lookupMX resolver &quot;example.com&quot;
</code></strong>Right [(&quot;.&quot;,0)]
</pre><p>The domain &quot;mew.org&quot; does however have a single MX:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs2 &lt;- makeResolvSeed defaultResolvConf
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>withResolver rs2 $ \resolver -&gt; lookupMX resolver &quot;mew.org&quot;
</code></strong>Right [(&quot;mail.mew.org.&quot;,10)]
</pre><p>Also note that all hostnames are returned with a trailing dot to
   indicate the DNS root.</p><p>However the MX host itself has no need for an MX record, so its MX RRset
   is empty.  But, &quot;no results&quot; is still a successful result.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs3 &lt;- makeResolvSeed defaultResolvConf
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>withResolver rs3 $ \resolver -&gt; lookupMX resolver &quot;mail.mew.org&quot;
</code></strong>Right []
</pre></div></div><div class="top"><p class="src"><a id="v:lookupAviaMX" class="def">lookupAviaMX</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [IPv4]) <a href="src/Network.DNS.Lookup.html#lookupAviaMX" class="link">Source</a> <a href="#v:lookupAviaMX" class="selflink">#</a></p><div class="doc"><p>Look up all 'MX' records for the given hostname, and then
   resolve their hostnames to IPv4 addresses by calling
   <code><a href="Network-DNS-Lookup.html#v:lookupA" title="Network.DNS.Lookup">lookupA</a></code>. The priorities are not retained.</p><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import Data.List (sort)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs &lt;- makeResolvSeed defaultResolvConf
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ips &lt;- withResolver rs $ \resolver -&gt; lookupAviaMX resolver &quot;wide.ad.jp&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>fmap sort ips
</code></strong>Right [203.178.136.30]
</pre><p>Since there is more than one result, it is necessary to sort the
   list in order to check for equality.</p></div></div><div class="top"><p class="src"><a id="v:lookupAAAAviaMX" class="def">lookupAAAAviaMX</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [IPv6]) <a href="src/Network.DNS.Lookup.html#lookupAAAAviaMX" class="link">Source</a> <a href="#v:lookupAAAAviaMX" class="selflink">#</a></p><div class="doc"><p>Look up all 'MX' records for the given hostname, and then
   resolve their hostnames to IPv6 addresses by calling
   <code><a href="Network-DNS-Lookup.html#v:lookupAAAA" title="Network.DNS.Lookup">lookupAAAA</a></code>. The priorities are not retained.</p></div></div><div class="top"><p class="src"><a id="v:lookupNS" class="def">lookupNS</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [<a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a>]) <a href="src/Network.DNS.Lookup.html#lookupNS" class="link">Source</a> <a href="#v:lookupNS" class="selflink">#</a></p><div class="doc"><p>Look up all 'NS' records for the given hostname. The results
   are taken from the ANSWER section of the response (as opposed to
   AUTHORITY). For details, see e.g.
   <a href="http://www.zytrax.com/books/dns/ch15/">http://www.zytrax.com/books/dns/ch15/</a>.</p><p>There will typically be more than one name server for a
   domain. It is therefore extra important to sort the results if
   you prefer them to be at all deterministic.</p><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import Data.List (sort)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs &lt;- makeResolvSeed defaultResolvConf
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ns &lt;- withResolver rs $ \resolver -&gt; lookupNS resolver &quot;mew.org&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>fmap sort ns
</code></strong>Right [&quot;ns1.mew.org.&quot;,&quot;ns2.mew.org.&quot;]
</pre></div></div><div class="top"><p class="src"><a id="v:lookupNSAuth" class="def">lookupNSAuth</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [<a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a>]) <a href="src/Network.DNS.Lookup.html#lookupNSAuth" class="link">Source</a> <a href="#v:lookupNSAuth" class="selflink">#</a></p><div class="doc"><p>Look up all 'NS' records for the given hostname. The results
   are taken from the AUTHORITY section of the response and not the
   usual ANSWER (use <code><a href="Network-DNS-Lookup.html#v:lookupNS" title="Network.DNS.Lookup">lookupNS</a></code> for that). For details, see e.g.
   <a href="http://www.zytrax.com/books/dns/ch15/">http://www.zytrax.com/books/dns/ch15/</a>.</p><p>There will typically be more than one name server for a
   domain. It is therefore extra important to sort the results if
   you prefer them to be at all deterministic.</p><p>For an example, we can look up the nameservers for
   &quot;example.com&quot; from one of the root servers, a.gtld-servers.net,
   the IP address of which was found beforehand:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import Data.List (sort)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let ri = RCHostName &quot;192.5.6.30&quot; -- a.gtld-servers.net
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let rc = defaultResolvConf { resolvInfo = ri }
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs &lt;- makeResolvSeed rc
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ns &lt;- withResolver rs $ \resolver -&gt; lookupNSAuth resolver &quot;example.com&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>fmap sort ns
</code></strong>Right [&quot;a.iana-servers.net.&quot;,&quot;b.iana-servers.net.&quot;]
</pre></div></div><div class="top"><p class="src"><a id="v:lookupTXT" class="def">lookupTXT</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>]) <a href="src/Network.DNS.Lookup.html#lookupTXT" class="link">Source</a> <a href="#v:lookupTXT" class="selflink">#</a></p><div class="doc"><p>Look up all 'TXT' records for the given hostname. The results
   are free-form <code><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code>s.</p><p>Two common uses for 'TXT' records are
   <a href="http://en.wikipedia.org/wiki/Sender_Policy_Framework">http://en.wikipedia.org/wiki/Sender_Policy_Framework</a> and
   <a href="http://en.wikipedia.org/wiki/DomainKeys_Identified_Mail">http://en.wikipedia.org/wiki/DomainKeys_Identified_Mail</a>. As an
   example, we find the SPF record for &quot;mew.org&quot;:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs &lt;- makeResolvSeed defaultResolvConf
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>withResolver rs $ \resolver -&gt; lookupTXT resolver &quot;mew.org&quot;
</code></strong>Right [&quot;v=spf1 +mx -all&quot;]
</pre></div></div><div class="top"><p class="src"><a id="v:lookupSOA" class="def">lookupSOA</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [(<a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a>, <a href="Network-DNS-Types.html#t:Mailbox" title="Network.DNS.Types">Mailbox</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word32" title="Data.Word">Word32</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word32" title="Data.Word">Word32</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word32" title="Data.Word">Word32</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word32" title="Data.Word">Word32</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word32" title="Data.Word">Word32</a>)]) <a href="src/Network.DNS.Lookup.html#lookupSOA" class="link">Source</a> <a href="#v:lookupSOA" class="selflink">#</a></p><div class="doc"><p>Look up the 'SOA' record for the given domain. The result 7-tuple
   consists of the 'mname', 'rname', 'serial', 'refresh', 'retry',
   'expire' and 'minimum' fields of the SOA record.</p><p>An @ separator is used between the first and second labels of the
   'rname' field.  Since 'rname' is an email address, it often contains
   periods within its first label.  Presently, the trailing period is not
   removed from the domain part of the 'rname', but this may change in the
   future.  Users should be prepared to remove any trailing period before
   using the 'rname` as a contact email address.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs &lt;- makeResolvSeed defaultResolvConf
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>soa &lt;- withResolver rs $ \resolver -&gt; lookupSOA resolver &quot;mew.org&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>map (\ (mn, rn, _, _, _, _, _) -&gt; (mn, rn)) &lt;$&gt; soa
</code></strong>Right [(&quot;ns1.mew.org.&quot;,&quot;kazu@mew.org.&quot;)]
</pre></div></div><div class="top"><p class="src"><a id="v:lookupPTR" class="def">lookupPTR</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [<a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a>]) <a href="src/Network.DNS.Lookup.html#lookupPTR" class="link">Source</a> <a href="#v:lookupPTR" class="selflink">#</a></p><div class="doc"><p>Look up all 'PTR' records for the given hostname. To perform a
   reverse lookup on an IP address, you must first reverse its
   octets and then append the suffix &quot;.in-addr.arpa.&quot;</p><p>We look up the PTR associated with the IP address
   210.130.137.80, i.e., 80.137.130.210.in-addr.arpa:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs &lt;- makeResolvSeed defaultResolvConf
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>withResolver rs $ \resolver -&gt; lookupPTR resolver &quot;180.2.232.202.in-addr.arpa&quot;
</code></strong>Right [&quot;www.iij.ad.jp.&quot;]
</pre><p>The <code><a href="Network-DNS-Lookup.html#v:lookupRDNS" title="Network.DNS.Lookup">lookupRDNS</a></code> function is more suited to this particular task.</p></div></div><div class="top"><p class="src"><a id="v:lookupRDNS" class="def">lookupRDNS</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [<a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a>]) <a href="src/Network.DNS.Lookup.html#lookupRDNS" class="link">Source</a> <a href="#v:lookupRDNS" class="selflink">#</a></p><div class="doc"><p>Convenient wrapper around <code><a href="Network-DNS-Lookup.html#v:lookupPTR" title="Network.DNS.Lookup">lookupPTR</a></code> to perform a reverse lookup
   on a single IP address.</p><p>We repeat the example from <code><a href="Network-DNS-Lookup.html#v:lookupPTR" title="Network.DNS.Lookup">lookupPTR</a></code>, except now we pass the IP
   address directly:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs &lt;- makeResolvSeed defaultResolvConf
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>withResolver rs $ \resolver -&gt; lookupRDNS resolver &quot;202.232.2.180&quot;
</code></strong>Right [&quot;www.iij.ad.jp.&quot;]
</pre></div></div><div class="top"><p class="src"><a id="v:lookupSRV" class="def">lookupSRV</a> :: <a href="Network-DNS-Resolver.html#t:Resolver" title="Network.DNS.Resolver">Resolver</a> -&gt; <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a> -&gt; <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Network-DNS-Types.html#t:DNSError" title="Network.DNS.Types">DNSError</a> [(<a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word16" title="Data.Word">Word16</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word16" title="Data.Word">Word16</a>, <a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/Data-Word.html#t:Word16" title="Data.Word">Word16</a>, <a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a>)]) <a href="src/Network.DNS.Lookup.html#lookupSRV" class="link">Source</a> <a href="#v:lookupSRV" class="selflink">#</a></p><div class="doc"><p>Look up all 'SRV' records for the given hostname. SRV records
   consist (see <a href="https://tools.ietf.org/html/rfc2782">https://tools.ietf.org/html/rfc2782</a>) of the
   following four fields:</p><ul><li>Priority (lower is more-preferred)</li><li>Weight (relative frequency with which to use this record
       amongst all results with the same priority)</li><li>Port (the port on which the service is offered)</li><li>Target (the hostname on which the service is offered)</li></ul><p>The first three are integral, and the target is another DNS
   hostname. We therefore return a four-tuple
   <code>(Int,Int,Int,<code><a href="Network-DNS-Types.html#t:Domain" title="Network.DNS.Types">Domain</a></code>)</code>.</p><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rs &lt;- makeResolvSeed defaultResolvConf
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>withResolver rs $ \resolver -&gt; lookupSRV resolver &quot;_xmpp-server._tcp.jabber.ietf.org&quot;
</code></strong>Right [(5,0,5269,&quot;_dc-srv.6661af51975d._xmpp-server._tcp.jabber.ietf.org.&quot;)]
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>