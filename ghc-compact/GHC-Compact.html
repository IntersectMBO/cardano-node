<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>GHC.Compact</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ghc-compact-0.1.0.0: In memory storage of deeply evaluated data structure</span><ul class="links" id="page-menu"><li><a href="src/GHC.Compact.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) The University of Glasgow 2001-2009<br />(c) Giovanni Campagna &lt;gcampagn@cs.stanford.edu&gt; 2014</td></tr><tr><th>License</th><td>BSD-style (see the file LICENSE)</td></tr><tr><th>Maintainer</th><td>libraries@haskell.org</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>non-portable (GHC Extensions)</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">GHC.Compact</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">The Compact type</a></li><li><a href="#g:2">Compacting data</a></li><li><a href="#g:3">Inspecting a Compact</a></li><li><a href="#g:4">Other utilities</a></li><li><a href="#g:5">Internal operations</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides a data structure, called a <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code>, for
 holding immutable, fully evaluated data in a consecutive block of memory.
 Compact regions are good for two things:</p><ol><li value="1">Data in a compact region is not traversed during GC; any
  incoming pointer to a compact region keeps the entire region
  live.  Thus, if you put a long-lived data structure in a compact
  region, you may save a lot of cycles during major collections,
  since you will no longer be (uselessly) retraversing this
  data structure.</li><li value="2">Because the data is stored contiguously, you can easily
  dump the memory to disk and/or send it over the network.
  For applications that are not bandwidth bound (GHC's heap
  representation can be as much of a x4 expansion over a
  binary serialization), this can lead to substantial speedups.</li></ol><p>For example, suppose you have a function <code>loadBigStruct :: IO BigStruct</code>,
 which loads a large data structure from the file system.  You can &quot;compact&quot;
 the structure with the following code:</p><pre>     do r &lt;- <code><a href="GHC-Compact.html#v:compact" title="GHC.Compact">compact</a></code> =&lt;&lt; loadBigStruct
        let x = <code><a href="GHC-Compact.html#v:getCompact" title="GHC.Compact">getCompact</a></code> r :: BigStruct
        -- Do things with x
</pre><p>Note that <code><a href="GHC-Compact.html#v:compact" title="GHC.Compact">compact</a></code> will not preserve internal sharing; use
 <code><a href="GHC-Compact.html#v:compactWithSharing" title="GHC.Compact">compactWithSharing</a></code> (which is 10x slower) if you have cycles and/or
 must preserve sharing.  The <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code> pointer <code>r</code> can be used
 to add more data to a compact region; see <code><a href="GHC-Compact.html#v:compactAdd" title="GHC.Compact">compactAdd</a></code> or
 <code><a href="GHC-Compact.html#v:compactAddWithSharing" title="GHC.Compact">compactAddWithSharing</a></code>.</p><p>The implementation of compact regions is described by:</p><ul><li>Edward Z. Yang, Giovanni Campagna, &#214;mer A&#287;acan, Ahmed El-Hassany, Abhishek
    Kulkarni, Ryan Newton. &quot;/Efficient communication and Collection with Compact
    Normal Forms/&quot;. In Proceedings of the 20th ACM SIGPLAN International
    Conference on Functional Programming. September 2015. <a href="http://ezyang.com/compact.html">http://ezyang.com/compact.html</a></li></ul><p>This library is supported by GHC 8.2 and later.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Compact">Compact</a> a = <a href="#v:Compact">Compact</a> <a href="../base-4.18.3.0/GHC-Exts.html#t:Compact-35-" title="GHC.Exts">Compact#</a> a !(<a href="../base-4.18.3.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> ())</li><li class="src short"><a href="#v:compact">compact</a> :: a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a)</li><li class="src short"><a href="#v:compactWithSharing">compactWithSharing</a> :: a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a)</li><li class="src short"><a href="#v:compactAdd">compactAdd</a> :: <a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a)</li><li class="src short"><a href="#v:compactAddWithSharing">compactAddWithSharing</a> :: <a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a)</li><li class="src short"><a href="#v:getCompact">getCompact</a> :: <a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a -&gt; a</li><li class="src short"><a href="#v:inCompact">inCompact</a> :: <a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isCompact">isCompact</a> :: a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:compactSize">compactSize</a> :: <a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.3.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li class="src short"><a href="#v:compactResize">compactResize</a> :: <a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a -&gt; <a href="../base-4.18.3.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:mkCompact">mkCompact</a> :: <a href="../base-4.18.3.0/GHC-Exts.html#t:Compact-35-" title="GHC.Exts">Compact#</a> -&gt; a -&gt; <a href="../base-4.18.3.0/GHC-Exts.html#t:State-35-" title="GHC.Exts">State#</a> <a href="../base-4.18.3.0/Control-Monad-ST-Safe.html#t:RealWorld" title="Control.Monad.ST.Safe">RealWorld</a> -&gt; (# <a href="../base-4.18.3.0/GHC-Exts.html#t:State-35-" title="GHC.Exts">State#</a> <a href="../base-4.18.3.0/Control-Monad-ST-Safe.html#t:RealWorld" title="Control.Monad.ST.Safe">RealWorld</a>, <a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a #)</li><li class="src short"><a href="#v:compactSized">compactSized</a> :: <a href="../base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>The Compact type</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Compact" class="def">Compact</a> a <a href="src/GHC.Compact.html#Compact" class="link">Source</a> <a href="#t:Compact" class="selflink">#</a></p><div class="doc"><p>A <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code> contains fully evaluated, pure, immutable data.</p><p><code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code> serves two purposes:</p><ul><li>Data stored in a <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code> has no garbage collection overhead.
   The garbage collector considers the whole <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code> to be alive
   if there is a reference to any object within it.</li><li>A <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code> can be serialized, stored, and deserialized again.
   The serialized data can only be deserialized by the exact binary
   that created it, but it can be stored indefinitely before
   deserialization.</li></ul><p>Compacts are self-contained, so compacting data involves copying
 it; if you have data that lives in two <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code>s, each will have a
 separate copy of the data.</p><p>The cost of compaction is fully evaluating the data + copying it. However,
 because <code><a href="GHC-Compact.html#v:compact" title="GHC.Compact">compact</a></code> does not stop-the-world, retaining internal sharing during
 the compaction process is very costly. The user can choose whether to
 <code><a href="GHC-Compact.html#v:compact" title="GHC.Compact">compact</a></code> or <code><a href="GHC-Compact.html#v:compactWithSharing" title="GHC.Compact">compactWithSharing</a></code>.</p><p>When you have a <code><code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code> a</code>, you can get a pointer to the actual object
 in the region using <code><a href="GHC-Compact.html#v:getCompact" title="GHC.Compact">getCompact</a></code>.  The <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code> type
 serves as handle on the region itself; you can use this handle
 to add data to a specific <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code> with <code><a href="GHC-Compact.html#v:compactAdd" title="GHC.Compact">compactAdd</a></code> or
 <code><a href="GHC-Compact.html#v:compactAddWithSharing" title="GHC.Compact">compactAddWithSharing</a></code> (giving you a new handle which corresponds
 to the same compact region, but points to the newly added object
 in the region).  At the moment, due to technical reasons,
 it's not possible to get the <code><code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code> a</code> if you only have an <code>a</code>,
 so make sure you hold on to the handle as necessary.</p><p>Data in a compact doesn't ever move, so compacting data is also a
 way to pin arbitrary data structures in memory.</p><p>There are some limitations on what can be compacted:</p><ul><li>Functions.  Compaction only applies to data.</li><li>Pinned <code><a href="../base-4.18.3.0/GHC-Exts.html#t:ByteArray-35-" title="GHC.Exts">ByteArray#</a></code> objects cannot be compacted.  This is for a
   good reason: the memory is pinned so that it can be referenced by
   address (the address might be stored in a C data structure, for
   example), so we can't make a copy of it to store in the <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code>.</li><li>Objects with mutable pointer fields (e.g. <code><a href="../base-4.18.3.0/Data-IORef.html#v:IORef" title="Data.IORef">IORef</a></code>,
   <code><a href="GHC-Array.html#v:MutableArray" title="GHC.Array">MutableArray</a></code>) also cannot be compacted, because subsequent
   mutation would destroy the property that a compact is self-contained.</li></ul><p>If compaction encounters any of the above, a <code><a href="../base-4.18.3.0/Control-Exception.html#v:CompactionFailed" title="Control.Exception">CompactionFailed</a></code>
 exception will be thrown by the compaction operation.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Compact" class="def">Compact</a> <a href="../base-4.18.3.0/GHC-Exts.html#t:Compact-35-" title="GHC.Exts">Compact#</a> a !(<a href="../base-4.18.3.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> ())</td><td class="doc empty">&nbsp;</td></tr></table></div></div><a href="#g:2" id="g:2"><h1>Compacting data</h1></a><div class="top"><p class="src"><a id="v:compact" class="def">compact</a> :: a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a) <a href="src/GHC.Compact.html#compact" class="link">Source</a> <a href="#v:compact" class="selflink">#</a></p><div class="doc"><p>Compact a value. <em>O(size of unshared data)</em></p><p>If the structure contains any internal sharing, the shared data
 will be duplicated during the compaction process.  This will
 not terminate if the structure contains cycles (use <code><a href="GHC-Compact.html#v:compactWithSharing" title="GHC.Compact">compactWithSharing</a></code>
 instead).</p><p>The object in question must not contain any functions or data with mutable
 pointers; if it does, <code><a href="GHC-Compact.html#v:compact" title="GHC.Compact">compact</a></code> will raise an exception. In the future, we
 may add a type class which will help statically check if this is the case or
 not.</p></div></div><div class="top"><p class="src"><a id="v:compactWithSharing" class="def">compactWithSharing</a> :: a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a) <a href="src/GHC.Compact.html#compactWithSharing" class="link">Source</a> <a href="#v:compactWithSharing" class="selflink">#</a></p><div class="doc"><p>Compact a value, retaining any internal sharing and
 cycles. <em>O(size of data)</em></p><p>This is typically about 10x slower than <code><a href="GHC-Compact.html#v:compact" title="GHC.Compact">compact</a></code>, because it works
 by maintaining a hash table mapping uncompacted objects to
 compacted objects.</p><p>The object in question must not contain any functions or data with mutable
 pointers; if it does, <code><a href="GHC-Compact.html#v:compact" title="GHC.Compact">compact</a></code> will raise an exception. In the future, we
 may add a type class which will help statically check if this is the case or
 not.</p></div></div><div class="top"><p class="src"><a id="v:compactAdd" class="def">compactAdd</a> :: <a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a) <a href="src/GHC.Compact.html#compactAdd" class="link">Source</a> <a href="#v:compactAdd" class="selflink">#</a></p><div class="doc"><p>Add a value to an existing <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code>.  This will help you avoid
 copying when the value contains pointers into the compact region,
 but remember that after compaction this value will only be deallocated
 with the entire compact region.</p><p>Behaves exactly like <code><a href="GHC-Compact.html#v:compact" title="GHC.Compact">compact</a></code> with respect to sharing and what data
 it accepts.</p></div></div><div class="top"><p class="src"><a id="v:compactAddWithSharing" class="def">compactAddWithSharing</a> :: <a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a) <a href="src/GHC.Compact.html#compactAddWithSharing" class="link">Source</a> <a href="#v:compactAddWithSharing" class="selflink">#</a></p><div class="doc"><p>Add a value to an existing <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code>, like <code><a href="GHC-Compact.html#v:compactAdd" title="GHC.Compact">compactAdd</a></code>,
 but behaving exactly like <code><a href="GHC-Compact.html#v:compactWithSharing" title="GHC.Compact">compactWithSharing</a></code> with respect to sharing and
 what data it accepts.</p></div></div><a href="#g:3" id="g:3"><h1>Inspecting a Compact</h1></a><div class="top"><p class="src"><a id="v:getCompact" class="def">getCompact</a> :: <a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a -&gt; a <a href="src/GHC.Compact.html#getCompact" class="link">Source</a> <a href="#v:getCompact" class="selflink">#</a></p><div class="doc"><p>Retrieve a direct pointer to the value pointed at by a <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code> reference.
 If you have used <code><a href="GHC-Compact.html#v:compactAdd" title="GHC.Compact">compactAdd</a></code>, there may be multiple <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code> references
 into the same compact region. Upholds the property:</p><pre>inCompact c (getCompact c) == True</pre></div></div><div class="top"><p class="src"><a id="v:inCompact" class="def">inCompact</a> :: <a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/GHC.Compact.html#inCompact" class="link">Source</a> <a href="#v:inCompact" class="selflink">#</a></p><div class="doc"><p>Check if the second argument is inside the passed <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:isCompact" class="def">isCompact</a> :: a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/GHC.Compact.html#isCompact" class="link">Source</a> <a href="#v:isCompact" class="selflink">#</a></p><div class="doc"><p>Check if the argument is in any <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code>.  If true, the value in question
 is also fully evaluated, since any value in a compact region must
 be fully evaluated.</p></div></div><div class="top"><p class="src"><a id="v:compactSize" class="def">compactSize</a> :: <a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../base-4.18.3.0/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="src/GHC.Compact.html#compactSize" class="link">Source</a> <a href="#v:compactSize" class="selflink">#</a></p><div class="doc"><p>Returns the size in bytes of the compact region.</p></div></div><a href="#g:4" id="g:4"><h1>Other utilities</h1></a><div class="top"><p class="src"><a id="v:compactResize" class="def">compactResize</a> :: <a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a -&gt; <a href="../base-4.18.3.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/GHC.Compact.html#compactResize" class="link">Source</a> <a href="#v:compactResize" class="selflink">#</a></p><div class="doc"><p><strong>Experimental</strong>  This function doesn't actually resize a compact
 region; rather, it changes the default block size which we allocate
 when the current block runs out of space, and also appends a block
 to the compact region.</p></div></div><a href="#g:5" id="g:5"><h1>Internal operations</h1></a><div class="top"><p class="src"><a id="v:mkCompact" class="def">mkCompact</a> :: <a href="../base-4.18.3.0/GHC-Exts.html#t:Compact-35-" title="GHC.Exts">Compact#</a> -&gt; a -&gt; <a href="../base-4.18.3.0/GHC-Exts.html#t:State-35-" title="GHC.Exts">State#</a> <a href="../base-4.18.3.0/Control-Monad-ST-Safe.html#t:RealWorld" title="Control.Monad.ST.Safe">RealWorld</a> -&gt; (# <a href="../base-4.18.3.0/GHC-Exts.html#t:State-35-" title="GHC.Exts">State#</a> <a href="../base-4.18.3.0/Control-Monad-ST-Safe.html#t:RealWorld" title="Control.Monad.ST.Safe">RealWorld</a>, <a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a #) <a href="src/GHC.Compact.html#mkCompact" class="link">Source</a> <a href="#v:mkCompact" class="selflink">#</a></p><div class="doc"><p>Make a new <code><a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a></code> object, given a pointer to the true
 underlying region.  You must uphold the invariant that <code>a</code> lives
 in the compact region.</p></div></div><div class="top"><p class="src"><a id="v:compactSized" class="def">compactSized</a> <a href="src/GHC.Compact.html#compactSized" class="link">Source</a> <a href="#v:compactSized" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Size of the compact region, in bytes</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Whether to retain internal sharing</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="GHC-Compact.html#t:Compact" title="GHC.Compact">Compact</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Transfer <code>a</code> into a new compact region, with a preallocated size (in
 bytes), possibly preserving sharing or not.  If you know how big the data
 structure in question is, you can save time by picking an appropriate block
 size for the compact region.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>