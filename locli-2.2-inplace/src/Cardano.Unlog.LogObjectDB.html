<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-incomplete-uni-patterns #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-comment">-- | This module contains the schema in which `LogObjects`s are</span><span>
</span><span id="line-6"></span><span class="hs-comment">--   stored to and retrieved from an SQLite database.</span><span>
</span><span id="line-7"></span><span class="hs-comment">--</span><span>
</span><span id="line-8"></span><span class="hs-comment">--   `logObjectToSql` provides the mapping for `LOBody` with its constructors of varying arity to different DB tables and columns.</span><span>
</span><span id="line-9"></span><span class="hs-comment">--   `toLOBodyConverters` implements the reverse, mapping the columns of a result row to a `LOBody` value.</span><span>
</span><span id="line-10"></span><span class="hs-comment">--</span><span>
</span><span id="line-11"></span><span class="hs-comment">--   The `AsSqlData` type class provides lower level data marshalling.</span><span>
</span><span id="line-12"></span><span class="hs-comment">--</span><span>
</span><span id="line-13"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Unlog.LogObjectDB</span><span>
</span><span id="line-14"></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier">AsSQLData</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SummaryDB"><span class="hs-identifier">SummaryDB</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLRunnable"><span class="hs-identifier">SQLRunnable</span></a></span><span>
</span><span id="line-17"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLSelect6Cols"><span class="hs-identifier">SQLSelect6Cols</span></a></span><span>
</span><span id="line-18"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#mkSQLSelectFrom"><span class="hs-identifier">mkSQLSelectFrom</span></a></span><span>
</span><span id="line-19"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#sqlAppend"><span class="hs-identifier">sqlAppend</span></a></span><span>
</span><span id="line-20"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#sqlOrdered"><span class="hs-identifier">sqlOrdered</span></a></span><span>
</span><span id="line-21"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#TraceFreqs"><span class="hs-identifier">TraceFreqs</span></a></span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#sqlToLogObject"><span class="hs-identifier">sqlToLogObject</span></a></span><span>
</span><span id="line-24"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#logObjectToSql"><span class="hs-identifier">logObjectToSql</span></a></span><span>
</span><span id="line-25"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#errorToSql"><span class="hs-identifier">errorToSql</span></a></span><span>
</span><span id="line-26"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#summaryToSql"><span class="hs-identifier">summaryToSql</span></a></span><span>
</span><span id="line-27"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#traceFreqsToSql"><span class="hs-identifier">traceFreqsToSql</span></a></span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#createSchema"><span class="hs-identifier">createSchema</span></a></span><span>
</span><span id="line-30"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#createLMetricsIfNotExists"><span class="hs-identifier">createLMetricsIfNotExists</span></a></span><span>
</span><span id="line-31"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#runSqlRunnable"><span class="hs-identifier">runSqlRunnable</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#fromSqlDataPair"><span class="hs-identifier">fromSqlDataPair</span></a></span><span>
</span><span id="line-34"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#toSqlDataPair"><span class="hs-identifier">toSqlDataPair</span></a></span><span>
</span><span id="line-35"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#allLOBodyConstructors"><span class="hs-identifier">allLOBodyConstructors</span></a></span><span>
</span><span id="line-36"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#knownLOBodyConstructors"><span class="hs-identifier">knownLOBodyConstructors</span></a></span><span>
</span><span id="line-37"></span><span>       </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Analysis.API.Ground.html"><span class="hs-identifier">Cardano.Analysis.API.Ground</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.6/trace-resources-0.2.3/doc/html/trace-resources/src/Cardano.Logging.Resources.Types.html"><span class="hs-identifier">Cardano.Logging.Resources.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.6/trace-resources-0.2.3/doc/html/trace-resources/src/Cardano.Logging.Resources.Types.html#ResourceStats"><span class="hs-identifier">ResourceStats</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.6/trace-resources-0.2.3/doc/html/trace-resources/src/Cardano.Logging.Resources.Types.html#Resources"><span class="hs-identifier">Resources</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Unlog.LogObject.html"><span class="hs-identifier">Cardano.Unlog.LogObject</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Util.html"><span class="hs-identifier">Cardano.Util</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Util.html#count"><span class="hs-identifier">count</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">decodeStrict</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">encode</span></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bool.html"><span class="hs-identifier">Data.Bool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bool.html#bool"><span class="hs-identifier">bool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Lazy.Char8.html"><span class="hs-identifier">Data.ByteString.Lazy.Char8</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BSL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Lazy.Internal.html#toStrict"><span class="hs-identifier">toStrict</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Data.html"><span class="hs-identifier">Data.Data</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Data.html#dataTypeConstrs"><span class="hs-identifier">dataTypeConstrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Data.html#dataTypeOf"><span class="hs-identifier">dataTypeOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Data.html#showConstr"><span class="hs-identifier">showConstr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Data.html#toConstr"><span class="hs-identifier">toConstr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Lazy.html"><span class="hs-identifier">Data.Map.Lazy</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ML</span></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Maybe.html"><span class="hs-identifier">Data.Maybe</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#empty"><span class="hs-identifier">empty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html#intercalate"><span class="hs-identifier">intercalate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier">pack</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html#splitOn"><span class="hs-identifier">splitOn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier">unpack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Lazy.html"><span class="hs-identifier">Data.Text.Lazy</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.Lazy.html#Text"><span class="hs-identifier">Text</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Lazy.html#fromStrict"><span class="hs-identifier">fromStrict</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Lazy.html#pack"><span class="hs-identifier">pack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.html"><span class="hs-identifier">Data.Text.Short</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ShortText</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.Internal.html#ShortText"><span class="hs-identifier">ShortText</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.html#empty"><span class="hs-identifier">empty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.Internal.html#fromText"><span class="hs-identifier">fromText</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.html#pack"><span class="hs-identifier">pack</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.Internal.html#toText"><span class="hs-identifier">toText</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.html"><span class="hs-identifier">Database.Sqlite.Easy</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html"><span class="hs-identifier">Database.Sqlite.Easy.Internal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier">SQL</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-keyword">data</span><span> </span><span id="SummaryDB"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SummaryDB"><span class="hs-identifier hs-var">SummaryDB</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SummaryDB"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SummaryDB"><span class="hs-identifier hs-var">SummaryDB</span></a></span></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="sdbName"><span class="annot"><span class="annottext">SummaryDB -&gt; Host
</span><a href="Cardano.Unlog.LogObjectDB.html#sdbName"><span class="hs-identifier hs-var hs-var">sdbName</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Analysis.API.Ground.html#Host"><span class="hs-identifier hs-type">Host</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="sdbLines"><span class="annot"><span class="annottext">SummaryDB -&gt; Int
</span><a href="Cardano.Unlog.LogObjectDB.html#sdbLines"><span class="hs-identifier hs-var hs-var">sdbLines</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="sdbFirstAt"><span class="annot"><span class="annottext">SummaryDB -&gt; UTCTime
</span><a href="Cardano.Unlog.LogObjectDB.html#sdbFirstAt"><span class="hs-identifier hs-var hs-var">sdbFirstAt</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/time-1.12.2/src/Data.Time.Clock.Internal.UTCTime.html#UTCTime"><span class="hs-identifier hs-type">UTCTime</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="sdbLastAt"><span class="annot"><span class="annottext">SummaryDB -&gt; UTCTime
</span><a href="Cardano.Unlog.LogObjectDB.html#sdbLastAt"><span class="hs-identifier hs-var hs-var">sdbLastAt</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/time-1.12.2/src/Data.Time.Clock.Internal.UTCTime.html#UTCTime"><span class="hs-identifier hs-type">UTCTime</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="sdbCreated"><span class="annot"><span class="annottext">SummaryDB -&gt; UTCTime
</span><a href="Cardano.Unlog.LogObjectDB.html#sdbCreated"><span class="hs-identifier hs-var hs-var">sdbCreated</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/time-1.12.2/src/Data.Time.Clock.Internal.UTCTime.html#UTCTime"><span class="hs-identifier hs-type">UTCTime</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-comment">-- an SQL statement with its arguments</span><span>
</span><span id="line-71"></span><span class="hs-keyword">type</span><span> </span><span id="SQLRunnable"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLRunnable"><span class="hs-identifier hs-var">SQLRunnable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-type">SQL</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-comment">-- | A select statement to retrieve log objects from the DB where the result set has exactly 6 columns,</span><span>
</span><span id="line-74"></span><span class="hs-comment">--   with all 4 argument columns being nullable:</span><span>
</span><span id="line-75"></span><span class="hs-comment">--   at (timestamp) | LogObject constructor (text) | int arg 1 | int arg 2 | float arg | text or blob arg</span><span>
</span><span id="line-76"></span><span class="hs-keyword">newtype</span><span> </span><span id="SQLSelect6Cols"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLSelect6Cols"><span class="hs-identifier hs-var">SQLSelect6Cols</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SQLSelect6Cols"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLSelect6Cols"><span class="hs-identifier hs-var">SQLSelect6Cols</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unSQLSelect"><span class="annot"><span class="annottext">SQLSelect6Cols -&gt; Column
</span><a href="Cardano.Unlog.LogObjectDB.html#unSQLSelect"><span class="hs-identifier hs-var hs-var">unSQLSelect</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679428181"><span id="local-6989586621679428186"><span class="annot"><span class="annottext">SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool
(SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool)
-&gt; (SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool) -&gt; Eq SQLSelect6Cols
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool
== :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool
$c/= :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool
/= :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428194"><span id="local-6989586621679428199"><span id="local-6989586621679428203"><span id="local-6989586621679428207"><span id="local-6989586621679428211"><span id="local-6989586621679428215"><span id="local-6989586621679428219"><span class="annot"><span class="annottext">Eq SQLSelect6Cols
Eq SQLSelect6Cols =&gt;
(SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Ordering)
-&gt; (SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool)
-&gt; (SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool)
-&gt; (SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool)
-&gt; (SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool)
-&gt; (SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; SQLSelect6Cols)
-&gt; (SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; SQLSelect6Cols)
-&gt; Ord SQLSelect6Cols
SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool
SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Ordering
SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; SQLSelect6Cols
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Ordering
compare :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Ordering
$c&lt; :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool
&lt; :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool
$c&lt;= :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool
&lt;= :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool
$c&gt; :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool
&gt; :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool
$c&gt;= :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool
&gt;= :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; Bool
$cmax :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; SQLSelect6Cols
max :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; SQLSelect6Cols
$cmin :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; SQLSelect6Cols
min :: SQLSelect6Cols -&gt; SQLSelect6Cols -&gt; SQLSelect6Cols
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428225"><span id="local-6989586621679428231"><span id="local-6989586621679428235"><span class="annot"><span class="annottext">Int -&gt; SQLSelect6Cols -&gt; ShowS
[SQLSelect6Cols] -&gt; ShowS
SQLSelect6Cols -&gt; [Char]
(Int -&gt; SQLSelect6Cols -&gt; ShowS)
-&gt; (SQLSelect6Cols -&gt; [Char])
-&gt; ([SQLSelect6Cols] -&gt; ShowS)
-&gt; Show SQLSelect6Cols
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; SQLSelect6Cols -&gt; ShowS
showsPrec :: Int -&gt; SQLSelect6Cols -&gt; ShowS
$cshow :: SQLSelect6Cols -&gt; [Char]
show :: SQLSelect6Cols -&gt; [Char]
$cshowList :: [SQLSelect6Cols] -&gt; ShowS
showList :: [SQLSelect6Cols] -&gt; ShowS
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="annot"><span class="hs-comment">-- | Smart constructor to ensure 6 columns in the result set. The 'at' column is assumed to exist in @table@.</span></span><span>
</span><span id="line-80"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#mkSQLSelectFrom"><span class="hs-identifier hs-type">mkSQLSelectFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-81"></span><span>     </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLSelect6Cols"><span class="hs-identifier hs-type">SQLSelect6Cols</span></a></span><span>
</span><span id="line-88"></span><span id="mkSQLSelectFrom"><span class="annot"><span class="annottext">mkSQLSelectFrom :: Column
-&gt; Maybe Column
-&gt; Maybe Column
-&gt; Maybe Column
-&gt; Maybe Column
-&gt; Maybe Column
-&gt; SQLSelect6Cols
</span><a href="Cardano.Unlog.LogObjectDB.html#mkSQLSelectFrom"><span class="hs-identifier hs-var hs-var">mkSQLSelectFrom</span></a></span></span><span> </span><span id="local-6989586621679428238"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428238"><span class="hs-identifier hs-var">table</span></a></span></span><span> </span><span id="local-6989586621679428239"><span class="annot"><span class="annottext">Maybe Column
</span><a href="#local-6989586621679428239"><span class="hs-identifier hs-var">cons</span></a></span></span><span> </span><span id="local-6989586621679428240"><span class="annot"><span class="annottext">Maybe Column
</span><a href="#local-6989586621679428240"><span class="hs-identifier hs-var">arg1</span></a></span></span><span> </span><span id="local-6989586621679428241"><span class="annot"><span class="annottext">Maybe Column
</span><a href="#local-6989586621679428241"><span class="hs-identifier hs-var">arg2</span></a></span></span><span> </span><span id="local-6989586621679428242"><span class="annot"><span class="annottext">Maybe Column
</span><a href="#local-6989586621679428242"><span class="hs-identifier hs-var">arg3</span></a></span></span><span> </span><span id="local-6989586621679428243"><span class="annot"><span class="annottext">Maybe Column
</span><a href="#local-6989586621679428243"><span class="hs-identifier hs-var">arg4</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-89"></span><span>  </span><span class="annot"><span class="annottext">Column -&gt; SQLSelect6Cols
</span><a href="Cardano.Unlog.LogObjectDB.html#SQLSelect6Cols"><span class="hs-identifier hs-var">SQLSelect6Cols</span></a></span><span> </span><span class="annot"><span class="annottext">(Column -&gt; SQLSelect6Cols) -&gt; Column -&gt; SQLSelect6Cols
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-90"></span><span>    </span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;SELECT &quot;</span></span><span> </span><span class="annot"><span class="annottext">Column -&gt; Column -&gt; Column
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428244"><span class="hs-identifier hs-var">argList</span></a></span><span> </span><span class="annot"><span class="annottext">Column -&gt; Column -&gt; Column
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot; FROM &quot;</span></span><span> </span><span class="annot"><span class="annottext">Column -&gt; Column -&gt; Column
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428238"><span class="hs-identifier hs-var">table</span></a></span><span> </span><span class="annot"><span class="annottext">Column -&gt; Column -&gt; Column
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot; &quot;</span></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-92"></span><span>    </span><span id="local-6989586621679428244"><span class="annot"><span class="annottext">argList :: Column
</span><a href="#local-6989586621679428244"><span class="hs-identifier hs-var hs-var">argList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Column -&gt; [Column] -&gt; Column
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html#intercalate"><span class="hs-identifier hs-var">TS.intercalate</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;,&quot;</span></span><span> </span><span class="annot"><span class="annottext">([Column] -&gt; Column) -&gt; [Column] -&gt; Column
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-93"></span><span>      </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;at&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428245"><span class="hs-identifier hs-var">cons'</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Column] -&gt; [Column] -&gt; [Column]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Column -&gt; Column) -&gt; [Maybe Column] -&gt; [Column]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Column -&gt; Column
</span><a href="#local-6989586621679428246"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Maybe Column
</span><a href="#local-6989586621679428240"><span class="hs-identifier hs-var">arg1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Column
</span><a href="#local-6989586621679428241"><span class="hs-identifier hs-var">arg2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Column
</span><a href="#local-6989586621679428242"><span class="hs-identifier hs-var">arg3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Column
</span><a href="#local-6989586621679428243"><span class="hs-identifier hs-var">arg4</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-94"></span><span>    </span><span id="local-6989586621679428245"><span class="annot"><span class="annottext">cons' :: Column
</span><a href="#local-6989586621679428245"><span class="hs-identifier hs-var hs-var">cons'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Column -&gt; (Column -&gt; Column) -&gt; Maybe Column -&gt; Column
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;cons&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679428248"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428248"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">Column -&gt; Column -&gt; Column
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428248"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Column -&gt; Column -&gt; Column
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;'&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Column
</span><a href="#local-6989586621679428239"><span class="hs-identifier hs-var">cons</span></a></span><span>
</span><span id="line-95"></span><span>    </span><span id="local-6989586621679428246"><span class="annot"><span class="annottext">arg :: Maybe Column -&gt; Column
</span><a href="#local-6989586621679428246"><span class="hs-identifier hs-var hs-var">arg</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Column -&gt; Maybe Column -&gt; Column
forall a. a -&gt; Maybe a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;null&quot;</span></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="annot"><span class="hs-comment">-- | Append (possibly WHERE clause filters) to an existing select statement</span></span><span>
</span><span id="line-98"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#sqlAppend"><span class="hs-identifier hs-type">sqlAppend</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLSelect6Cols"><span class="hs-identifier hs-type">SQLSelect6Cols</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLSelect6Cols"><span class="hs-identifier hs-type">SQLSelect6Cols</span></a></span><span>
</span><span id="line-99"></span><span id="sqlAppend"><span class="annot"><span class="annottext">sqlAppend :: SQLSelect6Cols -&gt; Column -&gt; SQLSelect6Cols
</span><a href="Cardano.Unlog.LogObjectDB.html#sqlAppend"><span class="hs-identifier hs-var hs-var">sqlAppend</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLSelect6Cols"><span class="hs-identifier hs-type">SQLSelect6Cols</span></a></span><span> </span><span id="local-6989586621679428251"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428251"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679428252"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428252"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Column -&gt; SQLSelect6Cols
</span><a href="Cardano.Unlog.LogObjectDB.html#SQLSelect6Cols"><span class="hs-identifier hs-var">SQLSelect6Cols</span></a></span><span> </span><span class="annot"><span class="annottext">(Column -&gt; SQLSelect6Cols) -&gt; Column -&gt; SQLSelect6Cols
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428251"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Column -&gt; Column -&gt; Column
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428252"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="annot"><span class="hs-comment">-- | Union of SELECTs, with the result rows ordered by timestamp</span></span><span>
</span><span id="line-102"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#sqlOrdered"><span class="hs-identifier hs-type">sqlOrdered</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLSelect6Cols"><span class="hs-identifier hs-type">SQLSelect6Cols</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-type">SQL</span></a></span><span>
</span><span id="line-103"></span><span id="sqlOrdered"><span class="annot"><span class="annottext">sqlOrdered :: [SQLSelect6Cols] -&gt; SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#sqlOrdered"><span class="hs-identifier hs-var hs-var">sqlOrdered</span></a></span></span><span> </span><span id="local-6989586621679428253"><span class="annot"><span class="annottext">[SQLSelect6Cols]
</span><a href="#local-6989586621679428253"><span class="hs-identifier hs-var">selects</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Column -&gt; SQL
</span><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-var">SQL</span></a></span><span> </span><span class="annot"><span class="annottext">(Column -&gt; SQL) -&gt; Column -&gt; SQL
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span class="annot"><span class="annottext">Column -&gt; [Column] -&gt; Column
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html#intercalate"><span class="hs-identifier hs-var">TS.intercalate</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot; UNION &quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SQLSelect6Cols -&gt; Column) -&gt; [SQLSelect6Cols] -&gt; [Column]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">SQLSelect6Cols -&gt; Column
</span><a href="Cardano.Unlog.LogObjectDB.html#unSQLSelect"><span class="hs-identifier hs-var">unSQLSelect</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLSelect6Cols]
</span><a href="#local-6989586621679428253"><span class="hs-identifier hs-var">selects</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>  </span><span class="annot"><span class="annottext">Column -&gt; Column -&gt; Column
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#mappend"><span class="hs-operator hs-var">`mappend`</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot; ORDER BY at ASC&quot;</span></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#runSqlRunnable"><span class="hs-identifier hs-type">runSqlRunnable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLRunnable"><span class="hs-identifier hs-type">SQLRunnable</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQLite"><span class="hs-identifier hs-type">SQLite</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-108"></span><span id="runSqlRunnable"><span class="annot"><span class="annottext">runSqlRunnable :: SQLRunnable -&gt; SQLite [[SQLData]]
</span><a href="Cardano.Unlog.LogObjectDB.html#runSqlRunnable"><span class="hs-identifier hs-var hs-var">runSqlRunnable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SQL -&gt; [SQLData] -&gt; SQLite [[SQLData]])
-&gt; SQLRunnable -&gt; SQLite [[SQLData]]
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Tuple.html#uncurry"><span class="hs-identifier hs-var">uncurry</span></a></span><span> </span><span class="annot"><span class="annottext">SQL -&gt; [SQLData] -&gt; SQLite [[SQLData]]
</span><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#runWith"><span class="hs-identifier hs-var">runWith</span></a></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#createSchema"><span class="hs-identifier hs-type">createSchema</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-type">SQL</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-111"></span><span id="createSchema"><span class="annot"><span class="annottext">createSchema :: [SQL]
</span><a href="Cardano.Unlog.LogObjectDB.html#createSchema"><span class="hs-identifier hs-var hs-var">createSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createError"><span class="hs-identifier hs-var">createError</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createSummary"><span class="hs-identifier hs-var">createSummary</span></a></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createTraceFreq"><span class="hs-identifier hs-var">createTraceFreq</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createResource"><span class="hs-identifier hs-var">createResource</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createSlot"><span class="hs-identifier hs-var">createSlot</span></a></span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createEvent"><span class="hs-identifier hs-var">createEvent</span></a></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createTxns"><span class="hs-identifier hs-var">createTxns</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createLMetricsIfNotExists"><span class="hs-identifier hs-var">createLMetricsIfNotExists</span></a></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-comment">-- table error</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#createError"><span class="hs-identifier hs-type">createError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#insertError"><span class="hs-identifier hs-type">insertError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-type">SQL</span></a></span><span>
</span><span id="line-125"></span><span id="createError"><span class="annot"><span class="annottext">createError :: SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createError"><span class="hs-identifier hs-var hs-var">createError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;CREATE TABLE error (msg TEXT NOT NULL, input TEXT)&quot;</span></span><span>
</span><span id="line-126"></span><span id="insertError"><span class="annot"><span class="annottext">insertError :: SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#insertError"><span class="hs-identifier hs-var hs-var">insertError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;INSERT INTO error VALUES (?,?)&quot;</span></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#errorToSql"><span class="hs-identifier hs-type">errorToSql</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLRunnable"><span class="hs-identifier hs-type">SQLRunnable</span></a></span><span>
</span><span id="line-129"></span><span id="errorToSql"><span class="annot"><span class="annottext">errorToSql :: [Char] -&gt; [Char] -&gt; SQLRunnable
</span><a href="Cardano.Unlog.LogObjectDB.html#errorToSql"><span class="hs-identifier hs-var hs-var">errorToSql</span></a></span></span><span> </span><span id="local-6989586621679428265"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679428265"><span class="hs-identifier hs-var">errorMsg</span></a></span></span><span> </span><span id="local-6989586621679428266"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679428266"><span class="hs-identifier hs-var">origInput</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#insertError"><span class="hs-identifier hs-var">insertError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; [SQLData]
</span><a href="Cardano.Unlog.LogObjectDB.html#toArgs"><span class="hs-identifier hs-var">toArgs</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; [SQLData]) -&gt; ArgNTuple -&gt; [SQLData]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, [Char]) -&gt; (Column, [Char]) -&gt; ArgNTuple
forall x y.
(AsSQLData x, AsSQLData y) =&gt;
(Column, x) -&gt; (Column, y) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Tuple"><span class="hs-identifier hs-var">Tuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679428265"><span class="hs-identifier hs-var">errorMsg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679428266"><span class="hs-identifier hs-var">origInput</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-comment">-- table summary</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#createSummary"><span class="hs-identifier hs-type">createSummary</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#insertSummary"><span class="hs-identifier hs-type">insertSummary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-type">SQL</span></a></span><span>
</span><span id="line-135"></span><span id="createSummary"><span class="annot"><span class="annottext">createSummary :: SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createSummary"><span class="hs-identifier hs-var hs-var">createSummary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;CREATE TABLE summary (name TEXT NOT NULL, lines INTEGER NOT NULL, first_at REAL NOT NULL, last_at REAL NOT NULL, created REAL NOT NULL)&quot;</span></span><span>
</span><span id="line-136"></span><span id="insertSummary"><span class="annot"><span class="annottext">insertSummary :: SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#insertSummary"><span class="hs-identifier hs-var hs-var">insertSummary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;INSERT INTO summary VALUES (?,?,?,?,?)&quot;</span></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#summaryToSql"><span class="hs-identifier hs-type">summaryToSql</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SummaryDB"><span class="hs-identifier hs-type">SummaryDB</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLRunnable"><span class="hs-identifier hs-type">SQLRunnable</span></a></span><span>
</span><span id="line-139"></span><span id="summaryToSql"><span class="annot"><span class="annottext">summaryToSql :: SummaryDB -&gt; SQLRunnable
</span><a href="Cardano.Unlog.LogObjectDB.html#summaryToSql"><span class="hs-identifier hs-var hs-var">summaryToSql</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SummaryDB"><span class="hs-identifier hs-type">SummaryDB</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">sdbName :: SummaryDB -&gt; Host
</span><a href="Cardano.Unlog.LogObjectDB.html#sdbName"><span class="hs-identifier hs-var">sdbName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Analysis.API.Ground.html#Host"><span class="hs-identifier hs-type">Host</span></a></span><span> </span><span id="local-6989586621679428271"><span class="annot"><span class="annottext">ShortText
</span><a href="#local-6989586621679428271"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428272"><span id="local-6989586621679428273"><span id="local-6989586621679428274"><span id="local-6989586621679428275"><span class="annot"><span class="annottext">Int
UTCTime
sdbLines :: SummaryDB -&gt; Int
sdbFirstAt :: SummaryDB -&gt; UTCTime
sdbLastAt :: SummaryDB -&gt; UTCTime
sdbCreated :: SummaryDB -&gt; UTCTime
sdbLines :: Int
sdbFirstAt :: UTCTime
sdbLastAt :: UTCTime
sdbCreated :: UTCTime
</span><a href="Cardano.Unlog.LogObjectDB.html#sdbLines"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#insertSummary"><span class="hs-identifier hs-var">insertSummary</span></a></span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText
</span><a href="#local-6989586621679428271"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679428272"><span class="hs-identifier hs-var">sdbLines</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679428273"><span class="hs-identifier hs-var">sdbFirstAt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679428274"><span class="hs-identifier hs-var">sdbLastAt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679428275"><span class="hs-identifier hs-var">sdbCreated</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="hs-comment">-- table tracefreq</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#createTraceFreq"><span class="hs-identifier hs-type">createTraceFreq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#insertTraceFreq"><span class="hs-identifier hs-type">insertTraceFreq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-type">SQL</span></a></span><span>
</span><span id="line-147"></span><span id="createTraceFreq"><span class="annot"><span class="annottext">createTraceFreq :: SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createTraceFreq"><span class="hs-identifier hs-var hs-var">createTraceFreq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;CREATE TABLE tracefreq (msg TEXT NOT NULL, count INTEGER NOT NULL)&quot;</span></span><span>
</span><span id="line-148"></span><span id="insertTraceFreq"><span class="annot"><span class="annottext">insertTraceFreq :: SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#insertTraceFreq"><span class="hs-identifier hs-var hs-var">insertTraceFreq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;INSERT INTO tracefreq VALUES (?,?)&quot;</span></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#traceFreqsToSql"><span class="hs-identifier hs-type">traceFreqsToSql</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#TraceFreqs"><span class="hs-identifier hs-type">TraceFreqs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLRunnable"><span class="hs-identifier hs-type">SQLRunnable</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-151"></span><span id="traceFreqsToSql"><span class="annot"><span class="annottext">traceFreqsToSql :: TraceFreqs -&gt; [SQLRunnable]
</span><a href="Cardano.Unlog.LogObjectDB.html#traceFreqsToSql"><span class="hs-identifier hs-var hs-var">traceFreqsToSql</span></a></span></span><span> </span><span id="local-6989586621679428278"><span class="annot"><span class="annottext">TraceFreqs
</span><a href="#local-6989586621679428278"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#insertTraceFreq"><span class="hs-identifier hs-var">insertTraceFreq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(ShortText, Int) -&gt; [SQLData]
forall a b. (AsSQLData a, AsSQLData b) =&gt; (a, b) -&gt; [SQLData]
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlDataPair"><span class="hs-identifier hs-var">toSqlDataPair</span></a></span><span> </span><span class="annot"><span class="annottext">(ShortText, Int)
</span><a href="#local-6989586621679428279"><span class="hs-identifier hs-var">kv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679428279"><span class="annot"><span class="annottext">(ShortText, Int)
</span><a href="#local-6989586621679428279"><span class="hs-identifier hs-var">kv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TraceFreqs -&gt; [(ShortText, Int)]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#toAscList"><span class="hs-identifier hs-var">ML.toAscList</span></a></span><span> </span><span class="annot"><span class="annottext">TraceFreqs
</span><a href="#local-6989586621679428278"><span class="hs-identifier hs-var">ts</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="hs-comment">-- table resource</span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#createResource"><span class="hs-identifier hs-type">createResource</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#insertResource"><span class="hs-identifier hs-type">insertResource</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-type">SQL</span></a></span><span>
</span><span id="line-157"></span><span class="hs-comment">-- While not strictly necessary for storage (which happens in the BLOB), we expose some key metrics as individual DB columns</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- to use in custom user queries.</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- When exposing additional fields, make sure the BLOB always remains the last column.</span><span>
</span><span id="line-160"></span><span id="createResource"><span class="annot"><span class="annottext">createResource :: SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createResource"><span class="hs-identifier hs-var hs-var">createResource</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;CREATE TABLE resource (at REAL NOT NULL, centi_cpu INTEGER, rss INTEGER, heap INTEGER, alloc INTEGER, as_blob BLOB)&quot;</span></span><span>
</span><span id="line-161"></span><span id="insertResource"><span class="annot"><span class="annottext">insertResource :: SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#insertResource"><span class="hs-identifier hs-var hs-var">insertResource</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;INSERT INTO resource VALUES (?,?,?,?,?,?)&quot;</span></span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#resourceArgs"><span class="hs-identifier hs-type">resourceArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/time-1.12.2/src/Data.Time.Clock.Internal.UTCTime.html#UTCTime"><span class="hs-identifier hs-type">UTCTime</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.6/trace-resources-0.2.3/doc/html/trace-resources/src/Cardano.Logging.Resources.Types.html#ResourceStats"><span class="hs-identifier hs-type">ResourceStats</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span class="hs-special">]</span><span>
</span><span id="line-164"></span><span id="resourceArgs"><span class="annot"><span class="annottext">resourceArgs :: UTCTime -&gt; ResourceStats -&gt; [SQLData]
</span><a href="Cardano.Unlog.LogObjectDB.html#resourceArgs"><span class="hs-identifier hs-var hs-var">resourceArgs</span></a></span></span><span> </span><span id="local-6989586621679428283"><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679428283"><span class="hs-identifier hs-var">at</span></a></span></span><span> </span><span id="local-6989586621679428284"><span class="annot"><span class="annottext">rs :: ResourceStats
</span><a href="#local-6989586621679428284"><span class="hs-identifier hs-var">rs</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.6/trace-resources-0.2.3/doc/html/trace-resources/src/Cardano.Logging.Resources.Types.html#Resources"><span class="hs-identifier hs-type">Resources</span></a></span><span class="hs-special">{</span><span id="local-6989586621679428286"><span class="annot"><span class="annottext">Word64
rCentiCpu :: Word64
rCentiCpu :: forall a. Resources a -&gt; a
</span><a href="#local-6989586621679428286"><span class="hs-identifier hs-var hs-var">rCentiCpu</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428288"><span class="annot"><span class="annottext">Word64
rRSS :: Word64
rRSS :: forall a. Resources a -&gt; a
</span><a href="#local-6989586621679428288"><span class="hs-identifier hs-var hs-var">rRSS</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428290"><span class="annot"><span class="annottext">Word64
rHeap :: Word64
rHeap :: forall a. Resources a -&gt; a
</span><a href="#local-6989586621679428290"><span class="hs-identifier hs-var hs-var">rHeap</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428292"><span class="annot"><span class="annottext">Word64
rAlloc :: Word64
rAlloc :: forall a. Resources a -&gt; a
</span><a href="#local-6989586621679428292"><span class="hs-identifier hs-var hs-var">rAlloc</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679428283"><span class="hs-identifier hs-var">at</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679428286"><span class="hs-identifier hs-var">rCentiCpu</span></a></span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679428288"><span class="hs-identifier hs-var">rRSS</span></a></span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679428290"><span class="hs-identifier hs-var">rHeap</span></a></span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679428292"><span class="hs-identifier hs-var">rAlloc</span></a></span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ResourceStats -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">ResourceStats
</span><a href="#local-6989586621679428284"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="hs-comment">-- table slot</span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#createSlot"><span class="hs-identifier hs-type">createSlot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#insertSlot"><span class="hs-identifier hs-type">insertSlot</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-type">SQL</span></a></span><span>
</span><span id="line-176"></span><span id="createSlot"><span class="annot"><span class="annottext">createSlot :: SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createSlot"><span class="hs-identifier hs-var hs-var">createSlot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;CREATE TABLE slot (at REAL NOT NULL, slot INTEGER, utxo_size INTEGER, chain_dens REAL)&quot;</span></span><span>
</span><span id="line-177"></span><span id="insertSlot"><span class="annot"><span class="annottext">insertSlot :: SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#insertSlot"><span class="hs-identifier hs-var hs-var">insertSlot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;INSERT INTO slot VALUES (?,?,?,?)&quot;</span></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#slotArgs"><span class="hs-identifier hs-type">slotArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/time-1.12.2/src/Data.Time.Clock.Internal.UTCTime.html#UTCTime"><span class="hs-identifier hs-type">UTCTime</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#ArgNTuple"><span class="hs-identifier hs-type">ArgNTuple</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span class="hs-special">]</span><span>
</span><span id="line-180"></span><span id="slotArgs"><span class="annot"><span class="annottext">slotArgs :: UTCTime -&gt; ArgNTuple -&gt; [SQLData]
</span><a href="Cardano.Unlog.LogObjectDB.html#slotArgs"><span class="hs-identifier hs-var hs-var">slotArgs</span></a></span></span><span> </span><span id="local-6989586621679428296"><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679428296"><span class="hs-identifier hs-var">at</span></a></span></span><span> </span><span id="local-6989586621679428297"><span class="annot"><span class="annottext">args :: ArgNTuple
</span><a href="#local-6989586621679428297"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Triple"><span class="hs-identifier hs-type">Triple</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679428296"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; [SQLData] -&gt; [SQLData]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; [SQLData]
</span><a href="Cardano.Unlog.LogObjectDB.html#toArgs"><span class="hs-identifier hs-var">toArgs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgNTuple
</span><a href="#local-6989586621679428297"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-181"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#slotArgs"><span class="hs-identifier hs-var">slotArgs</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><span class="hs-identifier">_</span></span><span>  </span><span class="annot"><span class="annottext">ArgNTuple
</span><span class="hs-identifier">_</span></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [SQLData]
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;slotArgs: three arguments expected&quot;</span></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="hs-comment">-- table ledgermetrics</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#createLMetricsIfNotExists"><span class="hs-identifier hs-type">createLMetricsIfNotExists</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#insertLMetrics"><span class="hs-identifier hs-type">insertLMetrics</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-type">SQL</span></a></span><span>
</span><span id="line-186"></span><span id="createLMetricsIfNotExists"><span class="annot"><span class="annottext">createLMetricsIfNotExists :: SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createLMetricsIfNotExists"><span class="hs-identifier hs-var hs-var">createLMetricsIfNotExists</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;CREATE TABLE IF NOT EXISTS ledgermetrics (at REAL NOT NULL, slot INTEGER, utxo_size INTEGER, chain_dens REAL)&quot;</span></span><span>
</span><span id="line-187"></span><span id="insertLMetrics"><span class="annot"><span class="annottext">insertLMetrics :: SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#insertLMetrics"><span class="hs-identifier hs-var hs-var">insertLMetrics</span></a></span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;INSERT INTO ledgermetrics VALUES (?,?,?,?)&quot;</span></span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#lMetricsArgs"><span class="hs-identifier hs-type">lMetricsArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/time-1.12.2/src/Data.Time.Clock.Internal.UTCTime.html#UTCTime"><span class="hs-identifier hs-type">UTCTime</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#ArgNTuple"><span class="hs-identifier hs-type">ArgNTuple</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span class="hs-special">]</span><span>
</span><span id="line-190"></span><span id="lMetricsArgs"><span class="annot"><span class="annottext">lMetricsArgs :: UTCTime -&gt; ArgNTuple -&gt; [SQLData]
</span><a href="Cardano.Unlog.LogObjectDB.html#lMetricsArgs"><span class="hs-identifier hs-var hs-var">lMetricsArgs</span></a></span></span><span> </span><span id="local-6989586621679428306"><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679428306"><span class="hs-identifier hs-var">at</span></a></span></span><span> </span><span id="local-6989586621679428307"><span class="annot"><span class="annottext">args :: ArgNTuple
</span><a href="#local-6989586621679428307"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Triple"><span class="hs-identifier hs-type">Triple</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679428306"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; [SQLData] -&gt; [SQLData]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; [SQLData]
</span><a href="Cardano.Unlog.LogObjectDB.html#toArgs"><span class="hs-identifier hs-var">toArgs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgNTuple
</span><a href="#local-6989586621679428307"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-191"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#lMetricsArgs"><span class="hs-identifier hs-var">lMetricsArgs</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><span class="hs-identifier">_</span></span><span>  </span><span class="annot"><span class="annottext">ArgNTuple
</span><span class="hs-identifier">_</span></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [SQLData]
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;lMetricsArgs: three arguments expected&quot;</span></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="hs-comment">-- tables event and txns</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#createEvent"><span class="hs-identifier hs-type">createEvent</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#createTxns"><span class="hs-identifier hs-type">createTxns</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-type">SQL</span></a></span><span>
</span><span id="line-196"></span><span id="createEvent"><span class="annot"><span class="annottext">createEvent :: SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createEvent"><span class="hs-identifier hs-var hs-var">createEvent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;CREATE TABLE event (at REAL NOT NULL, cons TEXT NOT NULL, slot INTEGER, block INTEGER, hash TEXT)&quot;</span></span><span>
</span><span id="line-197"></span><span id="createTxns"><span class="annot"><span class="annottext">createTxns :: SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#createTxns"><span class="hs-identifier hs-var hs-var">createTxns</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;CREATE TABLE txns (at REAL NOT NULL, cons TEXT NOT NULL, count INTEGER, rejected INTEGER, tid TEXT)&quot;</span></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#logObjectToSql"><span class="hs-identifier hs-type">logObjectToSql</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LogObject"><span class="hs-identifier hs-type">LogObject</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLRunnable"><span class="hs-identifier hs-type">SQLRunnable</span></a></span><span>
</span><span id="line-201"></span><span id="logObjectToSql"><span class="annot"><span class="annottext">logObjectToSql :: LogObject -&gt; Maybe SQLRunnable
</span><a href="Cardano.Unlog.LogObjectDB.html#logObjectToSql"><span class="hs-identifier hs-var hs-var">logObjectToSql</span></a></span></span><span> </span><span id="local-6989586621679428312"><span class="annot"><span class="annottext">lo :: LogObject
</span><a href="#local-6989586621679428312"><span class="hs-identifier hs-var">lo</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LogObject"><span class="hs-identifier hs-type">LogObject</span></a></span><span class="hs-special">{</span><span id="local-6989586621679428314"><span class="annot"><span class="annottext">UTCTime
loAt :: UTCTime
loAt :: LogObject -&gt; UTCTime
</span><a href="#local-6989586621679428314"><span class="hs-identifier hs-var hs-var">loAt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428316"><span class="annot"><span class="annottext">LOBody
loBody :: LOBody
loBody :: LogObject -&gt; LOBody
</span><a href="#local-6989586621679428316"><span class="hs-identifier hs-var hs-var">loBody</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428318"><span class="annot"><span class="annottext">TId
loTid :: TId
loTid :: LogObject -&gt; TId
</span><a href="#local-6989586621679428318"><span class="hs-identifier hs-var hs-var">loTid</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LOBody
</span><a href="#local-6989586621679428316"><span class="hs-identifier hs-var">loBody</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-comment">-- trace not emitted by the node</span><span>
</span><span id="line-205"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOGeneratorSummary"><span class="hs-identifier hs-type">LOGeneratorSummary</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe SQLRunnable
forall a. Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-comment">-- no suitable interpreter found when parsing log object stream</span><span>
</span><span id="line-208"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOAny"><span class="hs-identifier hs-type">LOAny</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe SQLRunnable
forall a. Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-comment">-- not required for analysis</span><span>
</span><span id="line-211"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOTxsAcked"><span class="hs-identifier hs-type">LOTxsAcked</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe SQLRunnable
forall a. Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOResources"><span class="hs-identifier hs-type">LOResources</span></a></span><span> </span><span id="local-6989586621679428324"><span class="annot"><span class="annottext">ResourceStats
</span><a href="#local-6989586621679428324"><span class="hs-identifier hs-var">stats</span></a></span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SQLRunnable -&gt; Maybe SQLRunnable
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#insertResource"><span class="hs-identifier hs-var">insertResource</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; ResourceStats -&gt; [SQLData]
</span><a href="Cardano.Unlog.LogObjectDB.html#resourceArgs"><span class="hs-identifier hs-var">resourceArgs</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679428314"><span class="hs-identifier hs-var">loAt</span></a></span><span> </span><span class="annot"><span class="annottext">ResourceStats
</span><a href="#local-6989586621679428324"><span class="hs-identifier hs-var">stats</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOTraceStartLeadershipCheck"><span class="hs-identifier hs-type">LOTraceStartLeadershipCheck</span></a></span><span> </span><span id="local-6989586621679428326"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428326"><span class="hs-identifier hs-var">slot</span></a></span></span><span> </span><span id="local-6989586621679428327"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679428327"><span class="hs-identifier hs-var">utxoSize</span></a></span></span><span> </span><span id="local-6989586621679428328"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679428328"><span class="hs-identifier hs-var">chainDensity</span></a></span></span><span>
</span><span id="line-216"></span><span>                                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SQLRunnable -&gt; Maybe SQLRunnable
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#insertSlot"><span class="hs-identifier hs-var">insertSlot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; ArgNTuple -&gt; [SQLData]
</span><a href="Cardano.Unlog.LogObjectDB.html#slotArgs"><span class="hs-identifier hs-var">slotArgs</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679428314"><span class="hs-identifier hs-var">loAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Column, SlotNo)
-&gt; (Column, Word64) -&gt; (Column, Double) -&gt; ArgNTuple
forall x y z.
(AsSQLData x, AsSQLData y, AsSQLData z) =&gt;
(Column, x) -&gt; (Column, y) -&gt; (Column, z) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Triple"><span class="hs-identifier hs-var">Triple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428326"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679428327"><span class="hs-identifier hs-var">utxoSize</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679428328"><span class="hs-identifier hs-var">chainDensity</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>    </span><span class="hs-comment">-- forging</span><span>
</span><span id="line-218"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOBlockContext"><span class="hs-identifier hs-type">LOBlockContext</span></a></span><span> </span><span id="local-6989586621679428330"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428330"><span class="hs-identifier hs-var">slot</span></a></span></span><span> </span><span id="local-6989586621679428331"><span class="annot"><span class="annottext">BlockNo
</span><a href="#local-6989586621679428331"><span class="hs-identifier hs-var">block</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var">newLOEvent</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, SlotNo) -&gt; (Column, BlockNo) -&gt; ArgNTuple
forall x y.
(AsSQLData x, AsSQLData y) =&gt;
(Column, x) -&gt; (Column, y) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Tuple"><span class="hs-identifier hs-var">Tuple</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;slot&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428330"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;block&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">BlockNo
</span><a href="#local-6989586621679428331"><span class="hs-identifier hs-var">block</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOLedgerState"><span class="hs-identifier hs-type">LOLedgerState</span></a></span><span> </span><span id="local-6989586621679428334"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428334"><span class="hs-identifier hs-var">s</span></a></span></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var">newLOEvent</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, SlotNo) -&gt; ArgNTuple
forall x. AsSQLData x =&gt; (Column, x) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Singleton"><span class="hs-identifier hs-var">Singleton</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;slot&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428334"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-220"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOLedgerView"><span class="hs-identifier hs-type">LOLedgerView</span></a></span><span> </span><span id="local-6989586621679428337"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428337"><span class="hs-identifier hs-var">s</span></a></span></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var">newLOEvent</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, SlotNo) -&gt; ArgNTuple
forall x. AsSQLData x =&gt; (Column, x) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Singleton"><span class="hs-identifier hs-var">Singleton</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;slot&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428337"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOTraceLeadershipDecided"><span class="hs-identifier hs-type">LOTraceLeadershipDecided</span></a></span><span> </span><span id="local-6989586621679428339"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428339"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679428340"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679428340"><span class="hs-identifier hs-var">b</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var">newLOEvent</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, SlotNo) -&gt; (Column, Bool) -&gt; ArgNTuple
forall x y.
(AsSQLData x, AsSQLData y) =&gt;
(Column, x) -&gt; (Column, y) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Tuple"><span class="hs-identifier hs-var">Tuple</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;slot&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428339"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;block&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679428340"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOTickedLedgerState"><span class="hs-identifier hs-type">LOTickedLedgerState</span></a></span><span> </span><span id="local-6989586621679428342"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428342"><span class="hs-identifier hs-var">s</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var">newLOEvent</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, SlotNo) -&gt; ArgNTuple
forall x. AsSQLData x =&gt; (Column, x) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Singleton"><span class="hs-identifier hs-var">Singleton</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;slot&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428342"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOMempoolSnapshot"><span class="hs-identifier hs-type">LOMempoolSnapshot</span></a></span><span> </span><span id="local-6989586621679428344"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428344"><span class="hs-identifier hs-var">s</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var">newLOEvent</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, SlotNo) -&gt; ArgNTuple
forall x. AsSQLData x =&gt; (Column, x) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Singleton"><span class="hs-identifier hs-var">Singleton</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;slot&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428344"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOBlockForged"><span class="hs-identifier hs-type">LOBlockForged</span></a></span><span> </span><span id="local-6989586621679428346"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428346"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679428347"><span class="annot"><span class="annottext">BlockNo
</span><a href="#local-6989586621679428347"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679428348"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428348"><span class="hs-identifier hs-var">h1</span></a></span></span><span> </span><span id="local-6989586621679428349"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428349"><span class="hs-identifier hs-var">h2</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var">newLOEvent</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, SlotNo)
-&gt; (Column, BlockNo) -&gt; (Column, (Hash, Hash)) -&gt; ArgNTuple
forall x y z.
(AsSQLData x, AsSQLData y, AsSQLData z) =&gt;
(Column, x) -&gt; (Column, y) -&gt; (Column, z) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Triple"><span class="hs-identifier hs-var">Triple</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;slot&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428346"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;block&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">BlockNo
</span><a href="#local-6989586621679428347"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;hash&quot;</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428348"><span class="hs-identifier hs-var">h1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428349"><span class="hs-identifier hs-var">h2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span>    </span><span class="hs-comment">-- diffusion</span><span>
</span><span id="line-227"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOChainSyncClientSeenHeader"><span class="hs-identifier hs-type">LOChainSyncClientSeenHeader</span></a></span><span> </span><span id="local-6989586621679428351"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428351"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679428352"><span class="annot"><span class="annottext">BlockNo
</span><a href="#local-6989586621679428352"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679428353"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428353"><span class="hs-identifier hs-var">h</span></a></span></span><span>
</span><span id="line-228"></span><span>                                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var">newLOEvent</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, SlotNo)
-&gt; (Column, BlockNo) -&gt; (Column, Hash) -&gt; ArgNTuple
forall x y z.
(AsSQLData x, AsSQLData y, AsSQLData z) =&gt;
(Column, x) -&gt; (Column, y) -&gt; (Column, z) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Triple"><span class="hs-identifier hs-var">Triple</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;slot&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428351"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;block&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">BlockNo
</span><a href="#local-6989586621679428352"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;hash&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428353"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOBlockFetchClientRequested"><span class="hs-identifier hs-type">LOBlockFetchClientRequested</span></a></span><span> </span><span id="local-6989586621679428355"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428355"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679428356"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679428356"><span class="hs-identifier hs-var">len</span></a></span></span><span>
</span><span id="line-230"></span><span>                                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var">newLOEvent</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, Int) -&gt; (Column, Hash) -&gt; ArgNTuple
forall x y.
(AsSQLData x, AsSQLData y) =&gt;
(Column, x) -&gt; (Column, y) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Tuple"><span class="hs-identifier hs-var">Tuple</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;block&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679428356"><span class="hs-identifier hs-var">len</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;hash&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428355"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOBlockFetchClientCompletedFetch"><span class="hs-identifier hs-type">LOBlockFetchClientCompletedFetch</span></a></span><span> </span><span id="local-6989586621679428358"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428358"><span class="hs-identifier hs-var">h</span></a></span></span><span>
</span><span id="line-232"></span><span>                                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var">newLOEvent</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, Hash) -&gt; ArgNTuple
forall x. AsSQLData x =&gt; (Column, x) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Singleton"><span class="hs-identifier hs-var">Singleton</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;hash&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428358"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOChainSyncServerSendHeader"><span class="hs-identifier hs-type">LOChainSyncServerSendHeader</span></a></span><span> </span><span id="local-6989586621679428360"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428360"><span class="hs-identifier hs-var">h</span></a></span></span><span>
</span><span id="line-234"></span><span>                                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var">newLOEvent</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, Hash) -&gt; ArgNTuple
forall x. AsSQLData x =&gt; (Column, x) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Singleton"><span class="hs-identifier hs-var">Singleton</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;hash&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428360"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOBlockFetchServerSending"><span class="hs-identifier hs-type">LOBlockFetchServerSending</span></a></span><span> </span><span id="local-6989586621679428362"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428362"><span class="hs-identifier hs-var">h</span></a></span></span><span>
</span><span id="line-236"></span><span>                                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var">newLOEvent</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, Hash) -&gt; ArgNTuple
forall x. AsSQLData x =&gt; (Column, x) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Singleton"><span class="hs-identifier hs-var">Singleton</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;hash&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428362"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOBlockAddedToCurrentChain"><span class="hs-identifier hs-type">LOBlockAddedToCurrentChain</span></a></span><span> </span><span id="local-6989586621679428364"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428364"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679428365"><span class="annot"><span class="annottext">SMaybe Int
</span><a href="#local-6989586621679428365"><span class="hs-identifier hs-var">mSz</span></a></span></span><span> </span><span id="local-6989586621679428366"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679428366"><span class="hs-identifier hs-var">len</span></a></span></span><span>
</span><span id="line-238"></span><span>                                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var">newLOEvent</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, SMaybe Int)
-&gt; (Column, Int) -&gt; (Column, Hash) -&gt; ArgNTuple
forall x y z.
(AsSQLData x, AsSQLData y, AsSQLData z) =&gt;
(Column, x) -&gt; (Column, y) -&gt; (Column, z) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Triple"><span class="hs-identifier hs-var">Triple</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;slot&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SMaybe Int
</span><a href="#local-6989586621679428365"><span class="hs-identifier hs-var">mSz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;block&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679428366"><span class="hs-identifier hs-var">len</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;hash&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679428364"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span>    </span><span class="annot"><span class="annottext">LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOLedgerTookSnapshot"><span class="hs-identifier hs-var">LOLedgerTookSnapshot</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var">newLOEvent</span></a></span><span> </span><span class="annot"><span class="annottext">ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-241"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOLedgerMetrics"><span class="hs-identifier hs-type">LOLedgerMetrics</span></a></span><span> </span><span id="local-6989586621679428370"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428370"><span class="hs-identifier hs-var">slot</span></a></span></span><span> </span><span id="local-6989586621679428371"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679428371"><span class="hs-identifier hs-var">utxoSize</span></a></span></span><span> </span><span id="local-6989586621679428372"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679428372"><span class="hs-identifier hs-var">chainDensity</span></a></span></span><span>
</span><span id="line-242"></span><span>                                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SQLRunnable -&gt; Maybe SQLRunnable
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#insertLMetrics"><span class="hs-identifier hs-var">insertLMetrics</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; ArgNTuple -&gt; [SQLData]
</span><a href="Cardano.Unlog.LogObjectDB.html#lMetricsArgs"><span class="hs-identifier hs-var">lMetricsArgs</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679428314"><span class="hs-identifier hs-var">loAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Column, SlotNo)
-&gt; (Column, Word64) -&gt; (Column, Double) -&gt; ArgNTuple
forall x y z.
(AsSQLData x, AsSQLData y, AsSQLData z) =&gt;
(Column, x) -&gt; (Column, y) -&gt; (Column, z) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Triple"><span class="hs-identifier hs-var">Triple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679428370"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679428371"><span class="hs-identifier hs-var">utxoSize</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679428372"><span class="hs-identifier hs-var">chainDensity</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span>    </span><span class="hs-comment">-- txn receive path</span><span>
</span><span id="line-245"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOTxsCollected"><span class="hs-identifier hs-type">LOTxsCollected</span></a></span><span> </span><span id="local-6989586621679428374"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679428374"><span class="hs-identifier hs-var">c</span></a></span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428375"><span class="hs-identifier hs-var">newLOTxns</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, Word64) -&gt; (Column, TId) -&gt; ArgNTuple
forall x y.
(AsSQLData x, AsSQLData y) =&gt;
(Column, x) -&gt; (Column, y) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Tuple"><span class="hs-identifier hs-var">Tuple</span></a></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;count&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679428374"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;tid&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TId
</span><a href="#local-6989586621679428318"><span class="hs-identifier hs-var">loTid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOTxsProcessed"><span class="hs-identifier hs-type">LOTxsProcessed</span></a></span><span> </span><span id="local-6989586621679428377"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679428377"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679428378"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679428378"><span class="hs-identifier hs-var">r</span></a></span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428375"><span class="hs-identifier hs-var">newLOTxns</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, Word64) -&gt; (Column, Int) -&gt; (Column, TId) -&gt; ArgNTuple
forall x y z.
(AsSQLData x, AsSQLData y, AsSQLData z) =&gt;
(Column, x) -&gt; (Column, y) -&gt; (Column, z) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Triple"><span class="hs-identifier hs-var">Triple</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;count&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679428377"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;rejected&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679428378"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;tid&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TId
</span><a href="#local-6989586621679428318"><span class="hs-identifier hs-var">loTid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOMempoolTxs"><span class="hs-identifier hs-type">LOMempoolTxs</span></a></span><span> </span><span id="local-6989586621679428380"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679428380"><span class="hs-identifier hs-var">c</span></a></span></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428375"><span class="hs-identifier hs-var">newLOTxns</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; Maybe SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, Word64) -&gt; ArgNTuple
forall x. AsSQLData x =&gt; (Column, x) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Singleton"><span class="hs-identifier hs-var">Singleton</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;count&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679428380"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><span class="annottext">LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOMempoolRejectedTx"><span class="hs-identifier hs-var">LOMempoolRejectedTx</span></a></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428375"><span class="hs-identifier hs-var">newLOTxns</span></a></span><span> </span><span class="annot"><span class="annottext">ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span>    </span><span class="hs-comment">-- that goes to the error table</span><span>
</span><span id="line-251"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LODecodeError"><span class="hs-identifier hs-type">LODecodeError</span></a></span><span> </span><span id="local-6989586621679428383"><span class="annot"><span class="annottext">ShortText
</span><a href="#local-6989586621679428383"><span class="hs-identifier hs-var">rawText</span></a></span></span><span> </span><span id="local-6989586621679428384"><span class="annot"><span class="annottext">ShortText
</span><a href="#local-6989586621679428384"><span class="hs-identifier hs-var">err</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SQLRunnable -&gt; Maybe SQLRunnable
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQL
</span><a href="Cardano.Unlog.LogObjectDB.html#insertError"><span class="hs-identifier hs-var">insertError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; [SQLData]
</span><a href="Cardano.Unlog.LogObjectDB.html#toArgs"><span class="hs-identifier hs-var">toArgs</span></a></span><span> </span><span class="annot"><span class="annottext">(ArgNTuple -&gt; [SQLData]) -&gt; ArgNTuple -&gt; [SQLData]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Column, ShortText) -&gt; (Column, ShortText) -&gt; ArgNTuple
forall x y.
(AsSQLData x, AsSQLData y) =&gt;
(Column, x) -&gt; (Column, y) -&gt; ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Tuple"><span class="hs-identifier hs-var">Tuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ShortText
</span><a href="#local-6989586621679428384"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ShortText
</span><a href="#local-6989586621679428383"><span class="hs-identifier hs-var">rawText</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-254"></span><span>      </span><span id="local-6989586621679428332"><span class="annot"><span class="annottext">newLOEvent :: ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428332"><span class="hs-identifier hs-var hs-var">newLOEvent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQLRunnable -&gt; Maybe SQLRunnable
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(SQLRunnable -&gt; Maybe SQLRunnable)
-&gt; (ArgNTuple -&gt; SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SQL -&gt; LogObject -&gt; ArgNTuple -&gt; SQLRunnable
</span><a href="Cardano.Unlog.LogObjectDB.html#insertVariadic"><span class="hs-identifier hs-var">insertVariadic</span></a></span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;event&quot;</span></span><span> </span><span class="annot"><span class="annottext">LogObject
</span><a href="#local-6989586621679428312"><span class="hs-identifier hs-var">lo</span></a></span><span>
</span><span id="line-255"></span><span>      </span><span id="local-6989586621679428375"><span class="annot"><span class="annottext">newLOTxns :: ArgNTuple -&gt; Maybe SQLRunnable
</span><a href="#local-6989586621679428375"><span class="hs-identifier hs-var hs-var">newLOTxns</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQLRunnable -&gt; Maybe SQLRunnable
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(SQLRunnable -&gt; Maybe SQLRunnable)
-&gt; (ArgNTuple -&gt; SQLRunnable) -&gt; ArgNTuple -&gt; Maybe SQLRunnable
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SQL -&gt; LogObject -&gt; ArgNTuple -&gt; SQLRunnable
</span><a href="Cardano.Unlog.LogObjectDB.html#insertVariadic"><span class="hs-identifier hs-var">insertVariadic</span></a></span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;txns&quot;</span></span><span>  </span><span class="annot"><span class="annottext">LogObject
</span><a href="#local-6989586621679428312"><span class="hs-identifier hs-var">lo</span></a></span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#insertVariadic"><span class="hs-identifier hs-type">insertVariadic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-type">SQL</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LogObject"><span class="hs-identifier hs-type">LogObject</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#ArgNTuple"><span class="hs-identifier hs-type">ArgNTuple</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SQLRunnable"><span class="hs-identifier hs-type">SQLRunnable</span></a></span><span>
</span><span id="line-259"></span><span id="insertVariadic"><span class="annot"><span class="annottext">insertVariadic :: SQL -&gt; LogObject -&gt; ArgNTuple -&gt; SQLRunnable
</span><a href="Cardano.Unlog.LogObjectDB.html#insertVariadic"><span class="hs-identifier hs-var hs-var">insertVariadic</span></a></span></span><span> </span><span id="local-6989586621679428387"><span class="annot"><span class="annottext">SQL
</span><a href="#local-6989586621679428387"><span class="hs-identifier hs-var">table</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LogObject"><span class="hs-identifier hs-type">LogObject</span></a></span><span class="hs-special">{</span><span id="local-6989586621679428388"><span class="annot"><span class="annottext">UTCTime
loAt :: LogObject -&gt; UTCTime
loAt :: UTCTime
</span><a href="Cardano.Unlog.LogObject.html#loAt"><span class="hs-identifier hs-var hs-var">loAt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428389"><span class="annot"><span class="annottext">LOBody
loBody :: LogObject -&gt; LOBody
loBody :: LOBody
</span><a href="Cardano.Unlog.LogObject.html#loBody"><span class="hs-identifier hs-var hs-var">loBody</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679428390"><span class="annot"><span class="annottext">ArgNTuple
</span><a href="#local-6989586621679428390"><span class="hs-identifier hs-var">argNTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQL
</span><a href="#local-6989586621679428391"><span class="hs-identifier hs-var">sql</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428392"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-261"></span><span>    </span><span id="local-6989586621679428392"><span class="annot"><span class="annottext">args :: [SQLData]
</span><a href="#local-6989586621679428392"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679428388"><span class="hs-identifier hs-var">loAt</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; [SQLData] -&gt; [SQLData]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">LOBody -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">LOBody
</span><a href="#local-6989586621679428389"><span class="hs-identifier hs-var">loBody</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; [SQLData] -&gt; [SQLData]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; [SQLData]
</span><a href="Cardano.Unlog.LogObjectDB.html#toArgs"><span class="hs-identifier hs-var">toArgs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgNTuple
</span><a href="#local-6989586621679428390"><span class="hs-identifier hs-var">argNTuple</span></a></span><span>
</span><span id="line-262"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679428393"><span class="annot"><span class="annottext">SQL
</span><a href="#local-6989586621679428393"><span class="hs-identifier hs-var">columns</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428394"><span class="annot"><span class="annottext">SQL
</span><a href="#local-6989586621679428394"><span class="hs-identifier hs-var">templ</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgNTuple -&gt; (SQL, SQL)
</span><a href="Cardano.Unlog.LogObjectDB.html#toFieldList"><span class="hs-identifier hs-var">toFieldList</span></a></span><span> </span><span class="annot"><span class="annottext">ArgNTuple
</span><a href="#local-6989586621679428390"><span class="hs-identifier hs-var">argNTuple</span></a></span><span>
</span><span id="line-263"></span><span>    </span><span id="local-6989586621679428391"><span class="annot"><span class="annottext">sql :: SQL
</span><a href="#local-6989586621679428391"><span class="hs-identifier hs-var hs-var">sql</span></a></span></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;INSERT INTO &quot;</span></span><span> </span><span class="annot"><span class="annottext">SQL -&gt; SQL -&gt; SQL
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SQL
</span><a href="#local-6989586621679428387"><span class="hs-identifier hs-var">table</span></a></span><span> </span><span class="annot"><span class="annottext">SQL -&gt; SQL -&gt; SQL
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;(at,cons&quot;</span></span><span> </span><span class="annot"><span class="annottext">SQL -&gt; SQL -&gt; SQL
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SQL
</span><a href="#local-6989586621679428393"><span class="hs-identifier hs-var">columns</span></a></span><span> </span><span class="annot"><span class="annottext">SQL -&gt; SQL -&gt; SQL
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;) VALUES (?,?&quot;</span></span><span> </span><span class="annot"><span class="annottext">SQL -&gt; SQL -&gt; SQL
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SQL
</span><a href="#local-6989586621679428394"><span class="hs-identifier hs-var">templ</span></a></span><span> </span><span class="annot"><span class="annottext">SQL -&gt; SQL -&gt; SQL
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- some minimal guarantees for the variadic INSERTs on tables event and txns</span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span class="hs-keyword">type</span><span> </span><span id="Column"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Column"><span class="hs-identifier hs-var">Column</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span class="hs-comment">-- values to store, paired with their column name</span><span>
</span><span id="line-271"></span><span class="hs-keyword">data</span><span> </span><span id="ArgNTuple"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#ArgNTuple"><span class="hs-identifier hs-var">ArgNTuple</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-272"></span><span>  </span><span id="Empty"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#ArgNTuple"><span class="hs-identifier hs-type">ArgNTuple</span></a></span><span>
</span><span id="line-273"></span><span>  </span><span id="Singleton"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Singleton"><span class="hs-identifier hs-var">Singleton</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679428396"><span class="annot"><a href="#local-6989586621679428396"><span class="hs-identifier hs-type">x</span></a></span></span><span class="hs-operator">.</span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679428396"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Column"><span class="hs-identifier hs-type">Column</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679428396"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#ArgNTuple"><span class="hs-identifier hs-type">ArgNTuple</span></a></span><span>
</span><span id="line-274"></span><span>  </span><span id="Tuple"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Tuple"><span class="hs-identifier hs-var">Tuple</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679428397"><span class="annot"><a href="#local-6989586621679428397"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621679428398"><span class="annot"><a href="#local-6989586621679428398"><span class="hs-identifier hs-type">y</span></a></span></span><span class="hs-operator">.</span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679428397"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679428398"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Column"><span class="hs-identifier hs-type">Column</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679428397"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Column"><span class="hs-identifier hs-type">Column</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679428398"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#ArgNTuple"><span class="hs-identifier hs-type">ArgNTuple</span></a></span><span>
</span><span id="line-275"></span><span>  </span><span id="Triple"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Triple"><span class="hs-identifier hs-var">Triple</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679428399"><span class="annot"><a href="#local-6989586621679428399"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621679428400"><span class="annot"><a href="#local-6989586621679428400"><span class="hs-identifier hs-type">y</span></a></span></span><span> </span><span id="local-6989586621679428401"><span class="annot"><a href="#local-6989586621679428401"><span class="hs-identifier hs-type">z</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679428399"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679428400"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679428401"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Column"><span class="hs-identifier hs-type">Column</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679428399"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Column"><span class="hs-identifier hs-type">Column</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679428400"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Column"><span class="hs-identifier hs-type">Column</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679428401"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#ArgNTuple"><span class="hs-identifier hs-type">ArgNTuple</span></a></span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#toArgs"><span class="hs-identifier hs-type">toArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#ArgNTuple"><span class="hs-identifier hs-type">ArgNTuple</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span class="hs-special">]</span><span>
</span><span id="line-278"></span><span id="toArgs"><span class="annot"><span class="annottext">toArgs :: ArgNTuple -&gt; [SQLData]
</span><a href="Cardano.Unlog.LogObjectDB.html#toArgs"><span class="hs-identifier hs-var hs-var">toArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-279"></span><span>  </span><span class="annot"><span class="annottext">ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>                           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-280"></span><span>  </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Singleton"><span class="hs-identifier hs-type">Singleton</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428404"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679428404"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">x -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679428404"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-281"></span><span>  </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Tuple"><span class="hs-identifier hs-type">Tuple</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428409"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679428409"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428410"><span class="annot"><span class="annottext">y
</span><a href="#local-6989586621679428410"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">x -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679428409"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">y -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">y
</span><a href="#local-6989586621679428410"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Triple"><span class="hs-identifier hs-type">Triple</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428417"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679428417"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428418"><span class="annot"><span class="annottext">y
</span><a href="#local-6989586621679428418"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428419"><span class="annot"><span class="annottext">z
</span><a href="#local-6989586621679428419"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">x -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679428417"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">y -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">y
</span><a href="#local-6989586621679428418"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">z -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">z
</span><a href="#local-6989586621679428419"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span class="hs-comment">-- for simplicity's sake, this yields both the column names</span><span>
</span><span id="line-285"></span><span class="hs-comment">-- and the correct number of additional placeholders to extend the template</span><span>
</span><span id="line-286"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#toFieldList"><span class="hs-identifier hs-type">toFieldList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#ArgNTuple"><span class="hs-identifier hs-type">ArgNTuple</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-type">SQL</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-type">SQL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span id="toFieldList"><span class="annot"><span class="annottext">toFieldList :: ArgNTuple -&gt; (SQL, SQL)
</span><a href="Cardano.Unlog.LogObjectDB.html#toFieldList"><span class="hs-identifier hs-var hs-var">toFieldList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-288"></span><span>  </span><span class="annot"><span class="annottext">ArgNTuple
</span><a href="Cardano.Unlog.LogObjectDB.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>                           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;&quot;</span></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>  </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Singleton"><span class="hs-identifier hs-type">Singleton</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679428422"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428422"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">x
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Column] -&gt; SQL
</span><a href="#local-6989586621679428423"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428422"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;,?&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span>  </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Tuple"><span class="hs-identifier hs-type">Tuple</span></a></span><span>     </span><span class="hs-special">(</span><span id="local-6989586621679428427"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428427"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">x
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679428428"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428428"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">y
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Column] -&gt; SQL
</span><a href="#local-6989586621679428423"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428427"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428428"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;,?,?&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>  </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#Triple"><span class="hs-identifier hs-type">Triple</span></a></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679428433"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428433"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">x
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679428434"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428434"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">y
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679428435"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428435"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">z
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Column] -&gt; SQL
</span><a href="#local-6989586621679428423"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428433"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428434"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428435"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SQL
</span><span class="hs-string">&quot;,?,?,?&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-293"></span><span>    </span><span id="local-6989586621679428423"><span class="annot"><span class="annottext">go :: [Column] -&gt; SQL
</span><a href="#local-6989586621679428423"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Column -&gt; SQL
</span><a href="file:///nix/store/49rppdnin26hx0v2wl3ralyq0sj61ybw-sqlite-easy-lib-sqlite-easy-1.1.1.0-haddock-doc/share/doc/sqlite-easy/html/src/Database.Sqlite.Easy.Internal.html#SQL"><span class="hs-identifier hs-var">SQL</span></a></span><span> </span><span class="annot"><span class="annottext">(Column -&gt; SQL) -&gt; ([Column] -&gt; Column) -&gt; [Column] -&gt; SQL
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Column -&gt; [Column] -&gt; Column
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html#intercalate"><span class="hs-identifier hs-var">TS.intercalate</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;,&quot;</span></span><span> </span><span class="annot"><span class="annottext">([Column] -&gt; Column)
-&gt; ([Column] -&gt; [Column]) -&gt; [Column] -&gt; Column
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#empty"><span class="hs-identifier hs-var">TS.empty</span></a></span><span> </span><span class="annot"><span class="annottext">Column -&gt; [Column] -&gt; [Column]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#sqlToLogObject"><span class="hs-identifier hs-type">sqlToLogObject</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SummaryDB"><span class="hs-identifier hs-type">SummaryDB</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LogObject"><span class="hs-identifier hs-type">LogObject</span></a></span><span>
</span><span id="line-297"></span><span id="sqlToLogObject"><span class="annot"><span class="annottext">sqlToLogObject :: SummaryDB -&gt; [SQLData] -&gt; LogObject
</span><a href="Cardano.Unlog.LogObjectDB.html#sqlToLogObject"><span class="hs-identifier hs-var hs-var">sqlToLogObject</span></a></span></span><span> </span><span class="annot"><span class="annottext">SummaryDB
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; LogObject
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;toLogObject: no columns in result row&quot;</span></span><span>
</span><span id="line-298"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#sqlToLogObject"><span class="hs-identifier hs-var">sqlToLogObject</span></a></span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SummaryDB"><span class="hs-identifier hs-type">SummaryDB</span></a></span><span class="hs-special">{</span><span id="local-6989586621679428437"><span class="annot"><span class="annottext">Host
sdbName :: SummaryDB -&gt; Host
sdbName :: Host
</span><a href="Cardano.Unlog.LogObjectDB.html#sdbName"><span class="hs-identifier hs-var hs-var">sdbName</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679428438"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428438"><span class="hs-identifier hs-var">at</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679428439"><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428439"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-299"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679428440"><span class="annot"><span class="annottext">body :: LOBody
</span><a href="#local-6989586621679428440"><span class="hs-identifier hs-var hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SQLData] -&gt; LOBody
forall x. AsSQLData x =&gt; [SQLData] -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlDataWithArgs"><span class="hs-identifier hs-var">fromSqlDataWithArgs</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428439"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LogObject"><span class="hs-identifier hs-type">LogObject</span></a></span><span>
</span><span id="line-301"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">loAt :: UTCTime
</span><a href="Cardano.Unlog.LogObject.html#loAt"><span class="hs-identifier hs-var">loAt</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; UTCTime
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428438"><span class="hs-identifier hs-var">at</span></a></span><span>
</span><span id="line-302"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">loNS :: TextRef
</span><a href="Cardano.Unlog.LogObject.html#loNS"><span class="hs-identifier hs-var">loNS</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextRef
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-303"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">loKind :: TextRef
</span><a href="Cardano.Unlog.LogObject.html#loKind"><span class="hs-identifier hs-var">loKind</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextRef
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-304"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">loHost :: Host
</span><a href="Cardano.Unlog.LogObject.html#loHost"><span class="hs-identifier hs-var">loHost</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Host
</span><a href="#local-6989586621679428437"><span class="hs-identifier hs-var">sdbName</span></a></span><span>
</span><span id="line-305"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">loTid :: TId
</span><a href="Cardano.Unlog.LogObject.html#loTid"><span class="hs-identifier hs-var">loTid</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SQLData] -&gt; LOBody -&gt; TId
</span><a href="Cardano.Unlog.LogObjectDB.html#logObjectNeedsTIdforAnalysis"><span class="hs-identifier hs-var">logObjectNeedsTIdforAnalysis</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428439"><span class="hs-identifier hs-var">rest</span></a></span><span> </span><span class="annot"><span class="annottext">LOBody
</span><a href="#local-6989586621679428440"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-306"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">loBody :: LOBody
</span><a href="Cardano.Unlog.LogObject.html#loBody"><span class="hs-identifier hs-var">loBody</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LOBody
</span><a href="#local-6989586621679428440"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-307"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span class="hs-comment">-- There's only a couple of log objects that need the TId field for analysis.</span><span>
</span><span id="line-310"></span><span class="hs-comment">-- Hence, it's only stored for those.</span><span>
</span><span id="line-311"></span><span class="hs-comment">-- NB. The assumption here is it is the last column in the schema for table 'txns'</span><span>
</span><span id="line-312"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#logObjectNeedsTIdforAnalysis"><span class="hs-identifier hs-type">logObjectNeedsTIdforAnalysis</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOBody"><span class="hs-identifier hs-type">LOBody</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Analysis.API.Ground.html#TId"><span class="hs-identifier hs-type">TId</span></a></span><span>
</span><span id="line-313"></span><span id="logObjectNeedsTIdforAnalysis"><span class="annot"><span class="annottext">logObjectNeedsTIdforAnalysis :: [SQLData] -&gt; LOBody -&gt; TId
</span><a href="Cardano.Unlog.LogObjectDB.html#logObjectNeedsTIdforAnalysis"><span class="hs-identifier hs-var hs-var">logObjectNeedsTIdforAnalysis</span></a></span></span><span> </span><span id="local-6989586621679428447"><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428447"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-314"></span><span>  </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOTxsCollected"><span class="hs-identifier hs-type">LOTxsCollected</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TId
</span><a href="#local-6989586621679428448"><span class="hs-identifier hs-var">theTId</span></a></span><span>
</span><span id="line-315"></span><span>  </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOTxsProcessed"><span class="hs-identifier hs-type">LOTxsProcessed</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TId
</span><a href="#local-6989586621679428448"><span class="hs-identifier hs-var">theTId</span></a></span><span>
</span><span id="line-316"></span><span>  </span><span class="annot"><span class="annottext">LOBody
</span><span class="hs-identifier">_</span></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; TId
</span><a href="Cardano.Analysis.API.Ground.html#TId"><span class="hs-identifier hs-var">TId</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText
</span><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.html#empty"><span class="hs-identifier hs-var">ShortText.empty</span></a></span><span>
</span><span id="line-317"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-318"></span><span>    </span><span id="local-6989586621679428448"><span class="annot"><span class="annottext">theTId :: TId
</span><a href="#local-6989586621679428448"><span class="hs-identifier hs-var hs-var">theTId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; TId
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">(SQLData -&gt; TId) -&gt; SQLData -&gt; TId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData] -&gt; SQLData
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#last"><span class="hs-identifier hs-var">last</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428447"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-319"></span><span>
</span><span id="line-320"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#toLOBodyConverters"><span class="hs-identifier hs-type">toLOBodyConverters</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">ML.Map</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.Lazy.html#Text"><span class="hs-identifier hs-type">TL.Text</span></a></span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOBody"><span class="hs-identifier hs-type">LOBody</span></a></span><span>
</span><span id="line-321"></span><span id="toLOBodyConverters"><span class="annot"><span class="annottext">toLOBodyConverters :: [SQLData] -&gt; Map Text LOBody
</span><a href="Cardano.Unlog.LogObjectDB.html#toLOBodyConverters"><span class="hs-identifier hs-var hs-var">toLOBodyConverters</span></a></span></span><span> </span><span id="local-6989586621679428451"><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428451"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, LOBody)] -&gt; Map Text LOBody
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">ML.fromList</span></a></span><span>
</span><span id="line-322"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOResources&quot;</span></span><span class="hs-special">,</span><span>          </span><span class="annot"><span class="annottext">ResourceStats -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOResources"><span class="hs-identifier hs-var">LOResources</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; ResourceStats
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">(SQLData -&gt; ResourceStats) -&gt; SQLData -&gt; ResourceStats
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData] -&gt; SQLData
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#last"><span class="hs-identifier hs-var">last</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428451"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOTraceStartLeadershipCheck&quot;</span></span><span>
</span><span id="line-325"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo -&gt; Word64 -&gt; Double -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOTraceStartLeadershipCheck"><span class="hs-identifier hs-var">LOTraceStartLeadershipCheck</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; SlotNo
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428453"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Word64
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428454"><span class="hs-identifier hs-var">utxoSize</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Double
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428455"><span class="hs-identifier hs-var">chainDens</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span>  </span><span class="hs-comment">-- forging</span><span>
</span><span id="line-329"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOBlockContext&quot;</span></span><span class="hs-special">,</span><span>       </span><span class="annot"><span class="annottext">SlotNo -&gt; BlockNo -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOBlockContext"><span class="hs-identifier hs-var">LOBlockContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; SlotNo
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428453"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; BlockNo
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428456"><span class="hs-identifier hs-var">block</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-330"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOLedgerState&quot;</span></span><span class="hs-special">,</span><span>        </span><span class="annot"><span class="annottext">SlotNo -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOLedgerState"><span class="hs-identifier hs-var">LOLedgerState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; SlotNo
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428453"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOLedgerView&quot;</span></span><span class="hs-special">,</span><span>         </span><span class="annot"><span class="annottext">SlotNo -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOLedgerView"><span class="hs-identifier hs-var">LOLedgerView</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; SlotNo
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428453"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-332"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOTraceLeadershipDecided&quot;</span></span><span>
</span><span id="line-333"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo -&gt; Bool -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOTraceLeadershipDecided"><span class="hs-identifier hs-var">LOTraceLeadershipDecided</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; SlotNo
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428453"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Bool
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428456"><span class="hs-identifier hs-var">block</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOTickedLedgerState&quot;</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">SlotNo -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOTickedLedgerState"><span class="hs-identifier hs-var">LOTickedLedgerState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; SlotNo
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428453"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOMempoolSnapshot&quot;</span></span><span class="hs-special">,</span><span>    </span><span class="annot"><span class="annottext">SlotNo -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOMempoolSnapshot"><span class="hs-identifier hs-var">LOMempoolSnapshot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; SlotNo
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428453"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOBlockForged&quot;</span></span><span class="hs-special">,</span><span>        </span><span class="annot"><span class="annottext">(Hash -&gt; Hash -&gt; LOBody) -&gt; (Hash, Hash) -&gt; LOBody
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Tuple.html#uncurry"><span class="hs-identifier hs-var">uncurry</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SlotNo -&gt; BlockNo -&gt; Hash -&gt; Hash -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOBlockForged"><span class="hs-identifier hs-var">LOBlockForged</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; SlotNo
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428453"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; BlockNo
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428456"><span class="hs-identifier hs-var">block</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; (Hash, Hash)
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428457"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span>  </span><span class="hs-comment">-- diffusion</span><span>
</span><span id="line-340"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOChainSyncClientSeenHeader&quot;</span></span><span>
</span><span id="line-341"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo -&gt; BlockNo -&gt; Hash -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOChainSyncClientSeenHeader"><span class="hs-identifier hs-var">LOChainSyncClientSeenHeader</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; SlotNo
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428453"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; BlockNo
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428456"><span class="hs-identifier hs-var">block</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Hash
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428457"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOBlockFetchClientRequested&quot;</span></span><span>
</span><span id="line-344"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hash -&gt; Int -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOBlockFetchClientRequested"><span class="hs-identifier hs-var">LOBlockFetchClientRequested</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Hash
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428457"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Int
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428456"><span class="hs-identifier hs-var">block</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOBlockFetchClientCompletedFetch&quot;</span></span><span>
</span><span id="line-347"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hash -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOBlockFetchClientCompletedFetch"><span class="hs-identifier hs-var">LOBlockFetchClientCompletedFetch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Hash
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428457"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-348"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-349"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOChainSyncServerSendHeader&quot;</span></span><span>
</span><span id="line-350"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hash -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOChainSyncServerSendHeader"><span class="hs-identifier hs-var">LOChainSyncServerSendHeader</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Hash
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428457"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-351"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOBlockFetchServerSending&quot;</span></span><span>
</span><span id="line-353"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hash -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOBlockFetchServerSending"><span class="hs-identifier hs-var">LOBlockFetchServerSending</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Hash
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428457"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-354"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-355"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOBlockAddedToCurrentChain&quot;</span></span><span>
</span><span id="line-356"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hash -&gt; SMaybe Int -&gt; Int -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOBlockAddedToCurrentChain"><span class="hs-identifier hs-var">LOBlockAddedToCurrentChain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Hash
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428457"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; SMaybe Int
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428453"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Int
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428456"><span class="hs-identifier hs-var">block</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOLedgerTookSnapshot&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOLedgerTookSnapshot"><span class="hs-identifier hs-var">LOLedgerTookSnapshot</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-360"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOLedgerMetrics&quot;</span></span><span>
</span><span id="line-361"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo -&gt; Word64 -&gt; Double -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOLedgerMetrics"><span class="hs-identifier hs-var">LOLedgerMetrics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; SlotNo
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428453"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Word64
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428454"><span class="hs-identifier hs-var">utxoSize</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Double
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428455"><span class="hs-identifier hs-var">chainDens</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>    </span><span class="hs-special">)</span><span>  </span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span>  </span><span class="hs-comment">-- txn receive path</span><span>
</span><span id="line-365"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOTxsCollected&quot;</span></span><span class="hs-special">,</span><span>       </span><span class="annot"><span class="annottext">Word64 -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOTxsCollected"><span class="hs-identifier hs-var">LOTxsCollected</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Word64
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428458"><span class="hs-identifier hs-var">count</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-366"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOTxsProcessed&quot;</span></span><span class="hs-special">,</span><span>       </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOTxsProcessed"><span class="hs-identifier hs-var">LOTxsProcessed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Word64
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428458"><span class="hs-identifier hs-var">count</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Int
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428459"><span class="hs-identifier hs-var">rejected</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-367"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOMempoolTxs&quot;</span></span><span class="hs-special">,</span><span>         </span><span class="annot"><span class="annottext">Word64 -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOMempoolTxs"><span class="hs-identifier hs-var">LOMempoolTxs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; Word64
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428458"><span class="hs-identifier hs-var">count</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-368"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOMempoolRejectedTx&quot;</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">LOBody
</span><a href="Cardano.Unlog.LogObject.html#LOMempoolRejectedTx"><span class="hs-identifier hs-var">LOMempoolRejectedTx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span>  </span><span class="hs-comment">-- constructor not expected to appear given the definition of `selectAll`</span><span>
</span><span id="line-371"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LODecodeError&quot;</span></span><span class="hs-special">,</span><span>        </span><span class="annot"><span class="annottext">ShortText -&gt; LOBody
</span><a href="#local-6989586621679428460"><span class="hs-identifier hs-var">errorGiven</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText
</span><span class="hs-string">&quot;LODecodeError&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span>  </span><span class="hs-comment">-- all constructors not expected to appear given the definition of `logLineToSQL`</span><span>
</span><span id="line-374"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOAny&quot;</span></span><span class="hs-special">,</span><span>                </span><span class="annot"><span class="annottext">ShortText -&gt; LOBody
</span><a href="#local-6989586621679428460"><span class="hs-identifier hs-var">errorGiven</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText
</span><span class="hs-string">&quot;LOAny&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-375"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOGeneratorSummary&quot;</span></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">ShortText -&gt; LOBody
</span><a href="#local-6989586621679428460"><span class="hs-identifier hs-var">errorGiven</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText
</span><span class="hs-string">&quot;LOGeneratorSummary&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LOTxsAcked&quot;</span></span><span class="hs-special">,</span><span>           </span><span class="annot"><span class="annottext">ShortText -&gt; LOBody
</span><a href="#local-6989586621679428460"><span class="hs-identifier hs-var">errorGiven</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText
</span><span class="hs-string">&quot;LOTxsAcked&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-378"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-379"></span><span>    </span><span id="local-6989586621679428460"><span class="annot"><span class="annottext">errorGiven :: ShortText -&gt; LOBody
</span><a href="#local-6989586621679428460"><span class="hs-identifier hs-var hs-var">errorGiven</span></a></span></span><span> </span><span id="local-6989586621679428461"><span class="annot"><span class="annottext">ShortText
</span><a href="#local-6989586621679428461"><span class="hs-identifier hs-var">cons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; ShortText -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LODecodeError"><span class="hs-identifier hs-var">LODecodeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; ShortText
</span><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.html#pack"><span class="hs-identifier hs-var">ShortText.pack</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; ShortText) -&gt; [Char] -&gt; ShortText
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData] -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428451"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShortText
</span><span class="hs-string">&quot;toLOBodyConverters: unexpected &quot;</span></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; ShortText -&gt; ShortText
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText
</span><a href="#local-6989586621679428461"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; ShortText -&gt; ShortText
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText
</span><span class="hs-string">&quot; (with args)&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span>    </span><span class="hs-comment">-- match remaining columns (after 'at' and 'cons') on a result row from `selectAll`,</span><span>
</span><span id="line-382"></span><span>    </span><span class="hs-comment">-- offering custom matches for each table.</span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span>    </span><span class="hs-comment">-- table: event</span><span>
</span><span id="line-385"></span><span>    </span><span id="local-6989586621679428453"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428453"><span class="hs-identifier hs-var">slot</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679428456"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428456"><span class="hs-identifier hs-var">block</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679428457"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428457"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428451"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span>    </span><span class="hs-comment">-- table: slot, ledgermetrics</span><span>
</span><span id="line-388"></span><span>    </span><span class="annot"><span class="annottext">SQLData
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679428454"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428454"><span class="hs-identifier hs-var">utxoSize</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679428455"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428455"><span class="hs-identifier hs-var">chainDens</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428451"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span>    </span><span class="hs-comment">-- table: txns</span><span>
</span><span id="line-391"></span><span>    </span><span id="local-6989586621679428458"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428458"><span class="hs-identifier hs-var">count</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679428459"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428459"><span class="hs-identifier hs-var">rejected</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428451"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#toLOBody"><span class="hs-identifier hs-type">toLOBody</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOBody"><span class="hs-identifier hs-type">LOBody</span></a></span><span>
</span><span id="line-394"></span><span id="toLOBody"><span class="annot"><span class="annottext">toLOBody :: [SQLData] -&gt; LOBody
</span><a href="Cardano.Unlog.LogObjectDB.html#toLOBody"><span class="hs-identifier hs-var hs-var">toLOBody</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SQLText</span></span><span> </span><span id="local-6989586621679428465"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428465"><span class="hs-identifier hs-var">cons</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679428466"><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428466"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LOBody -&gt; Maybe LOBody -&gt; LOBody
forall a. a -&gt; Maybe a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">LOBody
</span><a href="#local-6989586621679428467"><span class="hs-identifier hs-var">unresolved</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe LOBody
</span><a href="#local-6989586621679428468"><span class="hs-identifier hs-var">resolve</span></a></span><span>
</span><span id="line-395"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-396"></span><span>    </span><span id="local-6989586621679428468"><span class="annot"><span class="annottext">resolve :: Maybe LOBody
</span><a href="#local-6989586621679428468"><span class="hs-identifier hs-var hs-var">resolve</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Column -&gt; Text
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Lazy.html#fromStrict"><span class="hs-identifier hs-var">TL.fromStrict</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428465"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Map Text LOBody -&gt; Maybe LOBody
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-operator hs-var">`ML.lookup`</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData] -&gt; Map Text LOBody
</span><a href="Cardano.Unlog.LogObjectDB.html#toLOBodyConverters"><span class="hs-identifier hs-var">toLOBodyConverters</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428466"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-397"></span><span>    </span><span id="local-6989586621679428467"><span class="annot"><span class="annottext">unresolved :: LOBody
</span><a href="#local-6989586621679428467"><span class="hs-identifier hs-var hs-var">unresolved</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; ShortText -&gt; LOBody
</span><a href="Cardano.Unlog.LogObject.html#LODecodeError"><span class="hs-identifier hs-var">LODecodeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column -&gt; ShortText
</span><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.Internal.html#fromText"><span class="hs-identifier hs-var">ShortText.fromText</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428465"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ShortText
</span><span class="hs-string">&quot;toLOBody: no converter for that constructor; LOBody type definition may have changed in `locli` code&quot;</span></span><span>
</span><span id="line-398"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#toLOBody"><span class="hs-identifier hs-var">toLOBody</span></a></span><span> </span><span id="local-6989586621679428470"><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428470"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; LOBody
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; LOBody) -&gt; [Char] -&gt; LOBody
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;toLOBody: could not pattern match on result row &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData] -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428470"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span>
</span><span id="line-401"></span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#allLOBodyConstructors"><span class="hs-identifier hs-type">allLOBodyConstructors</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#knownLOBodyConstructors"><span class="hs-identifier hs-type">knownLOBodyConstructors</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set.Set</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.Lazy.html#Text"><span class="hs-identifier hs-type">TL.Text</span></a></span><span>
</span><span id="line-402"></span><span id="knownLOBodyConstructors"><span class="annot"><span class="annottext">knownLOBodyConstructors :: Set Text
</span><a href="Cardano.Unlog.LogObjectDB.html#knownLOBodyConstructors"><span class="hs-identifier hs-var hs-var">knownLOBodyConstructors</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map Text LOBody -&gt; Set Text
forall k a. Map k a -&gt; Set k
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#keysSet"><span class="hs-identifier hs-var">ML.keysSet</span></a></span><span> </span><span class="annot"><span class="annottext">(Map Text LOBody -&gt; Set Text) -&gt; Map Text LOBody -&gt; Set Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData] -&gt; Map Text LOBody
</span><a href="Cardano.Unlog.LogObjectDB.html#toLOBodyConverters"><span class="hs-identifier hs-var">toLOBodyConverters</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-403"></span><span id="allLOBodyConstructors"><span class="annot"><span class="annottext">allLOBodyConstructors :: Set Text
</span><a href="Cardano.Unlog.LogObjectDB.html#allLOBodyConstructors"><span class="hs-identifier hs-var hs-var">allLOBodyConstructors</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Set Text
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([Text] -&gt; Set Text) -&gt; [Text] -&gt; Set Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Constr -&gt; Text) -&gt; [Constr] -&gt; [Text]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Lazy.html#pack"><span class="hs-identifier hs-var">TL.pack</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Text) -&gt; (Constr -&gt; [Char]) -&gt; Constr -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Constr -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Data.html#showConstr"><span class="hs-identifier hs-var">showConstr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataType -&gt; [Constr]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Data.html#dataTypeConstrs"><span class="hs-identifier hs-var">dataTypeConstrs</span></a></span><span> </span><span class="annot"><span class="annottext">(DataType -&gt; [Constr]) -&gt; DataType -&gt; [Constr]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LOBody -&gt; DataType
forall a. Data a =&gt; a -&gt; DataType
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Data.html#dataTypeOf"><span class="hs-identifier hs-var">dataTypeOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LOBody
forall a. HasCallStack =&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#undefined"><span class="hs-identifier hs-var">undefined</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOBody"><span class="hs-identifier hs-type">LOBody</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span class="hs-comment">--</span><span>
</span><span id="line-407"></span><span class="hs-comment">-- data marshalling</span><span>
</span><span id="line-408"></span><span class="hs-comment">--</span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="hs-keyword">class</span><span> </span><span id="AsSQLData"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-var">AsSQLData</span></a></span></span><span> </span><span id="local-6989586621679427783"><span class="annot"><a href="#local-6989586621679427783"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-411"></span><span>  </span><span id="toSqlData"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-type">toSqlData</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679427783"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span>
</span><span id="line-412"></span><span>
</span><span id="line-413"></span><span>  </span><span id="fromSqlData"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-type">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679427783"><span class="hs-identifier hs-type">x</span></a></span><span>
</span><span id="line-414"></span><span>
</span><span id="line-415"></span><span>  </span><span id="fromSqlDataWithArgs"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#fromSqlDataWithArgs"><span class="hs-identifier hs-type">fromSqlDataWithArgs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679427783"><span class="hs-identifier hs-type">x</span></a></span><span>
</span><span id="line-416"></span><span>  </span><span id="local-6989586621679428475"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#fromSqlDataWithArgs"><span class="hs-identifier hs-var hs-var">fromSqlDataWithArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-417"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621679428479"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428479"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; x
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428479"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-418"></span><span>    </span><span class="annot"><span class="annottext">[SQLData]
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; x
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;fromSqlDataWithArgs(default): arg count must be exactly one&quot;</span></span></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621679427756"><span id="local-6989586621679428484"><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#Integral"><span class="hs-identifier hs-type">Integral</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679427756"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679427756"><span class="hs-identifier hs-type">a</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-422"></span><span>  </span><span id="local-6989586621679428494"><span class="annot"><span class="annottext">toSqlData :: a -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; SQLData
</span><span class="hs-identifier hs-var">SQLInteger</span></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; SQLData) -&gt; (a -&gt; Int64) -&gt; a -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span>
</span><span id="line-423"></span><span>  </span><span id="local-6989586621679428499"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; a
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; a) -&gt; SQLData -&gt; a
forall a. (Int64 -&gt; a) -&gt; SQLData -&gt; a
</span><a href="Cardano.Unlog.LogObjectDB.html#withSqlInteger"><span class="hs-identifier hs-var">withSqlInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span>
</span><span id="line-424"></span><span>
</span><span id="line-425"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679428504"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-426"></span><span>  </span><span id="local-6989586621679428508"><span class="annot"><span class="annottext">toSqlData :: Bool -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; SQLData -&gt; Bool -&gt; SQLData
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bool.html#bool"><span class="hs-identifier hs-var">bool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int64 -&gt; SQLData
</span><span class="hs-identifier hs-var">SQLInteger</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int64 -&gt; SQLData
</span><span class="hs-identifier hs-var">SQLInteger</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-427"></span><span>  </span><span id="local-6989586621679428512"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; Bool
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; Bool) -&gt; SQLData -&gt; Bool
forall a. (Int64 -&gt; a) -&gt; SQLData -&gt; a
</span><a href="Cardano.Unlog.LogObjectDB.html#withSqlInteger"><span class="hs-identifier hs-var">withSqlInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int64 -&gt; Int64 -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>
</span><span id="line-429"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679428516"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-430"></span><span>  </span><span id="local-6989586621679428518"><span class="annot"><span class="annottext">toSqlData :: Double -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; SQLData
</span><span class="hs-identifier hs-var">SQLFloat</span></span><span>
</span><span id="line-431"></span><span>  </span><span id="local-6989586621679428520"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; Double
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Double) -&gt; SQLData -&gt; Double
forall a. (Double -&gt; a) -&gt; SQLData -&gt; a
</span><a href="Cardano.Unlog.LogObjectDB.html#withSqlFloat"><span class="hs-identifier hs-var">withSqlFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679428526"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-434"></span><span>  </span><span id="local-6989586621679428528"><span class="annot"><span class="annottext">toSqlData :: [Char] -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Column -&gt; SQLData
</span><span class="hs-identifier hs-var">SQLText</span></span><span> </span><span class="annot"><span class="annottext">(Column -&gt; SQLData) -&gt; ([Char] -&gt; Column) -&gt; [Char] -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Column
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">TS.pack</span></a></span><span>
</span><span id="line-435"></span><span>  </span><span id="local-6989586621679428529"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; [Char]
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Column -&gt; [Char]) -&gt; SQLData -&gt; [Char]
forall a. (Column -&gt; a) -&gt; SQLData -&gt; a
</span><a href="Cardano.Unlog.LogObjectDB.html#withSqlText"><span class="hs-identifier hs-var">withSqlText</span></a></span><span> </span><span class="annot"><span class="annottext">Column -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">TS.unpack</span></a></span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679428534"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/time-1.12.2/src/Data.Time.Clock.Internal.UTCTime.html#UTCTime"><span class="hs-identifier hs-type">UTCTime</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-438"></span><span>  </span><span id="local-6989586621679428540"><span class="annot"><span class="annottext">toSqlData :: UTCTime -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; SQLData
</span><span class="hs-identifier hs-var">SQLFloat</span></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; SQLData) -&gt; (UTCTime -&gt; Double) -&gt; UTCTime -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">POSIXTime -&gt; Double
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#realToFrac"><span class="hs-identifier hs-var">realToFrac</span></a></span><span> </span><span class="annot"><span class="annottext">(POSIXTime -&gt; Double)
-&gt; (UTCTime -&gt; POSIXTime) -&gt; UTCTime -&gt; Double
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; POSIXTime
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/time-1.12.2/src/Data.Time.Clock.POSIX.html#utcTimeToPOSIXSeconds"><span class="hs-identifier hs-var">utcTimeToPOSIXSeconds</span></a></span><span>
</span><span id="line-439"></span><span>  </span><span id="local-6989586621679428546"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; UTCTime
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Double -&gt; UTCTime) -&gt; SQLData -&gt; UTCTime
forall a. (Double -&gt; a) -&gt; SQLData -&gt; a
</span><a href="Cardano.Unlog.LogObjectDB.html#withSqlFloat"><span class="hs-identifier hs-var">withSqlFloat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">POSIXTime -&gt; UTCTime
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/time-1.12.2/src/Data.Time.Clock.POSIX.html#posixSecondsToUTCTime"><span class="hs-identifier hs-var">posixSecondsToUTCTime</span></a></span><span> </span><span class="annot"><span class="annottext">(POSIXTime -&gt; UTCTime)
-&gt; (Double -&gt; POSIXTime) -&gt; Double -&gt; UTCTime
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; POSIXTime
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#realToFrac"><span class="hs-identifier hs-var">realToFrac</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObject.html#LOBody"><span class="hs-identifier hs-type">LOBody</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-442"></span><span>  </span><span id="local-6989586621679428552"><span class="annot"><span class="annottext">toSqlData :: LOBody -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Column -&gt; SQLData
</span><span class="hs-identifier hs-var">SQLText</span></span><span> </span><span class="annot"><span class="annottext">(Column -&gt; SQLData) -&gt; (LOBody -&gt; Column) -&gt; LOBody -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Column
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">TS.pack</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Column) -&gt; (LOBody -&gt; [Char]) -&gt; LOBody -&gt; Column
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Constr -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Data.html#showConstr"><span class="hs-identifier hs-var">showConstr</span></a></span><span> </span><span class="annot"><span class="annottext">(Constr -&gt; [Char]) -&gt; (LOBody -&gt; Constr) -&gt; LOBody -&gt; [Char]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LOBody -&gt; Constr
forall a. Data a =&gt; a -&gt; Constr
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Data.html#toConstr"><span class="hs-identifier hs-var">toConstr</span></a></span><span>
</span><span id="line-443"></span><span>  </span><span id="local-6989586621679428555"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; LOBody
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LOBody -&gt; SQLData -&gt; LOBody
forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(LOBody -&gt; SQLData -&gt; LOBody) -&gt; LOBody -&gt; SQLData -&gt; LOBody
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; LOBody
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;fromSqlData(LOBody): argument list needed&quot;</span></span><span>
</span><span id="line-444"></span><span>  </span><span id="local-6989586621679428557"><span class="annot"><span class="annottext">fromSqlDataWithArgs :: [SQLData] -&gt; LOBody
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlDataWithArgs"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlDataWithArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SQLData] -&gt; LOBody
</span><a href="Cardano.Unlog.LogObjectDB.html#toLOBody"><span class="hs-identifier hs-var">toLOBody</span></a></span><span>
</span><span id="line-445"></span><span>
</span><span id="line-446"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679428561"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-slotting-0.2.0.1-3f1a1be6195f7ae2c0e8ab1d39d95c9a3b1f33b5d873e142b6db55ba4dba848b/share/doc/html/src/Cardano.Slotting.Slot.html#SlotNo"><span class="hs-identifier hs-type">SlotNo</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-447"></span><span>  </span><span id="local-6989586621679428564"><span class="annot"><span class="annottext">toSqlData :: SlotNo -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; SQLData) -&gt; (SlotNo -&gt; Word64) -&gt; SlotNo -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo -&gt; Word64
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-slotting-0.2.0.1-3f1a1be6195f7ae2c0e8ab1d39d95c9a3b1f33b5d873e142b6db55ba4dba848b/share/doc/html/src/Cardano.Slotting.Slot.html#unSlotNo"><span class="hs-identifier hs-var">unSlotNo</span></a></span><span>
</span><span id="line-448"></span><span>  </span><span id="local-6989586621679428567"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; SlotNo
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; SlotNo
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-slotting-0.2.0.1-3f1a1be6195f7ae2c0e8ab1d39d95c9a3b1f33b5d873e142b6db55ba4dba848b/share/doc/html/src/Cardano.Slotting.Slot.html#SlotNo"><span class="hs-identifier hs-var">SlotNo</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; SlotNo) -&gt; (SQLData -&gt; Word64) -&gt; SQLData -&gt; SlotNo
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; Word64
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679428572"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-slotting-0.2.0.1-3f1a1be6195f7ae2c0e8ab1d39d95c9a3b1f33b5d873e142b6db55ba4dba848b/share/doc/html/src/Cardano.Slotting.Block.html#BlockNo"><span class="hs-identifier hs-type">BlockNo</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-451"></span><span>  </span><span id="local-6989586621679428575"><span class="annot"><span class="annottext">toSqlData :: BlockNo -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; SQLData) -&gt; (BlockNo -&gt; Word64) -&gt; BlockNo -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BlockNo -&gt; Word64
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-slotting-0.2.0.1-3f1a1be6195f7ae2c0e8ab1d39d95c9a3b1f33b5d873e142b6db55ba4dba848b/share/doc/html/src/Cardano.Slotting.Block.html#unBlockNo"><span class="hs-identifier hs-var">unBlockNo</span></a></span><span>
</span><span id="line-452"></span><span>  </span><span id="local-6989586621679428578"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; BlockNo
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; BlockNo
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-slotting-0.2.0.1-3f1a1be6195f7ae2c0e8ab1d39d95c9a3b1f33b5d873e142b6db55ba4dba848b/share/doc/html/src/Cardano.Slotting.Block.html#BlockNo"><span class="hs-identifier hs-var">BlockNo</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; BlockNo) -&gt; (SQLData -&gt; Word64) -&gt; SQLData -&gt; BlockNo
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; Word64
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679428583"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.Internal.html#ShortText"><span class="hs-identifier hs-type">ShortText.ShortText</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-455"></span><span>  </span><span id="local-6989586621679428585"><span class="annot"><span class="annottext">toSqlData :: ShortText -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Column -&gt; SQLData
</span><span class="hs-identifier hs-var">SQLText</span></span><span> </span><span class="annot"><span class="annottext">(Column -&gt; SQLData)
-&gt; (ShortText -&gt; Column) -&gt; ShortText -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; Column
</span><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.Internal.html#toText"><span class="hs-identifier hs-var">ShortText.toText</span></a></span><span>
</span><span id="line-456"></span><span>  </span><span id="local-6989586621679428586"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; ShortText
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Column -&gt; ShortText) -&gt; SQLData -&gt; ShortText
forall a. (Column -&gt; a) -&gt; SQLData -&gt; a
</span><a href="Cardano.Unlog.LogObjectDB.html#withSqlText"><span class="hs-identifier hs-var">withSqlText</span></a></span><span> </span><span class="annot"><span class="annottext">Column -&gt; ShortText
</span><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.Internal.html#fromText"><span class="hs-identifier hs-var">ShortText.fromText</span></a></span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679428590"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="Cardano.Analysis.API.Ground.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-459"></span><span>  </span><span id="local-6989586621679428593"><span class="annot"><span class="annottext">toSqlData :: Hash -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; SQLData) -&gt; (Hash -&gt; ShortText) -&gt; Hash -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Hash -&gt; ShortText
</span><a href="Cardano.Analysis.API.Ground.html#unHash"><span class="hs-identifier hs-var">unHash</span></a></span><span>
</span><span id="line-460"></span><span>  </span><span id="local-6989586621679428596"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; Hash
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; Hash
</span><a href="Cardano.Analysis.API.Ground.html#Hash"><span class="hs-identifier hs-var">Hash</span></a></span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; Hash) -&gt; (SQLData -&gt; ShortText) -&gt; SQLData -&gt; Hash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; ShortText
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span>
</span><span id="line-461"></span><span>
</span><span id="line-462"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679428601"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="Cardano.Analysis.API.Ground.html#TId"><span class="hs-identifier hs-type">TId</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-463"></span><span>  </span><span id="local-6989586621679428604"><span class="annot"><span class="annottext">toSqlData :: TId -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; SQLData) -&gt; (TId -&gt; ShortText) -&gt; TId -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TId -&gt; ShortText
</span><a href="Cardano.Analysis.API.Ground.html#unTId"><span class="hs-identifier hs-var">unTId</span></a></span><span>
</span><span id="line-464"></span><span>  </span><span id="local-6989586621679428607"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; TId
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; TId
</span><a href="Cardano.Analysis.API.Ground.html#TId"><span class="hs-identifier hs-var">TId</span></a></span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; TId) -&gt; (SQLData -&gt; ShortText) -&gt; SQLData -&gt; TId
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; ShortText
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span class="hs-comment">-- a shortcut, so we only need one TEXT argument column in table `event`</span><span>
</span><span id="line-467"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679428611"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Analysis.API.Ground.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Analysis.API.Ground.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-468"></span><span>  </span><span id="local-6989586621679428616"><span class="annot"><span class="annottext">toSqlData :: (Hash, Hash) -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash -&gt; ShortText
</span><a href="Cardano.Analysis.API.Ground.html#unHash"><span class="hs-identifier hs-var">unHash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679428617"><span class="annot"><span class="annottext">ShortText
</span><a href="#local-6989586621679428617"><span class="hs-identifier hs-var">h1</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Hash -&gt; ShortText
</span><a href="Cardano.Analysis.API.Ground.html#unHash"><span class="hs-identifier hs-var">unHash</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679428618"><span class="annot"><span class="annottext">ShortText
</span><a href="#local-6989586621679428618"><span class="hs-identifier hs-var">h2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-469"></span><span>    </span><span class="annot"><span class="annottext">Column -&gt; SQLData
</span><span class="hs-identifier hs-var">SQLText</span></span><span> </span><span class="annot"><span class="annottext">(Column -&gt; SQLData)
-&gt; (ShortText -&gt; Column) -&gt; ShortText -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; Column
</span><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.Internal.html#toText"><span class="hs-identifier hs-var">ShortText.toText</span></a></span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; SQLData) -&gt; ShortText -&gt; SQLData
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText
</span><a href="#local-6989586621679428617"><span class="hs-identifier hs-var">h1</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; ShortText -&gt; ShortText
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText
</span><span class="hs-string">&quot;|&quot;</span></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; ShortText -&gt; ShortText
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText
</span><a href="#local-6989586621679428618"><span class="hs-identifier hs-var">h2</span></a></span><span>
</span><span id="line-470"></span><span>  </span><span id="local-6989586621679428624"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; (Hash, Hash)
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Column -&gt; (Hash, Hash)) -&gt; SQLData -&gt; (Hash, Hash)
forall a. (Column -&gt; a) -&gt; SQLData -&gt; a
</span><a href="Cardano.Unlog.LogObjectDB.html#withSqlText"><span class="hs-identifier hs-var">withSqlText</span></a></span><span> </span><span class="annot"><span class="annottext">((Column -&gt; (Hash, Hash)) -&gt; SQLData -&gt; (Hash, Hash))
-&gt; (Column -&gt; (Hash, Hash)) -&gt; SQLData -&gt; (Hash, Hash)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679428625"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428625"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-471"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; Column -&gt; Column -&gt; [Column]
Column -&gt; Column -&gt; [Column]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html#splitOn"><span class="hs-identifier hs-var">TS.splitOn</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><span class="hs-string">&quot;|&quot;</span></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428625"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-472"></span><span>      </span><span class="hs-special">[</span><span id="local-6989586621679428626"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428626"><span class="hs-identifier hs-var">h1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428627"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428627"><span class="hs-identifier hs-var">h2</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShortText -&gt; Hash
</span><a href="Cardano.Analysis.API.Ground.html#Hash"><span class="hs-identifier hs-var">Hash</span></a></span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; Hash) -&gt; ShortText -&gt; Hash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Column -&gt; ShortText
</span><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.Internal.html#fromText"><span class="hs-identifier hs-var">ShortText.fromText</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428626"><span class="hs-identifier hs-var">h1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; Hash
</span><a href="Cardano.Analysis.API.Ground.html#Hash"><span class="hs-identifier hs-var">Hash</span></a></span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; Hash) -&gt; ShortText -&gt; Hash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Column -&gt; ShortText
</span><a href="file:///nix/store/hhylj20y6j97fsd08pyn3sqxa5j6pm9l-text-short-lib-text-short-0.1.6-haddock-doc/share/doc/text-short/html/src/Data.Text.Short.Internal.html#fromText"><span class="hs-identifier hs-var">ShortText.fromText</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428627"><span class="hs-identifier hs-var">h2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-473"></span><span>      </span><span class="annot"><span class="annottext">[Column]
</span><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; (Hash, Hash)
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;fromSqlData(Hash,Hash): unexpected pipe-separation&quot;</span></span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679428631"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/work/cardano-node/cardano-node/dist-newstyle/build/x86_64-linux/ghc-9.6.6/trace-resources-0.2.3/doc/html/trace-resources/src/Cardano.Logging.Resources.Types.html#ResourceStats"><span class="hs-identifier hs-type">ResourceStats</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-476"></span><span>  </span><span id="local-6989586621679428637"><span class="annot"><span class="annottext">toSqlData :: ResourceStats -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SQLData
</span><span class="hs-identifier hs-var">SQLBlob</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; SQLData)
-&gt; (ResourceStats -&gt; ByteString) -&gt; ResourceStats -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Lazy.Internal.html#toStrict"><span class="hs-identifier hs-var">BSL.toStrict</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (ResourceStats -&gt; ByteString) -&gt; ResourceStats -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ResourceStats -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">Aeson.encode</span></span><span>
</span><span id="line-477"></span><span>  </span><span id="local-6989586621679428645"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; ResourceStats
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ResourceStats) -&gt; SQLData -&gt; ResourceStats
forall a. (ByteString -&gt; a) -&gt; SQLData -&gt; a
</span><a href="Cardano.Unlog.LogObjectDB.html#withSqlBlob"><span class="hs-identifier hs-var">withSqlBlob</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ResourceStats -&gt; ResourceStats
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Maybe.html#fromJust"><span class="hs-identifier hs-var">fromJust</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe ResourceStats -&gt; ResourceStats)
-&gt; (ByteString -&gt; Maybe ResourceStats)
-&gt; ByteString
-&gt; ResourceStats
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe ResourceStats
forall a. FromJSON a =&gt; ByteString -&gt; Maybe a
</span><span class="hs-identifier hs-var">Aeson.decodeStrict</span></span><span class="hs-special">)</span><span>
</span><span id="line-478"></span><span>
</span><span id="line-479"></span><span class="hs-comment">-- this must conform to the columns in table `summary` / serialization in `summaryToSql`</span><span>
</span><span id="line-480"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SummaryDB"><span class="hs-identifier hs-type">SummaryDB</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-481"></span><span>  </span><span id="local-6989586621679428654"><span class="annot"><span class="annottext">toSqlData :: SummaryDB -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; SummaryDB -&gt; SQLData
forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(SQLData -&gt; SummaryDB -&gt; SQLData)
-&gt; SQLData -&gt; SummaryDB -&gt; SQLData
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SQLData
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;toSqlData(SummaryDB): can't be represented as a single SQLData; use `summaryToSql`&quot;</span></span><span>
</span><span id="line-482"></span><span>  </span><span id="local-6989586621679428657"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; SummaryDB
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SummaryDB -&gt; SQLData -&gt; SummaryDB
forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(SummaryDB -&gt; SQLData -&gt; SummaryDB)
-&gt; SummaryDB -&gt; SQLData -&gt; SummaryDB
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SummaryDB
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;fromSqlData(SummaryDB): argument list needed&quot;</span></span><span>
</span><span id="line-483"></span><span>  </span><span id="local-6989586621679428667"><span class="annot"><span class="annottext">fromSqlDataWithArgs :: [SQLData] -&gt; SummaryDB
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlDataWithArgs"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlDataWithArgs</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679428668"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428668"><span class="hs-identifier hs-var">c1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428669"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428669"><span class="hs-identifier hs-var">c2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428670"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428670"><span class="hs-identifier hs-var">c3</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428671"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428671"><span class="hs-identifier hs-var">c4</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428672"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428672"><span class="hs-identifier hs-var">c5</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-484"></span><span>    </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#SummaryDB"><span class="hs-identifier hs-type">SummaryDB</span></a></span><span>
</span><span id="line-485"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sdbName :: Host
</span><a href="Cardano.Unlog.LogObjectDB.html#sdbName"><span class="hs-identifier hs-var">sdbName</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; Host
</span><a href="Cardano.Analysis.API.Ground.html#Host"><span class="hs-identifier hs-var">Host</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; ShortText
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428668"><span class="hs-identifier hs-var">c1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-486"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdbLines :: Int
</span><a href="Cardano.Unlog.LogObjectDB.html#sdbLines"><span class="hs-identifier hs-var">sdbLines</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; Int
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428669"><span class="hs-identifier hs-var">c2</span></a></span><span>
</span><span id="line-487"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdbFirstAt :: UTCTime
</span><a href="Cardano.Unlog.LogObjectDB.html#sdbFirstAt"><span class="hs-identifier hs-var">sdbFirstAt</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; UTCTime
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428670"><span class="hs-identifier hs-var">c3</span></a></span><span>
</span><span id="line-488"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdbLastAt :: UTCTime
</span><a href="Cardano.Unlog.LogObjectDB.html#sdbLastAt"><span class="hs-identifier hs-var">sdbLastAt</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; UTCTime
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428671"><span class="hs-identifier hs-var">c4</span></a></span><span>
</span><span id="line-489"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdbCreated :: UTCTime
</span><a href="Cardano.Unlog.LogObjectDB.html#sdbCreated"><span class="hs-identifier hs-var">sdbCreated</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; UTCTime
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428672"><span class="hs-identifier hs-var">c5</span></a></span><span>
</span><span id="line-490"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-491"></span><span>  </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#fromSqlDataWithArgs"><span class="hs-identifier hs-var">fromSqlDataWithArgs</span></a></span><span> </span><span id="local-6989586621679428673"><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428673"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SummaryDB
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; SummaryDB) -&gt; [Char] -&gt; SummaryDB
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;fromSqlDataWithArgs(SummaryDB): expected 5 columns, got:&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData] -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679428673"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679427755"><span id="local-6989586621679428678"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679427755"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Util.html#SMaybe"><span class="hs-identifier hs-type">SMaybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679427755"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-494"></span><span>  </span><span id="local-6989586621679428681"><span class="annot"><span class="annottext">toSqlData :: SMaybe a -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSqlData</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; (a -&gt; SQLData) -&gt; SMaybe a -&gt; SQLData
forall b a. b -&gt; (a -&gt; b) -&gt; StrictMaybe a -&gt; b
</span><a href="Cardano.Util.html#smaybe"><span class="hs-identifier hs-var">smaybe</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><span class="hs-identifier hs-var">SQLNull</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span>
</span><span id="line-495"></span><span>  </span><span id="local-6989586621679428685"><span class="annot"><span class="annottext">fromSqlData :: SQLData -&gt; SMaybe a
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSqlData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-496"></span><span>    </span><span class="annot"><span class="annottext">SQLData
</span><span class="hs-identifier hs-var">SQLNull</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMaybe a
forall a. StrictMaybe a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-strict-containers-0.1.5.0-045a5e9b36f87a01427490d1a35289080aa0cb67a8f1c5a56f48da86f60e7bd9/share/doc/html/src/Data.Maybe.Strict.html#SNothing"><span class="hs-identifier hs-var">SNothing</span></a></span><span>
</span><span id="line-497"></span><span>    </span><span id="local-6989586621679428687"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428687"><span class="hs-identifier hs-var">a</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; SMaybe a
forall a. a -&gt; StrictMaybe a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.6/cardano-strict-containers-0.1.5.0-045a5e9b36f87a01427490d1a35289080aa0cb67a8f1c5a56f48da86f60e7bd9/share/doc/html/src/Data.Maybe.Strict.html#SJust"><span class="hs-identifier hs-var">SJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; a
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428687"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span>
</span><span id="line-500"></span><span id="local-6989586621679427840"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#withSqlText"><span class="hs-identifier hs-type">withSqlText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679427840"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679427840"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-501"></span><span id="withSqlText"><span class="annot"><span class="annottext">withSqlText :: forall a. (Column -&gt; a) -&gt; SQLData -&gt; a
</span><a href="Cardano.Unlog.LogObjectDB.html#withSqlText"><span class="hs-identifier hs-var hs-var">withSqlText</span></a></span></span><span> </span><span id="local-6989586621679428693"><span class="annot"><span class="annottext">Column -&gt; a
</span><a href="#local-6989586621679428693"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-502"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">SQLText</span></span><span> </span><span id="local-6989586621679428694"><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428694"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Column -&gt; a
</span><a href="#local-6989586621679428693"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679428694"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-503"></span><span>  </span><span id="local-6989586621679428695"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428695"><span class="hs-identifier hs-var">a</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; a
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; a) -&gt; [Char] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;withSqlText: no match on &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428695"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-504"></span><span>
</span><span id="line-505"></span><span id="local-6989586621679427836"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#withSqlInteger"><span class="hs-identifier hs-type">withSqlInteger</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Int.html#Int64"><span class="hs-identifier hs-type">Int64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679427836"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679427836"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-506"></span><span id="withSqlInteger"><span class="annot"><span class="annottext">withSqlInteger :: forall a. (Int64 -&gt; a) -&gt; SQLData -&gt; a
</span><a href="Cardano.Unlog.LogObjectDB.html#withSqlInteger"><span class="hs-identifier hs-var hs-var">withSqlInteger</span></a></span></span><span> </span><span id="local-6989586621679428700"><span class="annot"><span class="annottext">Int64 -&gt; a
</span><a href="#local-6989586621679428700"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-507"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">SQLInteger</span></span><span> </span><span id="local-6989586621679428701"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679428701"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; a
</span><a href="#local-6989586621679428700"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679428701"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-508"></span><span>  </span><span id="local-6989586621679428702"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428702"><span class="hs-identifier hs-var">a</span></a></span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; a
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; a) -&gt; [Char] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;withSqlInteger: no match on &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428702"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-509"></span><span>
</span><span id="line-510"></span><span id="local-6989586621679427838"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#withSqlFloat"><span class="hs-identifier hs-type">withSqlFloat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679427838"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679427838"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-511"></span><span id="withSqlFloat"><span class="annot"><span class="annottext">withSqlFloat :: forall a. (Double -&gt; a) -&gt; SQLData -&gt; a
</span><a href="Cardano.Unlog.LogObjectDB.html#withSqlFloat"><span class="hs-identifier hs-var hs-var">withSqlFloat</span></a></span></span><span> </span><span id="local-6989586621679428707"><span class="annot"><span class="annottext">Double -&gt; a
</span><a href="#local-6989586621679428707"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-512"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">SQLFloat</span></span><span> </span><span id="local-6989586621679428708"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679428708"><span class="hs-identifier hs-var">d</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double -&gt; a
</span><a href="#local-6989586621679428707"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679428708"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-513"></span><span>  </span><span id="local-6989586621679428709"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428709"><span class="hs-identifier hs-var">a</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; a
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; a) -&gt; [Char] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;withSqlFloat: no match on &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428709"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span id="local-6989586621679427853"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#withSqlBlob"><span class="hs-identifier hs-type">withSqlBlob</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/bytestring-0.11.5.3/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679427853"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679427853"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-516"></span><span id="withSqlBlob"><span class="annot"><span class="annottext">withSqlBlob :: forall a. (ByteString -&gt; a) -&gt; SQLData -&gt; a
</span><a href="Cardano.Unlog.LogObjectDB.html#withSqlBlob"><span class="hs-identifier hs-var hs-var">withSqlBlob</span></a></span></span><span> </span><span id="local-6989586621679428714"><span class="annot"><span class="annottext">ByteString -&gt; a
</span><a href="#local-6989586621679428714"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-517"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">SQLBlob</span></span><span> </span><span id="local-6989586621679428715"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679428715"><span class="hs-identifier hs-var">b</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; a
</span><a href="#local-6989586621679428714"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679428715"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-518"></span><span>  </span><span id="local-6989586621679428716"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428716"><span class="hs-identifier hs-var">a</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; a
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; a) -&gt; [Char] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;withSqlBlob: no match on &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428716"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span id="local-6989586621679427785"><span id="local-6989586621679427786"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#toSqlDataPair"><span class="hs-identifier hs-type">toSqlDataPair</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679427785"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679427786"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679427785"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679427786"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-521"></span><span id="toSqlDataPair"><span class="annot"><span class="annottext">toSqlDataPair :: forall a b. (AsSQLData a, AsSQLData b) =&gt; (a, b) -&gt; [SQLData]
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlDataPair"><span class="hs-identifier hs-var hs-var">toSqlDataPair</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679428721"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679428721"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679428722"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679428722"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679428721"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b -&gt; SQLData
forall x. AsSQLData x =&gt; x -&gt; SQLData
</span><a href="Cardano.Unlog.LogObjectDB.html#toSqlData"><span class="hs-identifier hs-var">toSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679428722"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-522"></span><span>
</span><span id="line-523"></span><span class="hs-comment">-- is lenient on remainder of row</span><span>
</span><span id="line-524"></span><span id="local-6989586621679427867"><span id="local-6989586621679427868"><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#fromSqlDataPair"><span class="hs-identifier hs-type">fromSqlDataPair</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679427867"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Unlog.LogObjectDB.html#AsSQLData"><span class="hs-identifier hs-type">AsSQLData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679427868"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">SQLData</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679427867"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679427868"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-525"></span><span id="fromSqlDataPair"><span class="annot"><span class="annottext">fromSqlDataPair :: forall a b. (AsSQLData a, AsSQLData b) =&gt; [SQLData] -&gt; (a, b)
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlDataPair"><span class="hs-identifier hs-var hs-var">fromSqlDataPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-526"></span><span>  </span><span id="local-6989586621679428729"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428729"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621679428730"><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428730"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SQLData -&gt; a
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428729"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SQLData -&gt; b
forall x. AsSQLData x =&gt; SQLData -&gt; x
</span><a href="Cardano.Unlog.LogObjectDB.html#fromSqlData"><span class="hs-identifier hs-var">fromSqlData</span></a></span><span> </span><span class="annot"><span class="annottext">SQLData
</span><a href="#local-6989586621679428730"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-527"></span><span>  </span><span class="annot"><span class="annottext">[SQLData]
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; (a, b)
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/q976m622jbq42nf9zkhq5axjca5xj9w0-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;fromSqlDataPair: row has less than 2 columns&quot;</span></span><span>
</span><span id="line-528"></span></pre></body></html>