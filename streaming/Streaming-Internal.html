<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Streaming.Internal</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">streaming</span><ul class="links" id="page-menu"><li><a href="src/Streaming.Internal.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Streaming.Internal</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">The free monad transformer</a></li><li><a href="#g:2">Introducing a stream</a></li><li><a href="#g:3">Eliminating a stream</a></li><li><a href="#g:4">Inspecting a stream wrap by wrap</a></li><li><a href="#g:5">Transforming streams</a></li><li><a href="#g:6">Splitting streams</a></li><li><a href="#g:7">Zipping and unzipping streams</a></li><li><a href="#g:8">Assorted Data.Functor.x help</a></li><li><a href="#g:9">For use in implementation</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Stream">Stream</a> f m r<ul class="subs"><li>= <a href="#v:Step">Step</a> !(f (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r))</li><li>| <a href="#v:Effect">Effect</a> (m (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r))</li><li>| <a href="#v:Return">Return</a> r</li></ul></li><li class="src short"><a href="#v:unfold">unfold</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (s -&gt; m (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (f s))) -&gt; s -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r</li><li class="src short"><a href="#v:replicates">replicates</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; f () -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m ()</li><li class="src short"><a href="#v:repeats">repeats</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; f () -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r</li><li class="src short"><a href="#v:repeatsM">repeatsM</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; m (f ()) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r</li><li class="src short"><a href="#v:effect">effect</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; m (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r</li><li class="src short"><a href="#v:wrap">wrap</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; f (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r</li><li class="src short"><a href="#v:yields">yields</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; f r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r</li><li class="src short"><a href="#v:streamBuild">streamBuild</a> :: (<span class="keyword">forall</span> b. (r -&gt; b) -&gt; (m b -&gt; b) -&gt; (f b -&gt; b) -&gt; b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r</li><li class="src short"><a href="#v:cycles">cycles</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m () -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r</li><li class="src short"><a href="#v:delays">delays</a> :: (<a href="Streaming.html#t:MonadIO" title="Streaming">MonadIO</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Prelude.html#t:Double" title="Prelude">Double</a> -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r</li><li class="src short"><a href="#v:never">never</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r</li><li class="src short"><a href="#v:untilJust">untilJust</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f) =&gt; m (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> r) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r</li><li class="src short"><a href="#v:intercalates">intercalates</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="Streaming.html#t:MonadTrans" title="Streaming">MonadTrans</a> t) =&gt; t m x -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (t m) m r -&gt; t m r</li><li class="src short"><a href="#v:concats">concats</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m) m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r</li><li class="src short"><a href="#v:iterT">iterT</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (f (m a) -&gt; m a) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; m a</li><li class="src short"><a href="#v:iterTM">iterTM</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Streaming.html#t:MonadTrans" title="Streaming">MonadTrans</a> t, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m)) =&gt; (f (t m a) -&gt; t m a) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; t m a</li><li class="src short"><a href="#v:destroy">destroy</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; (f b -&gt; b) -&gt; (m b -&gt; b) -&gt; (r -&gt; b) -&gt; b</li><li class="src short"><a href="#v:streamFold">streamFold</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (r -&gt; b) -&gt; (m b -&gt; b) -&gt; (f b -&gt; b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; b</li><li class="src short"><a href="#v:inspect">inspect</a> :: <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; m (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (f (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r)))</li><li class="src short"><a href="#v:maps">maps</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> x. f x -&gt; g x) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r</li><li class="src short"><a href="#v:mapsM">mapsM</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> x. f x -&gt; m (g x)) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r</li><li class="src short"><a href="#v:mapsPost">mapsPost</a> :: <span class="keyword">forall</span> m f g r. (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; (<span class="keyword">forall</span> x. f x -&gt; g x) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r</li><li class="src short"><a href="#v:mapsMPost">mapsMPost</a> :: <span class="keyword">forall</span> m f g r. (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; (<span class="keyword">forall</span> x. f x -&gt; m (g x)) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r</li><li class="src short"><a href="#v:hoistUnexposed">hoistUnexposed</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> a. m a -&gt; n a) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f n r</li><li class="src short"><a href="#v:decompose">decompose</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming.html#t:Compose" title="Streaming">Compose</a> m f) m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r</li><li class="src short"><a href="#v:mapsM_">mapsM_</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (<span class="keyword">forall</span> x. f x -&gt; m x) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; m r</li><li class="src short"><a href="#v:run">run</a> :: <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> m m r -&gt; m r</li><li class="src short"><a href="#v:distribute">distribute</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="Streaming.html#t:MonadTrans" title="Streaming">MonadTrans</a> t, <a href="Streaming.html#t:MFunctor" title="Streaming">MFunctor</a> t, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m))) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f (t m) r -&gt; t (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m) r</li><li class="src short"><a href="#v:groups">groups</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming.html#t:Sum" title="Streaming">Sum</a> f g) m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming.html#t:Sum" title="Streaming">Sum</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m) (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m)) m r</li><li class="src short"><a href="#v:chunksOf">chunksOf</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m) m r</li><li class="src short"><a href="#v:splitsAt">splitsAt</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r)</li><li class="src short"><a href="#v:takes">takes</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m ()</li><li class="src short"><a href="#v:cutoff">cutoff</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> r)</li><li class="src short"><a href="#v:zipsWith">zipsWith</a> :: <span class="keyword">forall</span> f g h m r. (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> h) =&gt; (<span class="keyword">forall</span> x y. f x -&gt; g y -&gt; h (x, y)) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> h m r</li><li class="src short"><a href="#v:zipsWith-39-">zipsWith'</a> :: <span class="keyword">forall</span> f g h m r. <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> x y p. (x -&gt; y -&gt; p) -&gt; f x -&gt; g y -&gt; h p) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> h m r</li><li class="src short"><a href="#v:zips">zips</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming.html#t:Compose" title="Streaming">Compose</a> f g) m r</li><li class="src short"><a href="#v:unzips">unzips</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming.html#t:Compose" title="Streaming">Compose</a> f g) m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m) r</li><li class="src short"><a href="#v:interleaves">interleaves</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> h) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> h m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> h m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> h m r</li><li class="src short"><a href="#v:separate">separate</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming.html#t:Sum" title="Streaming">Sum</a> f g) m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m) r</li><li class="src short"><a href="#v:unseparate">unseparate</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m) r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming.html#t:Sum" title="Streaming">Sum</a> f g) m r</li><li class="src short"><a href="#v:expand">expand</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> a b. (g a -&gt; b) -&gt; f a -&gt; h b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> h m) r</li><li class="src short"><a href="#v:expandPost">expandPost</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; (<span class="keyword">forall</span> a b. (g a -&gt; b) -&gt; f a -&gt; h b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> h m) r</li><li class="src short"><a href="#v:switch">switch</a> :: <a href="Streaming.html#t:Sum" title="Streaming">Sum</a> f g r -&gt; <a href="Streaming.html#t:Sum" title="Streaming">Sum</a> g f r</li><li class="src short"><a href="#v:unexposed">unexposed</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r</li><li class="src short"><a href="#v:hoistExposed">hoistExposed</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> b. m b -&gt; n b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f n a</li><li class="src short"><a href="#v:hoistExposedPost">hoistExposedPost</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> n, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> b. m b -&gt; n b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f n a</li><li class="src short"><a href="#v:mapsExposed">mapsExposed</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> x. f x -&gt; g x) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r</li><li class="src short"><a href="#v:mapsMExposed">mapsMExposed</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> x. f x -&gt; m (g x)) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r</li><li class="src short"><a href="#v:destroyExposed">destroyExposed</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; (f b -&gt; b) -&gt; (m b -&gt; b) -&gt; (r -&gt; b) -&gt; b</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>The free monad transformer</h1></a><div class="doc"><p>The <code><a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a></code> data type is equivalent to <code>FreeT</code> and can represent any effectful
    succession of steps, where the form of the steps or <code>commands</code> is
    specified by the first (functor) parameter.</p><pre>data Stream f m r = Step !(f (Stream f m r)) | Effect (m (Stream f m r)) | Return r</pre><p>The <em>producer</em> concept uses the simple functor <code> (a,_) </code> - or the stricter
    <code> Of a _ </code>. Then the news at each step or layer is just: an individual item of type <code>a</code>.
    Since <code>Stream (Of a) m r</code> is equivalent to <code>Pipe.Producer a m r</code>, much of
    the <code>pipes</code> <code>Prelude</code> can easily be mirrored in a <code>streaming</code> <code>Prelude</code>. Similarly,
    a simple <code>Consumer a m r</code> or <code>Parser a m r</code> concept arises when the base functor is
    <code> (a -&gt; _) </code> . <code>Stream ((-&gt;) input) m result</code> consumes <code>input</code> until it returns a
    <code>result</code>.</p><p>To avoid breaking reasoning principles, the constructors
    should not be used directly. A pattern-match should go by way of <code><a href="Streaming-Internal.html#v:inspect" title="Streaming.Internal">inspect</a></code>     - or, in the producer case, <code><a href="Streaming-Prelude.html#v:next" title="Streaming.Prelude">next</a></code></p><p>The constructors are exported by the <code>Internal</code> module.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Stream" class="def">Stream</a> f m r <a href="src/Streaming.Internal.html#Stream" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Step" class="def">Step</a> !(f (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Effect" class="def">Effect</a> (m (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Return" class="def">Return</a> r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Stream">Instances</h4><details id="i:Stream" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:MFunctor:1"></span> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f =&gt; <a href="Streaming.html#t:MFunctor" title="Streaming">MFunctor</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)</span> <a href="src/Streaming.Internal.html#line-347" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:MFunctor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:hoist">hoist</a> :: <span class="keyword">forall</span> m n (b :: k). <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> a. m a -&gt; n a) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f n b <a href="#v:hoist" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:MonadError:2"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> e m) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> e (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m)</span> <a href="src/Streaming.Internal.html#line-384" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:MonadError:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:throwError">throwError</a> :: e -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:throwError" class="selflink">#</a></p><p class="src"><a href="#v:catchError">catchError</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; (e -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:catchError" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:MonadReader:3"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> r m) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> r (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m)</span> <a href="src/Streaming.Internal.html#line-368" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:MonadReader:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ask">ask</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:ask" class="selflink">#</a></p><p class="src"><a href="#v:local">local</a> :: (r -&gt; r) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:local" class="selflink">#</a></p><p class="src"><a href="#v:reader">reader</a> :: (r -&gt; a) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:reader" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:MonadState:4"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s m) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m)</span> <a href="src/Streaming.Internal.html#line-374" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:MonadState:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m s <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:put">put</a> :: s -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m () <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:state">state</a> :: (s -&gt; (a, s)) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/mtl-2.3.1/src" class="link">Source</a> <a href="#v:state" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:MMonad:5"></span> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f =&gt; <a href="Streaming.html#t:MMonad" title="Streaming">MMonad</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f)</span> <a href="src/Streaming.Internal.html#line-356" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:MMonad:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:embed">embed</a> :: <span class="keyword">forall</span> (n :: <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) m b. <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> n =&gt; (<span class="keyword">forall</span> a. m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f n a) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f n b <a href="#v:embed" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:MonadTrans:6"></span> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f =&gt; <a href="Streaming.html#t:MonadTrans" title="Streaming">MonadTrans</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f)</span> <a href="src/Streaming.Internal.html#line-343" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:MonadTrans:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lift">lift</a> :: <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/transformers-0.6.1.0/src" class="link">Source</a> <a href="#v:lift" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:MonadFail:7"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m)</span> <a href="src/Streaming.Internal.html#line-272" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:MonadFail:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fail">fail</a> :: <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:fail" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:MonadIO:8"></span> (<a href="Streaming.html#t:MonadIO" title="Streaming">MonadIO</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="Streaming.html#t:MonadIO" title="Streaming">MonadIO</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m)</span> <a href="src/Streaming.Internal.html#line-364" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:MonadIO:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:liftIO" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:Eq1:9"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor-Classes.html#t:Eq1" title="Data.Functor.Classes">Eq1</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor-Classes.html#t:Eq1" title="Data.Functor.Classes">Eq1</a> f) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor-Classes.html#t:Eq1" title="Data.Functor.Classes">Eq1</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m)</span> <a href="src/Streaming.Internal.html#line-166" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:Eq1:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftEq">liftEq</a> :: (a -&gt; b -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:liftEq" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:Ord1:10"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor-Classes.html#t:Ord1" title="Data.Functor.Classes">Ord1</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor-Classes.html#t:Ord1" title="Data.Functor.Classes">Ord1</a> f) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor-Classes.html#t:Ord1" title="Data.Functor.Classes">Ord1</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m)</span> <a href="src/Streaming.Internal.html#line-174" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:Ord1:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftCompare">liftCompare</a> :: (a -&gt; b -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a>) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:liftCompare" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:Show1:11"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (m ShowSWrapper), <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (f ShowSWrapper)) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor-Classes.html#t:Show1" title="Data.Functor.Classes">Show1</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m)</span> <a href="src/Streaming.Internal.html#line-203" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:Show1:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftShowsPrec">liftShowsPrec</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a>) -&gt; ([a] -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a>) -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:liftShowsPrec" class="selflink">#</a></p><p class="src"><a href="#v:liftShowList">liftShowList</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a>) -&gt; ([a] -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a>) -&gt; [<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a] -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:liftShowList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:Alternative:12"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Streaming.html#t:Alternative" title="Streaming">Alternative</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m)</span> <a href="src/Streaming.Internal.html#line-320" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc"><p>The <code><a href="Streaming.html#t:Alternative" title="Streaming">Alternative</a></code> instance glues streams together stepwise.</p><pre>empty = never
(&lt;|&gt;) = zipsWith (liftA2 (,))</pre><p>See also <code><a href="Streaming-Internal.html#v:never" title="Streaming.Internal">never</a></code>, <code><a href="Streaming-Internal.html#v:untilJust" title="Streaming.Internal">untilJust</a></code> and <code><a href="Streaming-Internal.html#v:delays" title="Streaming.Internal">delays</a></code></p></td></tr><tr><td colspan="2"><details id="i:id:Stream:Alternative:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:empty">empty</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:empty" class="selflink">#</a></p><p class="src"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:-60--124--62-" class="selflink">#</a></p><p class="src"><a href="#v:some">some</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m [a] <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:some" class="selflink">#</a></p><p class="src"><a href="#v:many">many</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m [a] <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:many" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:Applicative:13"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m)</span> <a href="src/Streaming.Internal.html#line-300" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:Applicative:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m (a -&gt; b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m c <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:Functor:14"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m)</span> <a href="src/Streaming.Internal.html#line-237" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc"><p>Operates covariantly on the stream result, not on its elements:</p><pre>Stream (Of a) m r
           ^    ^
           |    `--- This is what <code><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a></code> and <code><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a></code> use
           `--- This is what functions like S.map/S.zipWith use
</pre></td></tr><tr><td colspan="2"><details id="i:id:Stream:Functor:14"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:Monad:15"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m)</span> <a href="src/Streaming.Internal.html#line-251" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:Monad:15"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; (a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m b <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:MonadPlus:16"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:MonadPlus" title="Control.Monad">MonadPlus</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m)</span> <a href="src/Streaming.Internal.html#line-339" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:MonadPlus:16"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mzero">mzero</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:mzero" class="selflink">#</a></p><p class="src"><a href="#v:mplus">mplus</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:mplus" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:Monoid:17"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w)</span> <a href="src/Streaming.Internal.html#line-331" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:Monoid:17"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w] -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:Semigroup:18"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> w) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w)</span> <a href="src/Streaming.Internal.html#line-327" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:Semigroup:18"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m w <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:Show:19"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (m ShowSWrapper), <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (f ShowSWrapper), <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> r) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r)</span> <a href="src/Streaming.Internal.html#line-197" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:Show:19"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r] -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:Eq:20"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (m (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (f (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r))))) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r)</span> <a href="src/Streaming.Internal.html#line-148" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:Eq:20"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Stream:Ord:21"></span> (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (m (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (f (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r))))) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r)</span> <a href="src/Streaming.Internal.html#line-153" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Stream:Ord:21"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-Internal.html">Streaming.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1>Introducing a stream</h1></a><div class="top"><p class="src"><a id="v:unfold" class="def">unfold</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (s -&gt; m (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (f s))) -&gt; s -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="src/Streaming.Internal.html#unfold" class="link">Source</a> <a href="#v:unfold" class="selflink">#</a></p><div class="doc"><p>Build a <code>Stream</code> by unfolding steps starting from a seed. See also
    the specialized <code><a href="Streaming-Prelude.html#v:unfoldr" title="Streaming.Prelude">unfoldr</a></code> in the prelude.</p><pre>unfold inspect = id -- modulo the quotient we work with
unfold Pipes.next :: Monad m =&gt; Producer a m r -&gt; Stream ((,) a) m r
unfold (curry (:&gt;) . Pipes.next) :: Monad m =&gt; Producer a m r -&gt; Stream (Of a) m r</pre></div></div><div class="top"><p class="src"><a id="v:replicates" class="def">replicates</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; f () -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m () <a href="src/Streaming.Internal.html#replicates" class="link">Source</a> <a href="#v:replicates" class="selflink">#</a></p><div class="doc"><p>Repeat a functorial layer, command or instruction a fixed number of times.</p><pre>replicates n = takes n . repeats</pre></div></div><div class="top"><p class="src"><a id="v:repeats" class="def">repeats</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; f () -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="src/Streaming.Internal.html#repeats" class="link">Source</a> <a href="#v:repeats" class="selflink">#</a></p><div class="doc"><p>Repeat a functorial layer (a &quot;command&quot; or &quot;instruction&quot;) forever.</p></div></div><div class="top"><p class="src"><a id="v:repeatsM" class="def">repeatsM</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; m (f ()) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="src/Streaming.Internal.html#repeatsM" class="link">Source</a> <a href="#v:repeatsM" class="selflink">#</a></p><div class="doc"><p>Repeat an effect containing a functorial layer, command or instruction forever.</p></div></div><div class="top"><p class="src"><a id="v:effect" class="def">effect</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; m (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="src/Streaming.Internal.html#effect" class="link">Source</a> <a href="#v:effect" class="selflink">#</a></p><div class="doc"><p>Wrap an effect that returns a stream</p><pre>effect = join . lift</pre></div></div><div class="top"><p class="src"><a id="v:wrap" class="def">wrap</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; f (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="src/Streaming.Internal.html#wrap" class="link">Source</a> <a href="#v:wrap" class="selflink">#</a></p><div class="doc"><p>Wrap a new layer of a stream. So, e.g.</p><pre>S.cons :: Monad m =&gt; a -&gt; Stream (Of a) m r -&gt; Stream (Of a) m r
S.cons a str = wrap (a :&gt; str)</pre><p>and, recursively:</p><pre>S.each :: (Monad m, Foldable t) =&gt; t a -&gt; Stream (Of a) m ()
S.each = foldr (\a b -&gt; wrap (a :&gt; b)) (return ())</pre><p>The two operations</p><pre>wrap :: (Monad m, Functor f )   =&gt; f (Stream f m r) -&gt; Stream f m r
effect :: (Monad m, Functor f ) =&gt; m (Stream f m r) -&gt; Stream f m r</pre><p>are fundamental. We can define the parallel operations <code>yields</code> and <code>lift</code> in
   terms of them</p><pre>yields :: (Monad m, Functor f )  =&gt; f r -&gt; Stream f m r
yields = wrap . fmap return
lift ::  (Monad m, Functor f )   =&gt; m r -&gt; Stream f m r
lift = effect . fmap return</pre></div></div><div class="top"><p class="src"><a id="v:yields" class="def">yields</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; f r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="src/Streaming.Internal.html#yields" class="link">Source</a> <a href="#v:yields" class="selflink">#</a></p><div class="doc"><p><code>yields</code> is like <code>lift</code> for items in the streamed functor.
    It makes a singleton or one-layer succession.</p><pre>lift :: (Monad m, Functor f)    =&gt; m r -&gt; Stream f m r
yields ::  (Monad m, Functor f) =&gt; f r -&gt; Stream f m r</pre><p>Viewed in another light, it is like a functor-general version of <code>yield</code>:</p><pre>S.yield a = yields (a :&gt; ())</pre></div></div><div class="top"><p class="src"><a id="v:streamBuild" class="def">streamBuild</a> :: (<span class="keyword">forall</span> b. (r -&gt; b) -&gt; (m b -&gt; b) -&gt; (f b -&gt; b) -&gt; b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="src/Streaming.Internal.html#streamBuild" class="link">Source</a> <a href="#v:streamBuild" class="selflink">#</a></p><div class="doc"><p>Reflect a church-encoded stream; cp. <code>GHC.Exts.build</code></p><pre>streamFold return_ effect_ step_ (streamBuild psi) = psi return_ effect_ step_</pre></div></div><div class="top"><p class="src"><a id="v:cycles" class="def">cycles</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m () -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="src/Streaming.Internal.html#cycles" class="link">Source</a> <a href="#v:cycles" class="selflink">#</a></p><div class="doc"><p>Construct an infinite stream by cycling a finite one</p><pre>cycles = forever</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>
</code></strong></pre></div></div><div class="top"><p class="src"><a id="v:delays" class="def">delays</a> :: (<a href="Streaming.html#t:MonadIO" title="Streaming">MonadIO</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Prelude.html#t:Double" title="Prelude">Double</a> -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="src/Streaming.Internal.html#delays" class="link">Source</a> <a href="#v:delays" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:never" class="def">never</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="src/Streaming.Internal.html#never" class="link">Source</a> <a href="#v:never" class="selflink">#</a></p><div class="doc"><p><code><a href="Streaming-Internal.html#v:never" title="Streaming.Internal">never</a></code> interleaves the pure applicative action with the return of the monad forever.
     It is the <code><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Applicative.html#v:empty" title="Control.Applicative">empty</a></code> of the <code><a href="Streaming.html#t:Alternative" title="Streaming">Alternative</a></code> instance, thus</p><pre>never &lt;|&gt; a = a
a &lt;|&gt; never = a</pre><p>and so on. If w is a monoid then <code>never :: Stream (Of w) m r</code> is
     the infinite sequence of <code><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Monoid.html#v:mempty" title="Data.Monoid">mempty</a></code>, and
     <code>str1 &lt;|&gt; str2</code> appends the elements monoidally until one of streams ends.
     Thus we have, e.g.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>S.stdoutLn $ S.take 2 $ S.stdinLn &lt;|&gt; S.repeat &quot; &quot; &lt;|&gt; S.stdinLn  &lt;|&gt; S.repeat &quot; &quot; &lt;|&gt; S.stdinLn
</code></strong>1&lt;Enter&gt;
2&lt;Enter&gt;
3&lt;Enter&gt;
1 2 3
4&lt;Enter&gt;
5&lt;Enter&gt;
6&lt;Enter&gt;
4 5 6
</pre><p>This is equivalent to</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>S.stdoutLn $ S.take 2 $ foldr (&lt;|&gt;) never [S.stdinLn, S.repeat &quot; &quot;, S.stdinLn, S.repeat &quot; &quot;, S.stdinLn ]
</code></strong></pre><p>Where <code>f</code> is a monad, <code>(&lt;|&gt;)</code> sequences the conjoined streams stepwise. See the
     definition of <code>paste</code> <a href="https://gist.github.com/michaelt/6c6843e6dd8030e95d58">here</a>,
     where the separate steps are bytestreams corresponding to the lines of a file.</p><p>Given, say,</p><pre>data Branch r = Branch r r deriving Functor  -- add obvious applicative instance</pre><p>then <code>never :: Stream Branch Identity r</code>  is the pure infinite binary tree with
    (inaccessible) <code>r</code>s in its leaves. Given two binary trees, <code>tree1 &lt;|&gt; tree2</code>
    intersects them, preserving the leaves that came first,
    so <code>tree1 &lt;|&gt; never = tree1</code></p><p><code>Stream Identity m r</code> is an action in <code>m</code> that is indefinitely delayed. Such an
    action can be constructed with e.g. <code><a href="Streaming-Internal.html#v:untilJust" title="Streaming.Internal">untilJust</a></code>.</p><pre>untilJust :: (Monad m, Applicative f) =&gt; m (Maybe r) -&gt; Stream f m r</pre><p>Given two such items, <code>&lt;|&gt;</code> instance races them.
    It is thus the iterative monad transformer specially defined in
    <a href="https://hackage.haskell.org/package/free-4.12.1/docs/Control-Monad-Trans-Iter.html">Control.Monad.Trans.Iter</a></p><p>So, for example, we might write</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let justFour str = if length str == 4 then Just str else Nothing
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let four = untilJust (fmap justFour getLine)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>run four
</code></strong>one&lt;Enter&gt;
two&lt;Enter&gt;
three&lt;Enter&gt;
four&lt;Enter&gt;
&quot;four&quot;
</pre><p>The <code><a href="Streaming.html#t:Alternative" title="Streaming">Alternative</a></code> instance in
    <a href="https://hackage.haskell.org/package/free-4.12.1/docs/Control-Monad-Trans-Free.html">Control.Monad.Trans.Free</a>
    is avowedly wrong, though no explanation is given for this.</p></div></div><div class="top"><p class="src"><a id="v:untilJust" class="def">untilJust</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f) =&gt; m (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> r) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="src/Streaming.Internal.html#untilJust" class="link">Source</a> <a href="#v:untilJust" class="selflink">#</a></p><div class="doc"><p>Repeat a</p></div></div><a href="#g:3" id="g:3"><h1>Eliminating a stream</h1></a><div class="top"><p class="src"><a id="v:intercalates" class="def">intercalates</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="Streaming.html#t:MonadTrans" title="Streaming">MonadTrans</a> t) =&gt; t m x -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (t m) m r -&gt; t m r <a href="src/Streaming.Internal.html#intercalates" class="link">Source</a> <a href="#v:intercalates" class="selflink">#</a></p><div class="doc"><p>Interpolate a layer at each segment. This specializes to e.g.</p><pre>intercalates :: (Monad m, Functor f) =&gt; Stream f m () -&gt; Stream (Stream f m) m r -&gt; Stream f m r</pre></div></div><div class="top"><p class="src"><a id="v:concats" class="def">concats</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m) m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="src/Streaming.Internal.html#concats" class="link">Source</a> <a href="#v:concats" class="selflink">#</a></p><div class="doc"><p>Dissolves the segmentation into layers of <code>Stream f m</code> layers.</p></div></div><div class="top"><p class="src"><a id="v:iterT" class="def">iterT</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (f (m a) -&gt; m a) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; m a <a href="src/Streaming.Internal.html#iterT" class="link">Source</a> <a href="#v:iterT" class="selflink">#</a></p><div class="doc"><p>Specialized fold following the usage of <code>Control.Monad.Trans.Free</code></p><pre>iterT alg = streamFold return join alg
iterT alg = runIdentityT . iterTM (IdentityT . alg . fmap runIdentityT)</pre></div></div><div class="top"><p class="src"><a id="v:iterTM" class="def">iterTM</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Streaming.html#t:MonadTrans" title="Streaming">MonadTrans</a> t, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m)) =&gt; (f (t m a) -&gt; t m a) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; t m a <a href="src/Streaming.Internal.html#iterTM" class="link">Source</a> <a href="#v:iterTM" class="selflink">#</a></p><div class="doc"><p>Specialized fold following the usage of <code>Control.Monad.Trans.Free</code></p><pre>iterTM alg = streamFold return (join . lift)
iterTM alg = iterT alg . hoist lift</pre></div></div><div class="top"><p class="src"><a id="v:destroy" class="def">destroy</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; (f b -&gt; b) -&gt; (m b -&gt; b) -&gt; (r -&gt; b) -&gt; b <a href="src/Streaming.Internal.html#destroy" class="link">Source</a> <a href="#v:destroy" class="selflink">#</a></p><div class="doc"><p>Map a stream to its church encoding; compare <code>Data.List.foldr</code>.
    <code><a href="Streaming-Internal.html#v:destroyExposed" title="Streaming.Internal">destroyExposed</a></code> may be more efficient in some cases when
    applicable, but it is less safe.</p><pre>   destroy s construct eff done
     = eff . iterT (return . construct . fmap eff) . fmap done $ s
   </pre></div></div><div class="top"><p class="src"><a id="v:streamFold" class="def">streamFold</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (r -&gt; b) -&gt; (m b -&gt; b) -&gt; (f b -&gt; b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; b <a href="src/Streaming.Internal.html#streamFold" class="link">Source</a> <a href="#v:streamFold" class="selflink">#</a></p><div class="doc"><p><code><a href="Streaming-Internal.html#v:streamFold" title="Streaming.Internal">streamFold</a></code> reorders the arguments of <code><a href="Streaming-Internal.html#v:destroy" title="Streaming.Internal">destroy</a></code> to be more akin
    to <code>foldr</code>  It is more convenient to query in ghci to figure out
    what kind of 'algebra' you need to write.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t streamFold return join
</code></strong>(Monad m, Functor f) =&gt;
     (f (m a) -&gt; m a) -&gt; Stream f m a -&gt; m a        -- iterT
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t streamFold return (join . lift)
</code></strong>(Monad m, Monad (t m), Functor f, MonadTrans t) =&gt;
     (f (t m a) -&gt; t m a) -&gt; Stream f m a -&gt; t m a  -- iterTM
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t streamFold return effect
</code></strong>(Monad m, Functor f, Functor g) =&gt;
     (f (Stream g m r) -&gt; Stream g m r) -&gt; Stream f m r -&gt; Stream g m r
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t \f -&gt; streamFold return effect (wrap . f)
</code></strong>(Monad m, Functor f, Functor g) =&gt;
     (f (Stream g m a) -&gt; g (Stream g m a))
     -&gt; Stream f m a -&gt; Stream g m a                 -- maps
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t \f -&gt; streamFold return effect (effect . fmap wrap . f)
</code></strong>(Monad m, Functor f, Functor g) =&gt;
     (f (Stream g m a) -&gt; m (g (Stream g m a)))
     -&gt; Stream f m a -&gt; Stream g m a                 -- mapped
</pre><pre>    streamFold done eff construct
       = eff . iterT (return . construct . fmap eff) . fmap done
</pre></div></div><a href="#g:4" id="g:4"><h1>Inspecting a stream wrap by wrap</h1></a><div class="top"><p class="src"><a id="v:inspect" class="def">inspect</a> :: <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; m (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (f (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r))) <a href="src/Streaming.Internal.html#inspect" class="link">Source</a> <a href="#v:inspect" class="selflink">#</a></p><div class="doc"><p>Inspect the first stage of a freely layered sequence.
    Compare <code>Pipes.next</code> and the replica <code>Streaming.Prelude.next</code>.
    This is the <code>uncons</code> for the general <code><a href="Streaming-Internal.html#v:unfold" title="Streaming.Internal">unfold</a></code>.</p><pre>unfold inspect = id
Streaming.Prelude.unfoldr StreamingPrelude.next = id</pre></div></div><a href="#g:5" id="g:5"><h1>Transforming streams</h1></a><div class="top"><p class="src"><a id="v:maps" class="def">maps</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> x. f x -&gt; g x) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r <a href="src/Streaming.Internal.html#maps" class="link">Source</a> <a href="#v:maps" class="selflink">#</a></p><div class="doc"><p>Map layers of one functor to another with a transformation. Compare
     hoist, which has a similar effect on the <code>monadic</code> parameter.</p><pre>maps id = id
maps f . maps g = maps (f . g)</pre></div></div><div class="top"><p class="src"><a id="v:mapsM" class="def">mapsM</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> x. f x -&gt; m (g x)) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r <a href="src/Streaming.Internal.html#mapsM" class="link">Source</a> <a href="#v:mapsM" class="selflink">#</a></p><div class="doc"><p>Map layers of one functor to another with a transformation involving the base monad.
     <code><a href="Streaming-Internal.html#v:maps" title="Streaming.Internal">maps</a></code> is more fundamental than <code>mapsM</code>, which is best understood as a convenience
     for effecting this frequent composition:</p><pre>mapsM phi = decompose . maps (Compose . phi)</pre><p>The streaming prelude exports the same function under the better name <code>mapped</code>,
     which overlaps with the lens libraries.</p></div></div><div class="top"><p class="src"><a id="v:mapsPost" class="def">mapsPost</a> :: <span class="keyword">forall</span> m f g r. (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; (<span class="keyword">forall</span> x. f x -&gt; g x) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r <a href="src/Streaming.Internal.html#mapsPost" class="link">Source</a> <a href="#v:mapsPost" class="selflink">#</a></p><div class="doc"><p>Map layers of one functor to another with a transformation. Compare
     hoist, which has a similar effect on the <code>monadic</code> parameter.</p><pre>mapsPost id = id
mapsPost f . mapsPost g = mapsPost (f . g)
mapsPost f = maps f</pre><p><code>mapsPost</code> is essentially the same as <code><a href="Streaming-Internal.html#v:maps" title="Streaming.Internal">maps</a></code>, but it imposes a <code><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a></code> constraint on
     its target functor rather than its source functor. It should be preferred if <code><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#v:fmap" title="Data.Functor">fmap</a></code>
     is cheaper for the target functor than for the source functor.</p></div></div><div class="top"><p class="src"><a id="v:mapsMPost" class="def">mapsMPost</a> :: <span class="keyword">forall</span> m f g r. (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; (<span class="keyword">forall</span> x. f x -&gt; m (g x)) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r <a href="src/Streaming.Internal.html#mapsMPost" class="link">Source</a> <a href="#v:mapsMPost" class="selflink">#</a></p><div class="doc"><p>Map layers of one functor to another with a transformation involving the base monad.
     <code>mapsMPost</code> is essentially the same as <code><a href="Streaming-Internal.html#v:mapsM" title="Streaming.Internal">mapsM</a></code>, but it imposes a <code><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a></code> constraint on
     its target functor rather than its source functor. It should be preferred if <code><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#v:fmap" title="Data.Functor">fmap</a></code>
     is cheaper for the target functor than for the source functor.</p><p><code>mapsPost</code> is more fundamental than <code>mapsMPost</code>, which is best understood as a convenience
     for effecting this frequent composition:</p><pre>mapsMPost phi = decompose . mapsPost (Compose . phi)</pre><p>The streaming prelude exports the same function under the better name <code>mappedPost</code>,
     which overlaps with the lens libraries.</p></div></div><div class="top"><p class="src"><a id="v:hoistUnexposed" class="def">hoistUnexposed</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> a. m a -&gt; n a) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f n r <a href="src/Streaming.Internal.html#hoistUnexposed" class="link">Source</a> <a href="#v:hoistUnexposed" class="selflink">#</a></p><div class="doc"><p>A less-efficient version of <code><a href="Streaming.html#v:hoist" title="Streaming">hoist</a></code> that works properly even when its
 argument is not a monad morphism.</p><pre>hoistUnexposed = hoist . unexposed</pre></div></div><div class="top"><p class="src"><a id="v:decompose" class="def">decompose</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming.html#t:Compose" title="Streaming">Compose</a> m f) m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="src/Streaming.Internal.html#decompose" class="link">Source</a> <a href="#v:decompose" class="selflink">#</a></p><div class="doc"><p>Rearrange a succession of layers of the form <code>Compose m (f x)</code>.</p><p>we could as well define <code>decompose</code> by <code>mapsM</code>:</p><pre>decompose = mapped getCompose</pre><p>but <code>mapped</code> is best understood as:</p><pre>mapped phi = decompose . maps (Compose . phi)</pre><p>since <code>maps</code> and <code>hoist</code> are the really fundamental operations that preserve the
  shape of the stream:</p><pre>maps  :: (Monad m, Functor f) =&gt; (forall x. f x -&gt; g x) -&gt; Stream f m r -&gt; Stream g m r
hoist :: (Monad m, Functor f) =&gt; (forall a. m a -&gt; n a) -&gt; Stream f m r -&gt; Stream f n r</pre></div></div><div class="top"><p class="src"><a id="v:mapsM_" class="def">mapsM_</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; (<span class="keyword">forall</span> x. f x -&gt; m x) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; m r <a href="src/Streaming.Internal.html#mapsM_" class="link">Source</a> <a href="#v:mapsM_" class="selflink">#</a></p><div class="doc"><p>Map each layer to an effect, and run them all.</p></div></div><div class="top"><p class="src"><a id="v:run" class="def">run</a> :: <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> m m r -&gt; m r <a href="src/Streaming.Internal.html#run" class="link">Source</a> <a href="#v:run" class="selflink">#</a></p><div class="doc"><p>Run the effects in a stream that merely layers effects.</p></div></div><div class="top"><p class="src"><a id="v:distribute" class="def">distribute</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="Streaming.html#t:MonadTrans" title="Streaming">MonadTrans</a> t, <a href="Streaming.html#t:MFunctor" title="Streaming">MFunctor</a> t, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m))) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f (t m) r -&gt; t (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m) r <a href="src/Streaming.Internal.html#distribute" class="link">Source</a> <a href="#v:distribute" class="selflink">#</a></p><div class="doc"><p>Make it possible to 'run' the underlying transformed monad.</p></div></div><div class="top"><p class="src"><a id="v:groups" class="def">groups</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming.html#t:Sum" title="Streaming">Sum</a> f g) m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming.html#t:Sum" title="Streaming">Sum</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m) (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m)) m r <a href="src/Streaming.Internal.html#groups" class="link">Source</a> <a href="#v:groups" class="selflink">#</a></p><div class="doc"><p>Group layers in an alternating stream into adjoining sub-streams
    of one type or another.</p></div></div><a href="#g:6" id="g:6"><h1>Splitting streams</h1></a><div class="top"><p class="src"><a id="v:chunksOf" class="def">chunksOf</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m) m r <a href="src/Streaming.Internal.html#chunksOf" class="link">Source</a> <a href="#v:chunksOf" class="selflink">#</a></p><div class="doc"><p>Break a stream into substreams each with n functorial layers.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>S.print $ mapped S.sum $ chunksOf 2 $ each [1,1,1,1,1]
</code></strong>2
2
1
</pre></div></div><div class="top"><p class="src"><a id="v:splitsAt" class="def">splitsAt</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r) <a href="src/Streaming.Internal.html#splitsAt" class="link">Source</a> <a href="#v:splitsAt" class="selflink">#</a></p><div class="doc"><p>Split a succession of layers after some number, returning a streaming or
    effectful pair.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rest &lt;- S.print $ S.splitAt 1 $ each [1..3]
</code></strong>1
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>S.print rest
</code></strong>2
3
</pre><pre>splitAt 0 = return
splitAt n &gt;=&gt; splitAt m = splitAt (m+n)</pre><p>Thus, e.g.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rest &lt;- S.print $ splitsAt 2 &gt;=&gt; splitsAt 2 $ each [1..5]
</code></strong>1
2
3
4
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>S.print rest
</code></strong>5
</pre></div></div><div class="top"><p class="src"><a id="v:takes" class="def">takes</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m () <a href="src/Streaming.Internal.html#takes" class="link">Source</a> <a href="#v:takes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cutoff" class="def">cutoff</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> r) <a href="src/Streaming.Internal.html#cutoff" class="link">Source</a> <a href="#v:cutoff" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h1>Zipping and unzipping streams</h1></a><div class="top"><p class="src"><a id="v:zipsWith" class="def">zipsWith</a> :: <span class="keyword">forall</span> f g h m r. (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> h) =&gt; (<span class="keyword">forall</span> x y. f x -&gt; g y -&gt; h (x, y)) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> h m r <a href="src/Streaming.Internal.html#zipsWith" class="link">Source</a> <a href="#v:zipsWith" class="selflink">#</a></p><div class="doc"><p>Zip two streams together. The <code><a href="Streaming-Internal.html#v:zipsWith-39-" title="Streaming.Internal">zipsWith'</a></code> function should generally
 be preferred for efficiency.</p></div></div><div class="top"><p class="src"><a id="v:zipsWith-39-" class="def">zipsWith'</a> :: <span class="keyword">forall</span> f g h m r. <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> x y p. (x -&gt; y -&gt; p) -&gt; f x -&gt; g y -&gt; h p) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> h m r <a href="src/Streaming.Internal.html#zipsWith%27" class="link">Source</a> <a href="#v:zipsWith-39-" class="selflink">#</a></p><div class="doc"><p>Zip two streams together.</p></div></div><div class="top"><p class="src"><a id="v:zips" class="def">zips</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming.html#t:Compose" title="Streaming">Compose</a> f g) m r <a href="src/Streaming.Internal.html#zips" class="link">Source</a> <a href="#v:zips" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:unzips" class="def">unzips</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming.html#t:Compose" title="Streaming">Compose</a> f g) m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m) r <a href="src/Streaming.Internal.html#unzips" class="link">Source</a> <a href="#v:unzips" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:interleaves" class="def">interleaves</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> h) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> h m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> h m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> h m r <a href="src/Streaming.Internal.html#interleaves" class="link">Source</a> <a href="#v:interleaves" class="selflink">#</a></p><div class="doc"><p>Interleave functor layers, with the effects of the first preceding
    the effects of the second. When the first stream runs out, any remaining
    effects in the second are ignored.</p><pre>interleaves = zipsWith (liftA2 (,))</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let paste = \a b -&gt; interleaves (Q.lines a) (maps (Q.cons' '\t') (Q.lines b))
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.stdout $ Q.unlines $ paste &quot;hello\nworld\n&quot; &quot;goodbye\nworld\n&quot;
</code></strong>hello	goodbye
world	world
</pre></div></div><div class="top"><p class="src"><a id="v:separate" class="def">separate</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming.html#t:Sum" title="Streaming">Sum</a> f g) m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m) r <a href="src/Streaming.Internal.html#separate" class="link">Source</a> <a href="#v:separate" class="selflink">#</a></p><div class="doc"><p>Given a stream on a sum of functors, make it a stream on the left functor,
    with the streaming on the other functor as the governing monad. This is
    useful for acting on one or the other functor with a fold, leaving the
    other material for another treatment. It generalizes
    <code><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Either.html#v:partitionEithers" title="Data.Either">partitionEithers</a></code>, but actually streams properly.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let odd_even = S.maps (S.distinguish even) $ S.each [1..10::Int]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t separate odd_even
</code></strong>separate odd_even
  :: Monad m =&gt; Stream (Of Int) (Stream (Of Int) m) ()
</pre><p>Now, for example, it is convenient to fold on the left and right values separately:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>S.toList $ S.toList $ separate odd_even
</code></strong>[2,4,6,8,10] :&gt; ([1,3,5,7,9] :&gt; ())
</pre><p>Or we can write them to separate files or whatever:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>S.writeFile &quot;even.txt&quot; . S.show $ S.writeFile &quot;odd.txt&quot; . S.show $ S.separate odd_even
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:! cat even.txt
</code></strong>2
4
6
8
10
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:! cat odd.txt
</code></strong>1
3
5
7
9
</pre><p>Of course, in the special case of <code>Stream (Of a) m r</code>, we can achieve the above
   effects more simply by using <code><a href="Streaming-Prelude.html#v:copy" title="Streaming.Prelude">copy</a></code></p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>S.toList . S.filter even $ S.toList . S.filter odd $ S.copy $ each [1..10::Int]
</code></strong>[2,4,6,8,10] :&gt; ([1,3,5,7,9] :&gt; ())
</pre><p>But <code><a href="Streaming-Internal.html#v:separate" title="Streaming.Internal">separate</a></code> and <code><a href="Streaming-Internal.html#v:unseparate" title="Streaming.Internal">unseparate</a></code> are functor-general.</p></div></div><div class="top"><p class="src"><a id="v:unseparate" class="def">unseparate</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m) r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming.html#t:Sum" title="Streaming">Sum</a> f g) m r <a href="src/Streaming.Internal.html#unseparate" class="link">Source</a> <a href="#v:unseparate" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expand" class="def">expand</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> a b. (g a -&gt; b) -&gt; f a -&gt; h b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> h m) r <a href="src/Streaming.Internal.html#expand" class="link">Source</a> <a href="#v:expand" class="selflink">#</a></p><div class="doc"><p>If <code>Of</code> had a <code>Comonad</code> instance, then we'd have</p><pre>copy = expand extend</pre><p>See <code><a href="Streaming-Internal.html#v:expandPost" title="Streaming.Internal">expandPost</a></code> for a version that requires a <code>Functor g</code>
 instance instead.</p></div></div><div class="top"><p class="src"><a id="v:expandPost" class="def">expandPost</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> g) =&gt; (<span class="keyword">forall</span> a b. (g a -&gt; b) -&gt; f a -&gt; h b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g (<a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> h m) r <a href="src/Streaming.Internal.html#expandPost" class="link">Source</a> <a href="#v:expandPost" class="selflink">#</a></p><div class="doc"><p>If <code>Of</code> had a <code>Comonad</code> instance, then we'd have</p><pre>copy = expandPost extend</pre><p>See <code><a href="Streaming-Internal.html#v:expand" title="Streaming.Internal">expand</a></code> for a version that requires a <code>Functor f</code> instance
 instead.</p></div></div><a href="#g:8" id="g:8"><h1>Assorted Data.Functor.x help</h1></a><div class="top"><p class="src"><a id="v:switch" class="def">switch</a> :: <a href="Streaming.html#t:Sum" title="Streaming">Sum</a> f g r -&gt; <a href="Streaming.html#t:Sum" title="Streaming">Sum</a> g f r <a href="src/Streaming.Internal.html#switch" class="link">Source</a> <a href="#v:switch" class="selflink">#</a></p><div class="doc"><p>Swap the order of functors in a sum of functors.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>S.toList $ S.print $ separate $ maps S.switch $ maps (S.distinguish (=='a')) $ S.each &quot;banana&quot;
</code></strong>'a'
'a'
'a'
&quot;bnn&quot; :&gt; ()
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>S.toList $ S.print $ separate $ maps (S.distinguish (=='a')) $ S.each &quot;banana&quot;
</code></strong>'b'
'n'
'n'
&quot;aaa&quot; :&gt; ()
</pre></div></div><a href="#g:9" id="g:9"><h1>For use in implementation</h1></a><div class="top"><p class="src"><a id="v:unexposed" class="def">unexposed</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r <a href="src/Streaming.Internal.html#unexposed" class="link">Source</a> <a href="#v:unexposed" class="selflink">#</a></p><div class="doc"><p>This is akin to the <code>observe</code> of <code>Pipes.Internal</code> . It reeffects the layering
    in instances of <code>Stream f m r</code> so that it replicates that of
    <code>FreeT</code>.</p></div></div><div class="top"><p class="src"><a id="v:hoistExposed" class="def">hoistExposed</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> b. m b -&gt; n b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f n a <a href="src/Streaming.Internal.html#hoistExposed" class="link">Source</a> <a href="#v:hoistExposed" class="selflink">#</a></p><div class="doc"><p>The same as <code><a href="Streaming.html#v:hoist" title="Streaming">hoist</a></code>, but explicitly named to indicate that it
 is not entirely safe. In particular, its argument must be a monad
 morphism.</p></div></div><div class="top"><p class="src"><a id="v:hoistExposedPost" class="def">hoistExposedPost</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> n, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> b. m b -&gt; n b) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m a -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f n a <a href="src/Streaming.Internal.html#hoistExposedPost" class="link">Source</a> <a href="#v:hoistExposedPost" class="selflink">#</a></p><div class="doc"><p>The same as <code><a href="Streaming-Internal.html#v:hoistExposed" title="Streaming.Internal">hoistExposed</a></code>, but with a <code><a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a></code> constraint on
 the target rather than the source. This must be used only with
 a monad morphism.</p></div></div><div class="top"><p class="src"><a id="v:mapsExposed" class="def">mapsExposed</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> x. f x -&gt; g x) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r <a href="src/Streaming.Internal.html#mapsExposed" class="link">Source</a> <a href="#v:mapsExposed" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: Use maps instead.</p></div></div></div><div class="top"><p class="src"><a id="v:mapsMExposed" class="def">mapsMExposed</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f) =&gt; (<span class="keyword">forall</span> x. f x -&gt; m (g x)) -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> g m r <a href="src/Streaming.Internal.html#mapsMExposed" class="link">Source</a> <a href="#v:mapsMExposed" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: Use mapsM instead.</p></div></div></div><div class="top"><p class="src"><a id="v:destroyExposed" class="def">destroyExposed</a> :: (<a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f, <a href="file:///nix/store/q5s037f3dqgwfpccw3qcagm27malqb1y-ghc-9.6.7-doc/share/doc/ghc-9.6.7/html/libraries/base-4.18.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> f m r -&gt; (f b -&gt; b) -&gt; (m b -&gt; b) -&gt; (r -&gt; b) -&gt; b <a href="src/Streaming.Internal.html#destroyExposed" class="link">Source</a> <a href="#v:destroyExposed" class="selflink">#</a></p><div class="doc"><p>Map a stream directly to its church encoding; compare <code>Data.List.foldr</code>
    It permits distinctions that should be hidden, as can be seen from
    e.g.</p><pre>isPure stream = destroyExposed (const True) (const False) (const True)</pre><p>and similar nonsense.  The crucial
    constraint is that the <code>m x -&gt; x</code> argument is an <em>Eilenberg-Moore algebra</em>.
    See Atkey, &quot;Reasoning about Stream Processing with Effects&quot;</p><p>When in doubt, use <code><a href="Streaming-Internal.html#v:destroy" title="Streaming.Internal">destroy</a></code> instead.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>