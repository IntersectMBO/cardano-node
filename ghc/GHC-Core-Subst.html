<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>GHC.Core.Subst</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ghc-9.6.7: The GHC API</span><ul class="links" id="page-menu"><li><a href="src/GHC.Core.Subst.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">GHC.Core.Subst</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Main data types</a><ul><li><a href="#g:2">Substituting into expressions and related types</a></li><li><a href="#g:3">Operations on substitutions</a></li><li><a href="#g:4">Substituting and cloning binders</a></li></ul></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Subst">Subst</a> = <a href="#v:Subst">Subst</a> <a href="GHC-Core-Subst.html#t:InScopeSet" title="GHC.Core.Subst">InScopeSet</a> <a href="GHC-Core-Subst.html#t:IdSubstEnv" title="GHC.Core.Subst">IdSubstEnv</a> <a href="GHC-Core-Subst.html#t:TvSubstEnv" title="GHC.Core.Subst">TvSubstEnv</a> <a href="GHC-Core-TyCo-Subst.html#t:CvSubstEnv" title="GHC.Core.TyCo.Subst">CvSubstEnv</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:TvSubstEnv">TvSubstEnv</a> = <a href="GHC-Types-Var-Env.html#t:TyVarEnv" title="GHC.Types.Var.Env">TyVarEnv</a> <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:IdSubstEnv">IdSubstEnv</a> = <a href="GHC-Types-Var-Env.html#t:IdEnv" title="GHC.Types.Var.Env">IdEnv</a> <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:InScopeSet">InScopeSet</a></li><li class="src short"><a href="#v:deShadowBinds">deShadowBinds</a> :: <a href="GHC-Core.html#t:CoreProgram" title="GHC.Core">CoreProgram</a> -&gt; <a href="GHC-Core.html#t:CoreProgram" title="GHC.Core">CoreProgram</a></li><li class="src short"><a href="#v:substRuleInfo">substRuleInfo</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Types-Id-Info.html#t:RuleInfo" title="GHC.Types.Id.Info">RuleInfo</a> -&gt; <a href="GHC-Types-Id-Info.html#t:RuleInfo" title="GHC.Types.Id.Info">RuleInfo</a></li><li class="src short"><a href="#v:substRulesForImportedIds">substRulesForImportedIds</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; [<a href="GHC-Core.html#t:CoreRule" title="GHC.Core">CoreRule</a>] -&gt; [<a href="GHC-Core.html#t:CoreRule" title="GHC.Core">CoreRule</a>]</li><li class="src short"><a href="#v:substTyUnchecked">substTyUnchecked</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></li><li class="src short"><a href="#v:substCo">substCo</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core-Coercion.html#t:Coercion" title="GHC.Core.Coercion">Coercion</a> -&gt; <a href="GHC-Core-Coercion.html#t:Coercion" title="GHC.Core.Coercion">Coercion</a></li><li class="src short"><a href="#v:substExpr">substExpr</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:substExprSC">substExprSC</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:substBind">substBind</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, <a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a>)</li><li class="src short"><a href="#v:substBindSC">substBindSC</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, <a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a>)</li><li class="src short"><a href="#v:substUnfolding">substUnfolding</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core.html#t:Unfolding" title="GHC.Core">Unfolding</a> -&gt; <a href="GHC-Core.html#t:Unfolding" title="GHC.Core">Unfolding</a></li><li class="src short"><a href="#v:substUnfoldingSC">substUnfoldingSC</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core.html#t:Unfolding" title="GHC.Core">Unfolding</a> -&gt; <a href="GHC-Core.html#t:Unfolding" title="GHC.Core">Unfolding</a></li><li class="src short"><a href="#v:lookupIdSubst">lookupIdSubst</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:lookupIdSubst_maybe">lookupIdSubst_maybe</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:substIdType">substIdType</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></li><li class="src short"><a href="#v:substIdOcc">substIdOcc</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></li><li class="src short"><a href="#v:substTickish">substTickish</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a></li><li class="src short"><a href="#v:substDVarSet">substDVarSet</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var-Set.html#t:DVarSet" title="GHC.Types.Var.Set">DVarSet</a> -&gt; <a href="GHC-Types-Var-Set.html#t:DVarSet" title="GHC.Types.Var.Set">DVarSet</a></li><li class="src short"><a href="#v:substIdInfo">substIdInfo</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Types-Id-Info.html#t:IdInfo" title="GHC.Types.Id.Info">IdInfo</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Types-Id-Info.html#t:IdInfo" title="GHC.Types.Id.Info">IdInfo</a></li><li class="src short"><a href="#v:emptySubst">emptySubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:mkEmptySubst">mkEmptySubst</a> :: <a href="GHC-Core-Subst.html#t:InScopeSet" title="GHC.Core.Subst">InScopeSet</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:mkSubst">mkSubst</a> :: <a href="GHC-Core-Subst.html#t:InScopeSet" title="GHC.Core.Subst">InScopeSet</a> -&gt; <a href="GHC-Core-Subst.html#t:TvSubstEnv" title="GHC.Core.Subst">TvSubstEnv</a> -&gt; <a href="GHC-Core-TyCo-Subst.html#t:CvSubstEnv" title="GHC.Core.TyCo.Subst">CvSubstEnv</a> -&gt; <a href="GHC-Core-Subst.html#t:IdSubstEnv" title="GHC.Core.Subst">IdSubstEnv</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:mkOpenSubst">mkOpenSubst</a> :: <a href="GHC-Core-Subst.html#t:InScopeSet" title="GHC.Core.Subst">InScopeSet</a> -&gt; [(<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>, <a href="GHC-Core.html#t:CoreArg" title="GHC.Core">CoreArg</a>)] -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:isEmptySubst">isEmptySubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:extendIdSubst">extendIdSubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:extendIdSubstList">extendIdSubstList</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; [(<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>, <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a>)] -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:extendTCvSubst">extendTCvSubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:TyCoVar" title="GHC.Types.Var">TyCoVar</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:extendTvSubstList">extendTvSubstList</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; [(<a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>, <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>)] -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:extendIdSubstWithClone">extendIdSubstWithClone</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:extendSubst">extendSubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Core.html#t:CoreArg" title="GHC.Core">CoreArg</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:extendSubstList">extendSubstList</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; [(<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>, <a href="GHC-Core.html#t:CoreArg" title="GHC.Core">CoreArg</a>)] -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:extendSubstWithVar">extendSubstWithVar</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:extendSubstInScope">extendSubstInScope</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:extendSubstInScopeList">extendSubstInScopeList</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; [<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>] -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:extendSubstInScopeSet">extendSubstInScopeSet</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var-Set.html#t:VarSet" title="GHC.Types.Var.Set">VarSet</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:isInScope">isInScope</a> :: <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:setInScope">setInScope</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core-Subst.html#t:InScopeSet" title="GHC.Core.Subst">InScopeSet</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:getSubstInScope">getSubstInScope</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core-Subst.html#t:InScopeSet" title="GHC.Core.Subst">InScopeSet</a></li><li class="src short"><a href="#v:extendTvSubst">extendTvSubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:extendCvSubst">extendCvSubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:CoVar" title="GHC.Types.Var">CoVar</a> -&gt; <a href="GHC-Core-Coercion.html#t:Coercion" title="GHC.Core.Coercion">Coercion</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:delBndr">delBndr</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:delBndrs">delBndrs</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; [<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>] -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:zapSubst">zapSubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></li><li class="src short"><a href="#v:substBndr">substBndr</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>)</li><li class="src short"><a href="#v:substBndrs">substBndrs</a> :: <a href="GHC-Prelude-Basic.html#t:Traversable" title="GHC.Prelude.Basic">Traversable</a> f =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; f <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, f <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>)</li><li class="src short"><a href="#v:substRecBndrs">substRecBndrs</a> :: <a href="GHC-Prelude-Basic.html#t:Traversable" title="GHC.Prelude.Basic">Traversable</a> f =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; f <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, f <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>)</li><li class="src short"><a href="#v:substTyVarBndr">substTyVarBndr</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, <a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>)</li><li class="src short"><a href="#v:substCoVarBndr">substCoVarBndr</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:CoVar" title="GHC.Types.Var">CoVar</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, <a href="GHC-Types-Var.html#t:CoVar" title="GHC.Types.Var">CoVar</a>)</li><li class="src short"><a href="#v:cloneBndr">cloneBndr</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a> -&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>)</li><li class="src short"><a href="#v:cloneBndrs">cloneBndrs</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Unique-Supply.html#t:UniqSupply" title="GHC.Types.Unique.Supply">UniqSupply</a> -&gt; [<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>] -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, [<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>])</li><li class="src short"><a href="#v:cloneIdBndr">cloneIdBndr</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Unique-Supply.html#t:UniqSupply" title="GHC.Types.Unique.Supply">UniqSupply</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>)</li><li class="src short"><a href="#v:cloneIdBndrs">cloneIdBndrs</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Unique-Supply.html#t:UniqSupply" title="GHC.Types.Unique.Supply">UniqSupply</a> -&gt; [<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>] -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, [<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>])</li><li class="src short"><a href="#v:cloneRecIdBndrs">cloneRecIdBndrs</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Unique-Supply.html#t:UniqSupply" title="GHC.Types.Unique.Supply">UniqSupply</a> -&gt; [<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>] -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, [<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>])</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Main data types</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Subst" class="def">Subst</a> <a href="src/GHC.Core.TyCo.Subst.html#Subst" class="link">Source</a> <a href="#t:Subst" class="selflink">#</a></p><div class="doc"><p>Type &amp; coercion &amp; id substitution</p><p>The <a href="Subst.html">Subst</a> data type defined in this module contains substitution
 for tyvar, covar and id. However, operations on IdSubstEnv (mapping
 from <a href="Id.html">Id</a> to <a href="CoreExpr.html">CoreExpr</a>) that require the definition of the <a href="Expr.html">Expr</a>
 data type are defined in GHC.Core.Subst to avoid circular module
 dependency.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Subst" class="def">Subst</a> <a href="GHC-Core-Subst.html#t:InScopeSet" title="GHC.Core.Subst">InScopeSet</a> <a href="GHC-Core-Subst.html#t:IdSubstEnv" title="GHC.Core.Subst">IdSubstEnv</a> <a href="GHC-Core-Subst.html#t:TvSubstEnv" title="GHC.Core.Subst">TvSubstEnv</a> <a href="GHC-Core-TyCo-Subst.html#t:CvSubstEnv" title="GHC.Core.TyCo.Subst">CvSubstEnv</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Subst">Instances</h4><details id="i:Subst" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Subst:Outputable:1"></span> <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></span> <a href="src/GHC.Core.TyCo.Subst.html#line-516" class="link">Source</a> <a href="#t:Subst" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Subst:Outputable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Core-TyCo-Subst.html">GHC.Core.TyCo.Subst</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> <a href="src/GHC.Utils.Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TvSubstEnv" class="def">TvSubstEnv</a> = <a href="GHC-Types-Var-Env.html#t:TyVarEnv" title="GHC.Types.Var.Env">TyVarEnv</a> <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> <a href="src/GHC.Core.TyCo.Subst.html#TvSubstEnv" class="link">Source</a> <a href="#t:TvSubstEnv" class="selflink">#</a></p><div class="doc"><p>A substitution of <code><a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></code>s for <code><a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a></code>s
                 and <code><a href="GHC-Core-Type.html#t:Kind" title="GHC.Core.Type">Kind</a></code>s for <code><a href="GHC-Types-Var.html#t:KindVar" title="GHC.Types.Var">KindVar</a></code>s</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:IdSubstEnv" class="def">IdSubstEnv</a> = <a href="GHC-Types-Var-Env.html#t:IdEnv" title="GHC.Types.Var.Env">IdEnv</a> <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.TyCo.Subst.html#IdSubstEnv" class="link">Source</a> <a href="#t:IdSubstEnv" class="selflink">#</a></p><div class="doc"><p>A substitution of <code>Expr</code>s for non-coercion <code><a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></code>s</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InScopeSet" class="def">InScopeSet</a> <a href="src/GHC.Types.Var.Env.html#InScopeSet" class="link">Source</a> <a href="#t:InScopeSet" class="selflink">#</a></p><div class="doc"><p>A set of variables that are in scope at some point.</p><p>Note that this is a <em>superset</em> of the variables that are currently in scope.
 See Note [The InScopeSet invariant].</p><p>&quot;Secrets of the Glasgow Haskell Compiler inliner&quot; Section 3.2 provides
 the motivation for this abstraction.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:InScopeSet">Instances</h4><details id="i:InScopeSet" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InScopeSet:Outputable:1"></span> <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> <a href="GHC-Core-Subst.html#t:InScopeSet" title="GHC.Core.Subst">InScopeSet</a></span> <a href="src/GHC.Types.Var.Env.html#line-135" class="link">Source</a> <a href="#t:InScopeSet" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InScopeSet:Outputable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Types-Var-Env.html">GHC.Types.Var.Env</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="GHC-Core-Subst.html#t:InScopeSet" title="GHC.Core.Subst">InScopeSet</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> <a href="src/GHC.Utils.Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h2>Substituting into expressions and related types</h2></a><div class="top"><p class="src"><a id="v:deShadowBinds" class="def">deShadowBinds</a> :: <a href="GHC-Core.html#t:CoreProgram" title="GHC.Core">CoreProgram</a> -&gt; <a href="GHC-Core.html#t:CoreProgram" title="GHC.Core">CoreProgram</a> <a href="src/GHC.Core.Subst.html#deShadowBinds" class="link">Source</a> <a href="#v:deShadowBinds" class="selflink">#</a></p><div class="doc"><p>De-shadowing the program is sometimes a useful pre-pass. It can be done simply
 by running over the bindings with an empty substitution, because substitution
 returns a result that has no-shadowing guaranteed.</p><p>(Actually, within a single <em>type</em> there might still be shadowing, because
 <code>substTy</code> is a no-op for the empty substitution, but that's probably OK.)</p><dl><dt>Aug 09</dt><dd>This function is not used in GHC at the moment, but seems so
          short and simple that I'm going to leave it here</dd></dl></div></div><div class="top"><p class="src"><a id="v:substRuleInfo" class="def">substRuleInfo</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Types-Id-Info.html#t:RuleInfo" title="GHC.Types.Id.Info">RuleInfo</a> -&gt; <a href="GHC-Types-Id-Info.html#t:RuleInfo" title="GHC.Types.Id.Info">RuleInfo</a> <a href="src/GHC.Core.Subst.html#substRuleInfo" class="link">Source</a> <a href="#v:substRuleInfo" class="selflink">#</a></p><div class="doc"><p>Substitutes for the <code><a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></code>s within the <code><a href="GHC-Types-Id-Info.html#t:RuleInfo" title="GHC.Types.Id.Info">RuleInfo</a></code> given the new function <code><a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></code></p></div></div><div class="top"><p class="src"><a id="v:substRulesForImportedIds" class="def">substRulesForImportedIds</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; [<a href="GHC-Core.html#t:CoreRule" title="GHC.Core">CoreRule</a>] -&gt; [<a href="GHC-Core.html#t:CoreRule" title="GHC.Core">CoreRule</a>] <a href="src/GHC.Core.Subst.html#substRulesForImportedIds" class="link">Source</a> <a href="#v:substRulesForImportedIds" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substTyUnchecked" class="def">substTyUnchecked</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> <a href="src/GHC.Core.TyCo.Subst.html#substTyUnchecked" class="link">Source</a> <a href="#v:substTyUnchecked" class="selflink">#</a></p><div class="doc"><p>Substitute within a <code><a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></code> disabling the sanity checks.
 The problems that the sanity checks in substTy catch are described in
 Note [The substitution invariant].
 The goal of #11371 is to migrate all the calls of substTyUnchecked to
 substTy and remove this function. Please don't use in new code.</p></div></div><div class="top"><p class="src"><a id="v:substCo" class="def">substCo</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core-Coercion.html#t:Coercion" title="GHC.Core.Coercion">Coercion</a> -&gt; <a href="GHC-Core-Coercion.html#t:Coercion" title="GHC.Core.Coercion">Coercion</a> <a href="src/GHC.Core.TyCo.Subst.html#substCo" class="link">Source</a> <a href="#v:substCo" class="selflink">#</a></p><div class="doc"><p>Substitute within a <code><a href="GHC-Core-Coercion.html#t:Coercion" title="GHC.Core.Coercion">Coercion</a></code>
 The substitution has to satisfy the invariants described in
 Note [The substitution invariant].</p></div></div><div class="top"><p class="src"><a id="v:substExpr" class="def">substExpr</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.Subst.html#substExpr" class="link">Source</a> <a href="#v:substExpr" class="selflink">#</a></p><div class="doc"><p>substExpr applies a substitution to an entire <code><a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></code>. Remember,
 you may only apply the substitution <em>once</em>:
 See Note [Substitutions apply only once] in <a href="GHC-Core-TyCo-Subst.html">GHC.Core.TyCo.Subst</a></p><p>Do *not* attempt to short-cut in the case of an empty substitution!
 See Note [Extending the IdSubstEnv]</p></div></div><div class="top"><p class="src"><a id="v:substExprSC" class="def">substExprSC</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.Subst.html#substExprSC" class="link">Source</a> <a href="#v:substExprSC" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substBind" class="def">substBind</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, <a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a>) <a href="src/GHC.Core.Subst.html#substBind" class="link">Source</a> <a href="#v:substBind" class="selflink">#</a></p><div class="doc"><p>Apply a substitution to an entire <code><a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a></code>, additionally returning an updated <code><a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></code>
 that should be used by subsequent substitutions.</p></div></div><div class="top"><p class="src"><a id="v:substBindSC" class="def">substBindSC</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, <a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a>) <a href="src/GHC.Core.Subst.html#substBindSC" class="link">Source</a> <a href="#v:substBindSC" class="selflink">#</a></p><div class="doc"><p>Apply a substitution to an entire <code><a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a></code>, additionally returning an updated <code><a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></code>
 that should be used by subsequent substitutions.</p></div></div><div class="top"><p class="src"><a id="v:substUnfolding" class="def">substUnfolding</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core.html#t:Unfolding" title="GHC.Core">Unfolding</a> -&gt; <a href="GHC-Core.html#t:Unfolding" title="GHC.Core">Unfolding</a> <a href="src/GHC.Core.Subst.html#substUnfolding" class="link">Source</a> <a href="#v:substUnfolding" class="selflink">#</a></p><div class="doc"><p>Substitutes for the <code><a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></code>s within an unfolding
 NB: substUnfolding <em>discards</em> any unfolding without
     without a Stable source.  This is usually what we want,
     but it may be a bit unexpected</p></div></div><div class="top"><p class="src"><a id="v:substUnfoldingSC" class="def">substUnfoldingSC</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core.html#t:Unfolding" title="GHC.Core">Unfolding</a> -&gt; <a href="GHC-Core.html#t:Unfolding" title="GHC.Core">Unfolding</a> <a href="src/GHC.Core.Subst.html#substUnfoldingSC" class="link">Source</a> <a href="#v:substUnfoldingSC" class="selflink">#</a></p><div class="doc"><p>Substitutes for the <code><a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></code>s within an unfolding
 NB: substUnfolding <em>discards</em> any unfolding without
     without a Stable source.  This is usually what we want,
     but it may be a bit unexpected</p></div></div><div class="top"><p class="src"><a id="v:lookupIdSubst" class="def">lookupIdSubst</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.Subst.html#lookupIdSubst" class="link">Source</a> <a href="#v:lookupIdSubst" class="selflink">#</a></p><div class="doc"><p>Find the substitution for an <code><a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></code> in the <code><a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></code>
 The Id should not be a CoVar</p></div></div><div class="top"><p class="src"><a id="v:lookupIdSubst_maybe" class="def">lookupIdSubst_maybe</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.Subst.html#lookupIdSubst_maybe" class="link">Source</a> <a href="#v:lookupIdSubst_maybe" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substIdType" class="def">substIdType</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> <a href="src/GHC.Core.Subst.html#substIdType" class="link">Source</a> <a href="#v:substIdType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substIdOcc" class="def">substIdOcc</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> <a href="src/GHC.Core.Subst.html#substIdOcc" class="link">Source</a> <a href="#v:substIdOcc" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substTickish" class="def">substTickish</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> <a href="src/GHC.Core.Subst.html#substTickish" class="link">Source</a> <a href="#v:substTickish" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substDVarSet" class="def">substDVarSet</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var-Set.html#t:DVarSet" title="GHC.Types.Var.Set">DVarSet</a> -&gt; <a href="GHC-Types-Var-Set.html#t:DVarSet" title="GHC.Types.Var.Set">DVarSet</a> <a href="src/GHC.Core.Subst.html#substDVarSet" class="link">Source</a> <a href="#v:substDVarSet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substIdInfo" class="def">substIdInfo</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Types-Id-Info.html#t:IdInfo" title="GHC.Types.Id.Info">IdInfo</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Types-Id-Info.html#t:IdInfo" title="GHC.Types.Id.Info">IdInfo</a> <a href="src/GHC.Core.Subst.html#substIdInfo" class="link">Source</a> <a href="#v:substIdInfo" class="selflink">#</a></p><div class="doc"><p>Substitute into some <code><a href="GHC-Types-Id-Info.html#t:IdInfo" title="GHC.Types.Id.Info">IdInfo</a></code> with regard to the supplied new <code><a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></code>.
 Discards unfoldings, unless they are Stable</p></div></div><a href="#g:3" id="g:3"><h2>Operations on substitutions</h2></a><div class="top"><p class="src"><a id="v:emptySubst" class="def">emptySubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.TyCo.Subst.html#emptySubst" class="link">Source</a> <a href="#v:emptySubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkEmptySubst" class="def">mkEmptySubst</a> :: <a href="GHC-Core-Subst.html#t:InScopeSet" title="GHC.Core.Subst">InScopeSet</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.TyCo.Subst.html#mkEmptySubst" class="link">Source</a> <a href="#v:mkEmptySubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkSubst" class="def">mkSubst</a> :: <a href="GHC-Core-Subst.html#t:InScopeSet" title="GHC.Core.Subst">InScopeSet</a> -&gt; <a href="GHC-Core-Subst.html#t:TvSubstEnv" title="GHC.Core.Subst">TvSubstEnv</a> -&gt; <a href="GHC-Core-TyCo-Subst.html#t:CvSubstEnv" title="GHC.Core.TyCo.Subst">CvSubstEnv</a> -&gt; <a href="GHC-Core-Subst.html#t:IdSubstEnv" title="GHC.Core.Subst">IdSubstEnv</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.TyCo.Subst.html#mkSubst" class="link">Source</a> <a href="#v:mkSubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkOpenSubst" class="def">mkOpenSubst</a> :: <a href="GHC-Core-Subst.html#t:InScopeSet" title="GHC.Core.Subst">InScopeSet</a> -&gt; [(<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>, <a href="GHC-Core.html#t:CoreArg" title="GHC.Core">CoreArg</a>)] -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.Subst.html#mkOpenSubst" class="link">Source</a> <a href="#v:mkOpenSubst" class="selflink">#</a></p><div class="doc"><p>Simultaneously substitute for a bunch of variables
   No left-right shadowing
   ie the substitution for   (x y. e) a1 a2
      so neither x nor y scope over a1 a2</p></div></div><div class="top"><p class="src"><a id="v:isEmptySubst" class="def">isEmptySubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.TyCo.Subst.html#isEmptySubst" class="link">Source</a> <a href="#v:isEmptySubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendIdSubst" class="def">extendIdSubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.Subst.html#extendIdSubst" class="link">Source</a> <a href="#v:extendIdSubst" class="selflink">#</a></p><div class="doc"><p>Add a substitution for an <code><a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></code> to the <code><a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></code>: you must ensure that the in-scope set is
 such that TyCoSubst Note [The substitution invariant]
 holds after extending the substitution like this</p></div></div><div class="top"><p class="src"><a id="v:extendIdSubstList" class="def">extendIdSubstList</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; [(<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>, <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a>)] -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.Subst.html#extendIdSubstList" class="link">Source</a> <a href="#v:extendIdSubstList" class="selflink">#</a></p><div class="doc"><p>Adds multiple <code><a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></code> substitutions to the <code><a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></code>: see also <code><a href="GHC-Core-Subst.html#v:extendIdSubst" title="GHC.Core.Subst">extendIdSubst</a></code></p></div></div><div class="top"><p class="src"><a id="v:extendTCvSubst" class="def">extendTCvSubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:TyCoVar" title="GHC.Types.Var">TyCoVar</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.TyCo.Subst.html#extendTCvSubst" class="link">Source</a> <a href="#v:extendTCvSubst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendTvSubstList" class="def">extendTvSubstList</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; [(<a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>, <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>)] -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.TyCo.Subst.html#extendTvSubstList" class="link">Source</a> <a href="#v:extendTvSubstList" class="selflink">#</a></p><div class="doc"><p>Adds multiple <code><a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a></code> substitutions to the <code><a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></code>: see also <code><a href="GHC-Core-Subst.html#v:extendTvSubst" title="GHC.Core.Subst">extendTvSubst</a></code></p></div></div><div class="top"><p class="src"><a id="v:extendIdSubstWithClone" class="def">extendIdSubstWithClone</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.Subst.html#extendIdSubstWithClone" class="link">Source</a> <a href="#v:extendIdSubstWithClone" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendSubst" class="def">extendSubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Core.html#t:CoreArg" title="GHC.Core">CoreArg</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.Subst.html#extendSubst" class="link">Source</a> <a href="#v:extendSubst" class="selflink">#</a></p><div class="doc"><p>Add a substitution appropriate to the thing being substituted
   (whether an expression, type, or coercion). See also
   <code><a href="GHC-Core-Subst.html#v:extendIdSubst" title="GHC.Core.Subst">extendIdSubst</a></code>, <code><a href="GHC-Core-Subst.html#v:extendTvSubst" title="GHC.Core.Subst">extendTvSubst</a></code>, <code><a href="GHC-Core-Subst.html#v:extendCvSubst" title="GHC.Core.Subst">extendCvSubst</a></code></p></div></div><div class="top"><p class="src"><a id="v:extendSubstList" class="def">extendSubstList</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; [(<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>, <a href="GHC-Core.html#t:CoreArg" title="GHC.Core">CoreArg</a>)] -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.Subst.html#extendSubstList" class="link">Source</a> <a href="#v:extendSubstList" class="selflink">#</a></p><div class="doc"><p>Add a substitution as appropriate to each of the terms being
   substituted (whether expressions, types, or coercions). See also
   <code><a href="GHC-Core-Subst.html#v:extendSubst" title="GHC.Core.Subst">extendSubst</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:extendSubstWithVar" class="def">extendSubstWithVar</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.Subst.html#extendSubstWithVar" class="link">Source</a> <a href="#v:extendSubstWithVar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendSubstInScope" class="def">extendSubstInScope</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.TyCo.Subst.html#extendSubstInScope" class="link">Source</a> <a href="#v:extendSubstInScope" class="selflink">#</a></p><div class="doc"><p>Add the <code><a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a></code> to the in-scope set</p></div></div><div class="top"><p class="src"><a id="v:extendSubstInScopeList" class="def">extendSubstInScopeList</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; [<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>] -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.TyCo.Subst.html#extendSubstInScopeList" class="link">Source</a> <a href="#v:extendSubstInScopeList" class="selflink">#</a></p><div class="doc"><p>Add the <code><a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a></code>s to the in-scope set: see also <code>extendInScope</code></p></div></div><div class="top"><p class="src"><a id="v:extendSubstInScopeSet" class="def">extendSubstInScopeSet</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var-Set.html#t:VarSet" title="GHC.Types.Var.Set">VarSet</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.TyCo.Subst.html#extendSubstInScopeSet" class="link">Source</a> <a href="#v:extendSubstInScopeSet" class="selflink">#</a></p><div class="doc"><p>Add the <code><a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a></code>s to the in-scope set: see also <code>extendInScope</code></p></div></div><div class="top"><p class="src"><a id="v:isInScope" class="def">isInScope</a> :: <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.TyCo.Subst.html#isInScope" class="link">Source</a> <a href="#v:isInScope" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setInScope" class="def">setInScope</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core-Subst.html#t:InScopeSet" title="GHC.Core.Subst">InScopeSet</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.TyCo.Subst.html#setInScope" class="link">Source</a> <a href="#v:setInScope" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getSubstInScope" class="def">getSubstInScope</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core-Subst.html#t:InScopeSet" title="GHC.Core.Subst">InScopeSet</a> <a href="src/GHC.Core.TyCo.Subst.html#getSubstInScope" class="link">Source</a> <a href="#v:getSubstInScope" class="selflink">#</a></p><div class="doc"><p>Find the in-scope set: see Note [The substitution invariant]</p></div></div><div class="top"><p class="src"><a id="v:extendTvSubst" class="def">extendTvSubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.TyCo.Subst.html#extendTvSubst" class="link">Source</a> <a href="#v:extendTvSubst" class="selflink">#</a></p><div class="doc"><p>Add a substitution for a <code><a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a></code> to the <code><a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></code>
 The <code><a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a></code> *must* be a real TyVar, and not a CoVar
 You must ensure that the in-scope set is such that
 Note [The substitution invariant] holds
 after extending the substitution like this.</p></div></div><div class="top"><p class="src"><a id="v:extendCvSubst" class="def">extendCvSubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:CoVar" title="GHC.Types.Var">CoVar</a> -&gt; <a href="GHC-Core-Coercion.html#t:Coercion" title="GHC.Core.Coercion">Coercion</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.TyCo.Subst.html#extendCvSubst" class="link">Source</a> <a href="#v:extendCvSubst" class="selflink">#</a></p><div class="doc"><p>Add a substitution from a <code><a href="GHC-Types-Var.html#t:CoVar" title="GHC.Types.Var">CoVar</a></code> to a <code><a href="GHC-Core-Coercion.html#t:Coercion" title="GHC.Core.Coercion">Coercion</a></code> to the <code><a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></code>:
 you must ensure that the in-scope set satisfies
 Note [The substitution invariant]
 after extending the substitution like this</p></div></div><div class="top"><p class="src"><a id="v:delBndr" class="def">delBndr</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.Subst.html#delBndr" class="link">Source</a> <a href="#v:delBndr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:delBndrs" class="def">delBndrs</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; [<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>] -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.Subst.html#delBndrs" class="link">Source</a> <a href="#v:delBndrs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:zapSubst" class="def">zapSubst</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> <a href="src/GHC.Core.TyCo.Subst.html#zapSubst" class="link">Source</a> <a href="#v:zapSubst" class="selflink">#</a></p><div class="doc"><p>Remove all substitutions that might have been built up
 while preserving the in-scope set
 originally called zapSubstEnv</p></div></div><a href="#g:4" id="g:4"><h2>Substituting and cloning binders</h2></a><div class="top"><p class="src"><a id="v:substBndr" class="def">substBndr</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>) <a href="src/GHC.Core.Subst.html#substBndr" class="link">Source</a> <a href="#v:substBndr" class="selflink">#</a></p><div class="doc"><p>Substitutes a <code><a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a></code> for another one according to the <code><a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></code> given, returning
 the result and an updated <code><a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></code> that should be used by subsequent substitutions.
 <code><a href="GHC-Types-Id-Info.html#t:IdInfo" title="GHC.Types.Id.Info">IdInfo</a></code> is preserved by this process, although it is substituted into appropriately.</p></div></div><div class="top"><p class="src"><a id="v:substBndrs" class="def">substBndrs</a> :: <a href="GHC-Prelude-Basic.html#t:Traversable" title="GHC.Prelude.Basic">Traversable</a> f =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; f <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, f <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>) <a href="src/GHC.Core.Subst.html#substBndrs" class="link">Source</a> <a href="#v:substBndrs" class="selflink">#</a></p><div class="doc"><p>Applies <code><a href="GHC-Core-Subst.html#v:substBndr" title="GHC.Core.Subst">substBndr</a></code> to a number of <code><a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a></code>s, accumulating a new <code><a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a></code> left-to-right</p></div></div><div class="top"><p class="src"><a id="v:substRecBndrs" class="def">substRecBndrs</a> :: <a href="GHC-Prelude-Basic.html#t:Traversable" title="GHC.Prelude.Basic">Traversable</a> f =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; f <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, f <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>) <a href="src/GHC.Core.Subst.html#substRecBndrs" class="link">Source</a> <a href="#v:substRecBndrs" class="selflink">#</a></p><div class="doc"><p>Substitute in a mutually recursive group of <code><a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></code>s</p></div></div><div class="top"><p class="src"><a id="v:substTyVarBndr" class="def">substTyVarBndr</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, <a href="GHC-Types-Var.html#t:TyVar" title="GHC.Types.Var">TyVar</a>) <a href="src/GHC.Core.TyCo.Subst.html#substTyVarBndr" class="link">Source</a> <a href="#v:substTyVarBndr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:substCoVarBndr" class="def">substCoVarBndr</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Var.html#t:CoVar" title="GHC.Types.Var">CoVar</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, <a href="GHC-Types-Var.html#t:CoVar" title="GHC.Types.Var">CoVar</a>) <a href="src/GHC.Core.TyCo.Subst.html#substCoVarBndr" class="link">Source</a> <a href="#v:substCoVarBndr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cloneBndr" class="def">cloneBndr</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a> -&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>) <a href="src/GHC.Core.Subst.html#cloneBndr" class="link">Source</a> <a href="#v:cloneBndr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cloneBndrs" class="def">cloneBndrs</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Unique-Supply.html#t:UniqSupply" title="GHC.Types.Unique.Supply">UniqSupply</a> -&gt; [<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>] -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, [<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>]) <a href="src/GHC.Core.Subst.html#cloneBndrs" class="link">Source</a> <a href="#v:cloneBndrs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cloneIdBndr" class="def">cloneIdBndr</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Unique-Supply.html#t:UniqSupply" title="GHC.Types.Unique.Supply">UniqSupply</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>) <a href="src/GHC.Core.Subst.html#cloneIdBndr" class="link">Source</a> <a href="#v:cloneIdBndr" class="selflink">#</a></p><div class="doc"><p>Very similar to <code><a href="GHC-Core-Subst.html#v:substBndr" title="GHC.Core.Subst">substBndr</a></code>, but it always allocates a new <code><a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a></code> for
 each variable in its output.  It substitutes the IdInfo though.
 Discards non-Stable unfoldings</p></div></div><div class="top"><p class="src"><a id="v:cloneIdBndrs" class="def">cloneIdBndrs</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Unique-Supply.html#t:UniqSupply" title="GHC.Types.Unique.Supply">UniqSupply</a> -&gt; [<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>] -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, [<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>]) <a href="src/GHC.Core.Subst.html#cloneIdBndrs" class="link">Source</a> <a href="#v:cloneIdBndrs" class="selflink">#</a></p><div class="doc"><p>Applies <code><a href="GHC-Core-Subst.html#v:cloneIdBndr" title="GHC.Core.Subst">cloneIdBndr</a></code> to a number of <code><a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></code>s, accumulating a final
 substitution from left to right
 Discards non-Stable unfoldings</p></div></div><div class="top"><p class="src"><a id="v:cloneRecIdBndrs" class="def">cloneRecIdBndrs</a> :: <a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a> -&gt; <a href="GHC-Types-Unique-Supply.html#t:UniqSupply" title="GHC.Types.Unique.Supply">UniqSupply</a> -&gt; [<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>] -&gt; (<a href="GHC-Core-Subst.html#t:Subst" title="GHC.Core.Subst">Subst</a>, [<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>]) <a href="src/GHC.Core.Subst.html#cloneRecIdBndrs" class="link">Source</a> <a href="#v:cloneRecIdBndrs" class="selflink">#</a></p><div class="doc"><p>Clone a mutually recursive group of <code><a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></code>s</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>