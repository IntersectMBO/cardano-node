<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>GHC.Types.Tickish</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ghc-9.6.7: The GHC API</span><ul class="links" id="page-menu"><li><a href="src/GHC.Types.Tickish.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">GHC.Types.Tickish</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:GenTickish">GenTickish</a> pass<ul class="subs"><li>= <a href="#v:ProfNote">ProfNote</a> { <ul class="subs"><li><a href="#v:profNoteCC">profNoteCC</a> :: <a href="GHC-Types-CostCentre.html#t:CostCentre" title="GHC.Types.CostCentre">CostCentre</a></li><li><a href="#v:profNoteCount">profNoteCount</a> :: !<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li><a href="#v:profNoteScope">profNoteScope</a> :: !<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li></ul> }</li><li>| <a href="#v:HpcTick">HpcTick</a> { <ul class="subs"><li><a href="#v:tickModule">tickModule</a> :: <a href="GHC-Unit-Types.html#t:Module" title="GHC.Unit.Types">Module</a></li><li><a href="#v:tickId">tickId</a> :: !<a href="GHC-Prelude-Basic.html#t:Int" title="GHC.Prelude.Basic">Int</a></li></ul> }</li><li>| <a href="#v:Breakpoint">Breakpoint</a> { <ul class="subs"><li><a href="#v:breakpointExt">breakpointExt</a> :: XBreakpoint pass</li><li><a href="#v:breakpointId">breakpointId</a> :: !<a href="GHC-Prelude-Basic.html#t:Int" title="GHC.Prelude.Basic">Int</a></li><li><a href="#v:breakpointFVs">breakpointFVs</a> :: [<a href="GHC-Types-Tickish.html#t:XTickishId" title="GHC.Types.Tickish">XTickishId</a> pass]</li></ul> }</li><li>| <a href="#v:SourceNote">SourceNote</a> { <ul class="subs"><li><a href="#v:sourceSpan">sourceSpan</a> :: <a href="GHC-Types-SrcLoc.html#t:RealSrcSpan" title="GHC.Types.SrcLoc">RealSrcSpan</a></li><li><a href="#v:sourceName">sourceName</a> :: <a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a></li></ul> }</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:CoreTickish">CoreTickish</a> = <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> 'TickishPassCore</li><li class="src short"><span class="keyword">type</span> <a href="#t:StgTickish">StgTickish</a> = <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> 'TickishPassStg</li><li class="src short"><span class="keyword">type</span> <a href="#t:CmmTickish">CmmTickish</a> = <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> 'TickishPassCmm</li><li class="src short"><span class="keyword">type family</span> <a href="#t:XTickishId">XTickishId</a> (pass :: TickishPass)</li><li class="src short"><a href="#v:tickishCounts">tickishCounts</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:TickishScoping">TickishScoping</a><ul class="subs"><li>= <a href="#v:NoScope">NoScope</a></li><li>| <a href="#v:SoftScope">SoftScope</a></li><li>| <a href="#v:CostCentreScope">CostCentreScope</a></li></ul></li><li class="src short"><a href="#v:tickishScoped">tickishScoped</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Types-Tickish.html#t:TickishScoping" title="GHC.Types.Tickish">TickishScoping</a></li><li class="src short"><a href="#v:tickishScopesLike">tickishScopesLike</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Types-Tickish.html#t:TickishScoping" title="GHC.Types.Tickish">TickishScoping</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:tickishFloatable">tickishFloatable</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:tickishCanSplit">tickishCanSplit</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:mkNoCount">mkNoCount</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass</li><li class="src short"><a href="#v:mkNoScope">mkNoScope</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass</li><li class="src short"><a href="#v:tickishIsCode">tickishIsCode</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:isProfTick">isProfTick</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:TickishPlacement">TickishPlacement</a><ul class="subs"><li>= <a href="#v:PlaceRuntime">PlaceRuntime</a></li><li>| <a href="#v:PlaceNonLam">PlaceNonLam</a></li><li>| <a href="#v:PlaceCostCentre">PlaceCostCentre</a></li></ul></li><li class="src short"><a href="#v:tickishPlace">tickishPlace</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Types-Tickish.html#t:TickishPlacement" title="GHC.Types.Tickish">TickishPlacement</a></li><li class="src short"><a href="#v:tickishContains">tickishContains</a> :: <a href="GHC-Prelude-Basic.html#t:Eq" title="GHC.Prelude.Basic">Eq</a> (<a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass) =&gt; <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:GenTickish" class="def">GenTickish</a> pass <a href="src/GHC.Types.Tickish.html#GenTickish" class="link">Source</a> <a href="#t:GenTickish" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ProfNote" class="def">ProfNote</a></td><td class="doc"><p>An <code>{-# SCC #-}</code> profiling annotation, either automatically
 added by the desugarer as a result of -auto-all, or added by
 the user.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:profNoteCC" class="def">profNoteCC</a> :: <a href="GHC-Types-CostCentre.html#t:CostCentre" title="GHC.Types.CostCentre">CostCentre</a></dfn><div class="doc"><p>the cost centre</p></div></li><li><dfn class="src"><a id="v:profNoteCount" class="def">profNoteCount</a> :: !<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></dfn><div class="doc"><p>bump the entry count?</p></div></li><li><dfn class="src"><a id="v:profNoteScope" class="def">profNoteScope</a> :: !<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></dfn><div class="doc"><p>scopes over the enclosed expression
 (i.e. not just a tick)</p></div></li></ul></div></td></tr><tr><td class="src"><a id="v:HpcTick" class="def">HpcTick</a></td><td class="doc"><p>A &quot;tick&quot; used by HPC to track the execution of each
 subexpression in the original source code.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:tickModule" class="def">tickModule</a> :: <a href="GHC-Unit-Types.html#t:Module" title="GHC.Unit.Types">Module</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:tickId" class="def">tickId</a> :: !<a href="GHC-Prelude-Basic.html#t:Int" title="GHC.Prelude.Basic">Int</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:Breakpoint" class="def">Breakpoint</a></td><td class="doc"><p>A breakpoint for the GHCi debugger.  This behaves like an HPC
 tick, but has a list of free variables which will be available
 for inspection in GHCi when the program stops at the breakpoint.</p><p>NB. we must take account of these Ids when (a) counting free variables,
 and (b) substituting (don't substitute for them)</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:breakpointExt" class="def">breakpointExt</a> :: XBreakpoint pass</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:breakpointId" class="def">breakpointId</a> :: !<a href="GHC-Prelude-Basic.html#t:Int" title="GHC.Prelude.Basic">Int</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:breakpointFVs" class="def">breakpointFVs</a> :: [<a href="GHC-Types-Tickish.html#t:XTickishId" title="GHC.Types.Tickish">XTickishId</a> pass]</dfn><div class="doc"><p>the order of this list is important:
 it matches the order of the lists in the
 appropriate entry in <code><a href="GHC-ByteCode-Types.html#v:ModBreaks" title="GHC.ByteCode.Types">ModBreaks</a></code>.</p><p>Careful about substitution!  See
 Note [substTickish] in <a href="GHC-Core-Subst.html">GHC.Core.Subst</a>.</p></div></li></ul></div></td></tr><tr><td class="src"><a id="v:SourceNote" class="def">SourceNote</a></td><td class="doc"><p>A source note.</p><p>Source notes are pure annotations: Their presence should neither
 influence compilation nor execution. The semantics are given by
 causality: The presence of a source note means that a local
 change in the referenced source code span will possibly provoke
 the generated code to change. On the flip-side, the functionality
 of annotated code *must* be invariant against changes to all
 source code *except* the spans referenced in the source notes
 (see &quot;Causality of optimized Haskell&quot; paper for details).</p><p>Therefore extending the scope of any given source note is always
 valid. Note that it is still undesirable though, as this reduces
 their usefulness for debugging and profiling. Therefore we will
 generally try only to make use of this property where it is
 necessary to enable optimizations.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:sourceSpan" class="def">sourceSpan</a> :: <a href="GHC-Types-SrcLoc.html#t:RealSrcSpan" title="GHC.Types.SrcLoc">RealSrcSpan</a></dfn><div class="doc"><p>Source covered</p></div></li><li><dfn class="src"><a id="v:sourceName" class="def">sourceName</a> :: <a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a></dfn><div class="doc"><p>Name for source location
   (uses same names as CCs)</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:GenTickish">Instances</h4><details id="i:GenTickish" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:GenTickish:Outputable:1"></span> <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> (<a href="GHC-Types-Tickish.html#t:XTickishId" title="GHC.Types.Tickish">XTickishId</a> pass) =&gt; <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> (<a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass)</span> <a href="src/GHC.Core.Ppr.html#line-686" class="link">Source</a> <a href="#t:Outputable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:GenTickish:Outputable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Core-Ppr.html">GHC.Core.Ppr</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> <a href="src/GHC.Utils.Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CoreTickish" class="def">CoreTickish</a> = <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> 'TickishPassCore <a href="src/GHC.Types.Tickish.html#CoreTickish" class="link">Source</a> <a href="#t:CoreTickish" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:StgTickish" class="def">StgTickish</a> = <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> 'TickishPassStg <a href="src/GHC.Types.Tickish.html#StgTickish" class="link">Source</a> <a href="#t:StgTickish" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CmmTickish" class="def">CmmTickish</a> = <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> 'TickishPassCmm <a href="src/GHC.Types.Tickish.html#CmmTickish" class="link">Source</a> <a href="#t:CmmTickish" class="selflink">#</a></p><div class="doc"><p>Tickish in Cmm context (annotations only)</p></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:XTickishId" class="def">XTickishId</a> (pass :: TickishPass) <a href="src/GHC.Types.Tickish.html#XTickishId" class="link">Source</a> <a href="#t:XTickishId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:tickishCounts" class="def">tickishCounts</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Types.Tickish.html#tickishCounts" class="link">Source</a> <a href="#v:tickishCounts" class="selflink">#</a></p><div class="doc"><p>A &quot;counting tick&quot; (where tickishCounts is True) is one that
 counts evaluations in some way.  We cannot discard a counting tick,
 and the compiler should preserve the number of counting ticks as
 far as possible.</p><p>However, we still allow the simplifier to increase or decrease
 sharing, so in practice the actual number of ticks may vary, except
 that we never change the value from zero to non-zero or vice versa.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TickishScoping" class="def">TickishScoping</a> <a href="src/GHC.Types.Tickish.html#TickishScoping" class="link">Source</a> <a href="#t:TickishScoping" class="selflink">#</a></p><div class="doc"><p>Specifies the scoping behaviour of ticks. This governs the
 behaviour of ticks that care about the covered code and the cost
 associated with it. Important for ticks relating to profiling.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NoScope" class="def">NoScope</a></td><td class="doc"><p>No scoping: The tick does not care about what code it
 covers. Transformations can freely move code inside as well as
 outside without any additional annotation obligations</p></td></tr><tr><td class="src"><a id="v:SoftScope" class="def">SoftScope</a></td><td class="doc"><p>Soft scoping: We want all code that is covered to stay
 covered.  Note that this scope type does not forbid
 transformations from happening, as long as all results of
 the transformations are still covered by this tick or a copy of
 it. For example</p><p>let x = tick<a href="...">...</a> (let y = foo in bar) in baz
     ===&gt;
   let x = tick<a href="...">...</a> bar; y = tick<a href="...">...</a> foo in baz</p><p>Is a valid transformation as far as &quot;bar&quot; and &quot;foo&quot; is
 concerned, because both still are scoped over by the tick.</p><p>Note though that one might object to the &quot;let&quot; not being
 covered by the tick any more. However, we are generally lax
 with this - constant costs don't matter too much, and given
 that the &quot;let&quot; was effectively merged we can view it as having
 lost its identity anyway.</p><p>Also note that this scoping behaviour allows floating a tick
 &quot;upwards&quot; in pretty much any situation. For example:</p><p>case foo of x -&gt; tick<a href="...">...</a> bar
     ==&gt;
   tick<a href="...">...</a> case foo of x -&gt; bar</p><p>While this is always legal, we want to make a best effort to
 only make us of this where it exposes transformation
 opportunities.</p></td></tr><tr><td class="src"><a id="v:CostCentreScope" class="def">CostCentreScope</a></td><td class="doc"><p>Cost centre scoping: We don't want any costs to move to other
 cost-centre stacks. This means we not only want no code or cost
 to get moved out of their cost centres, but we also object to
 code getting associated with new cost-centre ticks - or
 changing the order in which they get applied.</p><p>A rule of thumb is that we don't want any code to gain new
 annotations. However, there are notable exceptions, for
 example:</p><p>let f = y -&gt; foo in tick<a href="...">...</a> ... (f x) ...
     ==&gt;
   tick<a href="...">...</a> ... foo[x/y] ...</p><p>In-lining lambdas like this is always legal, because inlining a
 function does not change the cost-centre stack when the
 function is called.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TickishScoping">Instances</h4><details id="i:TickishScoping" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TickishScoping:Eq:1"></span> <a href="GHC-Prelude-Basic.html#t:Eq" title="GHC.Prelude.Basic">Eq</a> <a href="GHC-Types-Tickish.html#t:TickishScoping" title="GHC.Types.Tickish">TickishScoping</a></span> <a href="src/GHC.Types.Tickish.html#line-245" class="link">Source</a> <a href="#t:TickishScoping" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TickishScoping:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Types-Tickish.html">GHC.Types.Tickish</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="GHC-Types-Tickish.html#t:TickishScoping" title="GHC.Types.Tickish">TickishScoping</a> -&gt; <a href="GHC-Types-Tickish.html#t:TickishScoping" title="GHC.Types.Tickish">TickishScoping</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="GHC-Types-Tickish.html#t:TickishScoping" title="GHC.Types.Tickish">TickishScoping</a> -&gt; <a href="GHC-Types-Tickish.html#t:TickishScoping" title="GHC.Types.Tickish">TickishScoping</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:tickishScoped" class="def">tickishScoped</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Types-Tickish.html#t:TickishScoping" title="GHC.Types.Tickish">TickishScoping</a> <a href="src/GHC.Types.Tickish.html#tickishScoped" class="link">Source</a> <a href="#v:tickishScoped" class="selflink">#</a></p><div class="doc"><p>Returns the intended scoping rule for a Tickish</p></div></div><div class="top"><p class="src"><a id="v:tickishScopesLike" class="def">tickishScopesLike</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Types-Tickish.html#t:TickishScoping" title="GHC.Types.Tickish">TickishScoping</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Types.Tickish.html#tickishScopesLike" class="link">Source</a> <a href="#v:tickishScopesLike" class="selflink">#</a></p><div class="doc"><p>Returns whether the tick scoping rule is at least as permissive
 as the given scoping rule.</p></div></div><div class="top"><p class="src"><a id="v:tickishFloatable" class="def">tickishFloatable</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Types.Tickish.html#tickishFloatable" class="link">Source</a> <a href="#v:tickishFloatable" class="selflink">#</a></p><div class="doc"><p>Returns <code>True</code> for ticks that can be floated upwards easily even
 where it might change execution counts, such as:</p><p>Just (tick<a href="...">...</a> foo)
     ==&gt;
   tick<a href="...">...</a> (Just foo)</p><p>This is a combination of <code>tickishSoftScope</code> and
 <code>tickishCounts</code>. Note that in principle splittable ticks can become
 floatable using <code>mkNoTick</code> -- even though there's currently no
 tickish for which that is the case.</p></div></div><div class="top"><p class="src"><a id="v:tickishCanSplit" class="def">tickishCanSplit</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Types.Tickish.html#tickishCanSplit" class="link">Source</a> <a href="#v:tickishCanSplit" class="selflink">#</a></p><div class="doc"><p>Returns <code>True</code> for a tick that is both counting <em>and</em> scoping and
 can be split into its (tick, scope) parts using <code><a href="GHC-Types-Tickish.html#v:mkNoScope" title="GHC.Types.Tickish">mkNoScope</a></code> and
 <code>mkNoTick</code> respectively.</p></div></div><div class="top"><p class="src"><a id="v:mkNoCount" class="def">mkNoCount</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass <a href="src/GHC.Types.Tickish.html#mkNoCount" class="link">Source</a> <a href="#v:mkNoCount" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkNoScope" class="def">mkNoScope</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass <a href="src/GHC.Types.Tickish.html#mkNoScope" class="link">Source</a> <a href="#v:mkNoScope" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:tickishIsCode" class="def">tickishIsCode</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Types.Tickish.html#tickishIsCode" class="link">Source</a> <a href="#v:tickishIsCode" class="selflink">#</a></p><div class="doc"><p>Return <code>True</code> if this source annotation compiles to some backend
 code. Without this flag, the tickish is seen as a simple annotation
 that does not have any associated evaluation code.</p><p>What this means that we are allowed to disregard the tick if doing
 so means that we can skip generating any code in the first place. A
 typical example is top-level bindings:</p><p>foo = tick<a href="...">...</a> y -&gt; ...
     ==&gt;
   foo = y -&gt; tick<a href="...">...</a> ...</p><p>Here there is just no operational difference between the first and
 the second version. Therefore code generation should simply
 translate the code as if it found the latter.</p></div></div><div class="top"><p class="src"><a id="v:isProfTick" class="def">isProfTick</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Types.Tickish.html#isProfTick" class="link">Source</a> <a href="#v:isProfTick" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TickishPlacement" class="def">TickishPlacement</a> <a href="src/GHC.Types.Tickish.html#TickishPlacement" class="link">Source</a> <a href="#t:TickishPlacement" class="selflink">#</a></p><div class="doc"><p>Governs the kind of expression that the tick gets placed on when
 annotating for example using <code>mkTick</code>. If we find that we want to
 put a tickish on an expression ruled out here, we try to float it
 inwards until we find a suitable expression.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PlaceRuntime" class="def">PlaceRuntime</a></td><td class="doc"><p>Place ticks exactly on run-time expressions. We can still
 move the tick through pure compile-time constructs such as
 other ticks, casts or type lambdas. This is the most
 restrictive placement rule for ticks, as all tickishs have in
 common that they want to track runtime processes. The only
 legal placement rule for counting ticks.
 NB: We generally try to move these as close to the relevant
 runtime expression as possible. This means they get pushed through
 tyoe arguments. E.g. we create `(tick f) <code>Bool` instead of `tick (f </code>Bool)`.</p></td></tr><tr><td class="src"><a id="v:PlaceNonLam" class="def">PlaceNonLam</a></td><td class="doc"><p>As <code>PlaceRuntime</code>, but we float the tick through all
 lambdas. This makes sense where there is little difference
 between annotating the lambda and annotating the lambda's code.</p></td></tr><tr><td class="src"><a id="v:PlaceCostCentre" class="def">PlaceCostCentre</a></td><td class="doc"><p>In addition to floating through lambdas, cost-centre style
 tickishs can also be moved from constructors, non-function
 variables and literals. For example:</p><p>let x = scc<a href="...">...</a> C (scc<a href="...">...</a> y) (scc<a href="...">...</a> 3) in ...</p><p>Neither the constructor application, the variable or the
 literal are likely to have any cost worth mentioning. And even
 if y names a thunk, the call would not care about the
 evaluation context. Therefore removing all annotations in the
 above example is safe.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TickishPlacement">Instances</h4><details id="i:TickishPlacement" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TickishPlacement:Show:1"></span> <a href="GHC-Prelude-Basic.html#t:Show" title="GHC.Prelude.Basic">Show</a> <a href="GHC-Types-Tickish.html#t:TickishPlacement" title="GHC.Types.Tickish">TickishPlacement</a></span> <a href="src/GHC.Types.Tickish.html#line-361" class="link">Source</a> <a href="#t:TickishPlacement" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TickishPlacement:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Types-Tickish.html">GHC.Types.Tickish</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="GHC-Prelude-Basic.html#t:Int" title="GHC.Prelude.Basic">Int</a> -&gt; <a href="GHC-Types-Tickish.html#t:TickishPlacement" title="GHC.Types.Tickish">TickishPlacement</a> -&gt; <a href="GHC-Prelude-Basic.html#t:ShowS" title="GHC.Prelude.Basic">ShowS</a> <a href="../base-4.18.3.0/src/GHC.Show.html#showsPrec" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="GHC-Types-Tickish.html#t:TickishPlacement" title="GHC.Types.Tickish">TickishPlacement</a> -&gt; <a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a> <a href="../base-4.18.3.0/src/GHC.Show.html#show" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="GHC-Types-Tickish.html#t:TickishPlacement" title="GHC.Types.Tickish">TickishPlacement</a>] -&gt; <a href="GHC-Prelude-Basic.html#t:ShowS" title="GHC.Prelude.Basic">ShowS</a> <a href="../base-4.18.3.0/src/GHC.Show.html#showList" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TickishPlacement:Outputable:2"></span> <a href="GHC-Utils-Outputable.html#t:Outputable" title="GHC.Utils.Outputable">Outputable</a> <a href="GHC-Types-Tickish.html#t:TickishPlacement" title="GHC.Types.Tickish">TickishPlacement</a></span> <a href="src/GHC.Types.Tickish.html#line-363" class="link">Source</a> <a href="#t:TickishPlacement" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TickishPlacement:Outputable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Types-Tickish.html">GHC.Types.Tickish</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ppr">ppr</a> :: <a href="GHC-Types-Tickish.html#t:TickishPlacement" title="GHC.Types.Tickish">TickishPlacement</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> <a href="src/GHC.Utils.Outputable.html#ppr" class="link">Source</a> <a href="#v:ppr" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TickishPlacement:Eq:3"></span> <a href="GHC-Prelude-Basic.html#t:Eq" title="GHC.Prelude.Basic">Eq</a> <a href="GHC-Types-Tickish.html#t:TickishPlacement" title="GHC.Types.Tickish">TickishPlacement</a></span> <a href="src/GHC.Types.Tickish.html#line-361" class="link">Source</a> <a href="#t:TickishPlacement" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TickishPlacement:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Types-Tickish.html">GHC.Types.Tickish</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="GHC-Types-Tickish.html#t:TickishPlacement" title="GHC.Types.Tickish">TickishPlacement</a> -&gt; <a href="GHC-Types-Tickish.html#t:TickishPlacement" title="GHC.Types.Tickish">TickishPlacement</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="GHC-Types-Tickish.html#t:TickishPlacement" title="GHC.Types.Tickish">TickishPlacement</a> -&gt; <a href="GHC-Types-Tickish.html#t:TickishPlacement" title="GHC.Types.Tickish">TickishPlacement</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:tickishPlace" class="def">tickishPlace</a> :: <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Types-Tickish.html#t:TickishPlacement" title="GHC.Types.Tickish">TickishPlacement</a> <a href="src/GHC.Types.Tickish.html#tickishPlace" class="link">Source</a> <a href="#v:tickishPlace" class="selflink">#</a></p><div class="doc"><p>Placement behaviour we want for the ticks</p></div></div><div class="top"><p class="src"><a id="v:tickishContains" class="def">tickishContains</a> :: <a href="GHC-Prelude-Basic.html#t:Eq" title="GHC.Prelude.Basic">Eq</a> (<a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass) =&gt; <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Types.Tickish.html#tickishContains" class="link">Source</a> <a href="#v:tickishContains" class="selflink">#</a></p><div class="doc"><p>Returns whether one tick &quot;contains&quot; the other one, therefore
 making the second tick redundant.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>