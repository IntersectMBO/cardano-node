<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>GHC.Utils.TmpFs</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ghc-9.6.7: The GHC API</span><ul class="links" id="page-menu"><li><a href="src/GHC.Utils.TmpFs.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">GHC.Utils.TmpFs</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Temporary file-system management</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:TmpFs">TmpFs</a></li><li class="src short"><a href="#v:initTmpFs">initTmpFs</a> :: <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a></li><li class="src short"><a href="#v:forkTmpFsFrom">forkTmpFsFrom</a> :: <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a></li><li class="src short"><a href="#v:mergeTmpFsInto">mergeTmpFsInto</a> :: <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:PathsToClean">PathsToClean</a> = <a href="#v:PathsToClean">PathsToClean</a> {<ul class="subs"><li><a href="#v:ptcGhcSession">ptcGhcSession</a> :: !(<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a>)</li><li><a href="#v:ptcCurrentModule">ptcCurrentModule</a> :: !(<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a>)</li></ul>}</li><li class="src short"><a href="#v:emptyPathsToClean">emptyPathsToClean</a> :: <a href="GHC-Utils-TmpFs.html#t:PathsToClean" title="GHC.Utils.TmpFs">PathsToClean</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:TempFileLifetime">TempFileLifetime</a><ul class="subs"><li>= <a href="#v:TFL_CurrentModule">TFL_CurrentModule</a></li><li>| <a href="#v:TFL_GhcSession">TFL_GhcSession</a></li></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:TempDir">TempDir</a> = <a href="#v:TempDir">TempDir</a> <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></li><li class="src short"><a href="#v:cleanTempDirs">cleanTempDirs</a> :: <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> ()</li><li class="src short"><a href="#v:cleanTempFiles">cleanTempFiles</a> :: <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> ()</li><li class="src short"><a href="#v:cleanCurrentModuleTempFiles">cleanCurrentModuleTempFiles</a> :: <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> ()</li><li class="src short"><a href="#v:keepCurrentModuleTempFiles">keepCurrentModuleTempFiles</a> :: <a href="GHC-Utils-Misc.html#t:HasCallStack" title="GHC.Utils.Misc">HasCallStack</a> =&gt; <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> ()</li><li class="src short"><a href="#v:addFilesToClean">addFilesToClean</a> :: <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempFileLifetime" title="GHC.Utils.TmpFs">TempFileLifetime</a> -&gt; [<a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a>] -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> ()</li><li class="src short"><a href="#v:changeTempFilesLifetime">changeTempFilesLifetime</a> :: <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempFileLifetime" title="GHC.Utils.TmpFs">TempFileLifetime</a> -&gt; [<a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a>] -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> ()</li><li class="src short"><a href="#v:newTempName">newTempName</a> :: <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempDir" title="GHC.Utils.TmpFs">TempDir</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempFileLifetime" title="GHC.Utils.TmpFs">TempFileLifetime</a> -&gt; <a href="GHC-Utils-Misc.html#t:Suffix" title="GHC.Utils.Misc">Suffix</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></li><li class="src short"><a href="#v:newTempLibName">newTempLibName</a> :: <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempDir" title="GHC.Utils.TmpFs">TempDir</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempFileLifetime" title="GHC.Utils.TmpFs">TempFileLifetime</a> -&gt; <a href="GHC-Utils-Misc.html#t:Suffix" title="GHC.Utils.Misc">Suffix</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> (<a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a>, <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a>, <a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a>)</li><li class="src short"><a href="#v:newTempSubDir">newTempSubDir</a> :: <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempDir" title="GHC.Utils.TmpFs">TempDir</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></li><li class="src short"><a href="#v:withSystemTempDirectory">withSystemTempDirectory</a> :: <a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a> -&gt; (<a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> a) -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> a</li><li class="src short"><a href="#v:withTempDirectory">withTempDirectory</a> :: <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a> -&gt; <a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a> -&gt; (<a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> a) -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> a</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TmpFs" class="def">TmpFs</a> <a href="src/GHC.Utils.TmpFs.html#TmpFs" class="link">Source</a> <a href="#t:TmpFs" class="selflink">#</a></p><div class="doc"><p>Temporary file-system</p></div></div><div class="top"><p class="src"><a id="v:initTmpFs" class="def">initTmpFs</a> :: <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> <a href="src/GHC.Utils.TmpFs.html#initTmpFs" class="link">Source</a> <a href="#v:initTmpFs" class="selflink">#</a></p><div class="doc"><p>Initialise an empty TmpFs</p></div></div><div class="top"><p class="src"><a id="v:forkTmpFsFrom" class="def">forkTmpFsFrom</a> :: <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> <a href="src/GHC.Utils.TmpFs.html#forkTmpFsFrom" class="link">Source</a> <a href="#v:forkTmpFsFrom" class="selflink">#</a></p><div class="doc"><p>Initialise an empty TmpFs sharing unique numbers and per-process temporary
 directories with the given TmpFs</p><p>It's not safe to use the subdirs created by the original TmpFs with the
 forked one. Use <code>newTempSubDir</code> to create new subdirs instead.</p></div></div><div class="top"><p class="src"><a id="v:mergeTmpFsInto" class="def">mergeTmpFsInto</a> :: <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> () <a href="src/GHC.Utils.TmpFs.html#mergeTmpFsInto" class="link">Source</a> <a href="#v:mergeTmpFsInto" class="selflink">#</a></p><div class="doc"><p>Merge the first TmpFs into the second.</p><p>The first TmpFs is returned emptied.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PathsToClean" class="def">PathsToClean</a> <a href="src/GHC.Utils.TmpFs.html#PathsToClean" class="link">Source</a> <a href="#t:PathsToClean" class="selflink">#</a></p><div class="doc"><p>A collection of paths that must be deleted before ghc exits.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PathsToClean" class="def">PathsToClean</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:ptcGhcSession" class="def">ptcGhcSession</a> :: !(<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a>)</dfn><div class="doc"><p>Paths that will be deleted at the end of runGhc(T)</p></div></li><li><dfn class="src"><a id="v:ptcCurrentModule" class="def">ptcCurrentModule</a> :: !(<a href="../containers-0.6.7/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a>)</dfn><div class="doc"><p>Paths that will be deleted the next time
 <code><a href="GHC-Utils-TmpFs.html#v:cleanCurrentModuleTempFiles" title="GHC.Utils.TmpFs">cleanCurrentModuleTempFiles</a></code> is called, or otherwise at the end of
 the session.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:emptyPathsToClean" class="def">emptyPathsToClean</a> :: <a href="GHC-Utils-TmpFs.html#t:PathsToClean" title="GHC.Utils.TmpFs">PathsToClean</a> <a href="src/GHC.Utils.TmpFs.html#emptyPathsToClean" class="link">Source</a> <a href="#v:emptyPathsToClean" class="selflink">#</a></p><div class="doc"><p>An empty PathsToClean</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TempFileLifetime" class="def">TempFileLifetime</a> <a href="src/GHC.Utils.TmpFs.html#TempFileLifetime" class="link">Source</a> <a href="#t:TempFileLifetime" class="selflink">#</a></p><div class="doc"><p>Used when a temp file is created. This determines which component Set of
 PathsToClean will get the temp file</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TFL_CurrentModule" class="def">TFL_CurrentModule</a></td><td class="doc"><p>A file with lifetime TFL_CurrentModule will be cleaned up at the
 end of upweep_mod</p></td></tr><tr><td class="src"><a id="v:TFL_GhcSession" class="def">TFL_GhcSession</a></td><td class="doc"><p>A file with lifetime TFL_GhcSession will be cleaned up at the end of
 runGhc(T)</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TempFileLifetime">Instances</h4><details id="i:TempFileLifetime" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TempFileLifetime:Show:1"></span> <a href="GHC-Prelude-Basic.html#t:Show" title="GHC.Prelude.Basic">Show</a> <a href="GHC-Utils-TmpFs.html#t:TempFileLifetime" title="GHC.Utils.TmpFs">TempFileLifetime</a></span> <a href="src/GHC.Utils.TmpFs.html#line-97" class="link">Source</a> <a href="#t:TempFileLifetime" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TempFileLifetime:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Utils-TmpFs.html">GHC.Utils.TmpFs</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="GHC-Prelude-Basic.html#t:Int" title="GHC.Prelude.Basic">Int</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempFileLifetime" title="GHC.Utils.TmpFs">TempFileLifetime</a> -&gt; <a href="GHC-Prelude-Basic.html#t:ShowS" title="GHC.Prelude.Basic">ShowS</a> <a href="../base-4.18.3.0/src/GHC.Show.html#showsPrec" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="GHC-Utils-TmpFs.html#t:TempFileLifetime" title="GHC.Utils.TmpFs">TempFileLifetime</a> -&gt; <a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a> <a href="../base-4.18.3.0/src/GHC.Show.html#show" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="GHC-Utils-TmpFs.html#t:TempFileLifetime" title="GHC.Utils.TmpFs">TempFileLifetime</a>] -&gt; <a href="GHC-Prelude-Basic.html#t:ShowS" title="GHC.Prelude.Basic">ShowS</a> <a href="../base-4.18.3.0/src/GHC.Show.html#showList" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:TempDir" class="def">TempDir</a> <a href="src/GHC.Utils.TmpFs.html#TempDir" class="link">Source</a> <a href="#t:TempDir" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TempDir" class="def">TempDir</a> <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:cleanTempDirs" class="def">cleanTempDirs</a> :: <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> () <a href="src/GHC.Utils.TmpFs.html#cleanTempDirs" class="link">Source</a> <a href="#v:cleanTempDirs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cleanTempFiles" class="def">cleanTempFiles</a> :: <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> () <a href="src/GHC.Utils.TmpFs.html#cleanTempFiles" class="link">Source</a> <a href="#v:cleanTempFiles" class="selflink">#</a></p><div class="doc"><p>Delete all paths in <code>tmp_files_to_clean</code> and <code>tmp_subdirs_to_clean</code>.</p></div></div><div class="top"><p class="src"><a id="v:cleanCurrentModuleTempFiles" class="def">cleanCurrentModuleTempFiles</a> :: <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> () <a href="src/GHC.Utils.TmpFs.html#cleanCurrentModuleTempFiles" class="link">Source</a> <a href="#v:cleanCurrentModuleTempFiles" class="selflink">#</a></p><div class="doc"><p>Delete all paths in <code>tmp_files_to_clean</code> and <code>tmp_subdirs_to_clean</code>
 That have lifetime TFL_CurrentModule.
 If a file must be cleaned eventually, but must survive a
 cleanCurrentModuleTempFiles, ensure it has lifetime TFL_GhcSession.</p></div></div><div class="top"><p class="src"><a id="v:keepCurrentModuleTempFiles" class="def">keepCurrentModuleTempFiles</a> :: <a href="GHC-Utils-Misc.html#t:HasCallStack" title="GHC.Utils.Misc">HasCallStack</a> =&gt; <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> () <a href="src/GHC.Utils.TmpFs.html#keepCurrentModuleTempFiles" class="link">Source</a> <a href="#v:keepCurrentModuleTempFiles" class="selflink">#</a></p><div class="doc"><p>Keep all the paths in <code>tmp_files_to_clean</code> and <code>tmp_subdirs_to_clean</code>
 that have lifetime TFL_CurrentModule. This function is used when `-keep-tmp-files` is
 used in an OPTIONS_GHC pragma.
 This function removes the temporary file from the TmpFs so we no longer remove
 it at the env when cleanTempFiles is called.</p></div></div><div class="top"><p class="src"><a id="v:addFilesToClean" class="def">addFilesToClean</a> :: <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempFileLifetime" title="GHC.Utils.TmpFs">TempFileLifetime</a> -&gt; [<a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a>] -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> () <a href="src/GHC.Utils.TmpFs.html#addFilesToClean" class="link">Source</a> <a href="#v:addFilesToClean" class="selflink">#</a></p><div class="doc"><p>Ensure that new_files are cleaned on the next call of
 <code><a href="GHC-Utils-TmpFs.html#v:cleanTempFiles" title="GHC.Utils.TmpFs">cleanTempFiles</a></code> or <code><a href="GHC-Utils-TmpFs.html#v:cleanCurrentModuleTempFiles" title="GHC.Utils.TmpFs">cleanCurrentModuleTempFiles</a></code>, depending on lifetime.
 If any of new_files are already tracked, they will have their lifetime
 updated.</p></div></div><div class="top"><p class="src"><a id="v:changeTempFilesLifetime" class="def">changeTempFilesLifetime</a> :: <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempFileLifetime" title="GHC.Utils.TmpFs">TempFileLifetime</a> -&gt; [<a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a>] -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> () <a href="src/GHC.Utils.TmpFs.html#changeTempFilesLifetime" class="link">Source</a> <a href="#v:changeTempFilesLifetime" class="selflink">#</a></p><div class="doc"><p>Update the lifetime of files already being tracked. If any files are
 not being tracked they will be discarded.</p></div></div><div class="top"><p class="src"><a id="v:newTempName" class="def">newTempName</a> :: <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempDir" title="GHC.Utils.TmpFs">TempDir</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempFileLifetime" title="GHC.Utils.TmpFs">TempFileLifetime</a> -&gt; <a href="GHC-Utils-Misc.html#t:Suffix" title="GHC.Utils.Misc">Suffix</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a> <a href="src/GHC.Utils.TmpFs.html#newTempName" class="link">Source</a> <a href="#v:newTempName" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:newTempLibName" class="def">newTempLibName</a> :: <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempDir" title="GHC.Utils.TmpFs">TempDir</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempFileLifetime" title="GHC.Utils.TmpFs">TempFileLifetime</a> -&gt; <a href="GHC-Utils-Misc.html#t:Suffix" title="GHC.Utils.Misc">Suffix</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> (<a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a>, <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a>, <a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a>) <a href="src/GHC.Utils.TmpFs.html#newTempLibName" class="link">Source</a> <a href="#v:newTempLibName" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:newTempSubDir" class="def">newTempSubDir</a> :: <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TmpFs" title="GHC.Utils.TmpFs">TmpFs</a> -&gt; <a href="GHC-Utils-TmpFs.html#t:TempDir" title="GHC.Utils.TmpFs">TempDir</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a> <a href="src/GHC.Utils.TmpFs.html#newTempSubDir" class="link">Source</a> <a href="#v:newTempSubDir" class="selflink">#</a></p><div class="doc"><p>Create a new temporary subdirectory that doesn't already exist
 The temporary subdirectory is automatically removed at the end of the
 GHC session, but its contents aren't. Make sure to leave the directory
 empty before the end of the session, either by removing content
 directly or by using <code>addFilesToClean</code>.</p><p>If the created subdirectory is not empty, it will not be removed (along
 with its parent temporary directory) and a warning message will be
 printed at verbosity 2 and higher.</p></div></div><div class="top"><p class="src"><a id="v:withSystemTempDirectory" class="def">withSystemTempDirectory</a> <a href="src/GHC.Utils.TmpFs.html#withSystemTempDirectory" class="link">Source</a> <a href="#v:withSystemTempDirectory" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a></td><td class="doc"><p>Directory name template. See <code>openTempFile</code>.</p></td></tr><tr><td class="src">-&gt; (<a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> a)</td><td class="doc"><p>Callback that can use the directory</p></td></tr><tr><td class="src">-&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Create and use a temporary directory in the system standard temporary
 directory.</p><p>Behaves exactly the same as <code><a href="GHC-Utils-TmpFs.html#v:withTempDirectory" title="GHC.Utils.TmpFs">withTempDirectory</a></code>, except that the parent
 temporary directory will be that returned by <code><a href="../directory-1.3.8.5/System-Directory.html#v:getTemporaryDirectory" title="System.Directory">getTemporaryDirectory</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:withTempDirectory" class="def">withTempDirectory</a> <a href="src/GHC.Utils.TmpFs.html#withTempDirectory" class="link">Source</a> <a href="#v:withTempDirectory" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a></td><td class="doc"><p>Temp directory to create the directory in</p></td></tr><tr><td class="src">-&gt; <a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a></td><td class="doc"><p>Directory name template. See <code>openTempFile</code>.</p></td></tr><tr><td class="src">-&gt; (<a href="GHC-Prelude-Basic.html#t:FilePath" title="GHC.Prelude.Basic">FilePath</a> -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> a)</td><td class="doc"><p>Callback that can use the directory</p></td></tr><tr><td class="src">-&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Create and use a temporary directory.</p><p>Creates a new temporary directory inside the given directory, making use
 of the template. The temp directory is deleted after use. For example:</p><pre>withTempDirectory &quot;src&quot; &quot;sdist.&quot; $ \tmpDir -&gt; do ...</pre><p>The <code>tmpDir</code> will be a new subdirectory of the given directory, e.g.
 <code>src/sdist.342</code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>