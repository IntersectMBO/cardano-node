<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>GHC.Data.Graph.Collapse</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ghc-9.6.7: The GHC API</span><ul class="links" id="page-menu"><li><a href="src/GHC.Data.Graph.Collapse.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">GHC.Data.Graph.Collapse</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">class</span> <a href="GHC-Prelude-Basic.html#t:Semigroup" title="GHC.Prelude.Basic">Semigroup</a> node =&gt; <a href="#t:PureSupernode">PureSupernode</a> node <span class="keyword">where</span><ul class="subs"><li><a href="#v:superLabel">superLabel</a> :: node -&gt; <a href="GHC-Cmm-Dataflow-Label.html#t:Label" title="GHC.Cmm.Dataflow.Label">Label</a></li><li><a href="#v:mapLabels">mapLabels</a> :: (<a href="GHC-Cmm-Dataflow-Label.html#t:Label" title="GHC.Cmm.Dataflow.Label">Label</a> -&gt; <a href="GHC-Cmm-Dataflow-Label.html#t:Label" title="GHC.Cmm.Dataflow.Label">Label</a>) -&gt; node -&gt; node</li></ul></li><li class="src short"><span class="keyword">class</span> (<a href="GHC-Types-Unique-Supply.html#t:MonadUnique" title="GHC.Types.Unique.Supply">MonadUnique</a> m, <a href="GHC-Data-Graph-Collapse.html#t:PureSupernode" title="GHC.Data.Graph.Collapse">PureSupernode</a> node) =&gt; <a href="#t:Supernode">Supernode</a> node m <span class="keyword">where</span><ul class="subs"><li><a href="#v:freshen">freshen</a> :: node -&gt; m node</li></ul></li><li class="src short"><a href="#v:collapseInductiveGraph">collapseInductiveGraph</a> :: (<a href="GHC-Data-Graph-Inductive-Graph.html#t:DynGraph" title="GHC.Data.Graph.Inductive.Graph">DynGraph</a> gr, <a href="GHC-Data-Graph-Collapse.html#t:Supernode" title="GHC.Data.Graph.Collapse">Supernode</a> s m, <a href="GHC-Data-Graph-Collapse.html#t:VizCollapseMonad" title="GHC.Data.Graph.Collapse">VizCollapseMonad</a> m gr s) =&gt; gr s () -&gt; m (gr s ())</li><li class="src short"><span class="keyword">class</span> (<a href="GHC-Data-Graph-Collapse.html#t:MonadUniqSM" title="GHC.Data.Graph.Collapse">MonadUniqSM</a> m, <a href="GHC-Data-Graph-Inductive-Graph.html#t:Graph" title="GHC.Data.Graph.Inductive.Graph">Graph</a> gr, <a href="GHC-Data-Graph-Collapse.html#t:Supernode" title="GHC.Data.Graph.Collapse">Supernode</a> s m) =&gt; <a href="#t:VizCollapseMonad">VizCollapseMonad</a> m gr s <span class="keyword">where</span><ul class="subs"><li><a href="#v:consumeByInGraph">consumeByInGraph</a> :: <a href="GHC-Data-Graph-Inductive-Graph.html#t:Node" title="GHC.Data.Graph.Inductive.Graph">Node</a> -&gt; <a href="GHC-Data-Graph-Inductive-Graph.html#t:Node" title="GHC.Data.Graph.Inductive.Graph">Node</a> -&gt; gr s () -&gt; m ()</li><li><a href="#v:splitGraphAt">splitGraphAt</a> :: gr s () -&gt; <a href="GHC-Data-Graph-Inductive-Graph.html#t:LNode" title="GHC.Data.Graph.Inductive.Graph">LNode</a> s -&gt; m ()</li><li><a href="#v:finalGraph">finalGraph</a> :: gr s () -&gt; m ()</li></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:NullCollapseViz">NullCollapseViz</a> a = <a href="#v:NullCollapseViz">NullCollapseViz</a> {<ul class="subs"><li><a href="#v:unNCV">unNCV</a> :: <a href="GHC-Types-Unique-Supply.html#t:UniqSM" title="GHC.Types.Unique.Supply">UniqSM</a> a</li></ul>}</li><li class="src short"><a href="#v:runNullCollapse">runNullCollapse</a> :: <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a -&gt; <a href="GHC-Types-Unique-Supply.html#t:UniqSM" title="GHC.Types.Unique.Supply">UniqSM</a> a</li><li class="src short"><span class="keyword">class</span> <a href="GHC-Prelude-Basic.html#t:Monad" title="GHC.Prelude.Basic">Monad</a> m =&gt; <a href="#t:MonadUniqSM">MonadUniqSM</a> m <span class="keyword">where</span><ul class="subs"><li><a href="#v:liftUniqSM">liftUniqSM</a> :: <a href="GHC-Types-Unique-Supply.html#t:UniqSM" title="GHC.Types.Unique.Supply">UniqSM</a> a -&gt; m a</li></ul></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">class</span> <a href="GHC-Prelude-Basic.html#t:Semigroup" title="GHC.Prelude.Basic">Semigroup</a> node =&gt; <a id="t:PureSupernode" class="def">PureSupernode</a> node <span class="keyword">where</span> <a href="src/GHC.Data.Graph.Collapse.html#PureSupernode" class="link">Source</a> <a href="#t:PureSupernode" class="selflink">#</a></p><div class="doc"><p>A &quot;supernode&quot; stands for a collection of one or more nodes (basic
 blocks) that have been coalesced by the Hecht-Ullman algorithm.
 A collection in a supernode constitutes a <em>reducible</em> subgraph of a
 control-flow graph.  (When an entire control-flow graph is collapsed
 to a single supernode, the flow graph is reducible.)</p><p>The idea of node splitting is to collapse a control-flow graph down
 to a single supernode, then materialize (`<code>inflate'</code>) the reducible
 equivalent graph from that supernode.  The <code><a href="GHC-Data-Graph-Collapse.html#t:Supernode" title="GHC.Data.Graph.Collapse">Supernode</a></code> class
 defines only the methods needed to collapse; rematerialization is
 the responsiblity of the client.</p><p>During the Hecht-Ullman algorithm, every supernode has a unique
 entry point, which is given by <code><a href="GHC-Data-Graph-Collapse.html#v:superLabel" title="GHC.Data.Graph.Collapse">superLabel</a></code>.  But this invariant is
 not guaranteed by the class methods and is not a law of the class.
 The <code><a href="GHC-Data-Graph-Collapse.html#v:mapLabels" title="GHC.Data.Graph.Collapse">mapLabels</a></code> function rewrites all labels that appear in a
 supernode (both definitions and uses).  The <code><a href="GHC-Data-Graph-Collapse.html#v:freshen" title="GHC.Data.Graph.Collapse">freshen</a></code> function
 replaces every appearance of a <em>defined</em> label with a fresh label.
 (Appearances include both definitions and uses.)</p><p>Laws:
 <code>
    superLabel (n &lt;&gt; n') == superLabel n
    blocks (n &lt;&gt; n') == blocks n <code><a href="../base-4.18.3.0/GHC-OldList.html#v:union" title="GHC.OldList">union</a></code> blocks n'
    mapLabels f (n &lt;&gt; n') = mapLabels f n &lt;&gt; mapLabels f n'
    mapLabels id == id
    mapLabels (f . g) == mapLabels f . mapLabels g
 </code></p><p>(We expect <code><a href="GHC-Data-Graph-Collapse.html#v:freshen" title="GHC.Data.Graph.Collapse">freshen</a></code> to distribute over <code><a href="../base-4.18.3.0/Data-Monoid.html#v:-60--62-" title="Data.Monoid">&lt;&gt;</a></code>, but because of
 the fresh names involved, formulating a precise law is a bit
 challenging.)</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:superLabel" class="def">superLabel</a> :: node -&gt; <a href="GHC-Cmm-Dataflow-Label.html#t:Label" title="GHC.Cmm.Dataflow.Label">Label</a> <a href="src/GHC.Data.Graph.Collapse.html#superLabel" class="link">Source</a> <a href="#v:superLabel" class="selflink">#</a></p><p class="src"><a id="v:mapLabels" class="def">mapLabels</a> :: (<a href="GHC-Cmm-Dataflow-Label.html#t:Label" title="GHC.Cmm.Dataflow.Label">Label</a> -&gt; <a href="GHC-Cmm-Dataflow-Label.html#t:Label" title="GHC.Cmm.Dataflow.Label">Label</a>) -&gt; node -&gt; node <a href="src/GHC.Data.Graph.Collapse.html#mapLabels" class="link">Source</a> <a href="#v:mapLabels" class="selflink">#</a></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="GHC-Types-Unique-Supply.html#t:MonadUnique" title="GHC.Types.Unique.Supply">MonadUnique</a> m, <a href="GHC-Data-Graph-Collapse.html#t:PureSupernode" title="GHC.Data.Graph.Collapse">PureSupernode</a> node) =&gt; <a id="t:Supernode" class="def">Supernode</a> node m <span class="keyword">where</span> <a href="src/GHC.Data.Graph.Collapse.html#Supernode" class="link">Source</a> <a href="#t:Supernode" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:freshen" class="def">freshen</a> :: node -&gt; m node <a href="src/GHC.Data.Graph.Collapse.html#freshen" class="link">Source</a> <a href="#v:freshen" class="selflink">#</a></p></div></div><div class="top"><p class="src"><a id="v:collapseInductiveGraph" class="def">collapseInductiveGraph</a> :: (<a href="GHC-Data-Graph-Inductive-Graph.html#t:DynGraph" title="GHC.Data.Graph.Inductive.Graph">DynGraph</a> gr, <a href="GHC-Data-Graph-Collapse.html#t:Supernode" title="GHC.Data.Graph.Collapse">Supernode</a> s m, <a href="GHC-Data-Graph-Collapse.html#t:VizCollapseMonad" title="GHC.Data.Graph.Collapse">VizCollapseMonad</a> m gr s) =&gt; gr s () -&gt; m (gr s ()) <a href="src/GHC.Data.Graph.Collapse.html#collapseInductiveGraph" class="link">Source</a> <a href="#v:collapseInductiveGraph" class="selflink">#</a></p><div class="doc"><p>Using the algorithm of Hecht and Ullman (1972), collapse a graph
 into a single node, splitting nodes as needed.  Record
 visualization events in monad <code>m</code>.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="GHC-Data-Graph-Collapse.html#t:MonadUniqSM" title="GHC.Data.Graph.Collapse">MonadUniqSM</a> m, <a href="GHC-Data-Graph-Inductive-Graph.html#t:Graph" title="GHC.Data.Graph.Inductive.Graph">Graph</a> gr, <a href="GHC-Data-Graph-Collapse.html#t:Supernode" title="GHC.Data.Graph.Collapse">Supernode</a> s m) =&gt; <a id="t:VizCollapseMonad" class="def">VizCollapseMonad</a> m gr s <span class="keyword">where</span> <a href="src/GHC.Data.Graph.Collapse.html#VizCollapseMonad" class="link">Source</a> <a href="#t:VizCollapseMonad" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:consumeByInGraph" class="def">consumeByInGraph</a> :: <a href="GHC-Data-Graph-Inductive-Graph.html#t:Node" title="GHC.Data.Graph.Inductive.Graph">Node</a> -&gt; <a href="GHC-Data-Graph-Inductive-Graph.html#t:Node" title="GHC.Data.Graph.Inductive.Graph">Node</a> -&gt; gr s () -&gt; m () <a href="src/GHC.Data.Graph.Collapse.html#consumeByInGraph" class="link">Source</a> <a href="#v:consumeByInGraph" class="selflink">#</a></p><p class="src"><a id="v:splitGraphAt" class="def">splitGraphAt</a> :: gr s () -&gt; <a href="GHC-Data-Graph-Inductive-Graph.html#t:LNode" title="GHC.Data.Graph.Inductive.Graph">LNode</a> s -&gt; m () <a href="src/GHC.Data.Graph.Collapse.html#splitGraphAt" class="link">Source</a> <a href="#v:splitGraphAt" class="selflink">#</a></p><p class="src"><a id="v:finalGraph" class="def">finalGraph</a> :: gr s () -&gt; m () <a href="src/GHC.Data.Graph.Collapse.html#finalGraph" class="link">Source</a> <a href="#v:finalGraph" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:VizCollapseMonad">Instances</h4><details id="i:VizCollapseMonad" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:VizCollapseMonad:VizCollapseMonad:1"></span> (<a href="GHC-Data-Graph-Inductive-Graph.html#t:Graph" title="GHC.Data.Graph.Inductive.Graph">Graph</a> gr, <a href="GHC-Data-Graph-Collapse.html#t:Supernode" title="GHC.Data.Graph.Collapse">Supernode</a> s <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a>) =&gt; <a href="GHC-Data-Graph-Collapse.html#t:VizCollapseMonad" title="GHC.Data.Graph.Collapse">VizCollapseMonad</a> <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> gr s</span> <a href="src/GHC.Data.Graph.Collapse.html#line-80" class="link">Source</a> <a href="#t:VizCollapseMonad" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:VizCollapseMonad:VizCollapseMonad:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Data-Graph-Collapse.html">GHC.Data.Graph.Collapse</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:consumeByInGraph">consumeByInGraph</a> :: <a href="GHC-Data-Graph-Inductive-Graph.html#t:Node" title="GHC.Data.Graph.Inductive.Graph">Node</a> -&gt; <a href="GHC-Data-Graph-Inductive-Graph.html#t:Node" title="GHC.Data.Graph.Inductive.Graph">Node</a> -&gt; gr s () -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> () <a href="src/GHC.Data.Graph.Collapse.html#consumeByInGraph" class="link">Source</a> <a href="#v:consumeByInGraph" class="selflink">#</a></p><p class="src"><a href="#v:splitGraphAt">splitGraphAt</a> :: gr s () -&gt; <a href="GHC-Data-Graph-Inductive-Graph.html#t:LNode" title="GHC.Data.Graph.Inductive.Graph">LNode</a> s -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> () <a href="src/GHC.Data.Graph.Collapse.html#splitGraphAt" class="link">Source</a> <a href="#v:splitGraphAt" class="selflink">#</a></p><p class="src"><a href="#v:finalGraph">finalGraph</a> :: gr s () -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> () <a href="src/GHC.Data.Graph.Collapse.html#finalGraph" class="link">Source</a> <a href="#v:finalGraph" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:NullCollapseViz" class="def">NullCollapseViz</a> a <a href="src/GHC.Data.Graph.Collapse.html#NullCollapseViz" class="link">Source</a> <a href="#t:NullCollapseViz" class="selflink">#</a></p><div class="doc"><p>The identity monad as a <code><a href="GHC-Data-Graph-Collapse.html#t:VizCollapseMonad" title="GHC.Data.Graph.Collapse">VizCollapseMonad</a></code>.  Use this monad when
 you want efficiency in graph collapse.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NullCollapseViz" class="def">NullCollapseViz</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unNCV" class="def">unNCV</a> :: <a href="GHC-Types-Unique-Supply.html#t:UniqSM" title="GHC.Types.Unique.Supply">UniqSM</a> a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:NullCollapseViz">Instances</h4><details id="i:NullCollapseViz" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NullCollapseViz:Applicative:1"></span> <a href="GHC-Utils-Monad.html#t:Applicative" title="GHC.Utils.Monad">Applicative</a> <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a></span> <a href="src/GHC.Data.Graph.Collapse.html#line-75" class="link">Source</a> <a href="#t:NullCollapseViz" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NullCollapseViz:Applicative:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Data-Graph-Collapse.html">GHC.Data.Graph.Collapse</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a <a href="../base-4.18.3.0/src/GHC.Base.html#pure" class="link">Source</a> <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> (a -&gt; b) -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> b <a href="../base-4.18.3.0/src/GHC.Base.html#%3C%2A%3E" class="link">Source</a> <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> b -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> c <a href="../base-4.18.3.0/src/GHC.Base.html#liftA2" class="link">Source</a> <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> b -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> b <a href="../base-4.18.3.0/src/GHC.Base.html#%2A%3E" class="link">Source</a> <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> b -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a <a href="../base-4.18.3.0/src/GHC.Base.html#%3C%2A" class="link">Source</a> <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NullCollapseViz:Functor:2"></span> <a href="GHC-Prelude-Basic.html#t:Functor" title="GHC.Prelude.Basic">Functor</a> <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a></span> <a href="src/GHC.Data.Graph.Collapse.html#line-75" class="link">Source</a> <a href="#t:NullCollapseViz" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NullCollapseViz:Functor:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Data-Graph-Collapse.html">GHC.Data.Graph.Collapse</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> b <a href="../base-4.18.3.0/src/GHC.Base.html#fmap" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> b -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a <a href="../base-4.18.3.0/src/GHC.Base.html#%3C%24" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NullCollapseViz:Monad:3"></span> <a href="GHC-Prelude-Basic.html#t:Monad" title="GHC.Prelude.Basic">Monad</a> <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a></span> <a href="src/GHC.Data.Graph.Collapse.html#line-75" class="link">Source</a> <a href="#t:NullCollapseViz" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NullCollapseViz:Monad:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Data-Graph-Collapse.html">GHC.Data.Graph.Collapse</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a -&gt; (a -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> b) -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> b <a href="../base-4.18.3.0/src/GHC.Base.html#%3E%3E%3D" class="link">Source</a> <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> b -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> b <a href="../base-4.18.3.0/src/GHC.Base.html#%3E%3E" class="link">Source</a> <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a <a href="../base-4.18.3.0/src/GHC.Base.html#return" class="link">Source</a> <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NullCollapseViz:MonadUniqSM:4"></span> <a href="GHC-Data-Graph-Collapse.html#t:MonadUniqSM" title="GHC.Data.Graph.Collapse">MonadUniqSM</a> <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a></span> <a href="src/GHC.Data.Graph.Collapse.html#line-77" class="link">Source</a> <a href="#t:NullCollapseViz" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NullCollapseViz:MonadUniqSM:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Data-Graph-Collapse.html">GHC.Data.Graph.Collapse</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftUniqSM">liftUniqSM</a> :: <a href="GHC-Types-Unique-Supply.html#t:UniqSM" title="GHC.Types.Unique.Supply">UniqSM</a> a -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a <a href="src/GHC.Data.Graph.Collapse.html#liftUniqSM" class="link">Source</a> <a href="#v:liftUniqSM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NullCollapseViz:MonadUnique:5"></span> <a href="GHC-Types-Unique-Supply.html#t:MonadUnique" title="GHC.Types.Unique.Supply">MonadUnique</a> <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a></span> <a href="src/GHC.Data.Graph.Collapse.html#line-75" class="link">Source</a> <a href="#t:NullCollapseViz" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NullCollapseViz:MonadUnique:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Data-Graph-Collapse.html">GHC.Data.Graph.Collapse</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getUniqueSupplyM">getUniqueSupplyM</a> :: <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> <a href="GHC-Types-Unique-Supply.html#t:UniqSupply" title="GHC.Types.Unique.Supply">UniqSupply</a> <a href="src/GHC.Types.Unique.Supply.html#getUniqueSupplyM" class="link">Source</a> <a href="#v:getUniqueSupplyM" class="selflink">#</a></p><p class="src"><a href="#v:getUniqueM">getUniqueM</a> :: <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> <a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a> <a href="src/GHC.Types.Unique.Supply.html#getUniqueM" class="link">Source</a> <a href="#v:getUniqueM" class="selflink">#</a></p><p class="src"><a href="#v:getUniquesM">getUniquesM</a> :: <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> [<a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a>] <a href="src/GHC.Types.Unique.Supply.html#getUniquesM" class="link">Source</a> <a href="#v:getUniquesM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NullCollapseViz:VizCollapseMonad:6"></span> (<a href="GHC-Data-Graph-Inductive-Graph.html#t:Graph" title="GHC.Data.Graph.Inductive.Graph">Graph</a> gr, <a href="GHC-Data-Graph-Collapse.html#t:Supernode" title="GHC.Data.Graph.Collapse">Supernode</a> s <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a>) =&gt; <a href="GHC-Data-Graph-Collapse.html#t:VizCollapseMonad" title="GHC.Data.Graph.Collapse">VizCollapseMonad</a> <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> gr s</span> <a href="src/GHC.Data.Graph.Collapse.html#line-80" class="link">Source</a> <a href="#t:NullCollapseViz" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NullCollapseViz:VizCollapseMonad:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Data-Graph-Collapse.html">GHC.Data.Graph.Collapse</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:consumeByInGraph">consumeByInGraph</a> :: <a href="GHC-Data-Graph-Inductive-Graph.html#t:Node" title="GHC.Data.Graph.Inductive.Graph">Node</a> -&gt; <a href="GHC-Data-Graph-Inductive-Graph.html#t:Node" title="GHC.Data.Graph.Inductive.Graph">Node</a> -&gt; gr s () -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> () <a href="src/GHC.Data.Graph.Collapse.html#consumeByInGraph" class="link">Source</a> <a href="#v:consumeByInGraph" class="selflink">#</a></p><p class="src"><a href="#v:splitGraphAt">splitGraphAt</a> :: gr s () -&gt; <a href="GHC-Data-Graph-Inductive-Graph.html#t:LNode" title="GHC.Data.Graph.Inductive.Graph">LNode</a> s -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> () <a href="src/GHC.Data.Graph.Collapse.html#splitGraphAt" class="link">Source</a> <a href="#v:splitGraphAt" class="selflink">#</a></p><p class="src"><a href="#v:finalGraph">finalGraph</a> :: gr s () -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> () <a href="src/GHC.Data.Graph.Collapse.html#finalGraph" class="link">Source</a> <a href="#v:finalGraph" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:runNullCollapse" class="def">runNullCollapse</a> :: <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a -&gt; <a href="GHC-Types-Unique-Supply.html#t:UniqSM" title="GHC.Types.Unique.Supply">UniqSM</a> a <a href="src/GHC.Data.Graph.Collapse.html#runNullCollapse" class="link">Source</a> <a href="#v:runNullCollapse" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="GHC-Prelude-Basic.html#t:Monad" title="GHC.Prelude.Basic">Monad</a> m =&gt; <a id="t:MonadUniqSM" class="def">MonadUniqSM</a> m <span class="keyword">where</span> <a href="src/GHC.Data.Graph.Collapse.html#MonadUniqSM" class="link">Source</a> <a href="#t:MonadUniqSM" class="selflink">#</a></p><div class="doc"><p>Module      : GHC.Data.Graph.Collapse
Description : Implement the &quot;collapsing&quot; algorithm Hecht and Ullman</p><p>A control-flow graph is reducible if and only if it is collapsible
according to the definition of Hecht and Ullman (1972).   This module
implements the collapsing algorithm of Hecht and Ullman, and if it
encounters a graph that is not collapsible, it splits nodes until the
graph is fully collapsed.  It then reports what nodes (if any) had to
be split in order to collapse the graph.  The information is used
upstream to node-split Cmm graphs.</p><p>The module uses the inductive graph representation cloned from the
Functional Graph Library (Hackage package <code>fgl</code>, modules
<code><a href="GHC-Data-Graph-Inductive.html#v:-42-" title="GHC.Data.Graph.Inductive">*</a></code>.)</p><p>If you want to visualize the graph-collapsing algorithm, create
 an instance of monad <code><a href="GHC-Data-Graph-Collapse.html#t:VizCollapseMonad" title="GHC.Data.Graph.Collapse">VizCollapseMonad</a></code>.  Each step in the
 algorithm is announced to the monad as a side effect.  If you don't
 care about visualization, you would use the <code><a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a></code>
 monad, in which these operations are no-ops.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:liftUniqSM" class="def">liftUniqSM</a> :: <a href="GHC-Types-Unique-Supply.html#t:UniqSM" title="GHC.Types.Unique.Supply">UniqSM</a> a -&gt; m a <a href="src/GHC.Data.Graph.Collapse.html#liftUniqSM" class="link">Source</a> <a href="#v:liftUniqSM" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MonadUniqSM">Instances</h4><details id="i:MonadUniqSM" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadUniqSM:MonadUniqSM:1"></span> <a href="GHC-Data-Graph-Collapse.html#t:MonadUniqSM" title="GHC.Data.Graph.Collapse">MonadUniqSM</a> <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a></span> <a href="src/GHC.Data.Graph.Collapse.html#line-77" class="link">Source</a> <a href="#t:MonadUniqSM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadUniqSM:MonadUniqSM:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-Data-Graph-Collapse.html">GHC.Data.Graph.Collapse</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftUniqSM">liftUniqSM</a> :: <a href="GHC-Types-Unique-Supply.html#t:UniqSM" title="GHC.Types.Unique.Supply">UniqSM</a> a -&gt; <a href="GHC-Data-Graph-Collapse.html#t:NullCollapseViz" title="GHC.Data.Graph.Collapse">NullCollapseViz</a> a <a href="src/GHC.Data.Graph.Collapse.html#liftUniqSM" class="link">Source</a> <a href="#v:liftUniqSM" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>