<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>GHC.Core.Utils</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ghc-9.6.6: The GHC API</span><ul class="links" id="page-menu"><li><a href="src/GHC.Core.Utils.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">GHC.Core.Utils</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Constructing expressions</a></li><li><a href="#g:2">Taking expressions apart</a></li><li><a href="#g:3">Properties of expressions</a></li><li><a href="#g:4">Equality</a></li><li><a href="#g:5">Manipulating data constructors and types</a></li><li><a href="#g:6">Working with ticks</a></li><li><a href="#g:7">InScopeSet things which work over CoreBinds</a></li><li><a href="#g:8">StaticPtr</a></li><li><a href="#g:9">Join points</a></li><li><a href="#g:10">Tag inference</a></li><li><a href="#g:11">unsafeEqualityProof</a></li><li><a href="#g:12">Dumping stuff</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Commonly useful utilities for manipulating the Core language</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:mkCast">mkCast</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core-Coercion.html#t:CoercionR" title="GHC.Core.Coercion">CoercionR</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:mkCastMCo">mkCastMCo</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core-Coercion.html#t:MCoercionR" title="GHC.Core.Coercion">MCoercionR</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:mkPiMCo">mkPiMCo</a> :: <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Core-Coercion.html#t:MCoercionR" title="GHC.Core.Coercion">MCoercionR</a> -&gt; <a href="GHC-Core-Coercion.html#t:MCoercionR" title="GHC.Core.Coercion">MCoercionR</a></li><li class="src short"><a href="#v:mkTick">mkTick</a> :: <a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:mkTicks">mkTicks</a> :: [<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a>] -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:mkTickNoHNF">mkTickNoHNF</a> :: <a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:tickHNFArgs">tickHNFArgs</a> :: <a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:bindNonRec">bindNonRec</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:needsCaseBinding">needsCaseBinding</a> :: <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:mkAltExpr">mkAltExpr</a> :: <a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a> -&gt; [<a href="GHC-Core.html#t:CoreBndr" title="GHC.Core">CoreBndr</a>] -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:mkDefaultCase">mkDefaultCase</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:mkSingleAltCase">mkSingleAltCase</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a> -&gt; [<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>] -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:findDefault">findDefault</a> :: [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b] -&gt; ([<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b], <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> (<a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b))</li><li class="src short"><a href="#v:addDefault">addDefault</a> :: [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b] -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> (<a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b) -&gt; [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b]</li><li class="src short"><a href="#v:findAlt">findAlt</a> :: <a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a> -&gt; [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b] -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> (<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b)</li><li class="src short"><a href="#v:isDefaultAlt">isDefaultAlt</a> :: <a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:mergeAlts">mergeAlts</a> :: [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> a] -&gt; [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> a] -&gt; [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> a]</li><li class="src short"><a href="#v:trimConArgs">trimConArgs</a> :: <a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a> -&gt; [<a href="GHC-Core.html#t:CoreArg" title="GHC.Core">CoreArg</a>] -&gt; [<a href="GHC-Core.html#t:CoreArg" title="GHC.Core">CoreArg</a>]</li><li class="src short"><a href="#v:filterAlts">filterAlts</a> :: <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a> -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; [<a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a>] -&gt; [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b] -&gt; ([<a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a>], [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b])</li><li class="src short"><a href="#v:combineIdenticalAlts">combineIdenticalAlts</a> :: [<a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a>] -&gt; [<a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a>] -&gt; (<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>, [<a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a>], [<a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a>])</li><li class="src short"><a href="#v:refineDefaultAlt">refineDefaultAlt</a> :: [<a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a>] -&gt; <a href="GHC-Core-Type.html#t:Mult" title="GHC.Core.Type">Mult</a> -&gt; <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a> -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; [<a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a>] -&gt; [<a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a>] -&gt; (<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>, [<a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a>])</li><li class="src short"><a href="#v:scaleAltsBy">scaleAltsBy</a> :: <a href="GHC-Core-Type.html#t:Mult" title="GHC.Core.Type">Mult</a> -&gt; [<a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a>] -&gt; [<a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a>]</li><li class="src short"><a href="#v:exprType">exprType</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></li><li class="src short"><a href="#v:coreAltType">coreAltType</a> :: <a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></li><li class="src short"><a href="#v:coreAltsType">coreAltsType</a> :: [<a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a>] -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></li><li class="src short"><a href="#v:mkLamType">mkLamType</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></li><li class="src short"><a href="#v:mkLamTypes">mkLamTypes</a> :: [<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>] -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></li><li class="src short"><a href="#v:mkFunctionType">mkFunctionType</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Type.html#t:Mult" title="GHC.Core.Type">Mult</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></li><li class="src short"><a href="#v:exprIsTrivial">exprIsTrivial</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:getIdFromTrivialExpr">getIdFromTrivialExpr</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></li><li class="src short"><a href="#v:getIdFromTrivialExpr_maybe">getIdFromTrivialExpr_maybe</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a></li><li class="src short"><a href="#v:trivial_expr_fold">trivial_expr_fold</a> :: (<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; r) -&gt; (<a href="GHC-Types-Literal.html#t:Literal" title="GHC.Types.Literal">Literal</a> -&gt; r) -&gt; r -&gt; r -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; r</li><li class="src short"><a href="#v:exprIsDupable">exprIsDupable</a> :: <a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:exprIsCheap">exprIsCheap</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:exprIsExpandable">exprIsExpandable</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:exprIsCheapX">exprIsCheapX</a> :: <a href="GHC-Core-Utils.html#t:CheapAppFun" title="GHC.Core.Utils">CheapAppFun</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:CheapAppFun">CheapAppFun</a> = <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Types-Basic.html#t:Arity" title="GHC.Types.Basic">Arity</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:exprIsHNF">exprIsHNF</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:exprOkForSpeculation">exprOkForSpeculation</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:exprOkForSideEffects">exprOkForSideEffects</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:exprOkForSpecEval">exprOkForSpecEval</a> :: (<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>) -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:exprIsWorkFree">exprIsWorkFree</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:exprIsConLike">exprIsConLike</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:isCheapApp">isCheapApp</a> :: <a href="GHC-Core-Utils.html#t:CheapAppFun" title="GHC.Core.Utils">CheapAppFun</a></li><li class="src short"><a href="#v:isExpandableApp">isExpandableApp</a> :: <a href="GHC-Core-Utils.html#t:CheapAppFun" title="GHC.Core.Utils">CheapAppFun</a></li><li class="src short"><a href="#v:isSaturatedConApp">isSaturatedConApp</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:exprIsTickedString">exprIsTickedString</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:exprIsTickedString_maybe">exprIsTickedString_maybe</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:exprIsTopLevelBindable">exprIsTopLevelBindable</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:altsAreExhaustive">altsAreExhaustive</a> :: [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b] -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:etaExpansionTick">etaExpansionTick</a> :: <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:cheapEqExpr">cheapEqExpr</a> :: <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:cheapEqExpr-39-">cheapEqExpr'</a> :: (<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>) -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:diffBinds">diffBinds</a> :: <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> -&gt; <a href="GHC-Types-Var-Env.html#t:RnEnv2" title="GHC.Types.Var.Env">RnEnv2</a> -&gt; [(<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>, <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a>)] -&gt; [(<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>, <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a>)] -&gt; ([<a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a>], <a href="GHC-Types-Var-Env.html#t:RnEnv2" title="GHC.Types.Var.Env">RnEnv2</a>)</li><li class="src short"><a href="#v:exprToType">exprToType</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></li><li class="src short"><a href="#v:applyTypeToArgs">applyTypeToArgs</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; [<a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a>] -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></li><li class="src short"><a href="#v:dataConRepInstPat">dataConRepInstPat</a> :: [<a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a>] -&gt; <a href="GHC-Core-Type.html#t:Mult" title="GHC.Core.Type">Mult</a> -&gt; <a href="GHC-Core-DataCon.html#t:DataCon" title="GHC.Core.DataCon">DataCon</a> -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; ([<a href="GHC-Types-Var.html#t:TyCoVar" title="GHC.Types.Var">TyCoVar</a>], [<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>])</li><li class="src short"><a href="#v:dataConRepFSInstPat">dataConRepFSInstPat</a> :: [<a href="GHC-Data-FastString.html#t:FastString" title="GHC.Data.FastString">FastString</a>] -&gt; [<a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a>] -&gt; <a href="GHC-Core-Type.html#t:Mult" title="GHC.Core.Type">Mult</a> -&gt; <a href="GHC-Core-DataCon.html#t:DataCon" title="GHC.Core.DataCon">DataCon</a> -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; ([<a href="GHC-Types-Var.html#t:TyCoVar" title="GHC.Types.Var">TyCoVar</a>], [<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>])</li><li class="src short"><a href="#v:isEmptyTy">isEmptyTy</a> :: <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:normSplitTyConApp_maybe">normSplitTyConApp_maybe</a> :: <a href="GHC-Core-FamInstEnv.html#t:FamInstEnvs" title="GHC.Core.FamInstEnv">FamInstEnvs</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> (<a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a>, [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>], <a href="GHC-Core-Coercion.html#t:Coercion" title="GHC.Core.Coercion">Coercion</a>)</li><li class="src short"><a href="#v:stripTicksTop">stripTicksTop</a> :: (<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>) -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; ([<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a>], <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b)</li><li class="src short"><a href="#v:stripTicksTopE">stripTicksTopE</a> :: (<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>) -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b</li><li class="src short"><a href="#v:stripTicksTopT">stripTicksTopT</a> :: (<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>) -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; [<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a>]</li><li class="src short"><a href="#v:stripTicksE">stripTicksE</a> :: (<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>) -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b</li><li class="src short"><a href="#v:stripTicksT">stripTicksT</a> :: (<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>) -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; [<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a>]</li><li class="src short"><a href="#v:mkInScopeSetBndrs">mkInScopeSetBndrs</a> :: [<a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a>] -&gt; <a href="GHC-Types-Var-Env.html#t:InScopeSet" title="GHC.Types.Var.Env">InScopeSet</a></li><li class="src short"><a href="#v:extendInScopeSetBind">extendInScopeSetBind</a> :: <a href="GHC-Types-Var-Env.html#t:InScopeSet" title="GHC.Types.Var.Env">InScopeSet</a> -&gt; <a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a> -&gt; <a href="GHC-Types-Var-Env.html#t:InScopeSet" title="GHC.Types.Var.Env">InScopeSet</a></li><li class="src short"><a href="#v:extendInScopeSetBndrs">extendInScopeSetBndrs</a> :: <a href="GHC-Types-Var-Env.html#t:InScopeSet" title="GHC.Types.Var.Env">InScopeSet</a> -&gt; [<a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a>] -&gt; <a href="GHC-Types-Var-Env.html#t:InScopeSet" title="GHC.Types.Var.Env">InScopeSet</a></li><li class="src short"><a href="#v:collectMakeStaticArgs">collectMakeStaticArgs</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> (<a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a>, <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>, <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a>, <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a>)</li><li class="src short"><a href="#v:isJoinBind">isJoinBind</a> :: <a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:mkStrictFieldSeqs">mkStrictFieldSeqs</a> :: [(<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>, <a href="GHC-Core-DataCon.html#t:StrictnessMark" title="GHC.Core.DataCon">StrictnessMark</a>)] -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></li><li class="src short"><a href="#v:shouldStrictifyIdForCbv">shouldStrictifyIdForCbv</a> :: <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:shouldUseCbvForId">shouldUseCbvForId</a> :: <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:isUnsafeEqualityProof">isUnsafeEqualityProof</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:dumpIdInfoOfProgram">dumpIdInfoOfProgram</a> :: <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> -&gt; (<a href="GHC-Types-Id-Info.html#t:IdInfo" title="GHC.Types.Id.Info">IdInfo</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a>) -&gt; <a href="GHC-Core.html#t:CoreProgram" title="GHC.Core">CoreProgram</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Constructing expressions</h1></a><div class="top"><p class="src"><a id="v:mkCast" class="def">mkCast</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core-Coercion.html#t:CoercionR" title="GHC.Core.Coercion">CoercionR</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.Utils.html#mkCast" class="link">Source</a> <a href="#v:mkCast" class="selflink">#</a></p><div class="doc"><p>Wrap the given expression in the coercion safely, dropping
 identity coercions and coalescing nested coercions</p></div></div><div class="top"><p class="src"><a id="v:mkCastMCo" class="def">mkCastMCo</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core-Coercion.html#t:MCoercionR" title="GHC.Core.Coercion">MCoercionR</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.Utils.html#mkCastMCo" class="link">Source</a> <a href="#v:mkCastMCo" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkPiMCo" class="def">mkPiMCo</a> :: <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Core-Coercion.html#t:MCoercionR" title="GHC.Core.Coercion">MCoercionR</a> -&gt; <a href="GHC-Core-Coercion.html#t:MCoercionR" title="GHC.Core.Coercion">MCoercionR</a> <a href="src/GHC.Core.Utils.html#mkPiMCo" class="link">Source</a> <a href="#v:mkPiMCo" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkTick" class="def">mkTick</a> :: <a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.Utils.html#mkTick" class="link">Source</a> <a href="#v:mkTick" class="selflink">#</a></p><div class="doc"><p>Wraps the given expression in the source annotation, dropping the
 annotation if possible.</p></div></div><div class="top"><p class="src"><a id="v:mkTicks" class="def">mkTicks</a> :: [<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a>] -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.Utils.html#mkTicks" class="link">Source</a> <a href="#v:mkTicks" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkTickNoHNF" class="def">mkTickNoHNF</a> :: <a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.Utils.html#mkTickNoHNF" class="link">Source</a> <a href="#v:mkTickNoHNF" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:tickHNFArgs" class="def">tickHNFArgs</a> :: <a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.Utils.html#tickHNFArgs" class="link">Source</a> <a href="#v:tickHNFArgs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:bindNonRec" class="def">bindNonRec</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.Utils.html#bindNonRec" class="link">Source</a> <a href="#v:bindNonRec" class="selflink">#</a></p><div class="doc"><p><code>bindNonRec x r b</code> produces either:</p><pre>let x = r in b</pre><p>or:</p><pre>case r of x { _DEFAULT_ -&gt; b }</pre><p>depending on whether we have to use a <code>case</code> or <code>let</code>
 binding for the expression (see <code><a href="GHC-Core-Utils.html#v:needsCaseBinding" title="GHC.Core.Utils">needsCaseBinding</a></code>).
 It's used by the desugarer to avoid building bindings
 that give Core Lint a heart attack, although actually
 the simplifier deals with them perfectly well. See
 also <code><a href="GHC-Core-Make.html#v:mkCoreLet" title="GHC.Core.Make">mkCoreLet</a></code></p></div></div><div class="top"><p class="src"><a id="v:needsCaseBinding" class="def">needsCaseBinding</a> :: <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#needsCaseBinding" class="link">Source</a> <a href="#v:needsCaseBinding" class="selflink">#</a></p><div class="doc"><p>Tests whether we have to use a <code>case</code> rather than <code>let</code> binding for this
 expression as per the invariants of <code><a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></code>: see <a href="GHC-Core.html#let_can_float_invariant">GHC.Core</a></p></div></div><div class="top"><p class="src"><a id="v:mkAltExpr" class="def">mkAltExpr</a> <a href="src/GHC.Core.Utils.html#mkAltExpr" class="link">Source</a> <a href="#v:mkAltExpr" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a></td><td class="doc"><p>Case alternative constructor</p></td></tr><tr><td class="src">-&gt; [<a href="GHC-Core.html#t:CoreBndr" title="GHC.Core">CoreBndr</a>]</td><td class="doc"><p>Things bound by the pattern match</p></td></tr><tr><td class="src">-&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</td><td class="doc"><p>The type arguments to the case alternative</p></td></tr><tr><td class="src">-&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>This guy constructs the value that the scrutinee must have
 given that you are in one particular branch of a case</p></div></div><div class="top"><p class="src"><a id="v:mkDefaultCase" class="def">mkDefaultCase</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.Utils.html#mkDefaultCase" class="link">Source</a> <a href="#v:mkDefaultCase" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkSingleAltCase" class="def">mkSingleAltCase</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a> -&gt; [<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>] -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.Utils.html#mkSingleAltCase" class="link">Source</a> <a href="#v:mkSingleAltCase" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h1>Taking expressions apart</h1></a><div class="top"><p class="src"><a id="v:findDefault" class="def">findDefault</a> :: [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b] -&gt; ([<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b], <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> (<a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b)) <a href="src/GHC.Core.Utils.html#findDefault" class="link">Source</a> <a href="#v:findDefault" class="selflink">#</a></p><div class="doc"><p>Extract the default case alternative</p></div></div><div class="top"><p class="src"><a id="v:addDefault" class="def">addDefault</a> :: [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b] -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> (<a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b) -&gt; [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b] <a href="src/GHC.Core.Utils.html#addDefault" class="link">Source</a> <a href="#v:addDefault" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:findAlt" class="def">findAlt</a> :: <a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a> -&gt; [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b] -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> (<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b) <a href="src/GHC.Core.Utils.html#findAlt" class="link">Source</a> <a href="#v:findAlt" class="selflink">#</a></p><div class="doc"><p>Find the case alternative corresponding to a particular
 constructor: panics if no such constructor exists</p></div></div><div class="top"><p class="src"><a id="v:isDefaultAlt" class="def">isDefaultAlt</a> :: <a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#isDefaultAlt" class="link">Source</a> <a href="#v:isDefaultAlt" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mergeAlts" class="def">mergeAlts</a> :: [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> a] -&gt; [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> a] -&gt; [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> a] <a href="src/GHC.Core.Utils.html#mergeAlts" class="link">Source</a> <a href="#v:mergeAlts" class="selflink">#</a></p><div class="doc"><p>Merge alternatives preserving order; alternatives in
 the first argument shadow ones in the second</p></div></div><div class="top"><p class="src"><a id="v:trimConArgs" class="def">trimConArgs</a> :: <a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a> -&gt; [<a href="GHC-Core.html#t:CoreArg" title="GHC.Core">CoreArg</a>] -&gt; [<a href="GHC-Core.html#t:CoreArg" title="GHC.Core">CoreArg</a>] <a href="src/GHC.Core.Utils.html#trimConArgs" class="link">Source</a> <a href="#v:trimConArgs" class="selflink">#</a></p><div class="doc"><p>Given:</p><pre>case (C a b x y) of
       C b x y -&gt; ...</pre><p>We want to drop the leading type argument of the scrutinee
 leaving the arguments to match against the pattern</p></div></div><div class="top"><p class="src"><a id="v:filterAlts" class="def">filterAlts</a> <a href="src/GHC.Core.Utils.html#filterAlts" class="link">Source</a> <a href="#v:filterAlts" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a></td><td class="doc"><p>Type constructor of scrutinee's type (used to prune possibilities)</p></td></tr><tr><td class="src">-&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</td><td class="doc"><p>And its type arguments</p></td></tr><tr><td class="src">-&gt; [<a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a>]</td><td class="doc"><p><code>imposs_cons</code>: constructors known to be impossible due to the form of the scrutinee</p></td></tr><tr><td class="src">-&gt; [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b]</td><td class="doc"><p>Alternatives</p></td></tr><tr><td class="src">-&gt; ([<a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a>], [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b])</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:combineIdenticalAlts" class="def">combineIdenticalAlts</a> :: [<a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a>] -&gt; [<a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a>] -&gt; (<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>, [<a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a>], [<a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a>]) <a href="src/GHC.Core.Utils.html#combineIdenticalAlts" class="link">Source</a> <a href="#v:combineIdenticalAlts" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:refineDefaultAlt" class="def">refineDefaultAlt</a> <a href="src/GHC.Core.Utils.html#refineDefaultAlt" class="link">Source</a> <a href="#v:refineDefaultAlt" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a>]</td><td class="doc"><p>Uniques for constructing new binders</p></td></tr><tr><td class="src">-&gt; <a href="GHC-Core-Type.html#t:Mult" title="GHC.Core.Type">Mult</a></td><td class="doc"><p>Multiplicity annotation of the case expression</p></td></tr><tr><td class="src">-&gt; <a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a></td><td class="doc"><p>Type constructor of scrutinee's type</p></td></tr><tr><td class="src">-&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>]</td><td class="doc"><p>Type arguments of scrutinee's type</p></td></tr><tr><td class="src">-&gt; [<a href="GHC-Core.html#t:AltCon" title="GHC.Core">AltCon</a>]</td><td class="doc"><p>Constructors that cannot match the DEFAULT (if any)</p></td></tr><tr><td class="src">-&gt; [<a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (<a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>, [<a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a>])</td><td class="doc"><p><code><a href="GHC-Prelude-Basic.html#v:True" title="GHC.Prelude.Basic">True</a></code>, if a default alt was replaced with a <code><a href="GHC-Core.html#v:DataAlt" title="GHC.Core">DataAlt</a></code></p></td></tr></table></div><div class="doc"><p>Refine the default alternative to a <code><a href="GHC-Core.html#v:DataAlt" title="GHC.Core">DataAlt</a></code>, if there is a unique way to do so.
 See Note [Refine DEFAULT case alternatives]</p></div></div><div class="top"><p class="src"><a id="v:scaleAltsBy" class="def">scaleAltsBy</a> :: <a href="GHC-Core-Type.html#t:Mult" title="GHC.Core.Type">Mult</a> -&gt; [<a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a>] -&gt; [<a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a>] <a href="src/GHC.Core.Utils.html#scaleAltsBy" class="link">Source</a> <a href="#v:scaleAltsBy" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>Properties of expressions</h1></a><div class="top"><p class="src"><a id="v:exprType" class="def">exprType</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> <a href="src/GHC.Core.Utils.html#exprType" class="link">Source</a> <a href="#v:exprType" class="selflink">#</a></p><div class="doc"><p>Recover the type of a well-typed Core expression. Fails when
 applied to the actual <code><a href="GHC-Core.html#v:Type" title="GHC.Core">Type</a></code> expression as it cannot
 really be said to have a type</p></div></div><div class="top"><p class="src"><a id="v:coreAltType" class="def">coreAltType</a> :: <a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> <a href="src/GHC.Core.Utils.html#coreAltType" class="link">Source</a> <a href="#v:coreAltType" class="selflink">#</a></p><div class="doc"><p>Returns the type of the alternatives right hand side</p></div></div><div class="top"><p class="src"><a id="v:coreAltsType" class="def">coreAltsType</a> :: [<a href="GHC-Core.html#t:CoreAlt" title="GHC.Core">CoreAlt</a>] -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> <a href="src/GHC.Core.Utils.html#coreAltsType" class="link">Source</a> <a href="#v:coreAltsType" class="selflink">#</a></p><div class="doc"><p>Returns the type of the first alternative, which should be the same as for all alternatives</p></div></div><div class="top"><p class="src"><a id="v:mkLamType" class="def">mkLamType</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> <a href="src/GHC.Core.Utils.html#mkLamType" class="link">Source</a> <a href="#v:mkLamType" class="selflink">#</a></p><div class="doc"><p>Makes a <code>(-&gt;)</code> type or an implicit forall type, depending
 on whether it is given a type variable or a term variable.
 This is used, for example, when producing the type of a lambda.
 Always uses Inferred binders.</p></div></div><div class="top"><p class="src"><a id="v:mkLamTypes" class="def">mkLamTypes</a> :: [<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>] -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> <a href="src/GHC.Core.Utils.html#mkLamTypes" class="link">Source</a> <a href="#v:mkLamTypes" class="selflink">#</a></p><div class="doc"><p><code><a href="GHC-Core-Utils.html#v:mkLamType" title="GHC.Core.Utils">mkLamType</a></code> for multiple type or value arguments</p></div></div><div class="top"><p class="src"><a id="v:mkFunctionType" class="def">mkFunctionType</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core-Type.html#t:Mult" title="GHC.Core.Type">Mult</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> <a href="src/GHC.Core.Type.html#mkFunctionType" class="link">Source</a> <a href="#v:mkFunctionType" class="selflink">#</a></p><div class="doc"><p>This one works out the FunTyFlag from the argument type
 See GHC.Types.Var Note [FunTyFlag]</p></div></div><div class="top"><p class="src"><a id="v:exprIsTrivial" class="def">exprIsTrivial</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#exprIsTrivial" class="link">Source</a> <a href="#v:exprIsTrivial" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getIdFromTrivialExpr" class="def">getIdFromTrivialExpr</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> <a href="src/GHC.Core.Utils.html#getIdFromTrivialExpr" class="link">Source</a> <a href="#v:getIdFromTrivialExpr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getIdFromTrivialExpr_maybe" class="def">getIdFromTrivialExpr_maybe</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> <a href="src/GHC.Core.Utils.html#getIdFromTrivialExpr_maybe" class="link">Source</a> <a href="#v:getIdFromTrivialExpr_maybe" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:trivial_expr_fold" class="def">trivial_expr_fold</a> :: (<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; r) -&gt; (<a href="GHC-Types-Literal.html#t:Literal" title="GHC.Types.Literal">Literal</a> -&gt; r) -&gt; r -&gt; r -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; r <a href="src/GHC.Core.Utils.html#trivial_expr_fold" class="link">Source</a> <a href="#v:trivial_expr_fold" class="selflink">#</a></p><div class="doc"><p>The worker function for Note [exprIsTrivial] and Note [getIdFromTrivialExpr]
 This is meant to have the code of both functions in one place and make it
 easy to derive custom predicates.</p><p>(trivial_expr_fold k_id k_triv k_not_triv e)
 * returns (k_id x) if <code>e</code> is a variable <code>x</code> (with trivial wrapping)
 * returns (k_lit x) if <code>e</code> is a trivial literal <code>l</code> (with trivial wrapping)
 * returns k_triv if <code>e</code> is a literal, type, or coercion (with trivial wrapping)
 * returns k_not_triv otherwise</p><p>where &quot;trivial wrapping&quot; is
 * Type application or abstraction
 * Ticks other than <code><a href="GHC-Types-Tickish.html#v:tickishIsCode" title="GHC.Types.Tickish">tickishIsCode</a></code>
 * `case e of {}` an empty case</p></div></div><div class="top"><p class="src"><a id="v:exprIsDupable" class="def">exprIsDupable</a> :: <a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#exprIsDupable" class="link">Source</a> <a href="#v:exprIsDupable" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:exprIsCheap" class="def">exprIsCheap</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#exprIsCheap" class="link">Source</a> <a href="#v:exprIsCheap" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:exprIsExpandable" class="def">exprIsExpandable</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#exprIsExpandable" class="link">Source</a> <a href="#v:exprIsExpandable" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:exprIsCheapX" class="def">exprIsCheapX</a> :: <a href="GHC-Core-Utils.html#t:CheapAppFun" title="GHC.Core.Utils">CheapAppFun</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#exprIsCheapX" class="link">Source</a> <a href="#v:exprIsCheapX" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CheapAppFun" class="def">CheapAppFun</a> = <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Types-Basic.html#t:Arity" title="GHC.Types.Basic">Arity</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#CheapAppFun" class="link">Source</a> <a href="#t:CheapAppFun" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:exprIsHNF" class="def">exprIsHNF</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#exprIsHNF" class="link">Source</a> <a href="#v:exprIsHNF" class="selflink">#</a></p><div class="doc"><p>exprIsHNF returns true for expressions that are certainly <em>already</em>
 evaluated to <em>head</em> normal form.  This is used to decide whether it's ok
 to change:</p><pre>case x of _ -&gt; e</pre><p>into:</p><pre>e</pre><p>and to decide whether it's safe to discard a <code><a href="GHC-Prelude-Basic.html#v:seq" title="GHC.Prelude.Basic">seq</a></code>.</p><p>So, it does <em>not</em> treat variables as evaluated, unless they say they are.
 However, it <em>does</em> treat partial applications and constructor applications
 as values, even if their arguments are non-trivial, provided the argument
 type is lifted. For example, both of these are values:</p><pre>(:) (f x) (map f xs)
map (...redex...)</pre><p>because <code><a href="GHC-Prelude-Basic.html#v:seq" title="GHC.Prelude.Basic">seq</a></code> on such things completes immediately.</p><p>For unlifted argument types, we have to be careful:</p><pre>C (f x :: Int#)</pre><p>Suppose <code>f x</code> diverges; then <code>C (f x)</code> is not a value.
 We check for this using needsCaseBinding below</p></div></div><div class="top"><p class="src"><a id="v:exprOkForSpeculation" class="def">exprOkForSpeculation</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#exprOkForSpeculation" class="link">Source</a> <a href="#v:exprOkForSpeculation" class="selflink">#</a></p><div class="doc"><p><code><a href="GHC-Core-Utils.html#v:exprOkForSpeculation" title="GHC.Core.Utils">exprOkForSpeculation</a></code> returns True of an expression that is:</p><ul><li>Safe to evaluate even if normal order eval might not
    evaluate the expression at all, or</li><li>Safe <em>not</em> to evaluate even if normal order would do so</li></ul><p>It is usually called on arguments of unlifted type, but not always
 In particular, Simplify.rebuildCase calls it on lifted types
 when a 'case' is a plain <code><a href="GHC-Prelude-Basic.html#v:seq" title="GHC.Prelude.Basic">seq</a></code>. See the example in
 Note [exprOkForSpeculation: case expressions] below</p><p>Precisely, it returns <code>True</code> iff:
  a) The expression guarantees to terminate,
  b) soon,
  c) without causing a write side effect (e.g. writing a mutable variable)
  d) without throwing a Haskell exception
  e) without risking an unchecked runtime exception (array out of bounds,
     divide by zero)</p><p>For <code>exprOkForSideEffects</code> the list is the same, but omitting (e).</p><p>Note that
    exprIsHNF            implies exprOkForSpeculation
    exprOkForSpeculation implies exprOkForSideEffects</p><p>See Note [PrimOp can_fail and has_side_effects] in <a href="GHC-Builtin-PrimOps.html">GHC.Builtin.PrimOps</a>
 and Note [Transformations affected by can_fail and has_side_effects]</p><p>As an example of the considerations in this test, consider:</p><pre>let x = case y# +# 1# of { r# -&gt; I# r# }
in E</pre><p>being translated to:</p><pre>case y# +# 1# of { r# -&gt;
   let x = I# r#
   in E
}</pre><p>We can only do this if the <code>y + 1</code> is ok for speculation: it has no
 side effects, and can't diverge or raise an exception.</p></div></div><div class="top"><p class="src"><a id="v:exprOkForSideEffects" class="def">exprOkForSideEffects</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#exprOkForSideEffects" class="link">Source</a> <a href="#v:exprOkForSideEffects" class="selflink">#</a></p><div class="doc"><p><code><a href="GHC-Core-Utils.html#v:exprOkForSpeculation" title="GHC.Core.Utils">exprOkForSpeculation</a></code> returns True of an expression that is:</p><ul><li>Safe to evaluate even if normal order eval might not
    evaluate the expression at all, or</li><li>Safe <em>not</em> to evaluate even if normal order would do so</li></ul><p>It is usually called on arguments of unlifted type, but not always
 In particular, Simplify.rebuildCase calls it on lifted types
 when a 'case' is a plain <code><a href="GHC-Prelude-Basic.html#v:seq" title="GHC.Prelude.Basic">seq</a></code>. See the example in
 Note [exprOkForSpeculation: case expressions] below</p><p>Precisely, it returns <code>True</code> iff:
  a) The expression guarantees to terminate,
  b) soon,
  c) without causing a write side effect (e.g. writing a mutable variable)
  d) without throwing a Haskell exception
  e) without risking an unchecked runtime exception (array out of bounds,
     divide by zero)</p><p>For <code>exprOkForSideEffects</code> the list is the same, but omitting (e).</p><p>Note that
    exprIsHNF            implies exprOkForSpeculation
    exprOkForSpeculation implies exprOkForSideEffects</p><p>See Note [PrimOp can_fail and has_side_effects] in <a href="GHC-Builtin-PrimOps.html">GHC.Builtin.PrimOps</a>
 and Note [Transformations affected by can_fail and has_side_effects]</p><p>As an example of the considerations in this test, consider:</p><pre>let x = case y# +# 1# of { r# -&gt; I# r# }
in E</pre><p>being translated to:</p><pre>case y# +# 1# of { r# -&gt;
   let x = I# r#
   in E
}</pre><p>We can only do this if the <code>y + 1</code> is ok for speculation: it has no
 side effects, and can't diverge or raise an exception.</p></div></div><div class="top"><p class="src"><a id="v:exprOkForSpecEval" class="def">exprOkForSpecEval</a> :: (<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>) -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#exprOkForSpecEval" class="link">Source</a> <a href="#v:exprOkForSpecEval" class="selflink">#</a></p><div class="doc"><p>A special version of <code><a href="GHC-Core-Utils.html#v:exprOkForSpeculation" title="GHC.Core.Utils">exprOkForSpeculation</a></code> used during
 Note [Speculative evaluation]. When the predicate arg <code>fun_ok</code> returns False
 for <code>b</code>, then <code>b</code> is never considered ok-for-spec.</p></div></div><div class="top"><p class="src"><a id="v:exprIsWorkFree" class="def">exprIsWorkFree</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#exprIsWorkFree" class="link">Source</a> <a href="#v:exprIsWorkFree" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:exprIsConLike" class="def">exprIsConLike</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#exprIsConLike" class="link">Source</a> <a href="#v:exprIsConLike" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="GHC-Core-Utils.html#v:exprIsHNF" title="GHC.Core.Utils">exprIsHNF</a></code> but includes CONLIKE functions as well as
 data constructors. Conlike arguments are considered interesting by the
 inliner.</p></div></div><div class="top"><p class="src"><a id="v:isCheapApp" class="def">isCheapApp</a> :: <a href="GHC-Core-Utils.html#t:CheapAppFun" title="GHC.Core.Utils">CheapAppFun</a> <a href="src/GHC.Core.Utils.html#isCheapApp" class="link">Source</a> <a href="#v:isCheapApp" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isExpandableApp" class="def">isExpandableApp</a> :: <a href="GHC-Core-Utils.html#t:CheapAppFun" title="GHC.Core.Utils">CheapAppFun</a> <a href="src/GHC.Core.Utils.html#isExpandableApp" class="link">Source</a> <a href="#v:isExpandableApp" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isSaturatedConApp" class="def">isSaturatedConApp</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#isSaturatedConApp" class="link">Source</a> <a href="#v:isSaturatedConApp" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:exprIsTickedString" class="def">exprIsTickedString</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#exprIsTickedString" class="link">Source</a> <a href="#v:exprIsTickedString" class="selflink">#</a></p><div class="doc"><p>Check if the expression is zero or more Ticks wrapped around a literal
 string.</p></div></div><div class="top"><p class="src"><a id="v:exprIsTickedString_maybe" class="def">exprIsTickedString_maybe</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/GHC.Core.Utils.html#exprIsTickedString_maybe" class="link">Source</a> <a href="#v:exprIsTickedString_maybe" class="selflink">#</a></p><div class="doc"><p>Extract a literal string from an expression that is zero or more Ticks
 wrapped around a literal string. Returns Nothing if the expression has a
 different shape.
 Used to &quot;look through&quot; Ticks in places that need to handle literal strings.</p></div></div><div class="top"><p class="src"><a id="v:exprIsTopLevelBindable" class="def">exprIsTopLevelBindable</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#exprIsTopLevelBindable" class="link">Source</a> <a href="#v:exprIsTopLevelBindable" class="selflink">#</a></p><div class="doc"><p>Can we bind this <code><a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a></code> at the top level?</p></div></div><div class="top"><p class="src"><a id="v:altsAreExhaustive" class="def">altsAreExhaustive</a> :: [<a href="GHC-Core.html#t:Alt" title="GHC.Core">Alt</a> b] -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#altsAreExhaustive" class="link">Source</a> <a href="#v:altsAreExhaustive" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:etaExpansionTick" class="def">etaExpansionTick</a> :: <a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a> -&gt; <a href="GHC-Types-Tickish.html#t:GenTickish" title="GHC.Types.Tickish">GenTickish</a> pass -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#etaExpansionTick" class="link">Source</a> <a href="#v:etaExpansionTick" class="selflink">#</a></p><div class="doc"><p>Should we look past this tick when eta-expanding the given function?</p><p>See Note [Ticks and mandatory eta expansion]
 Takes the function we are applying as argument.</p></div></div><a href="#g:4" id="g:4"><h1>Equality</h1></a><div class="top"><p class="src"><a id="v:cheapEqExpr" class="def">cheapEqExpr</a> :: <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#cheapEqExpr" class="link">Source</a> <a href="#v:cheapEqExpr" class="selflink">#</a></p><div class="doc"><p>A cheap equality test which bales out fast!
      If it returns <code>True</code> the arguments are definitely equal,
      otherwise, they may or may not be equal.</p></div></div><div class="top"><p class="src"><a id="v:cheapEqExpr-39-" class="def">cheapEqExpr'</a> :: (<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>) -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#cheapEqExpr%27" class="link">Source</a> <a href="#v:cheapEqExpr-39-" class="selflink">#</a></p><div class="doc"><p>Cheap expression equality test, can ignore ticks by type.</p></div></div><div class="top"><p class="src"><a id="v:diffBinds" class="def">diffBinds</a> :: <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> -&gt; <a href="GHC-Types-Var-Env.html#t:RnEnv2" title="GHC.Types.Var.Env">RnEnv2</a> -&gt; [(<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>, <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a>)] -&gt; [(<a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a>, <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a>)] -&gt; ([<a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a>], <a href="GHC-Types-Var-Env.html#t:RnEnv2" title="GHC.Types.Var.Env">RnEnv2</a>) <a href="src/GHC.Core.Utils.html#diffBinds" class="link">Source</a> <a href="#v:diffBinds" class="selflink">#</a></p><div class="doc"><p>Finds differences between core bindings, see <code>diffExpr</code>.</p><p>The main problem here is that while we expect the binds to have the
 same order in both lists, this is not guaranteed. To do this
 properly we'd either have to do some sort of unification or check
 all possible mappings, which would be seriously expensive. So
 instead we simply match single bindings as far as we can. This
 leaves us just with mutually recursive and/or mismatching bindings,
 which we then speculatively match by ordering them. It's by no means
 perfect, but gets the job done well enough.</p><p>Only used in GHC.Core.Lint.lintAnnots</p></div></div><a href="#g:5" id="g:5"><h1>Manipulating data constructors and types</h1></a><div class="top"><p class="src"><a id="v:exprToType" class="def">exprToType</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> <a href="src/GHC.Core.html#exprToType" class="link">Source</a> <a href="#v:exprToType" class="selflink">#</a></p><div class="doc"><p>If the expression is a <code><a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a></code>, converts. Otherwise,
 panics. NB: This does <em>not</em> convert <code><a href="GHC-Core-Coercion.html#t:Coercion" title="GHC.Core.Coercion">Coercion</a></code> to <code>CoercionTy</code>.</p></div></div><div class="top"><p class="src"><a id="v:applyTypeToArgs" class="def">applyTypeToArgs</a> :: <a href="GHC-Utils-Misc.html#t:HasDebugCallStack" title="GHC.Utils.Misc">HasDebugCallStack</a> =&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; [<a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a>] -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> <a href="src/GHC.Core.Utils.html#applyTypeToArgs" class="link">Source</a> <a href="#v:applyTypeToArgs" class="selflink">#</a></p><div class="doc"><p>Determines the type resulting from applying an expression with given type</p></div></div><div class="top"><p class="src"><a id="v:dataConRepInstPat" class="def">dataConRepInstPat</a> :: [<a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a>] -&gt; <a href="GHC-Core-Type.html#t:Mult" title="GHC.Core.Type">Mult</a> -&gt; <a href="GHC-Core-DataCon.html#t:DataCon" title="GHC.Core.DataCon">DataCon</a> -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; ([<a href="GHC-Types-Var.html#t:TyCoVar" title="GHC.Types.Var">TyCoVar</a>], [<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>]) <a href="src/GHC.Core.Utils.html#dataConRepInstPat" class="link">Source</a> <a href="#v:dataConRepInstPat" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dataConRepFSInstPat" class="def">dataConRepFSInstPat</a> :: [<a href="GHC-Data-FastString.html#t:FastString" title="GHC.Data.FastString">FastString</a>] -&gt; [<a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a>] -&gt; <a href="GHC-Core-Type.html#t:Mult" title="GHC.Core.Type">Mult</a> -&gt; <a href="GHC-Core-DataCon.html#t:DataCon" title="GHC.Core.DataCon">DataCon</a> -&gt; [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>] -&gt; ([<a href="GHC-Types-Var.html#t:TyCoVar" title="GHC.Types.Var">TyCoVar</a>], [<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>]) <a href="src/GHC.Core.Utils.html#dataConRepFSInstPat" class="link">Source</a> <a href="#v:dataConRepFSInstPat" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isEmptyTy" class="def">isEmptyTy</a> :: <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#isEmptyTy" class="link">Source</a> <a href="#v:isEmptyTy" class="selflink">#</a></p><div class="doc"><p>True if the type has no non-bottom elements, e.g. when it is an empty
 datatype, or a GADT with non-satisfiable type parameters, e.g. Int :~: Bool.
 See Note [Bottoming expressions]</p><p>See Note [No alternatives lint check] for another use of this function.</p></div></div><div class="top"><p class="src"><a id="v:normSplitTyConApp_maybe" class="def">normSplitTyConApp_maybe</a> :: <a href="GHC-Core-FamInstEnv.html#t:FamInstEnvs" title="GHC.Core.FamInstEnv">FamInstEnvs</a> -&gt; <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> (<a href="GHC-Core-TyCon.html#t:TyCon" title="GHC.Core.TyCon">TyCon</a>, [<a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>], <a href="GHC-Core-Coercion.html#t:Coercion" title="GHC.Core.Coercion">Coercion</a>) <a href="src/GHC.Core.Utils.html#normSplitTyConApp_maybe" class="link">Source</a> <a href="#v:normSplitTyConApp_maybe" class="selflink">#</a></p><div class="doc"><p>If <code>normSplitTyConApp_maybe _ ty = Just (tc, tys, co)</code>
 then <code>ty |&gt; co = tc tys</code>. It's <code><a href="GHC-Core-Type.html#v:splitTyConApp_maybe" title="GHC.Core.Type">splitTyConApp_maybe</a></code>, but looks through
 coercions via <code><a href="GHC-Core-FamInstEnv.html#v:topNormaliseType_maybe" title="GHC.Core.FamInstEnv">topNormaliseType_maybe</a></code>. Hence the &quot;norm&quot; prefix.</p></div></div><a href="#g:6" id="g:6"><h1>Working with ticks</h1></a><div class="top"><p class="src"><a id="v:stripTicksTop" class="def">stripTicksTop</a> :: (<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>) -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; ([<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a>], <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b) <a href="src/GHC.Core.Utils.html#stripTicksTop" class="link">Source</a> <a href="#v:stripTicksTop" class="selflink">#</a></p><div class="doc"><p>Strip ticks satisfying a predicate from top of an expression</p></div></div><div class="top"><p class="src"><a id="v:stripTicksTopE" class="def">stripTicksTopE</a> :: (<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>) -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b <a href="src/GHC.Core.Utils.html#stripTicksTopE" class="link">Source</a> <a href="#v:stripTicksTopE" class="selflink">#</a></p><div class="doc"><p>Strip ticks satisfying a predicate from top of an expression,
 returning the remaining expression</p></div></div><div class="top"><p class="src"><a id="v:stripTicksTopT" class="def">stripTicksTopT</a> :: (<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>) -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; [<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a>] <a href="src/GHC.Core.Utils.html#stripTicksTopT" class="link">Source</a> <a href="#v:stripTicksTopT" class="selflink">#</a></p><div class="doc"><p>Strip ticks satisfying a predicate from top of an expression,
 returning the ticks</p></div></div><div class="top"><p class="src"><a id="v:stripTicksE" class="def">stripTicksE</a> :: (<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>) -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b <a href="src/GHC.Core.Utils.html#stripTicksE" class="link">Source</a> <a href="#v:stripTicksE" class="selflink">#</a></p><div class="doc"><p>Completely strip ticks satisfying a predicate from an
 expression. Note this is O(n) in the size of the expression!</p></div></div><div class="top"><p class="src"><a id="v:stripTicksT" class="def">stripTicksT</a> :: (<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a>) -&gt; <a href="GHC-Core.html#t:Expr" title="GHC.Core">Expr</a> b -&gt; [<a href="GHC-Types-Tickish.html#t:CoreTickish" title="GHC.Types.Tickish">CoreTickish</a>] <a href="src/GHC.Core.Utils.html#stripTicksT" class="link">Source</a> <a href="#v:stripTicksT" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h1>InScopeSet things which work over CoreBinds</h1></a><div class="top"><p class="src"><a id="v:mkInScopeSetBndrs" class="def">mkInScopeSetBndrs</a> :: [<a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a>] -&gt; <a href="GHC-Types-Var-Env.html#t:InScopeSet" title="GHC.Types.Var.Env">InScopeSet</a> <a href="src/GHC.Core.Utils.html#mkInScopeSetBndrs" class="link">Source</a> <a href="#v:mkInScopeSetBndrs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendInScopeSetBind" class="def">extendInScopeSetBind</a> :: <a href="GHC-Types-Var-Env.html#t:InScopeSet" title="GHC.Types.Var.Env">InScopeSet</a> -&gt; <a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a> -&gt; <a href="GHC-Types-Var-Env.html#t:InScopeSet" title="GHC.Types.Var.Env">InScopeSet</a> <a href="src/GHC.Core.Utils.html#extendInScopeSetBind" class="link">Source</a> <a href="#v:extendInScopeSetBind" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:extendInScopeSetBndrs" class="def">extendInScopeSetBndrs</a> :: <a href="GHC-Types-Var-Env.html#t:InScopeSet" title="GHC.Types.Var.Env">InScopeSet</a> -&gt; [<a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a>] -&gt; <a href="GHC-Types-Var-Env.html#t:InScopeSet" title="GHC.Types.Var.Env">InScopeSet</a> <a href="src/GHC.Core.Utils.html#extendInScopeSetBndrs" class="link">Source</a> <a href="#v:extendInScopeSetBndrs" class="selflink">#</a></p></div><a href="#g:8" id="g:8"><h1>StaticPtr</h1></a><div class="top"><p class="src"><a id="v:collectMakeStaticArgs" class="def">collectMakeStaticArgs</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> (<a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a>, <a href="GHC-Core-Type.html#t:Type" title="GHC.Core.Type">Type</a>, <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a>, <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a>) <a href="src/GHC.Core.Utils.html#collectMakeStaticArgs" class="link">Source</a> <a href="#v:collectMakeStaticArgs" class="selflink">#</a></p><div class="doc"><p><code>collectMakeStaticArgs (makeStatic t srcLoc e)</code> yields
 <code>Just (makeStatic, t, srcLoc, e)</code>.</p><p>Returns <code>Nothing</code> for every other expression.</p></div></div><a href="#g:9" id="g:9"><h1>Join points</h1></a><div class="top"><p class="src"><a id="v:isJoinBind" class="def">isJoinBind</a> :: <a href="GHC-Core.html#t:CoreBind" title="GHC.Core">CoreBind</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#isJoinBind" class="link">Source</a> <a href="#v:isJoinBind" class="selflink">#</a></p><div class="doc"><p>Does this binding bind a join point (or a recursive group of join points)?</p></div></div><a href="#g:10" id="g:10"><h1>Tag inference</h1></a><div class="top"><p class="src"><a id="v:mkStrictFieldSeqs" class="def">mkStrictFieldSeqs</a> :: [(<a href="GHC-Types-Var.html#t:Id" title="GHC.Types.Var">Id</a>, <a href="GHC-Core-DataCon.html#t:StrictnessMark" title="GHC.Core.DataCon">StrictnessMark</a>)] -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> <a href="src/GHC.Core.Utils.html#mkStrictFieldSeqs" class="link">Source</a> <a href="#v:mkStrictFieldSeqs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:shouldStrictifyIdForCbv" class="def">shouldStrictifyIdForCbv</a> :: <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#shouldStrictifyIdForCbv" class="link">Source</a> <a href="#v:shouldStrictifyIdForCbv" class="selflink">#</a></p><div class="doc"><p>Do we expect there to be any benefit if we make this var strict
 in order for it to get treated as as cbv argument?
 See Note [Which Ids should be strictified]
 See Note [CBV Function Ids] for more background.</p></div></div><div class="top"><p class="src"><a id="v:shouldUseCbvForId" class="def">shouldUseCbvForId</a> :: <a href="GHC-Types-Var.html#t:Var" title="GHC.Types.Var">Var</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#shouldUseCbvForId" class="link">Source</a> <a href="#v:shouldUseCbvForId" class="selflink">#</a></p></div><a href="#g:11" id="g:11"><h1>unsafeEqualityProof</h1></a><div class="top"><p class="src"><a id="v:isUnsafeEqualityProof" class="def">isUnsafeEqualityProof</a> :: <a href="GHC-Core.html#t:CoreExpr" title="GHC.Core">CoreExpr</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.Core.Utils.html#isUnsafeEqualityProof" class="link">Source</a> <a href="#v:isUnsafeEqualityProof" class="selflink">#</a></p></div><a href="#g:12" id="g:12"><h1>Dumping stuff</h1></a><div class="top"><p class="src"><a id="v:dumpIdInfoOfProgram" class="def">dumpIdInfoOfProgram</a> :: <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> -&gt; (<a href="GHC-Types-Id-Info.html#t:IdInfo" title="GHC.Types.Id.Info">IdInfo</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a>) -&gt; <a href="GHC-Core.html#t:CoreProgram" title="GHC.Core">CoreProgram</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> <a href="src/GHC.Core.Utils.html#dumpIdInfoOfProgram" class="link">Source</a> <a href="#v:dumpIdInfoOfProgram" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>