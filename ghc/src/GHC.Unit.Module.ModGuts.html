<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Unit.Module.ModGuts</span><span>
</span><span id="line-2"></span><span>   </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Unit.Module.ModGuts.html#ModGuts"><span class="hs-identifier">ModGuts</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-3"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Unit.Module.ModGuts.html#mg_mnwib"><span class="hs-identifier">mg_mnwib</span></a></span><span>
</span><span id="line-4"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Unit.Module.ModGuts.html#CgGuts"><span class="hs-identifier">CgGuts</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-5"></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-6"></span><span class="hs-keyword">where</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.ByteCode.Types.html"><span class="hs-identifier">GHC.ByteCode.Types</span></a></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../ghc-boot-9.6.7/src/GHC.ForeignSrcLang.html#/GHC.ForeignSrcLang.html"><span class="hs-identifier">GHC.ForeignSrcLang</span></a></span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.html"><span class="hs-identifier">GHC.Hs</span></a></span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.html"><span class="hs-identifier">GHC.Unit</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Deps.html"><span class="hs-identifier">GHC.Unit.Module.Deps</span></a></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Warnings.html"><span class="hs-identifier">GHC.Unit.Module.Warnings</span></a></span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.InstEnv.html"><span class="hs-identifier">GHC.Core.InstEnv</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.InstEnv.html#InstEnv"><span class="hs-identifier">InstEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.InstEnv.html#ClsInst"><span class="hs-identifier">ClsInst</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.FamInstEnv.html"><span class="hs-identifier">GHC.Core.FamInstEnv</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.html"><span class="hs-identifier">GHC.Core</span></a></span><span>         </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.html#CoreProgram"><span class="hs-identifier">CoreProgram</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.html#CoreRule"><span class="hs-identifier">CoreRule</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.PatSyn.html"><span class="hs-identifier">GHC.Core.PatSyn</span></a></span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Linker.Types.html"><span class="hs-identifier">GHC.Linker.Types</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Linker.Types.html#SptEntry"><span class="hs-identifier">SptEntry</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Annotations.html"><span class="hs-identifier">GHC.Types.Annotations</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Annotations.html#Annotation"><span class="hs-identifier">Annotation</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html"><span class="hs-identifier">GHC.Types.Avail</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.CompleteMatch.html"><span class="hs-identifier">GHC.Types.CompleteMatch</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Fixity.Env.html"><span class="hs-identifier">GHC.Types.Fixity.Env</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.ForeignStubs.html"><span class="hs-identifier">GHC.Types.ForeignStubs</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.HpcInfo.html"><span class="hs-identifier">GHC.Types.HpcInfo</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html"><span class="hs-identifier">GHC.Types.Name.Reader</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html"><span class="hs-identifier">GHC.Types.Name.Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Set.html#NameSet"><span class="hs-identifier">NameSet</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SafeHaskell.html"><span class="hs-identifier">GHC.Types.SafeHaskell</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SourceFile.html"><span class="hs-identifier">GHC.Types.SourceFile</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.SourceFile.html#HscSource"><span class="hs-identifier">HscSource</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.SourceFile.html#hscSourceToIsBoot"><span class="hs-identifier">hscSourceToIsBoot</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.CostCentre.html"><span class="hs-identifier">GHC.Types.CostCentre</span></a></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../containers-0.6.7/src/Data.Set.html#/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.7/src/Data.Set.Internal.html#Set/Data.Set.Internal.html#Set"><span class="hs-identifier">Set</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-comment">-- | A ModGuts is carried through the compiler, accumulating stuff as it goes</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- There is only one ModGuts at any time, the one for the module</span><span>
</span><span id="line-45"></span><span class="hs-comment">-- being compiled right now.  Once it is compiled, a 'ModIface' and</span><span>
</span><span id="line-46"></span><span class="hs-comment">-- 'ModDetails' are extracted and the ModGuts is discarded.</span><span>
</span><span id="line-47"></span><span class="hs-keyword">data</span><span> </span><span id="ModGuts"><span class="annot"><a href="GHC.Unit.Module.ModGuts.html#ModGuts"><span class="hs-identifier hs-var">ModGuts</span></a></span></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="ModGuts"><span class="annot"><a href="GHC.Unit.Module.ModGuts.html#ModGuts"><span class="hs-identifier hs-var">ModGuts</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-49"></span><span>        </span><span id="mg_module"><span class="annot"><span class="annottext">ModGuts -&gt; Module
</span><a href="GHC.Unit.Module.ModGuts.html#mg_module"><span class="hs-identifier hs-var hs-var">mg_module</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span class="hs-special">,</span><span>         </span><span class="annot"><span class="hs-comment">-- ^ Module being compiled</span></span><span>
</span><span id="line-50"></span><span>        </span><span id="mg_hsc_src"><span class="annot"><span class="annottext">ModGuts -&gt; HscSource
</span><a href="GHC.Unit.Module.ModGuts.html#mg_hsc_src"><span class="hs-identifier hs-var hs-var">mg_hsc_src</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SourceFile.html#HscSource"><span class="hs-identifier hs-type">HscSource</span></a></span><span class="hs-special">,</span><span>       </span><span class="annot"><span class="hs-comment">-- ^ Whether it's an hs-boot module</span></span><span>
</span><span id="line-51"></span><span>        </span><span id="mg_loc"><span class="annot"><span class="annottext">ModGuts -&gt; SrcSpan
</span><a href="GHC.Unit.Module.ModGuts.html#mg_loc"><span class="hs-identifier hs-var hs-var">mg_loc</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span>         </span><span class="annot"><span class="hs-comment">-- ^ For error messages from inner passes</span></span><span>
</span><span id="line-52"></span><span>        </span><span id="mg_exports"><span class="annot"><span class="annottext">ModGuts -&gt; [AvailInfo]
</span><a href="GHC.Unit.Module.ModGuts.html#mg_exports"><span class="hs-identifier hs-var hs-var">mg_exports</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Avail.html#AvailInfo"><span class="hs-identifier hs-type">AvailInfo</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>    </span><span class="annot"><span class="hs-comment">-- ^ What it exports</span></span><span>
</span><span id="line-53"></span><span>        </span><span id="mg_deps"><span class="annot"><span class="annottext">ModGuts -&gt; Dependencies
</span><a href="GHC.Unit.Module.ModGuts.html#mg_deps"><span class="hs-identifier hs-var hs-var">mg_deps</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Unit.Module.Deps.html#Dependencies"><span class="hs-identifier hs-type">Dependencies</span></a></span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ What it depends on, directly or</span><span>
</span><span id="line-54"></span><span>                                         </span><span class="hs-comment">-- otherwise</span><span>
</span><span id="line-55"></span><span>        </span><span id="mg_usages"><span class="annot"><span class="annottext">ModGuts -&gt; [Usage]
</span><a href="GHC.Unit.Module.ModGuts.html#mg_usages"><span class="hs-identifier hs-var hs-var">mg_usages</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Unit.Module.Deps.html#Usage"><span class="hs-identifier hs-type">Usage</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>        </span><span class="annot"><span class="hs-comment">-- ^ What was used?  Used for interfaces.</span></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span>        </span><span id="mg_used_th"><span class="annot"><span class="annottext">ModGuts -&gt; Bool
</span><a href="GHC.Unit.Module.ModGuts.html#mg_used_th"><span class="hs-identifier hs-var hs-var">mg_used_th</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span>           </span><span class="annot"><span class="hs-comment">-- ^ Did we run a TH splice?</span></span><span>
</span><span id="line-58"></span><span>        </span><span id="mg_rdr_env"><span class="annot"><span class="annottext">ModGuts -&gt; GlobalRdrEnv
</span><a href="GHC.Unit.Module.ModGuts.html#mg_rdr_env"><span class="hs-identifier hs-var hs-var">mg_rdr_env</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Top-level lexical environment</span></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span>        </span><span class="hs-comment">-- These fields all describe the things **declared in this module**</span><span>
</span><span id="line-61"></span><span>        </span><span id="mg_fix_env"><span class="annot"><span class="annottext">ModGuts -&gt; FixityEnv
</span><a href="GHC.Unit.Module.ModGuts.html#mg_fix_env"><span class="hs-identifier hs-var hs-var">mg_fix_env</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.Fixity.Env.html#FixityEnv"><span class="hs-identifier hs-type">FixityEnv</span></a></span><span class="hs-special">,</span><span>      </span><span class="hs-comment">-- ^ Fixities declared in this module.</span><span>
</span><span id="line-62"></span><span>                                         </span><span class="hs-comment">-- Used for creating interface files.</span><span>
</span><span id="line-63"></span><span>        </span><span id="mg_tcs"><span class="annot"><span class="annottext">ModGuts -&gt; [TyCon]
</span><a href="GHC.Unit.Module.ModGuts.html#mg_tcs"><span class="hs-identifier hs-var hs-var">mg_tcs</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>        </span><span class="hs-comment">-- ^ TyCons declared in this module</span><span>
</span><span id="line-64"></span><span>                                         </span><span class="hs-comment">-- (includes TyCons for classes)</span><span>
</span><span id="line-65"></span><span>        </span><span id="mg_insts"><span class="annot"><span class="annottext">ModGuts -&gt; [ClsInst]
</span><a href="GHC.Unit.Module.ModGuts.html#mg_insts"><span class="hs-identifier hs-var hs-var">mg_insts</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.InstEnv.html#ClsInst"><span class="hs-identifier hs-type">ClsInst</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>      </span><span class="annot"><span class="hs-comment">-- ^ Class instances declared in this module</span></span><span>
</span><span id="line-66"></span><span>        </span><span id="mg_fam_insts"><span class="annot"><span class="annottext">ModGuts -&gt; [FamInst]
</span><a href="GHC.Unit.Module.ModGuts.html#mg_fam_insts"><span class="hs-identifier hs-var hs-var">mg_fam_insts</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.FamInstEnv.html#FamInst"><span class="hs-identifier hs-type">FamInst</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>                                         </span><span class="annot"><span class="hs-comment">-- ^ Family instances declared in this module</span></span><span>
</span><span id="line-68"></span><span>        </span><span id="mg_patsyns"><span class="annot"><span class="annottext">ModGuts -&gt; [PatSyn]
</span><a href="GHC.Unit.Module.ModGuts.html#mg_patsyns"><span class="hs-identifier hs-var hs-var">mg_patsyns</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.PatSyn.html#PatSyn"><span class="hs-identifier hs-type">PatSyn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>       </span><span class="annot"><span class="hs-comment">-- ^ Pattern synonyms declared in this module</span></span><span>
</span><span id="line-69"></span><span>        </span><span id="mg_rules"><span class="annot"><span class="annottext">ModGuts -&gt; [CoreRule]
</span><a href="GHC.Unit.Module.ModGuts.html#mg_rules"><span class="hs-identifier hs-var hs-var">mg_rules</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.html#CoreRule"><span class="hs-identifier hs-type">CoreRule</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>     </span><span class="hs-comment">-- ^ Before the core pipeline starts, contains</span><span>
</span><span id="line-70"></span><span>                                         </span><span class="hs-comment">-- See Note [Overall plumbing for rules] in &quot;GHC.Core.Rules&quot;</span><span>
</span><span id="line-71"></span><span>        </span><span id="mg_binds"><span class="annot"><span class="annottext">ModGuts -&gt; CoreProgram
</span><a href="GHC.Unit.Module.ModGuts.html#mg_binds"><span class="hs-identifier hs-var hs-var">mg_binds</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Core.html#CoreProgram"><span class="hs-identifier hs-type">CoreProgram</span></a></span><span class="hs-special">,</span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Bindings for this module</span></span><span>
</span><span id="line-72"></span><span>        </span><span id="mg_foreign"><span class="annot"><span class="annottext">ModGuts -&gt; ForeignStubs
</span><a href="GHC.Unit.Module.ModGuts.html#mg_foreign"><span class="hs-identifier hs-var hs-var">mg_foreign</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.ForeignStubs.html#ForeignStubs"><span class="hs-identifier hs-type">ForeignStubs</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Foreign exports declared in this module</span></span><span>
</span><span id="line-73"></span><span>        </span><span id="mg_foreign_files"><span class="annot"><span class="annottext">ModGuts -&gt; [(ForeignSrcLang, FilePath)]
</span><a href="GHC.Unit.Module.ModGuts.html#mg_foreign_files"><span class="hs-identifier hs-var hs-var">mg_foreign_files</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ForeignSrcLang</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.IO.html#FilePath/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ Files to be compiled with the C compiler</span></span><span>
</span><span id="line-75"></span><span>        </span><span id="mg_warns"><span class="annot"><span class="annottext">ModGuts -&gt; Warnings GhcRn
</span><a href="GHC.Unit.Module.ModGuts.html#mg_warns"><span class="hs-identifier hs-var hs-var">mg_warns</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Unit.Module.Warnings.html#Warnings"><span class="hs-identifier hs-type">Warnings</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Warnings declared in the module</span></span><span>
</span><span id="line-76"></span><span>        </span><span id="mg_anns"><span class="annot"><span class="annottext">ModGuts -&gt; [Annotation]
</span><a href="GHC.Unit.Module.ModGuts.html#mg_anns"><span class="hs-identifier hs-var hs-var">mg_anns</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Annotations.html#Annotation"><span class="hs-identifier hs-type">Annotation</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Annotations declared in this module</span></span><span>
</span><span id="line-77"></span><span>        </span><span id="mg_complete_matches"><span class="annot"><span class="annottext">ModGuts -&gt; [CompleteMatch]
</span><a href="GHC.Unit.Module.ModGuts.html#mg_complete_matches"><span class="hs-identifier hs-var hs-var">mg_complete_matches</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.CompleteMatch.html#CompleteMatch"><span class="hs-identifier hs-type">CompleteMatch</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Complete Matches</span></span><span>
</span><span id="line-78"></span><span>        </span><span id="mg_hpc_info"><span class="annot"><span class="annottext">ModGuts -&gt; HpcInfo
</span><a href="GHC.Unit.Module.ModGuts.html#mg_hpc_info"><span class="hs-identifier hs-var hs-var">mg_hpc_info</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.HpcInfo.html#HpcInfo"><span class="hs-identifier hs-type">HpcInfo</span></a></span><span class="hs-special">,</span><span>        </span><span class="annot"><span class="hs-comment">-- ^ Coverage tick boxes in the module</span></span><span>
</span><span id="line-79"></span><span>        </span><span id="mg_modBreaks"><span class="annot"><span class="annottext">ModGuts -&gt; Maybe ModBreaks
</span><a href="GHC.Unit.Module.ModGuts.html#mg_modBreaks"><span class="hs-identifier hs-var hs-var">mg_modBreaks</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.ByteCode.Types.html#ModBreaks"><span class="hs-identifier hs-type">ModBreaks</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Breakpoints for the module</span></span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span>                        </span><span class="hs-comment">-- The next two fields are unusual, because they give instance</span><span>
</span><span id="line-82"></span><span>                        </span><span class="hs-comment">-- environments for *all* modules in the home package, including</span><span>
</span><span id="line-83"></span><span>                        </span><span class="hs-comment">-- this module, rather than for *just* this module.</span><span>
</span><span id="line-84"></span><span>                        </span><span class="hs-comment">-- Reason: when looking up an instance we don't want to have to</span><span>
</span><span id="line-85"></span><span>                        </span><span class="hs-comment">--         look at each module in the home package in turn</span><span>
</span><span id="line-86"></span><span>        </span><span id="mg_inst_env"><span class="annot"><span class="annottext">ModGuts -&gt; InstEnv
</span><a href="GHC.Unit.Module.ModGuts.html#mg_inst_env"><span class="hs-identifier hs-var hs-var">mg_inst_env</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.InstEnv.html#InstEnv"><span class="hs-identifier hs-type">InstEnv</span></a></span><span class="hs-special">,</span><span>             </span><span class="hs-comment">-- ^ Class instance environment for</span><span>
</span><span id="line-87"></span><span>                                                </span><span class="hs-comment">-- /home-package/ modules (including this</span><span>
</span><span id="line-88"></span><span>                                                </span><span class="hs-comment">-- one); c.f. 'tcg_inst_env'</span><span>
</span><span id="line-89"></span><span>        </span><span id="mg_fam_inst_env"><span class="annot"><span class="annottext">ModGuts -&gt; FamInstEnv
</span><a href="GHC.Unit.Module.ModGuts.html#mg_fam_inst_env"><span class="hs-identifier hs-var hs-var">mg_fam_inst_env</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.FamInstEnv.html#FamInstEnv"><span class="hs-identifier hs-type">FamInstEnv</span></a></span><span class="hs-special">,</span><span>          </span><span class="hs-comment">-- ^ Type-family instance environment for</span><span>
</span><span id="line-90"></span><span>                                                </span><span class="hs-comment">-- /home-package/ modules (including this</span><span>
</span><span id="line-91"></span><span>                                                </span><span class="hs-comment">-- one); c.f. 'tcg_fam_inst_env'</span><span>
</span><span id="line-92"></span><span>        </span><span id="mg_boot_exports"><span class="annot"><span class="annottext">ModGuts -&gt; NameSet
</span><a href="GHC.Unit.Module.ModGuts.html#mg_boot_exports"><span class="hs-identifier hs-var hs-var">mg_boot_exports</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.Name.Set.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a></span><span class="hs-special">,</span><span>             </span><span class="hs-comment">-- Things that are also export via hs-boot file</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span>        </span><span id="mg_safe_haskell"><span class="annot"><span class="annottext">ModGuts -&gt; SafeHaskellMode
</span><a href="GHC.Unit.Module.ModGuts.html#mg_safe_haskell"><span class="hs-identifier hs-var hs-var">mg_safe_haskell</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SafeHaskell.html#SafeHaskellMode"><span class="hs-identifier hs-type">SafeHaskellMode</span></a></span><span class="hs-special">,</span><span>     </span><span class="annot"><span class="hs-comment">-- ^ Safe Haskell mode</span></span><span>
</span><span id="line-95"></span><span>        </span><span id="mg_trust_pkg"><span class="annot"><span class="annottext">ModGuts -&gt; Bool
</span><a href="GHC.Unit.Module.ModGuts.html#mg_trust_pkg"><span class="hs-identifier hs-var hs-var">mg_trust_pkg</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span>                </span><span class="hs-comment">-- ^ Do we need to trust our</span><span>
</span><span id="line-96"></span><span>                                                </span><span class="hs-comment">-- own package for Safe Haskell?</span><span>
</span><span id="line-97"></span><span>                                                </span><span class="hs-comment">-- See Note [Trust Own Package]</span><span>
</span><span id="line-98"></span><span>                                                </span><span class="hs-comment">-- in &quot;GHC.Rename.Names&quot;</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span>        </span><span id="mg_docs"><span class="annot"><span class="annottext">ModGuts -&gt; Maybe Docs
</span><a href="GHC.Unit.Module.ModGuts.html#mg_docs"><span class="hs-identifier hs-var hs-var">mg_docs</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#Docs"><span class="hs-identifier hs-type">Docs</span></a></span><span class="hs-special">)</span><span>       </span><span class="annot"><span class="hs-comment">-- ^ Documentation.</span></span><span>
</span><span id="line-101"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="annot"><a href="GHC.Unit.Module.ModGuts.html#mg_mnwib"><span class="hs-identifier hs-type">mg_mnwib</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Module.ModGuts.html#ModGuts"><span class="hs-identifier hs-type">ModGuts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#ModuleNameWithIsBoot"><span class="hs-identifier hs-type">ModuleNameWithIsBoot</span></a></span><span>
</span><span id="line-104"></span><span id="mg_mnwib"><span class="annot"><span class="annottext">mg_mnwib :: ModGuts -&gt; ModuleNameWithIsBoot
</span><a href="GHC.Unit.Module.ModGuts.html#mg_mnwib"><span class="hs-identifier hs-var hs-var">mg_mnwib</span></a></span></span><span> </span><span id="local-6989586621681904893"><span class="annot"><span class="annottext">ModGuts
</span><a href="#local-6989586621681904893"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; IsBootInterface -&gt; ModuleNameWithIsBoot
forall mod. mod -&gt; IsBootInterface -&gt; GenWithIsBoot mod
</span><a href="GHC.Unit.Types.html#GWIB"><span class="hs-identifier hs-var">GWIB</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span><a href="GHC.Unit.Types.html#moduleName"><span class="hs-identifier hs-var">moduleName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModGuts -&gt; Module
</span><a href="GHC.Unit.Module.ModGuts.html#mg_module"><span class="hs-identifier hs-var">mg_module</span></a></span><span> </span><span class="annot"><span class="annottext">ModGuts
</span><a href="#local-6989586621681904893"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HscSource -&gt; IsBootInterface
</span><a href="GHC.Types.SourceFile.html#hscSourceToIsBoot"><span class="hs-identifier hs-var">hscSourceToIsBoot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModGuts -&gt; HscSource
</span><a href="GHC.Unit.Module.ModGuts.html#mg_hsc_src"><span class="hs-identifier hs-var">mg_hsc_src</span></a></span><span> </span><span class="annot"><span class="annottext">ModGuts
</span><a href="#local-6989586621681904893"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-comment">-- The ModGuts takes on several slightly different forms:</span><span>
</span><span id="line-107"></span><span class="hs-comment">--</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- After simplification, the following fields change slightly:</span><span>
</span><span id="line-109"></span><span class="hs-comment">--      mg_rules        Orphan rules only (local ones now attached to binds)</span><span>
</span><span id="line-110"></span><span class="hs-comment">--      mg_binds        With rules attached</span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-comment">---------------------------------------------------------</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- The Tidy pass forks the information about this module:</span><span>
</span><span id="line-114"></span><span class="hs-comment">--      * one lot goes to interface file generation (ModIface)</span><span>
</span><span id="line-115"></span><span class="hs-comment">--        and later compilations (ModDetails)</span><span>
</span><span id="line-116"></span><span class="hs-comment">--      * the other lot goes to code generation (CgGuts)</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="annot"><span class="hs-comment">-- | A restricted form of 'ModGuts' for code generation purposes</span></span><span>
</span><span id="line-119"></span><span class="hs-keyword">data</span><span> </span><span id="CgGuts"><span class="annot"><a href="GHC.Unit.Module.ModGuts.html#CgGuts"><span class="hs-identifier hs-var">CgGuts</span></a></span></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="CgGuts"><span class="annot"><a href="GHC.Unit.Module.ModGuts.html#CgGuts"><span class="hs-identifier hs-var">CgGuts</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-121"></span><span>        </span><span id="cg_module"><span class="annot"><span class="annottext">CgGuts -&gt; Module
</span><a href="GHC.Unit.Module.ModGuts.html#cg_module"><span class="hs-identifier hs-var hs-var">cg_module</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-122"></span><span>                </span><span class="annot"><span class="hs-comment">-- ^ Module being compiled</span></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span>        </span><span id="cg_tycons"><span class="annot"><span class="annottext">CgGuts -&gt; [TyCon]
</span><a href="GHC.Unit.Module.ModGuts.html#cg_tycons"><span class="hs-identifier hs-var hs-var">cg_tycons</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-125"></span><span>                </span><span class="hs-comment">-- ^ Algebraic data types (including ones that started</span><span>
</span><span id="line-126"></span><span>                </span><span class="hs-comment">-- life as classes); generate constructors and info</span><span>
</span><span id="line-127"></span><span>                </span><span class="hs-comment">-- tables. Includes newtypes, just for the benefit of</span><span>
</span><span id="line-128"></span><span>                </span><span class="hs-comment">-- External Core</span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span>        </span><span id="cg_binds"><span class="annot"><span class="annottext">CgGuts -&gt; CoreProgram
</span><a href="GHC.Unit.Module.ModGuts.html#cg_binds"><span class="hs-identifier hs-var hs-var">cg_binds</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.html#CoreProgram"><span class="hs-identifier hs-type">CoreProgram</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-131"></span><span>                </span><span class="hs-comment">-- ^ The tidied main bindings, including</span><span>
</span><span id="line-132"></span><span>                </span><span class="hs-comment">-- previously-implicit bindings for record and class</span><span>
</span><span id="line-133"></span><span>                </span><span class="hs-comment">-- selectors, and data constructor wrappers.  But *not*</span><span>
</span><span id="line-134"></span><span>                </span><span class="hs-comment">-- data constructor workers; reason: we regard them</span><span>
</span><span id="line-135"></span><span>                </span><span class="hs-comment">-- as part of the code-gen of tycons</span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span>        </span><span id="cg_ccs"><span class="annot"><span class="annottext">CgGuts -&gt; [CostCentre]
</span><a href="GHC.Unit.Module.ModGuts.html#cg_ccs"><span class="hs-identifier hs-var hs-var">cg_ccs</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.CostCentre.html#CostCentre"><span class="hs-identifier hs-type">CostCentre</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- List of cost centres used in bindings and rules</span><span>
</span><span id="line-138"></span><span>        </span><span id="cg_foreign"><span class="annot"><span class="annottext">CgGuts -&gt; ForeignStubs
</span><a href="GHC.Unit.Module.ModGuts.html#cg_foreign"><span class="hs-identifier hs-var hs-var">cg_foreign</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.ForeignStubs.html#ForeignStubs"><span class="hs-identifier hs-type">ForeignStubs</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Foreign export stubs</span></span><span>
</span><span id="line-139"></span><span>        </span><span id="cg_foreign_files"><span class="annot"><span class="annottext">CgGuts -&gt; [(ForeignSrcLang, FilePath)]
</span><a href="GHC.Unit.Module.ModGuts.html#cg_foreign_files"><span class="hs-identifier hs-var hs-var">cg_foreign_files</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ForeignSrcLang</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.IO.html#FilePath/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-140"></span><span>        </span><span id="cg_dep_pkgs"><span class="annot"><span class="annottext">CgGuts -&gt; Set UnitId
</span><a href="GHC.Unit.Module.ModGuts.html#cg_dep_pkgs"><span class="hs-identifier hs-var hs-var">cg_dep_pkgs</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.6.7/src/Data.Set.Internal.html#Set/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#UnitId"><span class="hs-identifier hs-type">UnitId</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>      </span><span class="hs-comment">-- ^ Dependent packages, used to</span><span>
</span><span id="line-141"></span><span>                                            </span><span class="hs-comment">-- generate #includes for C code gen</span><span>
</span><span id="line-142"></span><span>        </span><span id="cg_hpc_info"><span class="annot"><span class="annottext">CgGuts -&gt; HpcInfo
</span><a href="GHC.Unit.Module.ModGuts.html#cg_hpc_info"><span class="hs-identifier hs-var hs-var">cg_hpc_info</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.HpcInfo.html#HpcInfo"><span class="hs-identifier hs-type">HpcInfo</span></a></span><span class="hs-special">,</span><span>           </span><span class="annot"><span class="hs-comment">-- ^ Program coverage tick box information</span></span><span>
</span><span id="line-143"></span><span>        </span><span id="cg_modBreaks"><span class="annot"><span class="annottext">CgGuts -&gt; Maybe ModBreaks
</span><a href="GHC.Unit.Module.ModGuts.html#cg_modBreaks"><span class="hs-identifier hs-var hs-var">cg_modBreaks</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.ByteCode.Types.html#ModBreaks"><span class="hs-identifier hs-type">ModBreaks</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Module breakpoints</span></span><span>
</span><span id="line-144"></span><span>        </span><span id="cg_spt_entries"><span class="annot"><span class="annottext">CgGuts -&gt; [SptEntry]
</span><a href="GHC.Unit.Module.ModGuts.html#cg_spt_entries"><span class="hs-identifier hs-var hs-var">cg_spt_entries</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Linker.Types.html#SptEntry"><span class="hs-identifier hs-type">SptEntry</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-145"></span><span>                </span><span class="hs-comment">-- ^ Static pointer table entries for static forms defined in</span><span>
</span><span id="line-146"></span><span>                </span><span class="hs-comment">-- the module.</span><span>
</span><span id="line-147"></span><span>                </span><span class="hs-comment">-- See Note [Grand plan for static forms] in &quot;GHC.Iface.Tidy.StaticPtrTable&quot;</span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-149"></span></pre></body></html>