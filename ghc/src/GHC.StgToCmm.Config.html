<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="annot"><span class="hs-comment">-- | The stg to cmm code generator configuration</span></span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.StgToCmm.Config</span><span>
</span><span id="line-4"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Config.html#StgToCmmConfig"><span class="hs-identifier">StgToCmmConfig</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Config.html#stgToCmmPlatform"><span class="hs-identifier">stgToCmmPlatform</span></a></span><span>
</span><span id="line-6"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.Profile.html"><span class="hs-identifier">GHC.Platform.Profile</span></a></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.html"><span class="hs-identifier">GHC.Platform</span></a></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.TmpFs.html"><span class="hs-identifier">GHC.Utils.TmpFs</span></a></span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-comment">-- This config is static and contains information only passed *downwards* by StgToCmm.Monad</span><span>
</span><span id="line-18"></span><span class="hs-keyword">data</span><span> </span><span id="StgToCmmConfig"><span class="annot"><a href="GHC.StgToCmm.Config.html#StgToCmmConfig"><span class="hs-identifier hs-var">StgToCmmConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="StgToCmmConfig"><span class="annot"><a href="GHC.StgToCmm.Config.html#StgToCmmConfig"><span class="hs-identifier hs-var">StgToCmmConfig</span></a></span></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-comment">----------------------------- General Settings --------------------------------</span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="stgToCmmProfile"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Profile
</span><a href="GHC.StgToCmm.Config.html#stgToCmmProfile"><span class="hs-identifier hs-var hs-var">stgToCmmProfile</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Platform.Profile.html#Profile"><span class="hs-identifier hs-type">Profile</span></a></span><span>            </span><span class="annot"><span class="hs-comment">-- ^ Current profile</span></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmThisModule"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Module
</span><a href="GHC.StgToCmm.Config.html#stgToCmmThisModule"><span class="hs-identifier hs-var hs-var">stgToCmmThisModule</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span>              </span><span class="hs-comment">-- ^ The module being compiled. This field kept lazy for</span><span>
</span><span id="line-22"></span><span>                                                 </span><span class="hs-comment">-- Cmm/Parser.y which preloads it with a panic</span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmTmpDir"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; TempDir
</span><a href="GHC.StgToCmm.Config.html#stgToCmmTmpDir"><span class="hs-identifier hs-var hs-var">stgToCmmTmpDir</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Utils.TmpFs.html#TempDir"><span class="hs-identifier hs-type">TempDir</span></a></span><span>            </span><span class="annot"><span class="hs-comment">-- ^ Temp Dir for files used in compilation</span></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmContext"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; SDocContext
</span><a href="GHC.StgToCmm.Config.html#stgToCmmContext"><span class="hs-identifier hs-var hs-var">stgToCmmContext</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Utils.Outputable.html#SDocContext"><span class="hs-identifier hs-type">SDocContext</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ Context for StgToCmm phase</span></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmEmitDebugInfo"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmEmitDebugInfo"><span class="hs-identifier hs-var hs-var">stgToCmmEmitDebugInfo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>               </span><span class="annot"><span class="hs-comment">-- ^ Whether we wish to output debug information</span></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmBinBlobThresh"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Maybe Word
</span><a href="GHC.StgToCmm.Config.html#stgToCmmBinBlobThresh"><span class="hs-identifier hs-var hs-var">stgToCmmBinBlobThresh</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word</span></span><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- ^ Threshold at which Binary literals (e.g. strings)</span><span>
</span><span id="line-27"></span><span>                                                 </span><span class="hs-comment">-- are either dumped to a file and a CmmFileEmbed literal</span><span>
</span><span id="line-28"></span><span>                                                 </span><span class="hs-comment">-- is emitted (over threshold), or become a CmmString</span><span>
</span><span id="line-29"></span><span>                                                 </span><span class="hs-comment">-- Literal (under or at threshold). CmmFileEmbed is only supported</span><span>
</span><span id="line-30"></span><span>                                                 </span><span class="hs-comment">-- with the NCG, thus a Just means two things: We have a threshold,</span><span>
</span><span id="line-31"></span><span>                                                 </span><span class="hs-comment">-- and will be using the NCG. Conversely, a Nothing implies we are not</span><span>
</span><span id="line-32"></span><span>                                                 </span><span class="hs-comment">-- using NCG and disables CmmFileEmbed. See Note</span><span>
</span><span id="line-33"></span><span>                                                 </span><span class="hs-comment">-- [Embedding large binary blobs] in GHC.CmmToAsm.Ppr, and</span><span>
</span><span id="line-34"></span><span>                                                 </span><span class="hs-comment">-- @cgTopBinding@ in GHC.StgToCmm.</span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmMaxInlAllocSize"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Int
</span><a href="GHC.StgToCmm.Config.html#stgToCmmMaxInlAllocSize"><span class="hs-identifier hs-var hs-var">stgToCmmMaxInlAllocSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ Max size, in bytes, of inline array allocations.</span></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-comment">------------------------------ Ticky Options ----------------------------------</span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmDoTicky"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmDoTicky"><span class="hs-identifier hs-var hs-var">stgToCmmDoTicky</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ Ticky profiling enabled (cf @-ticky@)</span></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmTickyAllocd"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmTickyAllocd"><span class="hs-identifier hs-var hs-var">stgToCmmTickyAllocd</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="hs-comment">-- ^ True indicates ticky prof traces allocs of each named</span><span>
</span><span id="line-39"></span><span>                                                 </span><span class="hs-comment">-- thing in addition to allocs _by_ that thing</span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmTickyLNE"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmTickyLNE"><span class="hs-identifier hs-var hs-var">stgToCmmTickyLNE</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="hs-comment">-- ^ True indicates ticky uses name-specific counters for</span><span>
</span><span id="line-41"></span><span>                                                 </span><span class="hs-comment">-- join-points (let-no-escape)</span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmTickyDynThunk"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmTickyDynThunk"><span class="hs-identifier hs-var hs-var">stgToCmmTickyDynThunk</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="hs-comment">-- ^ True indicates ticky uses name-specific counters for</span><span>
</span><span id="line-43"></span><span>                                                 </span><span class="hs-comment">-- dynamic thunks</span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmTickyTag"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmTickyTag"><span class="hs-identifier hs-var hs-var">stgToCmmTickyTag</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ True indicates ticky will count number of avoided tag checks by tag inference.</span></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-comment">---------------------------------- Flags --------------------------------------</span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmLoopification"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmLoopification"><span class="hs-identifier hs-var hs-var">stgToCmmLoopification</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ Loopification enabled (cf @-floopification@)</span></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmAlignCheck"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAlignCheck"><span class="hs-identifier hs-var hs-var">stgToCmmAlignCheck</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ Insert alignment check (cf @-falignment-sanitisation@)</span></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmOptHpc"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmOptHpc"><span class="hs-identifier hs-var hs-var">stgToCmmOptHpc</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ perform code generation for code coverage</span></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmFastPAPCalls"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmFastPAPCalls"><span class="hs-identifier hs-var hs-var">stgToCmmFastPAPCalls</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmSCCProfiling"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmSCCProfiling"><span class="hs-identifier hs-var hs-var">stgToCmmSCCProfiling</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ Check if cost-centre profiling is enabled</span></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmEagerBlackHole"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmEagerBlackHole"><span class="hs-identifier hs-var hs-var">stgToCmmEagerBlackHole</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmInfoTableMap"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmInfoTableMap"><span class="hs-identifier hs-var hs-var">stgToCmmInfoTableMap</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ true means generate C Stub for IPE map, See Note [Mapping Info Tables to Source Positions]</span></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmInfoTableMapWithFallback"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmInfoTableMapWithFallback"><span class="hs-identifier hs-var hs-var">stgToCmmInfoTableMapWithFallback</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Include info tables with fallback source locations in the info table map</span></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmInfoTableMapWithStack"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmInfoTableMapWithStack"><span class="hs-identifier hs-var hs-var">stgToCmmInfoTableMapWithStack</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ Include info tables for STACK closures in the info table map</span></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmOmitYields"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmOmitYields"><span class="hs-identifier hs-var hs-var">stgToCmmOmitYields</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ true means omit heap checks when no allocation is performed</span></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmOmitIfPragmas"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmOmitIfPragmas"><span class="hs-identifier hs-var hs-var">stgToCmmOmitIfPragmas</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ true means don't generate interface programs (implied by -O0)</span></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmPIC"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmPIC"><span class="hs-identifier hs-var hs-var">stgToCmmPIC</span></a></span></span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ true if @-fPIC@</span></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmPIE"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmPIE"><span class="hs-identifier hs-var hs-var">stgToCmmPIE</span></a></span></span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ true if @-fPIE@</span></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmExtDynRefs"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmExtDynRefs"><span class="hs-identifier hs-var hs-var">stgToCmmExtDynRefs</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="hs-comment">-- ^ true if @-fexternal-dynamic-refs@, meaning generate</span><span>
</span><span id="line-60"></span><span>                                                 </span><span class="hs-comment">-- code for linking against dynamic libraries</span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmDoBoundsCheck"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmDoBoundsCheck"><span class="hs-identifier hs-var hs-var">stgToCmmDoBoundsCheck</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="hs-comment">-- ^ decides whether to check array bounds in StgToCmm.Prim</span><span>
</span><span id="line-62"></span><span>                                                 </span><span class="hs-comment">-- or not</span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmDoTagCheck"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmDoTagCheck"><span class="hs-identifier hs-var hs-var">stgToCmmDoTagCheck</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ Verify tag inference predictions.</span></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-comment">------------------------------ Backend Flags ----------------------------------</span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmAllowBigArith"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowBigArith"><span class="hs-identifier hs-var hs-var">stgToCmmAllowBigArith</span></a></span></span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Allowed to emit larger than native size arithmetic (only LLVM and C backends)</span></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmAllowQuotRemInstr"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowQuotRemInstr"><span class="hs-identifier hs-var hs-var">stgToCmmAllowQuotRemInstr</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Allowed to generate QuotRem instructions</span></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmAllowQuotRem2"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowQuotRem2"><span class="hs-identifier hs-var hs-var">stgToCmmAllowQuotRem2</span></a></span></span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Allowed to generate QuotRem</span></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmAllowExtendedAddSubInstrs"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowExtendedAddSubInstrs"><span class="hs-identifier hs-var hs-var">stgToCmmAllowExtendedAddSubInstrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Allowed to generate AddWordC, SubWordC, Add2, etc.</span></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmAllowIntMul2Instr"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowIntMul2Instr"><span class="hs-identifier hs-var hs-var">stgToCmmAllowIntMul2Instr</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Allowed to generate IntMul2 instruction</span></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmTickyAP"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmTickyAP"><span class="hs-identifier hs-var hs-var">stgToCmmTickyAP</span></a></span></span><span>                   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Disable use of precomputed standard thunks.</span></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-comment">------------------------------ SIMD flags ------------------------------------</span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-comment">-- Each of these flags checks vector compatibility with the backend requested</span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-comment">-- during compilation. In essence, this means checking for @-fllvm@ which is</span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-comment">-- the only backend that currently allows SIMD instructions, see</span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-comment">-- Ghc.StgToCmm.Prim.checkVecCompatibility for these flags only call site.</span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmVecInstrsErr"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Maybe String
</span><a href="GHC.StgToCmm.Config.html#stgToCmmVecInstrsErr"><span class="hs-identifier hs-var hs-var">stgToCmmVecInstrsErr</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>       </span><span class="hs-comment">-- ^ Error (if any) to raise when vector instructions are</span><span>
</span><span id="line-77"></span><span>                                                 </span><span class="hs-comment">-- used, see @StgToCmm.Prim.checkVecCompatibility@</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmAvx"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAvx"><span class="hs-identifier hs-var hs-var">stgToCmmAvx</span></a></span></span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ check for Advanced Vector Extensions</span></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmAvx2"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAvx2"><span class="hs-identifier hs-var hs-var">stgToCmmAvx2</span></a></span></span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ check for Advanced Vector Extensions 2</span></span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="stgToCmmAvx512f"><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAvx512f"><span class="hs-identifier hs-var hs-var">stgToCmmAvx512f</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ check for Advanced Vector 512-bit Extensions</span></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="annot"><a href="GHC.StgToCmm.Config.html#stgToCmmPlatform"><span class="hs-identifier hs-type">stgToCmmPlatform</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Config.html#StgToCmmConfig"><span class="hs-identifier hs-type">StgToCmmConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span>
</span><span id="line-85"></span><span id="stgToCmmPlatform"><span class="annot"><span class="annottext">stgToCmmPlatform :: StgToCmmConfig -&gt; Platform
</span><a href="GHC.StgToCmm.Config.html#stgToCmmPlatform"><span class="hs-identifier hs-var hs-var">stgToCmmPlatform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Platform
</span><a href="GHC.Platform.Profile.html#profilePlatform"><span class="hs-identifier hs-var">profilePlatform</span></a></span><span> </span><span class="annot"><span class="annottext">(Profile -&gt; Platform)
-&gt; (StgToCmmConfig -&gt; Profile) -&gt; StgToCmmConfig -&gt; Platform
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Profile
</span><a href="GHC.StgToCmm.Config.html#stgToCmmProfile"><span class="hs-identifier hs-var">stgToCmmProfile</span></a></span><span>
</span><span id="line-86"></span></pre></body></html>