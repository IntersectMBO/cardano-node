<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE TypeFamilies, UndecidableInstances #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="annot"><span class="hs-comment">-- | Various types used during desugaring.</span></span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.HsToCore.Types</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-5"></span><span>        </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsM"><span class="hs-identifier">DsM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsLclEnv"><span class="hs-identifier">DsLclEnv</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsGblEnv"><span class="hs-identifier">DsGblEnv</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>        </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsMetaEnv"><span class="hs-identifier">DsMetaEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsMetaVal"><span class="hs-identifier">DsMetaVal</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.CompleteMatch.html#CompleteMatches"><span class="hs-identifier">CompleteMatches</span></a></span><span>
</span><span id="line-7"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.IORef.html#/Data.IORef.html"><span class="hs-identifier">Data.IORef</span></a></span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.CostCentre.State.html"><span class="hs-identifier">GHC.Types.CostCentre.State</span></a></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Error.html"><span class="hs-identifier">GHC.Types.Error</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Env.html"><span class="hs-identifier">GHC.Types.Name.Env</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.html"><span class="hs-identifier">GHC.Types.Var</span></a></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html"><span class="hs-identifier">GHC.Types.Name.Reader</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier">GlobalRdrEnv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.html"><span class="hs-identifier">GHC.Hs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LForeignDecl"><span class="hs-identifier">LForeignDecl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier">HsExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html"><span class="hs-identifier">GHC.Tc.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.html#TcRnIf"><span class="hs-identifier">TcRnIf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#IfGblEnv"><span class="hs-identifier">IfGblEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#IfLclEnv"><span class="hs-identifier">IfLclEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.CompleteMatch.html#CompleteMatches"><span class="hs-identifier">CompleteMatches</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.HsToCore.Pmc.Types.html"><span class="hs-identifier">GHC.HsToCore.Pmc.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Pmc.Solver.Types.html#Nablas"><span class="hs-identifier">Nablas</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.HsToCore.Errors.Types.html"><span class="hs-identifier">GHC.HsToCore.Errors.Types</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.html"><span class="hs-identifier">GHC.Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier">CoreExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.FamInstEnv.html"><span class="hs-identifier">GHC.Core.FamInstEnv</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Outputable</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Hooks.html"><span class="hs-identifier">GHC.Driver.Hooks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Hooks.html#DsForeignsHook"><span class="hs-identifier">DsForeignsHook</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html"><span class="hs-identifier">GHC.Data.OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier">OrdList</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.ForeignStubs.html"><span class="hs-identifier">GHC.Types.ForeignStubs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.ForeignStubs.html#ForeignStubs"><span class="hs-identifier">ForeignStubs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Desugarer monad
*                                                                      *
************************************************************************

Now the mondo monad magic (yes, @DsM@ is a silly name)---carry around
a @UniqueSupply@ and some annotations, which
presumably include source-file location information:
-}</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-comment">-- | Global read-only context and state of the desugarer.</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- The statefulness is implemented through 'IORef's.</span><span>
</span><span id="line-45"></span><span class="hs-keyword">data</span><span> </span><span id="DsGblEnv"><span class="annot"><a href="GHC.HsToCore.Types.html#DsGblEnv"><span class="hs-identifier hs-var">DsGblEnv</span></a></span></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DsGblEnv"><span class="annot"><a href="GHC.HsToCore.Types.html#DsGblEnv"><span class="hs-identifier hs-var">DsGblEnv</span></a></span></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="ds_mod"><span class="annot"><span class="annottext">DsGblEnv -&gt; Module
</span><a href="GHC.HsToCore.Types.html#ds_mod"><span class="hs-identifier hs-var hs-var">ds_mod</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span>             </span><span class="hs-comment">-- For SCC profiling</span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ds_fam_inst_env"><span class="annot"><span class="annottext">DsGblEnv -&gt; FamInstEnv
</span><a href="GHC.HsToCore.Types.html#ds_fam_inst_env"><span class="hs-identifier hs-var hs-var">ds_fam_inst_env</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.FamInstEnv.html#FamInstEnv"><span class="hs-identifier hs-type">FamInstEnv</span></a></span><span>         </span><span class="hs-comment">-- Like tcg_fam_inst_env</span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ds_gbl_rdr_env"><span class="annot"><span class="annottext">DsGblEnv -&gt; GlobalRdrEnv
</span><a href="GHC.HsToCore.Types.html#ds_gbl_rdr_env"><span class="hs-identifier hs-var hs-var">ds_gbl_rdr_env</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span>       </span><span class="hs-comment">-- needed *only* to know what newtype</span><span>
</span><span id="line-50"></span><span>                                          </span><span class="hs-comment">-- constructors are in scope during</span><span>
</span><span id="line-51"></span><span>                                          </span><span class="hs-comment">-- pattern-match satisfiability checking</span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ds_name_ppr_ctx"><span class="annot"><span class="annottext">DsGblEnv -&gt; NamePprCtx
</span><a href="GHC.HsToCore.Types.html#ds_name_ppr_ctx"><span class="hs-identifier hs-var hs-var">ds_name_ppr_ctx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#NamePprCtx"><span class="hs-identifier hs-type">NamePprCtx</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ds_msgs"><span class="annot"><span class="annottext">DsGblEnv -&gt; IORef (Messages DsMessage)
</span><a href="GHC.HsToCore.Types.html#ds_msgs"><span class="hs-identifier hs-var hs-var">ds_msgs</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.IORef.html#IORef/GHC.IORef.html#IORef"><span class="hs-identifier hs-type">IORef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Errors.Types.html#DsMessage"><span class="hs-identifier hs-type">DsMessage</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Diagnostic messages</span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ds_if_env"><span class="annot"><span class="annottext">DsGblEnv -&gt; (IfGblEnv, IfLclEnv)
</span><a href="GHC.HsToCore.Types.html#ds_if_env"><span class="hs-identifier hs-var hs-var">ds_if_env</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.html#IfGblEnv"><span class="hs-identifier hs-type">IfGblEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#IfLclEnv"><span class="hs-identifier hs-type">IfLclEnv</span></a></span><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- Used for looking up global,</span><span>
</span><span id="line-55"></span><span>                                          </span><span class="hs-comment">-- possibly-imported things</span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ds_complete_matches"><span class="annot"><span class="annottext">DsGblEnv -&gt; CompleteMatches
</span><a href="GHC.HsToCore.Types.html#ds_complete_matches"><span class="hs-identifier hs-var hs-var">ds_complete_matches</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.CompleteMatch.html#CompleteMatches"><span class="hs-identifier hs-type">CompleteMatches</span></a></span><span>
</span><span id="line-57"></span><span>     </span><span class="hs-comment">-- Additional complete pattern matches</span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ds_cc_st"><span class="annot"><span class="annottext">DsGblEnv -&gt; IORef CostCentreState
</span><a href="GHC.HsToCore.Types.html#ds_cc_st"><span class="hs-identifier hs-var hs-var">ds_cc_st</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.IORef.html#IORef/GHC.IORef.html#IORef"><span class="hs-identifier hs-type">IORef</span></a></span><span> </span><span class="annot"><a href="GHC.Types.CostCentre.State.html#CostCentreState"><span class="hs-identifier hs-type">CostCentreState</span></a></span><span>
</span><span id="line-59"></span><span>     </span><span class="hs-comment">-- Tracking indices for cost centre annotations</span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ds_next_wrapper_num"><span class="annot"><span class="annottext">DsGblEnv -&gt; IORef (ModuleEnv Int)
</span><a href="GHC.HsToCore.Types.html#ds_next_wrapper_num"><span class="hs-identifier hs-var hs-var">ds_next_wrapper_num</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.IORef.html#IORef/GHC.IORef.html#IORef"><span class="hs-identifier hs-type">IORef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Unit.Module.Env.html#ModuleEnv"><span class="hs-identifier hs-type">ModuleEnv</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ See Note [Generating fresh names for FFI wrappers]</span></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html#ContainsModule"><span class="hs-identifier hs-type">ContainsModule</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsGblEnv"><span class="hs-identifier hs-type">DsGblEnv</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-65"></span><span>  </span><span id="local-6989586621681963736"><span class="annot"><span class="annottext">extractModule :: DsGblEnv -&gt; Module
</span><a href="#local-6989586621681963736"><span class="hs-identifier hs-var hs-var hs-var hs-var">extractModule</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DsGblEnv -&gt; Module
</span><a href="GHC.HsToCore.Types.html#ds_mod"><span class="hs-identifier hs-var">ds_mod</span></a></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="annot"><span class="hs-comment">-- | Local state of the desugarer, extended as we lexically descend</span></span><span>
</span><span id="line-68"></span><span class="hs-keyword">data</span><span> </span><span id="DsLclEnv"><span class="annot"><a href="GHC.HsToCore.Types.html#DsLclEnv"><span class="hs-identifier hs-var">DsLclEnv</span></a></span></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DsLclEnv"><span class="annot"><a href="GHC.HsToCore.Types.html#DsLclEnv"><span class="hs-identifier hs-var">DsLclEnv</span></a></span></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="dsl_meta"><span class="annot"><span class="annottext">DsLclEnv -&gt; DsMetaEnv
</span><a href="GHC.HsToCore.Types.html#dsl_meta"><span class="hs-identifier hs-var hs-var">dsl_meta</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsMetaEnv"><span class="hs-identifier hs-type">DsMetaEnv</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Template Haskell bindings</span></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="dsl_loc"><span class="annot"><span class="annottext">DsLclEnv -&gt; RealSrcSpan
</span><a href="GHC.HsToCore.Types.html#dsl_loc"><span class="hs-identifier hs-var hs-var">dsl_loc</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ To put in pattern-matching error msgs</span></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="dsl_nablas"><span class="annot"><span class="annottext">DsLclEnv -&gt; Nablas
</span><a href="GHC.HsToCore.Types.html#dsl_nablas"><span class="hs-identifier hs-var hs-var">dsl_nablas</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Pmc.Solver.Types.html#Nablas"><span class="hs-identifier hs-type">Nablas</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-comment">-- ^ See Note [Long-distance information] in &quot;GHC.HsToCore.Pmc&quot;.</span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-comment">-- The set of reaching values Nablas is augmented as we walk inwards, refined</span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-comment">-- through each pattern match in turn</span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-comment">-- Inside [| |] brackets, the desugarer looks</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- up variables in the DsMetaEnv</span><span>
</span><span id="line-80"></span><span class="hs-keyword">type</span><span> </span><span id="DsMetaEnv"><span class="annot"><a href="GHC.HsToCore.Types.html#DsMetaEnv"><span class="hs-identifier hs-var">DsMetaEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Name.Env.html#NameEnv"><span class="hs-identifier hs-type">NameEnv</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsMetaVal"><span class="hs-identifier hs-type">DsMetaVal</span></a></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-keyword">data</span><span> </span><span id="DsMetaVal"><span class="annot"><a href="GHC.HsToCore.Types.html#DsMetaVal"><span class="hs-identifier hs-var">DsMetaVal</span></a></span></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DsBound"><span class="annot"><a href="GHC.HsToCore.Types.html#DsBound"><span class="hs-identifier hs-var">DsBound</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>         </span><span class="hs-comment">-- Bound by a pattern inside the [| |].</span><span>
</span><span id="line-84"></span><span>                       </span><span class="hs-comment">-- Will be dynamically alpha renamed.</span><span>
</span><span id="line-85"></span><span>                       </span><span class="hs-comment">-- The Id has type THSyntax.Var</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DsSplice"><span class="annot"><a href="GHC.HsToCore.Types.html#DsSplice"><span class="hs-identifier hs-var">DsSplice</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- These bindings are introduced by</span><span>
</span><span id="line-88"></span><span>                            </span><span class="hs-comment">-- the PendingSplices on a Hs*Bracket</span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="annot"><span class="hs-comment">-- | Desugaring monad. See also 'TcM'.</span></span><span>
</span><span id="line-91"></span><span class="hs-keyword">type</span><span> </span><span id="DsM"><span class="annot"><a href="GHC.HsToCore.Types.html#DsM"><span class="hs-identifier hs-var">DsM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcRnIf"><span class="hs-identifier hs-type">TcRnIf</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsGblEnv"><span class="hs-identifier hs-type">DsGblEnv</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsLclEnv"><span class="hs-identifier hs-type">DsLclEnv</span></a></span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span class="hs-comment">-- See Note [The Decoupling Abstract Data Hack]</span><span>
</span><span id="line-94"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="DsForeignsHook"><span class="annot"><a href="GHC.Driver.Hooks.html#DsForeignsHook"><span class="hs-identifier hs-var">DsForeignsHook</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LForeignDecl"><span class="hs-identifier hs-type">LForeignDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsM"><span class="hs-identifier hs-type">DsM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.ForeignStubs.html#ForeignStubs"><span class="hs-identifier hs-type">ForeignStubs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-95"></span></pre></body></html>