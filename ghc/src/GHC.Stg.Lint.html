<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="annot"><span class="hs-comment">{- |
(c) The GRASP/AQUA Project, Glasgow University, 1993-1998

A lint pass to check basic STG invariants:

- Variables should be defined before used.

- Let bindings should not have unboxed types (unboxed bindings should only
  appear in case), except when they're join points (see Note [Core let-can-float
  invariant] and #14117).

- If linting after unarisation, invariants listed in Note [Post-unarisation
  invariants].

Because we don't have types and coercions in STG we can't really check types
here.

Some history:

StgLint used to check types, but it never worked and so it was disabled in 2000
with this note:

    WARNING:
    ~~~~~~~~

    This module has suffered bit-rot; it is likely to yield lint errors
    for Stg code that is currently perfectly acceptable for code
    generation.  Solution: don't use it!  (KSW 2000-05).

Since then there were some attempts at enabling it again, as summarised in #14787.
It's finally decided that we remove all type checking and only look for
basic properties listed above.

Note [Linting StgApp]
~~~~~~~~~~~~~~~~~~~~~
To lint an application of the form `f a_1 ... a_n`, we check that
the representations of the arguments `a_1`, ..., `a_n` match those
that the function expects.

More precisely, suppose the types in the application `f a_1 ... a_n`
are as follows:

  f :: t_1 -&gt; ... -&gt; t_n -&gt; res
  a_1 :: s_1, ..., a_n :: s_n

  t_1 :: TYPE r_1, ..., t_n :: TYPE r_n
  s_1 :: TYPE p_1, ..., a_n :: TYPE p_n

Before unarisation, we must check that each r_i is compatible with s_i.
Compatibility is weaker than on-the-nose equality: for example,
IntRep and WordRep are compatible. See Note [Bad unsafe coercion] in GHC.Core.Lint.

After unarisation, a single type might correspond to multiple arguments, e.g.

  (# Int# | Bool #) :: TYPE (SumRep '[ IntRep, LiftedRep ])

will result in two arguments: [Int# :: TYPE 'IntRep, Bool :: TYPE LiftedRep]
This means post unarise we potentially have to match up multiple arguments with
the reps of a single argument in the type's definition, because the type of the function
is *not* in unarised form.

Wrinkle: it can sometimes happen that an argument type in the type of
the function does not have a fixed runtime representation, i.e.
there is an r_i such that runtimeRepPrimRep r_i crashes.
See https://gitlab.haskell.org/ghc/ghc/-/issues/21399 for an example.
Fixing this issue would require significant changes to the type system
of STG, so for now we simply skip the Lint check when we detect such
representation-polymorphic situations.

Note [Typing the STG language]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In Core, programs must be /well-typed/.  So if f :: ty1 -&gt; ty2,
then in the application (f e), we must have  e :: ty1

STG is still a statically typed language, but the type system
is much coarser. In particular, STG programs must be /well-kinded/.
More precisely, if f :: ty1 -&gt; ty2, then in the application (f e)
where e :: ty1', we must have kind(ty1) = kind(ty1').

So the STG type system does not distinguish between Int and Bool,
but it /does/ distinguish between Int and Int#, because they have
different kinds.  Actually, since all terms have kind (TYPE rep),
we might say that the STG language is well-runtime-rep'd.

This coarser type system makes fewer distinctions, and that allows
many nonsensical programs (such as ('x' &amp;&amp; &quot;foo&quot;)) -- but all type
systems accept buggy programs!  But the coarseness also permits
some optimisations that are ill-typed in Core.  For example, see
the module STG.CSE, which is all about doing CSE in STG that would
be ill-typed in Core.  But it must still be well-kinded!

-}</span></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables, FlexibleContexts, TypeFamilies,
  DeriveFunctor #-}</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Stg.Lint</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgTopBindings"><span class="hs-identifier">lintStgTopBindings</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html"><span class="hs-identifier">GHC.Stg.Syntax</span></a></span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Stg.Utils.html"><span class="hs-identifier">GHC.Stg.Utils</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html"><span class="hs-identifier">GHC.Core.DataCon</span></a></span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.html"><span class="hs-identifier">GHC.Core</span></a></span><span>             </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.html#AltCon"><span class="hs-identifier">AltCon</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Type.html"><span class="hs-identifier">GHC.Core.Type</span></a></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#TopLevelFlag"><span class="hs-identifier">TopLevelFlag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#isTopLevel"><span class="hs-identifier">isTopLevel</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#isMarkedCbv"><span class="hs-identifier">isMarkedCbv</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.CostCentre.html"><span class="hs-identifier">GHC.Types.CostCentre</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.CostCentre.html#isCurrentCCS"><span class="hs-identifier">isCurrentCCS</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Error.html"><span class="hs-identifier">GHC.Types.Error</span></a></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticReason"><span class="hs-identifier">DiagnosticReason</span></a></span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#WarningWithoutFlag"><span class="hs-identifier">WarningWithoutFlag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Id.html"><span class="hs-identifier">GHC.Types.Id</span></a></span><span>
</span><span id="line-112"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html"><span class="hs-identifier">GHC.Types.Var.Set</span></a></span><span>
</span><span id="line-113"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#getSrcLoc"><span class="hs-identifier">getSrcLoc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#nameIsLocalOrFrom"><span class="hs-identifier">nameIsLocalOrFrom</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.RepType.html"><span class="hs-identifier">GHC.Types.RepType</span></a></span><span>
</span><span id="line-115"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Logger.html"><span class="hs-identifier">GHC.Utils.Logger</span></a></span><span>
</span><span id="line-118"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-119"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html"><span class="hs-identifier">GHC.Utils.Error</span></a></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkLocMessage"><span class="hs-identifier">mkLocMessage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#DiagOpts"><span class="hs-identifier">DiagOpts</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html"><span class="hs-identifier">GHC.Utils.Error</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Err</span></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier">Module</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html"><span class="hs-identifier">GHC.Data.Bag</span></a></span><span>         </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier">Bag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier">emptyBag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#isEmptyBag"><span class="hs-identifier">isEmptyBag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#snocBag"><span class="hs-identifier">snocBag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#bagToList"><span class="hs-identifier">bagToList</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Control.Monad.html#/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-127"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Maybe.html#/Data.Maybe.html"><span class="hs-identifier">Data.Maybe</span></a></span><span>
</span><span id="line-128"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-129"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Multiplicity.html"><span class="hs-identifier">GHC.Core.Multiplicity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#scaledThing"><span class="hs-identifier">scaledThing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Settings.html"><span class="hs-identifier">GHC.Settings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier">Platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCon.html#primRepCompatible"><span class="hs-identifier">primRepCompatible</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#primRepsCompatible"><span class="hs-identifier">primRepsCompatible</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.Plain.html"><span class="hs-identifier">GHC.Utils.Panic.Plain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier">panic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgTopBindings"><span class="hs-identifier hs-type">lintStgTopBindings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681663271"><span class="annot"><a href="#local-6989586621681663271"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663271"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-type">BinderP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663271"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>                   </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span>
</span><span id="line-136"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Logger.html#Logger"><span class="hs-identifier hs-type">Logger</span></a></span><span>
</span><span id="line-137"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#DiagOpts"><span class="hs-identifier hs-type">DiagOpts</span></a></span><span>
</span><span id="line-138"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span>
</span><span id="line-139"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">]</span><span>  </span><span class="annot"><span class="hs-comment">-- ^ extra vars in scope from GHCi</span></span><span>
</span><span id="line-140"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ module being compiled</span></span><span>
</span><span id="line-141"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ have we run Unarise yet?</span></span><span>
</span><span id="line-142"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ who produced the STG?</span></span><span>
</span><span id="line-143"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgTopBinding"><span class="hs-identifier hs-type">GenStgTopBinding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663271"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-144"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span id="lintStgTopBindings"><span class="annot"><span class="annottext">lintStgTopBindings :: forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
Platform
-&gt; Logger
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [Id]
-&gt; Module
-&gt; Bool
-&gt; String
-&gt; [GenStgTopBinding a]
-&gt; IO ()
</span><a href="GHC.Stg.Lint.html#lintStgTopBindings"><span class="hs-identifier hs-var hs-var">lintStgTopBindings</span></a></span></span><span> </span><span id="local-6989586621681663604"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681663604"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621681663605"><span class="annot"><span class="annottext">Logger
</span><a href="#local-6989586621681663605"><span class="hs-identifier hs-var">logger</span></a></span></span><span> </span><span id="local-6989586621681663606"><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681663606"><span class="hs-identifier hs-var">diag_opts</span></a></span></span><span> </span><span id="local-6989586621681663607"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681663607"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621681663608"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663608"><span class="hs-identifier hs-var">extra_vars</span></a></span></span><span> </span><span id="local-6989586621681663609"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681663609"><span class="hs-identifier hs-var">this_mod</span></a></span></span><span> </span><span id="local-6989586621681663610"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681663610"><span class="hs-identifier hs-var">unarised</span></a></span></span><span> </span><span id="local-6989586621681663611"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681663611"><span class="hs-identifier hs-var">whodunit</span></a></span></span><span> </span><span id="local-6989586621681663612"><span class="annot"><span class="annottext">[GenStgTopBinding a]
</span><a href="#local-6989586621681663612"><span class="hs-identifier hs-var">binds</span></a></span></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-pragma">{-# SCC</span><span> </span><span class="hs-pragma">&quot;StgLint&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Platform
-&gt; DiagOpts
-&gt; Module
-&gt; Bool
-&gt; StgPprOpts
-&gt; IdSet
-&gt; LintM ()
-&gt; Maybe SDoc
forall a.
Platform
-&gt; DiagOpts
-&gt; Module
-&gt; Bool
-&gt; StgPprOpts
-&gt; IdSet
-&gt; LintM a
-&gt; Maybe SDoc
</span><a href="GHC.Stg.Lint.html#initL"><span class="hs-identifier hs-var">initL</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681663604"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681663606"><span class="hs-identifier hs-var">diag_opts</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681663609"><span class="hs-identifier hs-var">this_mod</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681663610"><span class="hs-identifier hs-var">unarised</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681663607"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681663614"><span class="hs-identifier hs-var">top_level_binds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenStgTopBinding a] -&gt; LintM ()
</span><a href="#local-6989586621681663615"><span class="hs-identifier hs-var">lint_binds</span></a></span><span> </span><span class="annot"><span class="annottext">[GenStgTopBinding a]
</span><a href="#local-6989586621681663612"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-149"></span><span>      </span><span class="annot"><span class="annottext">Maybe SDoc
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-150"></span><span>        </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>      </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681663616"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681663616"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-152"></span><span>        </span><span class="annot"><span class="annottext">Logger -&gt; MessageClass -&gt; SrcSpan -&gt; SDoc -&gt; IO ()
</span><a href="GHC.Utils.Logger.html#logMsg"><span class="hs-identifier hs-var">logMsg</span></a></span><span> </span><span class="annot"><span class="annottext">Logger
</span><a href="#local-6989586621681663605"><span class="hs-identifier hs-var">logger</span></a></span><span> </span><span class="annot"><span class="annottext">MessageClass
</span><a href="GHC.Types.Error.html#MCDump"><span class="hs-identifier hs-var">Err.MCDump</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.Types.SrcLoc.html#noSrcSpan"><span class="hs-identifier hs-var">noSrcSpan</span></a></span><span>
</span><span id="line-153"></span><span>          </span><span class="annot"><span class="annottext">(SDoc -&gt; IO ()) -&gt; SDoc -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PprStyle -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#withPprStyle"><span class="hs-identifier hs-var">withPprStyle</span></a></span><span> </span><span class="annot"><span class="annottext">PprStyle
</span><a href="GHC.Utils.Outputable.html#defaultDumpStyle"><span class="hs-identifier hs-var">defaultDumpStyle</span></a></span><span>
</span><span id="line-154"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*** Stg Lint ErrMsgs: in&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-155"></span><span>                        </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681663611"><span class="hs-identifier hs-var">whodunit</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;***&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-156"></span><span>                  </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681663616"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-157"></span><span>                  </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*** Offending Program ***&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-158"></span><span>                  </span><span class="annot"><span class="annottext">StgPprOpts -&gt; [GenStgTopBinding a] -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; [GenStgTopBinding pass] -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprGenStgTopBindings"><span class="hs-identifier hs-var">pprGenStgTopBindings</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681663607"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">[GenStgTopBinding a]
</span><a href="#local-6989586621681663612"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-159"></span><span>                  </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*** End of Offense ***&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>        </span><span class="annot"><span class="annottext">Logger -&gt; Int -&gt; IO ()
</span><a href="GHC.Utils.Error.html#ghcExit"><span class="hs-identifier hs-var">Err.ghcExit</span></a></span><span> </span><span class="annot"><span class="annottext">Logger
</span><a href="#local-6989586621681663605"><span class="hs-identifier hs-var">logger</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-comment">-- Bring all top-level binds into scope because CoreToStg does not generate</span><span>
</span><span id="line-163"></span><span>    </span><span class="hs-comment">-- bindings in dependency order (so we may see a use before its definition).</span><span>
</span><span id="line-164"></span><span>    </span><span id="local-6989586621681663614"><span class="annot"><span class="annottext">top_level_binds :: IdSet
</span><a href="#local-6989586621681663614"><span class="hs-identifier hs-var hs-var">top_level_binds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdSet -&gt; [Id] -&gt; IdSet
</span><a href="GHC.Types.Var.Set.html#extendVarSetList"><span class="hs-identifier hs-var">extendVarSetList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id] -&gt; IdSet
</span><a href="GHC.Types.Var.Set.html#mkVarSet"><span class="hs-identifier hs-var">mkVarSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenStgTopBinding a] -&gt; [Id]
forall (a :: StgPass).
(BinderP a ~ Id) =&gt;
[GenStgTopBinding a] -&gt; [Id]
</span><a href="GHC.Stg.Utils.html#bindersOfTopBinds"><span class="hs-identifier hs-var">bindersOfTopBinds</span></a></span><span> </span><span class="annot"><span class="annottext">[GenStgTopBinding a]
</span><a href="#local-6989586621681663612"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>                                       </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663608"><span class="hs-identifier hs-var">extra_vars</span></a></span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span>    </span><span class="annot"><a href="#local-6989586621681663615"><span class="hs-identifier hs-type">lint_binds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgTopBinding"><span class="hs-identifier hs-type">GenStgTopBinding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663271"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span>    </span><span id="local-6989586621681663615"><span class="annot"><span class="annottext">lint_binds :: [GenStgTopBinding a] -&gt; LintM ()
</span><a href="#local-6989586621681663615"><span class="hs-identifier hs-var hs-var">lint_binds</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; LintM ()
forall a. a -&gt; LintM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>    </span><span class="annot"><a href="#local-6989586621681663615"><span class="hs-identifier hs-var">lint_binds</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681663630"><span class="annot"><span class="annottext">GenStgTopBinding a
</span><a href="#local-6989586621681663630"><span class="hs-identifier hs-var">bind</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681663631"><span class="annot"><span class="annottext">[GenStgTopBinding a]
</span><a href="#local-6989586621681663631"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-171"></span><span>        </span><span id="local-6989586621681663632"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663632"><span class="hs-identifier hs-var">binders</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenStgTopBinding a -&gt; LintM [Id]
forall {a :: StgPass}.
(BinderP a ~ Id, Outputable (XLet a), Outputable (XLetNoEscape a),
 Outputable (XRhsClosure a)) =&gt;
GenStgTopBinding a -&gt; LintM [Id]
</span><a href="#local-6989586621681663633"><span class="hs-identifier hs-var">lint_bind</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgTopBinding a
</span><a href="#local-6989586621681663630"><span class="hs-identifier hs-var">bind</span></a></span><span>
</span><span id="line-172"></span><span>        </span><span class="annot"><span class="annottext">[Id] -&gt; LintM () -&gt; LintM ()
forall a. [Id] -&gt; LintM a -&gt; LintM a
</span><a href="GHC.Stg.Lint.html#addInScopeVars"><span class="hs-identifier hs-var">addInScopeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663632"><span class="hs-identifier hs-var">binders</span></a></span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-173"></span><span>            </span><span class="annot"><span class="annottext">[GenStgTopBinding a] -&gt; LintM ()
</span><a href="#local-6989586621681663615"><span class="hs-identifier hs-var">lint_binds</span></a></span><span> </span><span class="annot"><span class="annottext">[GenStgTopBinding a]
</span><a href="#local-6989586621681663631"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span>    </span><span id="local-6989586621681663633"><span class="annot"><span class="annottext">lint_bind :: GenStgTopBinding a -&gt; LintM [Id]
</span><a href="#local-6989586621681663633"><span class="hs-identifier hs-var hs-var">lint_bind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgTopLifted"><span class="hs-identifier hs-type">StgTopLifted</span></a></span><span> </span><span id="local-6989586621681663650"><span class="annot"><span class="annottext">GenStgBinding a
</span><a href="#local-6989586621681663650"><span class="hs-identifier hs-var">bind</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TopLevelFlag -&gt; GenStgBinding a -&gt; LintM [Id]
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
TopLevelFlag -&gt; GenStgBinding a -&gt; LintM [Id]
</span><a href="GHC.Stg.Lint.html#lintStgBinds"><span class="hs-identifier hs-var">lintStgBinds</span></a></span><span> </span><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="GHC.Types.Basic.html#TopLevel"><span class="hs-identifier hs-var">TopLevel</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgBinding a
</span><a href="#local-6989586621681663650"><span class="hs-identifier hs-var">bind</span></a></span><span>
</span><span id="line-176"></span><span>    </span><span class="annot"><a href="#local-6989586621681663633"><span class="hs-identifier hs-var">lint_bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgTopStringLit"><span class="hs-identifier hs-type">StgTopStringLit</span></a></span><span> </span><span id="local-6989586621681663654"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663654"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; LintM [Id]
forall a. a -&gt; LintM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663654"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgConArg"><span class="hs-identifier hs-type">lintStgConArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span id="lintStgConArg"><span class="annot"><span class="annottext">lintStgConArg :: StgArg -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgConArg"><span class="hs-identifier hs-var hs-var">lintStgConArg</span></a></span></span><span> </span><span id="local-6989586621681663656"><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621681663656"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-180"></span><span>  </span><span id="local-6989586621681663657"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681663657"><span class="hs-identifier hs-var">unarised</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LintFlags -&gt; Bool
</span><a href="GHC.Stg.Lint.html#lf_unarised"><span class="hs-identifier hs-var">lf_unarised</span></a></span><span> </span><span class="annot"><span class="annottext">(LintFlags -&gt; Bool) -&gt; LintM LintFlags -&gt; LintM Bool
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LintM LintFlags
</span><a href="GHC.Stg.Lint.html#getLintFlags"><span class="hs-identifier hs-var">getLintFlags</span></a></span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; LintM () -&gt; LintM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#when/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681663657"><span class="hs-identifier hs-var">unarised</span></a></span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Maybe [PrimRep]
</span><a href="GHC.Types.RepType.html#typePrimRep_maybe"><span class="hs-identifier hs-var">typePrimRep_maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgArg -&gt; Kind
</span><a href="GHC.Stg.Syntax.html#stgArgType"><span class="hs-identifier hs-var">stgArgType</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621681663656"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-comment">-- Note [Post-unarisation invariants], invariant 4</span><span>
</span><span id="line-183"></span><span>    </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">PrimRep
</span><span class="hs-identifier">_</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; LintM ()
forall a. a -&gt; LintM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>    </span><span id="local-6989586621681663664"><span class="annot"><span class="annottext">Maybe [PrimRep]
</span><a href="#local-6989586621681663664"><span class="hs-identifier hs-var">badRep</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#addErrL"><span class="hs-identifier hs-var">addErrL</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; LintM ()) -&gt; SDoc -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-185"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Non-unary constructor arg: &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621681663656"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-186"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Its PrimReps are: &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [PrimRep] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [PrimRep]
</span><a href="#local-6989586621681663664"><span class="hs-identifier hs-var">badRep</span></a></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621681663656"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-189"></span><span>    </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgLitArg"><span class="hs-identifier hs-type">StgLitArg</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; LintM ()
forall a. a -&gt; LintM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>    </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgVarArg"><span class="hs-identifier hs-type">StgVarArg</span></a></span><span> </span><span id="local-6989586621681663671"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663671"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Id -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgVar"><span class="hs-identifier hs-var">lintStgVar</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663671"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgFunArg"><span class="hs-identifier hs-type">lintStgFunArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span id="lintStgFunArg"><span class="annot"><span class="annottext">lintStgFunArg :: StgArg -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgFunArg"><span class="hs-identifier hs-var hs-var">lintStgFunArg</span></a></span></span><span> </span><span id="local-6989586621681663674"><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621681663674"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-194"></span><span>  </span><span id="local-6989586621681663675"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681663675"><span class="hs-identifier hs-var">unarised</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LintFlags -&gt; Bool
</span><a href="GHC.Stg.Lint.html#lf_unarised"><span class="hs-identifier hs-var">lf_unarised</span></a></span><span> </span><span class="annot"><span class="annottext">(LintFlags -&gt; Bool) -&gt; LintM LintFlags -&gt; LintM Bool
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LintM LintFlags
</span><a href="GHC.Stg.Lint.html#getLintFlags"><span class="hs-identifier hs-var">getLintFlags</span></a></span><span>
</span><span id="line-195"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; LintM () -&gt; LintM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#when/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681663675"><span class="hs-identifier hs-var">unarised</span></a></span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Maybe [PrimRep]
</span><a href="GHC.Types.RepType.html#typePrimRep_maybe"><span class="hs-identifier hs-var">typePrimRep_maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgArg -&gt; Kind
</span><a href="GHC.Stg.Syntax.html#stgArgType"><span class="hs-identifier hs-var">stgArgType</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621681663674"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-196"></span><span>    </span><span class="hs-comment">-- Note [Post-unarisation invariants], invariant 3</span><span>
</span><span id="line-197"></span><span>    </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; LintM ()
forall a. a -&gt; LintM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>    </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">PrimRep
</span><span class="hs-identifier">_</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; LintM ()
forall a. a -&gt; LintM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>    </span><span id="local-6989586621681663676"><span class="annot"><span class="annottext">Maybe [PrimRep]
</span><a href="#local-6989586621681663676"><span class="hs-identifier hs-var">badRep</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#addErrL"><span class="hs-identifier hs-var">addErrL</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; LintM ()) -&gt; SDoc -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-200"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Function arg is not unary or void: &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621681663674"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-201"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Its PrimReps are: &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [PrimRep] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [PrimRep]
</span><a href="#local-6989586621681663676"><span class="hs-identifier hs-var">badRep</span></a></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">StgArg
</span><a href="#local-6989586621681663674"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-204"></span><span>    </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgLitArg"><span class="hs-identifier hs-type">StgLitArg</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; LintM ()
forall a. a -&gt; LintM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>    </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgVarArg"><span class="hs-identifier hs-type">StgVarArg</span></a></span><span> </span><span id="local-6989586621681663677"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663677"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Id -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgVar"><span class="hs-identifier hs-var">lintStgVar</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663677"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgVar"><span class="hs-identifier hs-type">lintStgVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span id="lintStgVar"><span class="annot"><span class="annottext">lintStgVar :: Id -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgVar"><span class="hs-identifier hs-var hs-var">lintStgVar</span></a></span></span><span> </span><span id="local-6989586621681663678"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663678"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#checkInScope"><span class="hs-identifier hs-var">checkInScope</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663678"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span id="local-6989586621681663308"><span class="annot"><a href="GHC.Stg.Lint.html#lintStgBinds"><span class="hs-identifier hs-type">lintStgBinds</span></a></span><span>
</span><span id="line-211"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663308"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-type">BinderP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663308"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#TopLevelFlag"><span class="hs-identifier hs-type">TopLevelFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgBinding"><span class="hs-identifier hs-type">GenStgBinding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663308"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">]</span></span><span> </span><span class="hs-comment">-- Returns the binders</span><span>
</span><span id="line-213"></span><span id="lintStgBinds"><span class="annot"><span class="annottext">lintStgBinds :: forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
TopLevelFlag -&gt; GenStgBinding a -&gt; LintM [Id]
</span><a href="GHC.Stg.Lint.html#lintStgBinds"><span class="hs-identifier hs-var hs-var">lintStgBinds</span></a></span></span><span> </span><span id="local-6989586621681663695"><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="#local-6989586621681663695"><span class="hs-identifier hs-var">top_lvl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgNonRec"><span class="hs-identifier hs-type">StgNonRec</span></a></span><span> </span><span id="local-6989586621681663697"><span class="annot"><span class="annottext">BinderP a
</span><a href="#local-6989586621681663697"><span class="hs-identifier hs-var">binder</span></a></span></span><span> </span><span id="local-6989586621681663698"><span class="annot"><span class="annottext">GenStgRhs a
</span><a href="#local-6989586621681663698"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-214"></span><span>    </span><span class="annot"><span class="annottext">TopLevelFlag -&gt; (Id, GenStgRhs a) -&gt; LintM ()
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
TopLevelFlag -&gt; (Id, GenStgRhs a) -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lint_binds_help"><span class="hs-identifier hs-var">lint_binds_help</span></a></span><span> </span><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="#local-6989586621681663695"><span class="hs-identifier hs-var">top_lvl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id
BinderP a
</span><a href="#local-6989586621681663697"><span class="hs-identifier hs-var">binder</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">GenStgRhs a
</span><a href="#local-6989586621681663698"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>    </span><span class="annot"><span class="annottext">[Id] -&gt; LintM [Id]
forall a. a -&gt; LintM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Id
BinderP a
</span><a href="#local-6989586621681663697"><span class="hs-identifier hs-var">binder</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgBinds"><span class="hs-identifier hs-var">lintStgBinds</span></a></span><span> </span><span id="local-6989586621681663700"><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="#local-6989586621681663700"><span class="hs-identifier hs-var">top_lvl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRec"><span class="hs-identifier hs-type">StgRec</span></a></span><span> </span><span id="local-6989586621681663702"><span class="annot"><span class="annottext">[(BinderP a, GenStgRhs a)]
</span><a href="#local-6989586621681663702"><span class="hs-identifier hs-var">pairs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; LintM [Id] -&gt; LintM [Id]
forall a. [Id] -&gt; LintM a -&gt; LintM a
</span><a href="GHC.Stg.Lint.html#addInScopeVars"><span class="hs-identifier hs-var">addInScopeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663703"><span class="hs-identifier hs-var">binders</span></a></span><span> </span><span class="annot"><span class="annottext">(LintM [Id] -&gt; LintM [Id]) -&gt; LintM [Id] -&gt; LintM [Id]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-219"></span><span>        </span><span class="annot"><span class="annottext">((Id, GenStgRhs a) -&gt; LintM ()) -&gt; [(Id, GenStgRhs a)] -&gt; LintM ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#mapM_/Data.Foldable.html#mapM_"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TopLevelFlag -&gt; (Id, GenStgRhs a) -&gt; LintM ()
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
TopLevelFlag -&gt; (Id, GenStgRhs a) -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lint_binds_help"><span class="hs-identifier hs-var">lint_binds_help</span></a></span><span> </span><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="#local-6989586621681663700"><span class="hs-identifier hs-var">top_lvl</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Id, GenStgRhs a)]
[(BinderP a, GenStgRhs a)]
</span><a href="#local-6989586621681663702"><span class="hs-identifier hs-var">pairs</span></a></span><span>
</span><span id="line-220"></span><span>        </span><span class="annot"><span class="annottext">[Id] -&gt; LintM [Id]
forall a. a -&gt; LintM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663703"><span class="hs-identifier hs-var">binders</span></a></span><span>
</span><span id="line-221"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-222"></span><span>    </span><span id="local-6989586621681663703"><span class="annot"><span class="annottext">binders :: [Id]
</span><a href="#local-6989586621681663703"><span class="hs-identifier hs-var hs-var">binders</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663705"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681663705"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663705"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">GenStgRhs a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Id, GenStgRhs a)]
[(BinderP a, GenStgRhs a)]
</span><a href="#local-6989586621681663702"><span class="hs-identifier hs-var">pairs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span id="local-6989586621681663321"><span class="annot"><a href="GHC.Stg.Lint.html#lint_binds_help"><span class="hs-identifier hs-type">lint_binds_help</span></a></span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663321"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-type">BinderP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663321"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#TopLevelFlag"><span class="hs-identifier hs-type">TopLevelFlag</span></a></span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier hs-type">GenStgRhs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663321"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-229"></span><span id="lint_binds_help"><span class="annot"><span class="annottext">lint_binds_help :: forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
TopLevelFlag -&gt; (Id, GenStgRhs a) -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lint_binds_help"><span class="hs-identifier hs-var hs-var">lint_binds_help</span></a></span></span><span> </span><span id="local-6989586621681663721"><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="#local-6989586621681663721"><span class="hs-identifier hs-var">top_lvl</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681663722"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663722"><span class="hs-identifier hs-var">binder</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681663723"><span class="annot"><span class="annottext">GenStgRhs a
</span><a href="#local-6989586621681663723"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LintLocInfo -&gt; LintM () -&gt; LintM ()
forall a. LintLocInfo -&gt; LintM a -&gt; LintM a
</span><a href="GHC.Stg.Lint.html#addLoc"><span class="hs-identifier hs-var">addLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; LintLocInfo
</span><a href="GHC.Stg.Lint.html#RhsOf"><span class="hs-identifier hs-var">RhsOf</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663722"><span class="hs-identifier hs-var">binder</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-231"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; LintM () -&gt; LintM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#when/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TopLevelFlag -&gt; Bool
</span><a href="GHC.Types.Basic.html#isTopLevel"><span class="hs-identifier hs-var">isTopLevel</span></a></span><span> </span><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="#local-6989586621681663721"><span class="hs-identifier hs-var">top_lvl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenStgRhs a -&gt; LintM ()
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgRhs a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#checkNoCurrentCCS"><span class="hs-identifier hs-var">checkNoCurrentCCS</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgRhs a
</span><a href="#local-6989586621681663723"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-232"></span><span>        </span><span class="annot"><span class="annottext">GenStgRhs a -&gt; LintM ()
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgRhs a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgRhs"><span class="hs-identifier hs-var">lintStgRhs</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgRhs a
</span><a href="#local-6989586621681663723"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-233"></span><span>        </span><span id="local-6989586621681663728"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681663728"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LintM StgPprOpts
</span><a href="GHC.Stg.Lint.html#getStgPprOpts"><span class="hs-identifier hs-var">getStgPprOpts</span></a></span><span>
</span><span id="line-234"></span><span>        </span><span class="hs-comment">-- Check binder doesn't have unlifted type or it's a join point</span><span>
</span><span id="line-235"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#checkL"><span class="hs-identifier hs-var">checkL</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Id -&gt; Bool
</span><a href="GHC.Types.Id.html#isJoinId"><span class="hs-identifier hs-var">isJoinId</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663722"><span class="hs-identifier hs-var">binder</span></a></span><span>
</span><span id="line-236"></span><span>              </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(() :: Constraint) =&gt; Kind -&gt; Bool
Kind -&gt; Bool
</span><a href="GHC.Core.Type.html#isUnliftedType"><span class="hs-identifier hs-var">isUnliftedType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Kind
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663722"><span class="hs-identifier hs-var">binder</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>              </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Id -&gt; Bool
</span><a href="GHC.Types.Id.html#isDataConWorkId"><span class="hs-identifier hs-var">isDataConWorkId</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663722"><span class="hs-identifier hs-var">binder</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Id -&gt; Bool
</span><a href="GHC.Types.Id.html#isDataConWrapId"><span class="hs-identifier hs-var">isDataConWrapId</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663722"><span class="hs-identifier hs-var">binder</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- until #17521 is fixed</span><span>
</span><span id="line-238"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts -&gt; Id -&gt; GenStgRhs a -&gt; SDoc
forall (a :: StgPass).
OutputablePass a =&gt;
StgPprOpts -&gt; Id -&gt; GenStgRhs a -&gt; SDoc
</span><a href="GHC.Stg.Lint.html#mkUnliftedTyMsg"><span class="hs-identifier hs-var">mkUnliftedTyMsg</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681663728"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663722"><span class="hs-identifier hs-var">binder</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgRhs a
</span><a href="#local-6989586621681663723"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="hs-comment">-- | Top-level bindings can't inherit the cost centre stack from their</span><span>
</span><span id="line-241"></span><span class="hs-comment">-- (static) allocation site.</span><span>
</span><span id="line-242"></span><span id="local-6989586621681663329"><span class="annot"><a href="GHC.Stg.Lint.html#checkNoCurrentCCS"><span class="hs-identifier hs-type">checkNoCurrentCCS</span></a></span><span>
</span><span id="line-243"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663329"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-type">BinderP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663329"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier hs-type">GenStgRhs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663329"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-245"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-246"></span><span id="checkNoCurrentCCS"><span class="annot"><span class="annottext">checkNoCurrentCCS :: forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgRhs a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#checkNoCurrentCCS"><span class="hs-identifier hs-var hs-var">checkNoCurrentCCS</span></a></span></span><span> </span><span id="local-6989586621681663750"><span class="annot"><span class="annottext">GenStgRhs a
</span><a href="#local-6989586621681663750"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-247"></span><span>   </span><span id="local-6989586621681663751"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681663751"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LintM StgPprOpts
</span><a href="GHC.Stg.Lint.html#getStgPprOpts"><span class="hs-identifier hs-var">getStgPprOpts</span></a></span><span>
</span><span id="line-248"></span><span>   </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681663752"><span class="annot"><span class="annottext">rhs' :: SDoc
</span><a href="#local-6989586621681663752"><span class="hs-identifier hs-var hs-var">rhs'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgRhs a -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgRhs pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgRhs"><span class="hs-identifier hs-var">pprStgRhs</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681663751"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgRhs a
</span><a href="#local-6989586621681663750"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-249"></span><span>   </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenStgRhs a
</span><a href="#local-6989586621681663750"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-250"></span><span>      </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhsClosure"><span class="hs-identifier hs-type">StgRhsClosure</span></a></span><span> </span><span class="annot"><span class="annottext">XRhsClosure a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681663755"><span class="annot"><span class="annottext">CostCentreStack
</span><a href="#local-6989586621681663755"><span class="hs-identifier hs-var">ccs</span></a></span></span><span> </span><span class="annot"><span class="annottext">UpdateFlag
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[BinderP a]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">GenStgExpr a
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-251"></span><span>         </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CostCentreStack -&gt; Bool
</span><a href="GHC.Types.CostCentre.html#isCurrentCCS"><span class="hs-identifier hs-var">isCurrentCCS</span></a></span><span> </span><span class="annot"><span class="annottext">CostCentreStack
</span><a href="#local-6989586621681663755"><span class="hs-identifier hs-var">ccs</span></a></span><span>
</span><span id="line-252"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#addErrL"><span class="hs-identifier hs-var">addErrL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Top-level StgRhsClosure with CurrentCCS&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681663752"><span class="hs-identifier hs-var">rhs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>      </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhsCon"><span class="hs-identifier hs-type">StgRhsCon</span></a></span><span> </span><span id="local-6989586621681663757"><span class="annot"><span class="annottext">CostCentreStack
</span><a href="#local-6989586621681663757"><span class="hs-identifier hs-var">ccs</span></a></span></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ConstructorNumber
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[StgTickish]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-254"></span><span>         </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CostCentreStack -&gt; Bool
</span><a href="GHC.Types.CostCentre.html#isCurrentCCS"><span class="hs-identifier hs-var">isCurrentCCS</span></a></span><span> </span><span class="annot"><span class="annottext">CostCentreStack
</span><a href="#local-6989586621681663757"><span class="hs-identifier hs-var">ccs</span></a></span><span>
</span><span id="line-255"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#addErrL"><span class="hs-identifier hs-var">addErrL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Top-level StgRhsCon with CurrentCCS&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681663752"><span class="hs-identifier hs-var">rhs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>      </span><span class="annot"><span class="annottext">GenStgRhs a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; LintM ()
forall a. a -&gt; LintM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span id="local-6989586621681663758"><span class="annot"><a href="GHC.Stg.Lint.html#lintStgRhs"><span class="hs-identifier hs-type">lintStgRhs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663758"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-type">BinderP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663758"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier hs-type">GenStgRhs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663758"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span id="lintStgRhs"><span class="annot"><span class="annottext">lintStgRhs :: forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgRhs a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgRhs"><span class="hs-identifier hs-var hs-var">lintStgRhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhsClosure"><span class="hs-identifier hs-type">StgRhsClosure</span></a></span><span> </span><span class="annot"><span class="annottext">XRhsClosure a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CostCentreStack
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">UpdateFlag
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621681663775"><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663775"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenStgExpr a -&gt; LintM ()
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgExpr a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663775"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgRhs"><span class="hs-identifier hs-var">lintStgRhs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhsClosure"><span class="hs-identifier hs-type">StgRhsClosure</span></a></span><span> </span><span class="annot"><span class="annottext">XRhsClosure a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CostCentreStack
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">UpdateFlag
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681663777"><span class="annot"><span class="annottext">[BinderP a]
</span><a href="#local-6989586621681663777"><span class="hs-identifier hs-var">binders</span></a></span></span><span> </span><span id="local-6989586621681663778"><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663778"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LintLocInfo -&gt; LintM () -&gt; LintM ()
forall a. LintLocInfo -&gt; LintM a -&gt; LintM a
</span><a href="GHC.Stg.Lint.html#addLoc"><span class="hs-identifier hs-var">addLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id] -&gt; LintLocInfo
</span><a href="GHC.Stg.Lint.html#LambdaBodyOf"><span class="hs-identifier hs-var">LambdaBodyOf</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
[BinderP a]
</span><a href="#local-6989586621681663777"><span class="hs-identifier hs-var">binders</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-265"></span><span>      </span><span class="annot"><span class="annottext">[Id] -&gt; LintM () -&gt; LintM ()
forall a. [Id] -&gt; LintM a -&gt; LintM a
</span><a href="GHC.Stg.Lint.html#addInScopeVars"><span class="hs-identifier hs-var">addInScopeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
[BinderP a]
</span><a href="#local-6989586621681663777"><span class="hs-identifier hs-var">binders</span></a></span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-266"></span><span>        </span><span class="annot"><span class="annottext">GenStgExpr a -&gt; LintM ()
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgExpr a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663778"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgRhs"><span class="hs-identifier hs-var">lintStgRhs</span></a></span><span> </span><span id="local-6989586621681663780"><span class="annot"><span class="annottext">rhs :: GenStgRhs a
</span><a href="#local-6989586621681663780"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgRhsCon"><span class="hs-identifier hs-type">StgRhsCon</span></a></span><span> </span><span class="annot"><span class="annottext">CostCentreStack
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681663781"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681663781"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="annot"><span class="annottext">ConstructorNumber
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[StgTickish]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681663782"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663782"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-269"></span><span>    </span><span id="local-6989586621681663783"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681663783"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LintM StgPprOpts
</span><a href="GHC.Stg.Lint.html#getStgPprOpts"><span class="hs-identifier hs-var">getStgPprOpts</span></a></span><span>
</span><span id="line-270"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; LintM () -&gt; LintM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#when/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Bool
</span><a href="GHC.Core.DataCon.html#isUnboxedTupleDataCon"><span class="hs-identifier hs-var">isUnboxedTupleDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681663781"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Bool
</span><a href="GHC.Core.DataCon.html#isUnboxedSumDataCon"><span class="hs-identifier hs-var">isUnboxedSumDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681663781"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-271"></span><span>      </span><span class="annot"><span class="annottext">SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#addErrL"><span class="hs-identifier hs-var">addErrL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;StgRhsCon is an unboxed tuple or sum application&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-272"></span><span>               </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgRhs a -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgRhs pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgRhs"><span class="hs-identifier hs-var">pprStgRhs</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681663783"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgRhs a
</span><a href="#local-6989586621681663780"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span>    </span><span class="annot"><span class="annottext">DataCon -&gt; [StgArg] -&gt; SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintConApp"><span class="hs-identifier hs-var">lintConApp</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681663781"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663782"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgRhs a -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgRhs pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgRhs"><span class="hs-identifier hs-var">pprStgRhs</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681663783"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgRhs a
</span><a href="#local-6989586621681663780"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span id="local-6989586621681663340"><span class="annot"><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-type">lintStgExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663340"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-type">BinderP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663340"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-type">GenStgExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663340"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span id="lintStgExpr"><span class="annot"><span class="annottext">lintStgExpr :: forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgExpr a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var hs-var">lintStgExpr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgLit"><span class="hs-identifier hs-type">StgLit</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; LintM ()
forall a. a -&gt; LintM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span id="local-6989586621681663831"><span class="annot"><span class="annottext">e :: GenStgExpr a
</span><a href="#local-6989586621681663831"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgApp"><span class="hs-identifier hs-type">StgApp</span></a></span><span> </span><span id="local-6989586621681663833"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663833"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621681663834"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663834"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-281"></span><span>  </span><span class="annot"><span class="annottext">Id -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgVar"><span class="hs-identifier hs-var">lintStgVar</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663833"><span class="hs-identifier hs-var">fun</span></a></span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><span class="annottext">(StgArg -&gt; LintM ()) -&gt; [StgArg] -&gt; LintM ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#mapM_/Data.Foldable.html#mapM_"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgFunArg"><span class="hs-identifier hs-var">lintStgFunArg</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663834"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-283"></span><span>  </span><span class="annot"><span class="annottext">GenStgExpr a -&gt; LintM ()
forall (pass :: StgPass).
OutputablePass pass =&gt;
GenStgExpr pass -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintAppCbvMarks"><span class="hs-identifier hs-var">lintAppCbvMarks</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663831"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-284"></span><span>  </span><span class="annot"><span class="annottext">Id -&gt; [StgArg] -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgAppReps"><span class="hs-identifier hs-var">lintStgAppReps</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663833"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663834"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span id="local-6989586621681663837"><span class="annot"><span class="annottext">app :: GenStgExpr a
</span><a href="#local-6989586621681663837"><span class="hs-identifier hs-var">app</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgConApp"><span class="hs-identifier hs-type">StgConApp</span></a></span><span> </span><span id="local-6989586621681663839"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681663839"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621681663840"><span class="annot"><span class="annottext">ConstructorNumber
</span><a href="#local-6989586621681663840"><span class="hs-identifier hs-var">_n</span></a></span></span><span> </span><span id="local-6989586621681663841"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663841"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621681663842"><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681663842"><span class="hs-identifier hs-var">_arg_tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-289"></span><span>    </span><span class="hs-comment">-- unboxed sums should vanish during unarise</span><span>
</span><span id="line-290"></span><span>    </span><span id="local-6989586621681663843"><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681663843"><span class="hs-identifier hs-var">lf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LintM LintFlags
</span><a href="GHC.Stg.Lint.html#getLintFlags"><span class="hs-identifier hs-var">getLintFlags</span></a></span><span>
</span><span id="line-291"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681663844"><span class="annot"><span class="annottext">unarised :: Bool
</span><a href="#local-6989586621681663844"><span class="hs-identifier hs-var hs-var">unarised</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LintFlags -&gt; Bool
</span><a href="GHC.Stg.Lint.html#lf_unarised"><span class="hs-identifier hs-var">lf_unarised</span></a></span><span> </span><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681663843"><span class="hs-identifier hs-var">lf</span></a></span><span>
</span><span id="line-292"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; LintM () -&gt; LintM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#when/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681663844"><span class="hs-identifier hs-var">unarised</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Bool
</span><a href="GHC.Core.DataCon.html#isUnboxedSumDataCon"><span class="hs-identifier hs-var">isUnboxedSumDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681663839"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-293"></span><span>      </span><span id="local-6989586621681663846"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681663846"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LintM StgPprOpts
</span><a href="GHC.Stg.Lint.html#getStgPprOpts"><span class="hs-identifier hs-var">getStgPprOpts</span></a></span><span>
</span><span id="line-294"></span><span>      </span><span class="annot"><span class="annottext">SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#addErrL"><span class="hs-identifier hs-var">addErrL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unboxed sum after unarise:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-295"></span><span>               </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgExpr a -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-var">pprStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681663846"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663837"><span class="hs-identifier hs-var">app</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span>    </span><span id="local-6989586621681663848"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681663848"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LintM StgPprOpts
</span><a href="GHC.Stg.Lint.html#getStgPprOpts"><span class="hs-identifier hs-var">getStgPprOpts</span></a></span><span>
</span><span id="line-298"></span><span>    </span><span class="annot"><span class="annottext">DataCon -&gt; [StgArg] -&gt; SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintConApp"><span class="hs-identifier hs-var">lintConApp</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681663839"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663841"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgExpr a -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgExpr pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgExpr"><span class="hs-identifier hs-var">pprStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681663848"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663837"><span class="hs-identifier hs-var">app</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgOpApp"><span class="hs-identifier hs-type">StgOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">StgOp
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681663850"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663850"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-301"></span><span>    </span><span class="annot"><span class="annottext">(StgArg -&gt; LintM ()) -&gt; [StgArg] -&gt; LintM ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#mapM_/Data.Foldable.html#mapM_"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgFunArg"><span class="hs-identifier hs-var">lintStgFunArg</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663850"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgLet"><span class="hs-identifier hs-type">StgLet</span></a></span><span> </span><span class="annot"><span class="annottext">XLet a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681663852"><span class="annot"><span class="annottext">GenStgBinding a
</span><a href="#local-6989586621681663852"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span id="local-6989586621681663853"><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663853"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-304"></span><span>    </span><span id="local-6989586621681663854"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663854"><span class="hs-identifier hs-var">binders</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TopLevelFlag -&gt; GenStgBinding a -&gt; LintM [Id]
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
TopLevelFlag -&gt; GenStgBinding a -&gt; LintM [Id]
</span><a href="GHC.Stg.Lint.html#lintStgBinds"><span class="hs-identifier hs-var">lintStgBinds</span></a></span><span> </span><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="GHC.Types.Basic.html#NotTopLevel"><span class="hs-identifier hs-var">NotTopLevel</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgBinding a
</span><a href="#local-6989586621681663852"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-305"></span><span>    </span><span class="annot"><span class="annottext">LintLocInfo -&gt; LintM () -&gt; LintM ()
forall a. LintLocInfo -&gt; LintM a -&gt; LintM a
</span><a href="GHC.Stg.Lint.html#addLoc"><span class="hs-identifier hs-var">addLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id] -&gt; LintLocInfo
</span><a href="GHC.Stg.Lint.html#BodyOfLetRec"><span class="hs-identifier hs-var">BodyOfLetRec</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663854"><span class="hs-identifier hs-var">binders</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-306"></span><span>      </span><span class="annot"><span class="annottext">[Id] -&gt; LintM () -&gt; LintM ()
forall a. [Id] -&gt; LintM a -&gt; LintM a
</span><a href="GHC.Stg.Lint.html#addInScopeVars"><span class="hs-identifier hs-var">addInScopeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663854"><span class="hs-identifier hs-var">binders</span></a></span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-307"></span><span>        </span><span class="annot"><span class="annottext">GenStgExpr a -&gt; LintM ()
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgExpr a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663853"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgLetNoEscape"><span class="hs-identifier hs-type">StgLetNoEscape</span></a></span><span> </span><span class="annot"><span class="annottext">XLetNoEscape a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681663858"><span class="annot"><span class="annottext">GenStgBinding a
</span><a href="#local-6989586621681663858"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span id="local-6989586621681663859"><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663859"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-310"></span><span>    </span><span id="local-6989586621681663860"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663860"><span class="hs-identifier hs-var">binders</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TopLevelFlag -&gt; GenStgBinding a -&gt; LintM [Id]
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
TopLevelFlag -&gt; GenStgBinding a -&gt; LintM [Id]
</span><a href="GHC.Stg.Lint.html#lintStgBinds"><span class="hs-identifier hs-var">lintStgBinds</span></a></span><span> </span><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="GHC.Types.Basic.html#NotTopLevel"><span class="hs-identifier hs-var">NotTopLevel</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgBinding a
</span><a href="#local-6989586621681663858"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-311"></span><span>    </span><span class="annot"><span class="annottext">LintLocInfo -&gt; LintM () -&gt; LintM ()
forall a. LintLocInfo -&gt; LintM a -&gt; LintM a
</span><a href="GHC.Stg.Lint.html#addLoc"><span class="hs-identifier hs-var">addLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id] -&gt; LintLocInfo
</span><a href="GHC.Stg.Lint.html#BodyOfLetRec"><span class="hs-identifier hs-var">BodyOfLetRec</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663860"><span class="hs-identifier hs-var">binders</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-312"></span><span>      </span><span class="annot"><span class="annottext">[Id] -&gt; LintM () -&gt; LintM ()
forall a. [Id] -&gt; LintM a -&gt; LintM a
</span><a href="GHC.Stg.Lint.html#addInScopeVars"><span class="hs-identifier hs-var">addInScopeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663860"><span class="hs-identifier hs-var">binders</span></a></span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-313"></span><span>        </span><span class="annot"><span class="annottext">GenStgExpr a -&gt; LintM ()
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgExpr a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663859"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgTick"><span class="hs-identifier hs-type">StgTick</span></a></span><span> </span><span class="annot"><span class="annottext">StgTickish
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681663862"><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663862"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenStgExpr a -&gt; LintM ()
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgExpr a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663862"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgCase"><span class="hs-identifier hs-type">StgCase</span></a></span><span> </span><span id="local-6989586621681663864"><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663864"><span class="hs-identifier hs-var">scrut</span></a></span></span><span> </span><span id="local-6989586621681663865"><span class="annot"><span class="annottext">BinderP a
</span><a href="#local-6989586621681663865"><span class="hs-identifier hs-var">bndr</span></a></span></span><span> </span><span id="local-6989586621681663866"><span class="annot"><span class="annottext">AltType
</span><a href="#local-6989586621681663866"><span class="hs-identifier hs-var">alts_type</span></a></span></span><span> </span><span id="local-6989586621681663867"><span class="annot"><span class="annottext">[GenStgAlt a]
</span><a href="#local-6989586621681663867"><span class="hs-identifier hs-var">alts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-318"></span><span>    </span><span class="annot"><span class="annottext">GenStgExpr a -&gt; LintM ()
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgExpr a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663864"><span class="hs-identifier hs-var">scrut</span></a></span><span>
</span><span id="line-319"></span><span>
</span><span id="line-320"></span><span>    </span><span id="local-6989586621681663868"><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681663868"><span class="hs-identifier hs-var">lf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LintM LintFlags
</span><a href="GHC.Stg.Lint.html#getLintFlags"><span class="hs-identifier hs-var">getLintFlags</span></a></span><span>
</span><span id="line-321"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681663869"><span class="annot"><span class="annottext">in_scope :: Bool
</span><a href="#local-6989586621681663869"><span class="hs-identifier hs-var hs-var">in_scope</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AltType -&gt; Bool -&gt; Bool
</span><a href="GHC.Stg.Syntax.html#stgCaseBndrInScope"><span class="hs-identifier hs-var">stgCaseBndrInScope</span></a></span><span> </span><span class="annot"><span class="annottext">AltType
</span><a href="#local-6989586621681663866"><span class="hs-identifier hs-var">alts_type</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LintFlags -&gt; Bool
</span><a href="GHC.Stg.Lint.html#lf_unarised"><span class="hs-identifier hs-var">lf_unarised</span></a></span><span> </span><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681663868"><span class="hs-identifier hs-var">lf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span>    </span><span class="annot"><span class="annottext">[Id] -&gt; LintM () -&gt; LintM ()
forall a. [Id] -&gt; LintM a -&gt; LintM a
</span><a href="GHC.Stg.Lint.html#addInScopeVars"><span class="hs-identifier hs-var">addInScopeVars</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Id
BinderP a
</span><a href="#local-6989586621681663865"><span class="hs-identifier hs-var">bndr</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681663869"><span class="hs-identifier hs-var">in_scope</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenStgAlt a -&gt; LintM ()) -&gt; [GenStgAlt a] -&gt; LintM ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#mapM_/Data.Foldable.html#mapM_"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgAlt a -&gt; LintM ()
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgAlt a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintAlt"><span class="hs-identifier hs-var">lintAlt</span></a></span><span> </span><span class="annot"><span class="annottext">[GenStgAlt a]
</span><a href="#local-6989586621681663867"><span class="hs-identifier hs-var">alts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span id="local-6989586621681663347"><span class="annot"><a href="GHC.Stg.Lint.html#lintAlt"><span class="hs-identifier hs-type">lintAlt</span></a></span><span>
</span><span id="line-326"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663347"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#BinderP"><span class="hs-identifier hs-type">BinderP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663347"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-327"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgAlt"><span class="hs-identifier hs-type">GenStgAlt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663347"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span id="lintAlt"><span class="annot"><span class="annottext">lintAlt :: forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgAlt a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintAlt"><span class="hs-identifier hs-var hs-var">lintAlt</span></a></span></span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgAlt"><span class="hs-identifier hs-type">GenStgAlt</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">alt_con :: forall (pass :: StgPass). GenStgAlt pass -&gt; AltCon
</span><a href="GHC.Stg.Syntax.html#alt_con"><span class="hs-identifier hs-var">alt_con</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AltCon
</span><a href="GHC.Core.html#DEFAULT"><span class="hs-identifier hs-var">DEFAULT</span></a></span><span>
</span><span id="line-330"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">alt_bndrs :: forall (pass :: StgPass). GenStgAlt pass -&gt; [BinderP pass]
</span><a href="GHC.Stg.Syntax.html#alt_bndrs"><span class="hs-identifier hs-var">alt_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[BinderP a]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-331"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">alt_rhs :: forall (pass :: StgPass). GenStgAlt pass -&gt; GenStgExpr pass
</span><a href="GHC.Stg.Syntax.html#alt_rhs"><span class="hs-identifier hs-var">alt_rhs</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681663891"><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663891"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenStgExpr a -&gt; LintM ()
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgExpr a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663891"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintAlt"><span class="hs-identifier hs-var">lintAlt</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgAlt"><span class="hs-identifier hs-type">GenStgAlt</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">alt_con :: forall (pass :: StgPass). GenStgAlt pass -&gt; AltCon
</span><a href="GHC.Stg.Syntax.html#alt_con"><span class="hs-identifier hs-var">alt_con</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.html#LitAlt"><span class="hs-identifier hs-type">LitAlt</span></a></span><span> </span><span class="annot"><span class="annottext">Literal
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-334"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">alt_bndrs :: forall (pass :: StgPass). GenStgAlt pass -&gt; [BinderP pass]
</span><a href="GHC.Stg.Syntax.html#alt_bndrs"><span class="hs-identifier hs-var">alt_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[BinderP a]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-335"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">alt_rhs :: forall (pass :: StgPass). GenStgAlt pass -&gt; GenStgExpr pass
</span><a href="GHC.Stg.Syntax.html#alt_rhs"><span class="hs-identifier hs-var">alt_rhs</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681663893"><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663893"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenStgExpr a -&gt; LintM ()
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgExpr a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663893"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintAlt"><span class="hs-identifier hs-var">lintAlt</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgAlt"><span class="hs-identifier hs-type">GenStgAlt</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">alt_con :: forall (pass :: StgPass). GenStgAlt pass -&gt; AltCon
</span><a href="GHC.Stg.Syntax.html#alt_con"><span class="hs-identifier hs-var">alt_con</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.html#DataAlt"><span class="hs-identifier hs-type">DataAlt</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-338"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">alt_bndrs :: forall (pass :: StgPass). GenStgAlt pass -&gt; [BinderP pass]
</span><a href="GHC.Stg.Syntax.html#alt_bndrs"><span class="hs-identifier hs-var">alt_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681663895"><span class="annot"><span class="annottext">[BinderP a]
</span><a href="#local-6989586621681663895"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span>
</span><span id="line-339"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">alt_rhs :: forall (pass :: StgPass). GenStgAlt pass -&gt; GenStgExpr pass
</span><a href="GHC.Stg.Syntax.html#alt_rhs"><span class="hs-identifier hs-var">alt_rhs</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681663896"><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663896"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-340"></span><span>  </span><span class="hs-keyword">do</span><span>
</span><span id="line-341"></span><span>    </span><span class="annot"><span class="annottext">(Id -&gt; LintM ()) -&gt; [Id] -&gt; LintM ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#mapM_/Data.Foldable.html#mapM_"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="annot"><span class="annottext">Id -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#checkPostUnariseBndr"><span class="hs-identifier hs-var">checkPostUnariseBndr</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
[BinderP a]
</span><a href="#local-6989586621681663895"><span class="hs-identifier hs-var">bndrs</span></a></span><span>
</span><span id="line-342"></span><span>    </span><span class="annot"><span class="annottext">[Id] -&gt; LintM () -&gt; LintM ()
forall a. [Id] -&gt; LintM a -&gt; LintM a
</span><a href="GHC.Stg.Lint.html#addInScopeVars"><span class="hs-identifier hs-var">addInScopeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
[BinderP a]
</span><a href="#local-6989586621681663895"><span class="hs-identifier hs-var">bndrs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenStgExpr a -&gt; LintM ()
forall (a :: StgPass).
(OutputablePass a, BinderP a ~ Id) =&gt;
GenStgExpr a -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgExpr"><span class="hs-identifier hs-var">lintStgExpr</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr a
</span><a href="#local-6989586621681663896"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintConApp"><span class="hs-identifier hs-type">lintConApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span id="lintConApp"><span class="annot"><span class="annottext">lintConApp :: DataCon -&gt; [StgArg] -&gt; SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintConApp"><span class="hs-identifier hs-var hs-var">lintConApp</span></a></span></span><span> </span><span id="local-6989586621681663898"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681663898"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621681663899"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663899"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621681663900"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681663900"><span class="hs-identifier hs-var">app</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-346"></span><span>    </span><span class="annot"><span class="annottext">(StgArg -&gt; LintM ()) -&gt; [StgArg] -&gt; LintM ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#mapM_/Data.Foldable.html#mapM_"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgConArg"><span class="hs-identifier hs-var">lintStgConArg</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663899"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-347"></span><span>    </span><span id="local-6989586621681663901"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681663901"><span class="hs-identifier hs-var">unarised</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LintFlags -&gt; Bool
</span><a href="GHC.Stg.Lint.html#lf_unarised"><span class="hs-identifier hs-var">lf_unarised</span></a></span><span> </span><span class="annot"><span class="annottext">(LintFlags -&gt; Bool) -&gt; LintM LintFlags -&gt; LintM Bool
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LintM LintFlags
</span><a href="GHC.Stg.Lint.html#getLintFlags"><span class="hs-identifier hs-var">getLintFlags</span></a></span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span>    </span><span class="hs-comment">-- Post unarise check we apply constructors to the right number of args.</span><span>
</span><span id="line-350"></span><span>    </span><span class="hs-comment">-- This can be violated by invalid use of unsafeCoerce as showcased by test</span><span>
</span><span id="line-351"></span><span>    </span><span class="hs-comment">-- T9208; see also #23865</span><span>
</span><span id="line-352"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; LintM () -&gt; LintM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#when/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681663901"><span class="hs-identifier hs-var">unarised</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-353"></span><span>          </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Bool
</span><a href="GHC.Core.DataCon.html#isUnboxedTupleDataCon"><span class="hs-identifier hs-var">isUnboxedTupleDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681663898"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-354"></span><span>          </span><span class="annot"><span class="annottext">[StrictnessMark] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#length/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(() :: Constraint) =&gt; DataCon -&gt; [StrictnessMark]
DataCon -&gt; [StrictnessMark]
</span><a href="GHC.Types.RepType.html#dataConRuntimeRepStrictness"><span class="hs-identifier hs-var">dataConRuntimeRepStrictness</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681663898"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">[StgArg] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#length/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663899"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-355"></span><span>      </span><span class="annot"><span class="annottext">SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#addErrL"><span class="hs-identifier hs-var">addErrL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Constructor applied to incorrect number of arguments:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-356"></span><span>               </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Application:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681663900"><span class="hs-identifier hs-var">app</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span class="hs-comment">-- See Note [Linting StgApp]</span><span>
</span><span id="line-359"></span><span class="hs-comment">-- See Note [Typing the STG language]</span><span>
</span><span id="line-360"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgAppReps"><span class="hs-identifier hs-type">lintStgAppReps</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span id="lintStgAppReps"><span class="annot"><span class="annottext">lintStgAppReps :: Id -&gt; [StgArg] -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintStgAppReps"><span class="hs-identifier hs-var hs-var">lintStgAppReps</span></a></span></span><span> </span><span id="local-6989586621681663905"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663905"><span class="hs-identifier hs-var">_fun</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; LintM ()
forall a. a -&gt; LintM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintStgAppReps"><span class="hs-identifier hs-var">lintStgAppReps</span></a></span><span> </span><span id="local-6989586621681663906"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663906"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621681663907"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663907"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-363"></span><span>  </span><span id="local-6989586621681663908"><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681663908"><span class="hs-identifier hs-var">lf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LintM LintFlags
</span><a href="GHC.Stg.Lint.html#getLintFlags"><span class="hs-identifier hs-var">getLintFlags</span></a></span><span>
</span><span id="line-364"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681663909"><span class="annot"><span class="annottext">platform :: Platform
</span><a href="#local-6989586621681663909"><span class="hs-identifier hs-var hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LintFlags -&gt; Platform
</span><a href="GHC.Stg.Lint.html#lf_platform"><span class="hs-identifier hs-var">lf_platform</span></a></span><span> </span><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681663908"><span class="hs-identifier hs-var">lf</span></a></span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621681663911"><span class="annot"><span class="annottext">[Scaled Kind]
</span><a href="#local-6989586621681663911"><span class="hs-identifier hs-var">fun_arg_tys</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681663912"><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681663912"><span class="hs-identifier hs-var">_res</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; ([Scaled Kind], Kind)
</span><a href="GHC.Core.Type.html#splitFunTys"><span class="hs-identifier hs-var">splitFunTys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Kind
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663906"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-367"></span><span>      </span><span id="local-6989586621681663914"><span class="annot"><span class="annottext">fun_arg_tys' :: [Kind]
</span><a href="#local-6989586621681663914"><span class="hs-identifier hs-var hs-var">fun_arg_tys'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Scaled Kind -&gt; Kind) -&gt; [Scaled Kind] -&gt; [Kind]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Scaled Kind -&gt; Kind
forall a. Scaled a -&gt; a
</span><a href="GHC.Core.TyCo.Rep.html#scaledThing"><span class="hs-identifier hs-var">scaledThing</span></a></span><span> </span><span class="annot"><span class="annottext">[Scaled Kind]
</span><a href="#local-6989586621681663911"><span class="hs-identifier hs-var">fun_arg_tys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span>      </span><span class="hs-comment">-- Might be &quot;wrongly&quot; typed as polymorphic. See #21399</span><span>
</span><span id="line-370"></span><span>      </span><span class="hs-comment">-- In these cases typePrimRep_maybe will return Nothing</span><span>
</span><span id="line-371"></span><span>      </span><span class="hs-comment">-- and we abort kind checking.</span><span>
</span><span id="line-372"></span><span>      </span><span class="annot"><a href="#local-6989586621681663916"><span class="hs-identifier hs-type">fun_arg_tys_reps</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681663917"><span class="hs-identifier hs-type">actual_arg_reps</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCon.html#PrimRep"><span class="hs-identifier hs-type">PrimRep</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-373"></span><span>      </span><span id="local-6989586621681663916"><span class="annot"><span class="annottext">fun_arg_tys_reps :: [Maybe [PrimRep]]
</span><a href="#local-6989586621681663916"><span class="hs-identifier hs-var hs-var">fun_arg_tys_reps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; Maybe [PrimRep]) -&gt; [Kind] -&gt; [Maybe [PrimRep]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Maybe [PrimRep]
</span><a href="GHC.Types.RepType.html#typePrimRep_maybe"><span class="hs-identifier hs-var">typePrimRep_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681663914"><span class="hs-identifier hs-var">fun_arg_tys'</span></a></span><span>
</span><span id="line-374"></span><span>      </span><span id="local-6989586621681663917"><span class="annot"><span class="annottext">actual_arg_reps :: [Maybe [PrimRep]]
</span><a href="#local-6989586621681663917"><span class="hs-identifier hs-var hs-var">actual_arg_reps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(StgArg -&gt; Maybe [PrimRep]) -&gt; [StgArg] -&gt; [Maybe [PrimRep]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Maybe [PrimRep]
</span><a href="GHC.Types.RepType.html#typePrimRep_maybe"><span class="hs-identifier hs-var">typePrimRep_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; Maybe [PrimRep])
-&gt; (StgArg -&gt; Kind) -&gt; StgArg -&gt; Maybe [PrimRep]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">StgArg -&gt; Kind
</span><a href="GHC.Stg.Syntax.html#stgArgType"><span class="hs-identifier hs-var">stgArgType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663907"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-375"></span><span>
</span><span id="line-376"></span><span>      </span><span class="annot"><a href="#local-6989586621681663919"><span class="hs-identifier hs-type">match_args</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCon.html#PrimRep"><span class="hs-identifier hs-type">PrimRep</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCon.html#PrimRep"><span class="hs-identifier hs-type">PrimRep</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>      </span><span id="local-6989586621681663919"><span class="annot"><span class="annottext">match_args :: [Maybe [PrimRep]] -&gt; [Maybe [PrimRep]] -&gt; LintM ()
</span><a href="#local-6989586621681663919"><span class="hs-identifier hs-var hs-var">match_args</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe [PrimRep]
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; LintM ()
forall a. a -&gt; LintM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>      </span><span class="annot"><a href="#local-6989586621681663919"><span class="hs-identifier hs-var">match_args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe [PrimRep]
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; LintM ()
forall a. a -&gt; LintM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>      </span><span class="annot"><a href="#local-6989586621681663919"><span class="hs-identifier hs-var">match_args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681663920"><span class="annot"><span class="annottext">[PrimRep]
</span><a href="#local-6989586621681663920"><span class="hs-identifier hs-var">actual_rep</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681663921"><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663921"><span class="hs-identifier hs-var">actual_reps_left</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681663922"><span class="annot"><span class="annottext">[PrimRep]
</span><a href="#local-6989586621681663922"><span class="hs-identifier hs-var">expected_rep</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681663923"><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663923"><span class="hs-identifier hs-var">expected_reps_left</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-380"></span><span>        </span><span class="hs-comment">-- Common case, reps are exactly the same</span><span>
</span><span id="line-381"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[PrimRep]
</span><a href="#local-6989586621681663920"><span class="hs-identifier hs-var">actual_rep</span></a></span><span> </span><span class="annot"><span class="annottext">[PrimRep] -&gt; [PrimRep] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[PrimRep]
</span><a href="#local-6989586621681663922"><span class="hs-identifier hs-var">expected_rep</span></a></span><span>
</span><span id="line-382"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]] -&gt; [Maybe [PrimRep]] -&gt; LintM ()
</span><a href="#local-6989586621681663919"><span class="hs-identifier hs-var">match_args</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663921"><span class="hs-identifier hs-var">actual_reps_left</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663923"><span class="hs-identifier hs-var">expected_reps_left</span></a></span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span>        </span><span class="hs-comment">-- Check for void rep which can be either an empty list *or* [VoidRep]</span><span>
</span><span id="line-385"></span><span>           </span><span class="hs-comment">-- No, typePrimRep_maybe will never return a result containing VoidRep.</span><span>
</span><span id="line-386"></span><span>           </span><span class="hs-comment">-- We should refactor to make this obvious from the types.</span><span>
</span><span id="line-387"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[PrimRep] -&gt; Bool
</span><a href="#local-6989586621681663924"><span class="hs-identifier hs-var">isVoidRep</span></a></span><span> </span><span class="annot"><span class="annottext">[PrimRep]
</span><a href="#local-6989586621681663920"><span class="hs-identifier hs-var">actual_rep</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">[PrimRep] -&gt; Bool
</span><a href="#local-6989586621681663924"><span class="hs-identifier hs-var">isVoidRep</span></a></span><span> </span><span class="annot"><span class="annottext">[PrimRep]
</span><a href="#local-6989586621681663922"><span class="hs-identifier hs-var">expected_rep</span></a></span><span>
</span><span id="line-388"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]] -&gt; [Maybe [PrimRep]] -&gt; LintM ()
</span><a href="#local-6989586621681663919"><span class="hs-identifier hs-var">match_args</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663921"><span class="hs-identifier hs-var">actual_reps_left</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663923"><span class="hs-identifier hs-var">expected_reps_left</span></a></span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span>        </span><span class="hs-comment">-- Some reps are compatible *even* if they are not the same. E.g. IntRep and WordRep.</span><span>
</span><span id="line-391"></span><span>        </span><span class="hs-comment">-- We check for that here with primRepCompatible</span><span>
</span><span id="line-392"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; [PrimRep] -&gt; [PrimRep] -&gt; Bool
</span><a href="GHC.Core.TyCon.html#primRepsCompatible"><span class="hs-identifier hs-var">primRepsCompatible</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681663909"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">[PrimRep]
</span><a href="#local-6989586621681663920"><span class="hs-identifier hs-var">actual_rep</span></a></span><span> </span><span class="annot"><span class="annottext">[PrimRep]
</span><a href="#local-6989586621681663922"><span class="hs-identifier hs-var">expected_rep</span></a></span><span>
</span><span id="line-393"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]] -&gt; [Maybe [PrimRep]] -&gt; LintM ()
</span><a href="#local-6989586621681663919"><span class="hs-identifier hs-var">match_args</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663921"><span class="hs-identifier hs-var">actual_reps_left</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663923"><span class="hs-identifier hs-var">expected_reps_left</span></a></span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span>        </span><span class="hs-comment">-- We might distribute args from within one unboxed sum over multiple</span><span>
</span><span id="line-396"></span><span>        </span><span class="hs-comment">-- single rep args. This means we might need to match up things like:</span><span>
</span><span id="line-397"></span><span>        </span><span class="hs-comment">-- [Just [WordRep, LiftedRep]] with [Just [WordRep],Just [LiftedRep]]</span><span>
</span><span id="line-398"></span><span>        </span><span class="hs-comment">-- which happens here.</span><span>
</span><span id="line-399"></span><span>        </span><span class="hs-comment">-- See Note [Linting StgApp].</span><span>
</span><span id="line-400"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681663925"><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621681663925"><span class="hs-identifier hs-var">actual</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681663926"><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663926"><span class="hs-identifier hs-var">actuals</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[PrimRep]
-&gt; [Maybe [PrimRep]] -&gt; Maybe (PrimRep, [Maybe [PrimRep]])
</span><a href="#local-6989586621681663927"><span class="hs-identifier hs-var">getOneRep</span></a></span><span> </span><span class="annot"><span class="annottext">[PrimRep]
</span><a href="#local-6989586621681663920"><span class="hs-identifier hs-var">actual_rep</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663921"><span class="hs-identifier hs-var">actual_reps_left</span></a></span><span>
</span><span id="line-401"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681663928"><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621681663928"><span class="hs-identifier hs-var">expected</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681663929"><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663929"><span class="hs-identifier hs-var">expecteds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[PrimRep]
-&gt; [Maybe [PrimRep]] -&gt; Maybe (PrimRep, [Maybe [PrimRep]])
</span><a href="#local-6989586621681663927"><span class="hs-identifier hs-var">getOneRep</span></a></span><span> </span><span class="annot"><span class="annottext">[PrimRep]
</span><a href="#local-6989586621681663922"><span class="hs-identifier hs-var">expected_rep</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663923"><span class="hs-identifier hs-var">expected_reps_left</span></a></span><span>
</span><span id="line-402"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; PrimRep -&gt; PrimRep -&gt; Bool
</span><a href="GHC.Core.TyCon.html#primRepCompatible"><span class="hs-identifier hs-var">primRepCompatible</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681663909"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621681663925"><span class="hs-identifier hs-var">actual</span></a></span><span> </span><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621681663928"><span class="hs-identifier hs-var">expected</span></a></span><span>
</span><span id="line-403"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]] -&gt; [Maybe [PrimRep]] -&gt; LintM ()
</span><a href="#local-6989586621681663919"><span class="hs-identifier hs-var">match_args</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663926"><span class="hs-identifier hs-var">actuals</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663929"><span class="hs-identifier hs-var">expecteds</span></a></span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#addErrL"><span class="hs-identifier hs-var">addErrL</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; LintM ()) -&gt; SDoc -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Function type reps and function argument reps mismatched&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; SDoc -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-406"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;In application &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Id -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663906"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663907"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-407"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;argument rep:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663917"><span class="hs-identifier hs-var">actual_arg_reps</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-408"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;expected rep:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663916"><span class="hs-identifier hs-var">fun_arg_tys_reps</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-409"></span><span>              </span><span class="hs-comment">-- text &quot;expected reps:&quot; &lt;&gt; ppr arg_ty_reps $$</span><span>
</span><span id="line-410"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unarised?:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LintFlags -&gt; Bool
</span><a href="GHC.Stg.Lint.html#lf_unarised"><span class="hs-identifier hs-var">lf_unarised</span></a></span><span> </span><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681663908"><span class="hs-identifier hs-var">lf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-411"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-412"></span><span>          </span><span id="local-6989586621681663924"><span class="annot"><span class="annottext">isVoidRep :: [PrimRep] -&gt; Bool
</span><a href="#local-6989586621681663924"><span class="hs-identifier hs-var hs-var">isVoidRep</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-413"></span><span>          </span><span class="annot"><a href="#local-6989586621681663924"><span class="hs-identifier hs-var">isVoidRep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">PrimRep
</span><a href="GHC.Core.TyCon.html#VoidRep"><span class="hs-identifier hs-var">VoidRep</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-414"></span><span>          </span><span class="annot"><a href="#local-6989586621681663924"><span class="hs-identifier hs-var">isVoidRep</span></a></span><span> </span><span class="annot"><span class="annottext">[PrimRep]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-415"></span><span>          </span><span class="hs-comment">-- Try to strip one non-void arg rep from the current argument type returning</span><span>
</span><span id="line-416"></span><span>          </span><span class="hs-comment">-- the remaining list of arguments. We return Nothing for invalid input which</span><span>
</span><span id="line-417"></span><span>          </span><span class="hs-comment">-- will result in a lint failure in match_args.</span><span>
</span><span id="line-418"></span><span>          </span><span class="annot"><a href="#local-6989586621681663927"><span class="hs-identifier hs-type">getOneRep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCon.html#PrimRep"><span class="hs-identifier hs-type">PrimRep</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCon.html#PrimRep"><span class="hs-identifier hs-type">PrimRep</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCon.html#PrimRep"><span class="hs-identifier hs-type">PrimRep</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCon.html#PrimRep"><span class="hs-identifier hs-type">PrimRep</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-419"></span><span>          </span><span id="local-6989586621681663927"><span class="annot"><span class="annottext">getOneRep :: [PrimRep]
-&gt; [Maybe [PrimRep]] -&gt; Maybe (PrimRep, [Maybe [PrimRep]])
</span><a href="#local-6989586621681663927"><span class="hs-identifier hs-var hs-var">getOneRep</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621681663932"><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663932"><span class="hs-identifier hs-var">_rest</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (PrimRep, [Maybe [PrimRep]])
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-comment">-- Void rep args are invalid at this point.</span><span>
</span><span id="line-420"></span><span>          </span><span class="annot"><a href="#local-6989586621681663927"><span class="hs-identifier hs-var">getOneRep</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681663933"><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621681663933"><span class="hs-identifier hs-var">rep</span></a></span></span><span class="hs-special">]</span><span> </span><span id="local-6989586621681663934"><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663934"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PrimRep, [Maybe [PrimRep]]) -&gt; Maybe (PrimRep, [Maybe [PrimRep]])
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621681663933"><span class="hs-identifier hs-var">rep</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663934"><span class="hs-identifier hs-var">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- A single arg rep arg</span><span>
</span><span id="line-421"></span><span>          </span><span class="annot"><a href="#local-6989586621681663927"><span class="hs-identifier hs-var">getOneRep</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681663935"><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621681663935"><span class="hs-identifier hs-var">rep</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681663936"><span class="annot"><span class="annottext">[PrimRep]
</span><a href="#local-6989586621681663936"><span class="hs-identifier hs-var">reps</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681663937"><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663937"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PrimRep, [Maybe [PrimRep]]) -&gt; Maybe (PrimRep, [Maybe [PrimRep]])
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621681663935"><span class="hs-identifier hs-var">rep</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[PrimRep] -&gt; Maybe [PrimRep]
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">[PrimRep]
</span><a href="#local-6989586621681663936"><span class="hs-identifier hs-var">reps</span></a></span><span class="annot"><span class="annottext">Maybe [PrimRep] -&gt; [Maybe [PrimRep]] -&gt; [Maybe [PrimRep]]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663937"><span class="hs-identifier hs-var">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Multi rep arg.</span><span>
</span><span id="line-422"></span><span>
</span><span id="line-423"></span><span>      </span><span class="annot"><a href="#local-6989586621681663919"><span class="hs-identifier hs-var">match_args</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; LintM ()
forall a. a -&gt; LintM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Functions are allowed to be over/under applied.</span><span>
</span><span id="line-424"></span><span>
</span><span id="line-425"></span><span>  </span><span class="annot"><span class="annottext">[Maybe [PrimRep]] -&gt; [Maybe [PrimRep]] -&gt; LintM ()
</span><a href="#local-6989586621681663919"><span class="hs-identifier hs-var">match_args</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663917"><span class="hs-identifier hs-var">actual_arg_reps</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe [PrimRep]]
</span><a href="#local-6989586621681663916"><span class="hs-identifier hs-var">fun_arg_tys_reps</span></a></span><span>
</span><span id="line-426"></span><span>
</span><span id="line-427"></span><span id="local-6989586621681663342"><span class="annot"><a href="GHC.Stg.Lint.html#lintAppCbvMarks"><span class="hs-identifier hs-type">lintAppCbvMarks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663342"><span class="hs-identifier hs-type">pass</span></a></span><span>
</span><span id="line-428"></span><span>                </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgExpr"><span class="hs-identifier hs-type">GenStgExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663342"><span class="hs-identifier hs-type">pass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-429"></span><span id="lintAppCbvMarks"><span class="annot"><span class="annottext">lintAppCbvMarks :: forall (pass :: StgPass).
OutputablePass pass =&gt;
GenStgExpr pass -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#lintAppCbvMarks"><span class="hs-identifier hs-var hs-var">lintAppCbvMarks</span></a></span></span><span> </span><span id="local-6989586621681663970"><span class="annot"><span class="annottext">e :: GenStgExpr pass
</span><a href="#local-6989586621681663970"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgApp"><span class="hs-identifier hs-type">StgApp</span></a></span><span> </span><span id="local-6989586621681663971"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663971"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621681663972"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663972"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-430"></span><span>  </span><span id="local-6989586621681663973"><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681663973"><span class="hs-identifier hs-var">lf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LintM LintFlags
</span><a href="GHC.Stg.Lint.html#getLintFlags"><span class="hs-identifier hs-var">getLintFlags</span></a></span><span>
</span><span id="line-431"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; LintM () -&gt; LintM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#when/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LintFlags -&gt; Bool
</span><a href="GHC.Stg.Lint.html#lf_unarised"><span class="hs-identifier hs-var">lf_unarised</span></a></span><span> </span><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681663973"><span class="hs-identifier hs-var">lf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-432"></span><span>    </span><span class="hs-comment">-- A function which expects a unlifted argument as n'th argument</span><span>
</span><span id="line-433"></span><span>    </span><span class="hs-comment">-- always needs to be applied to n arguments.</span><span>
</span><span id="line-434"></span><span>    </span><span class="hs-comment">-- See Note [CBV Function Ids].</span><span>
</span><span id="line-435"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681663974"><span class="annot"><span class="annottext">marks :: [CbvMark]
</span><a href="#local-6989586621681663974"><span class="hs-identifier hs-var hs-var">marks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CbvMark] -&gt; Maybe [CbvMark] -&gt; [CbvMark]
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../base-4.18.3.0/src/Data.Maybe.html#fromMaybe/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(Maybe [CbvMark] -&gt; [CbvMark]) -&gt; Maybe [CbvMark] -&gt; [CbvMark]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Id -&gt; Maybe [CbvMark]
</span><a href="GHC.Types.Id.html#idCbvMarks_maybe"><span class="hs-identifier hs-var">idCbvMarks_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663971"><span class="hs-identifier hs-var">fun</span></a></span><span>
</span><span id="line-436"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; LintM () -&gt; LintM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#when/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CbvMark] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#length/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CbvMark -&gt; Bool) -&gt; [CbvMark] -&gt; [CbvMark]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="GHC.Utils.Misc.html#dropWhileEndLE"><span class="hs-identifier hs-var">dropWhileEndLE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (CbvMark -&gt; Bool) -&gt; CbvMark -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CbvMark -&gt; Bool
</span><a href="GHC.Types.Basic.html#isMarkedCbv"><span class="hs-identifier hs-var">isMarkedCbv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CbvMark]
</span><a href="#local-6989586621681663974"><span class="hs-identifier hs-var">marks</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">[StgArg] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#length/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663972"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-437"></span><span>      </span><span class="annot"><span class="annottext">SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#addErrL"><span class="hs-identifier hs-var">addErrL</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; LintM ()) -&gt; SDoc -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Undersatured cbv marked ID in App&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass
</span><a href="#local-6989586621681663970"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; SDoc -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-438"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;marks&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[CbvMark] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[CbvMark]
</span><a href="#local-6989586621681663974"><span class="hs-identifier hs-var">marks</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-439"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;args&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621681663972"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-440"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;arity&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Int
</span><a href="GHC.Types.Id.html#idArity"><span class="hs-identifier hs-var">idArity</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663971"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-441"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;join_arity&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Maybe Int
</span><a href="GHC.Types.Id.html#isJoinId_maybe"><span class="hs-identifier hs-var">isJoinId_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663971"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-442"></span><span class="annot"><a href="GHC.Stg.Lint.html#lintAppCbvMarks"><span class="hs-identifier hs-var">lintAppCbvMarks</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgExpr pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; LintM ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;impossible - lintAppCbvMarks&quot;</span></span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
The Lint monad
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="hs-keyword">newtype</span><span> </span><span id="LintM"><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-var">LintM</span></a></span></span><span> </span><span id="local-6989586621681663371"><span class="annot"><a href="#local-6989586621681663371"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LintM"><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-var">LintM</span></a></span></span><span>
</span><span id="line-453"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="unLintM"><span class="annot"><span class="annottext">forall a.
LintM a
-&gt; Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (a, Bag SDoc)
</span><a href="GHC.Stg.Lint.html#unLintM"><span class="hs-identifier hs-var hs-var">unLintM</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span>
</span><span id="line-454"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintFlags"><span class="hs-identifier hs-type">LintFlags</span></a></span><span>
</span><span id="line-455"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#DiagOpts"><span class="hs-identifier hs-type">DiagOpts</span></a></span><span>          </span><span class="hs-comment">-- Diagnostic options</span><span>
</span><span id="line-456"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span>        </span><span class="hs-comment">-- Pretty-printing options</span><span>
</span><span id="line-457"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Lint.html#LintLocInfo"><span class="hs-identifier hs-type">LintLocInfo</span></a></span><span class="hs-special">]</span><span>     </span><span class="hs-comment">-- Locations</span><span>
</span><span id="line-458"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html#IdSet"><span class="hs-identifier hs-type">IdSet</span></a></span><span>             </span><span class="hs-comment">-- Local vars in scope</span><span>
</span><span id="line-459"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>        </span><span class="hs-comment">-- Error messages so far</span><span>
</span><span id="line-460"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681663371"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- Result and error messages (if any)</span><span>
</span><span id="line-461"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-462"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681663984"><span id="local-6989586621681663986"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; LintM a -&gt; LintM b)
-&gt; (forall a b. a -&gt; LintM b -&gt; LintM a) -&gt; Functor LintM
forall a b. a -&gt; LintM b -&gt; LintM a
forall a b. (a -&gt; b) -&gt; LintM a -&gt; LintM b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; LintM a -&gt; LintM b
fmap :: forall a b. (a -&gt; b) -&gt; LintM a -&gt; LintM b
$c&lt;$ :: forall a b. a -&gt; LintM b -&gt; LintM a
&lt;$ :: forall a b. a -&gt; LintM b -&gt; LintM a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#Functor/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-463"></span><span>
</span><span id="line-464"></span><span class="hs-keyword">data</span><span> </span><span id="LintFlags"><span class="annot"><a href="GHC.Stg.Lint.html#LintFlags"><span class="hs-identifier hs-var">LintFlags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LintFlags"><span class="annot"><a href="GHC.Stg.Lint.html#LintFlags"><span class="hs-identifier hs-var">LintFlags</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="lf_unarised"><span class="annot"><span class="annottext">LintFlags -&gt; Bool
</span><a href="GHC.Stg.Lint.html#lf_unarised"><span class="hs-identifier hs-var hs-var">lf_unarised</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-465"></span><span>                           </span><span class="hs-special">,</span><span> </span><span id="lf_platform"><span class="annot"><span class="annottext">LintFlags -&gt; Platform
</span><a href="GHC.Stg.Lint.html#lf_platform"><span class="hs-identifier hs-var hs-var">lf_platform</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span>
</span><span id="line-466"></span><span>                             </span><span class="annot"><span class="hs-comment">-- ^ have we run the unariser yet?</span></span><span>
</span><span id="line-467"></span><span>                           </span><span class="hs-special">}</span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span class="hs-keyword">data</span><span> </span><span id="LintLocInfo"><span class="annot"><a href="GHC.Stg.Lint.html#LintLocInfo"><span class="hs-identifier hs-var">LintLocInfo</span></a></span></span><span>
</span><span id="line-470"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="RhsOf"><span class="annot"><a href="GHC.Stg.Lint.html#RhsOf"><span class="hs-identifier hs-var">RhsOf</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>            </span><span class="hs-comment">-- The variable bound</span><span>
</span><span id="line-471"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LambdaBodyOf"><span class="annot"><a href="GHC.Stg.Lint.html#LambdaBodyOf"><span class="hs-identifier hs-var">LambdaBodyOf</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">]</span><span>   </span><span class="hs-comment">-- The lambda-binder</span><span>
</span><span id="line-472"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="BodyOfLetRec"><span class="annot"><a href="GHC.Stg.Lint.html#BodyOfLetRec"><span class="hs-identifier hs-var">BodyOfLetRec</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">]</span><span>   </span><span class="hs-comment">-- One of the binders</span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span class="annot"><a href="GHC.Stg.Lint.html#dumpLoc"><span class="hs-identifier hs-type">dumpLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintLocInfo"><span class="hs-identifier hs-type">LintLocInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-475"></span><span id="dumpLoc"><span class="annot"><span class="annottext">dumpLoc :: LintLocInfo -&gt; (SrcSpan, SDoc)
</span><a href="GHC.Stg.Lint.html#dumpLoc"><span class="hs-identifier hs-var hs-var">dumpLoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Lint.html#RhsOf"><span class="hs-identifier hs-type">RhsOf</span></a></span><span> </span><span id="local-6989586621681663990"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663990"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-476"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcLoc -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#srcLocSpan"><span class="hs-identifier hs-var">srcLocSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; SrcLoc
forall a. NamedThing a =&gt; a -&gt; SrcLoc
</span><a href="GHC.Types.Name.html#getSrcLoc"><span class="hs-identifier hs-var">getSrcLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663990"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; [RHS of &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; SDoc
</span><a href="GHC.Stg.Lint.html#pp_binders"><span class="hs-identifier hs-var">pp_binders</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681663990"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; SDoc
forall doc. IsLine doc =&gt; Char -&gt; doc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">']'</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span class="annot"><a href="GHC.Stg.Lint.html#dumpLoc"><span class="hs-identifier hs-var">dumpLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Lint.html#LambdaBodyOf"><span class="hs-identifier hs-type">LambdaBodyOf</span></a></span><span> </span><span id="local-6989586621681663994"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663994"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-478"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcLoc -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#srcLocSpan"><span class="hs-identifier hs-var">srcLocSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; SrcLoc
forall a. NamedThing a =&gt; a -&gt; SrcLoc
</span><a href="GHC.Types.Name.html#getSrcLoc"><span class="hs-identifier hs-var">getSrcLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id] -&gt; Id
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.List.html#head/GHC.List.html#head"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663994"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; [in body of lambda with binders &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; SDoc
</span><a href="GHC.Stg.Lint.html#pp_binders"><span class="hs-identifier hs-var">pp_binders</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663994"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; SDoc
forall doc. IsLine doc =&gt; Char -&gt; doc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">']'</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-479"></span><span>
</span><span id="line-480"></span><span class="annot"><a href="GHC.Stg.Lint.html#dumpLoc"><span class="hs-identifier hs-var">dumpLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Lint.html#BodyOfLetRec"><span class="hs-identifier hs-type">BodyOfLetRec</span></a></span><span> </span><span id="local-6989586621681663996"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663996"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-481"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcLoc -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#srcLocSpan"><span class="hs-identifier hs-var">srcLocSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; SrcLoc
forall a. NamedThing a =&gt; a -&gt; SrcLoc
</span><a href="GHC.Types.Name.html#getSrcLoc"><span class="hs-identifier hs-var">getSrcLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id] -&gt; Id
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.List.html#head/GHC.List.html#head"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663996"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; [in body of letrec with binders &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; SDoc
</span><a href="GHC.Stg.Lint.html#pp_binders"><span class="hs-identifier hs-var">pp_binders</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663996"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; SDoc
forall doc. IsLine doc =&gt; Char -&gt; doc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">']'</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span>
</span><span id="line-484"></span><span class="annot"><a href="GHC.Stg.Lint.html#pp_binders"><span class="hs-identifier hs-type">pp_binders</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-485"></span><span id="pp_binders"><span class="annot"><span class="annottext">pp_binders :: [Id] -&gt; SDoc
</span><a href="GHC.Stg.Lint.html#pp_binders"><span class="hs-identifier hs-var hs-var">pp_binders</span></a></span></span><span> </span><span id="local-6989586621681663997"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663997"><span class="hs-identifier hs-var">bs</span></a></span></span><span>
</span><span id="line-486"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; [SDoc] -&gt; [SDoc]
forall doc. IsLine doc =&gt; doc -&gt; [doc] -&gt; [doc]
</span><a href="GHC.Utils.Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Id -&gt; SDoc) -&gt; [Id] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Id -&gt; SDoc
</span><a href="#local-6989586621681664001"><span class="hs-identifier hs-var">pp_binder</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681663997"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-487"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-488"></span><span>    </span><span id="local-6989586621681664001"><span class="annot"><span class="annottext">pp_binder :: Id -&gt; SDoc
</span><a href="#local-6989586621681664001"><span class="hs-identifier hs-var hs-var">pp_binder</span></a></span></span><span> </span><span id="local-6989586621681664005"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664005"><span class="hs-identifier hs-var">b</span></a></span></span><span>
</span><span id="line-489"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Id -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664005"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Kind
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664005"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span id="local-6989586621681663291"><span class="annot"><a href="GHC.Stg.Lint.html#initL"><span class="hs-identifier hs-type">initL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#DiagOpts"><span class="hs-identifier hs-type">DiagOpts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html#IdSet"><span class="hs-identifier hs-type">IdSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663291"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span><span>
</span><span id="line-492"></span><span id="initL"><span class="annot"><span class="annottext">initL :: forall a.
Platform
-&gt; DiagOpts
-&gt; Module
-&gt; Bool
-&gt; StgPprOpts
-&gt; IdSet
-&gt; LintM a
-&gt; Maybe SDoc
</span><a href="GHC.Stg.Lint.html#initL"><span class="hs-identifier hs-var hs-var">initL</span></a></span></span><span> </span><span id="local-6989586621681664010"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681664010"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621681664011"><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664011"><span class="hs-identifier hs-var">diag_opts</span></a></span></span><span> </span><span id="local-6989586621681664012"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664012"><span class="hs-identifier hs-var">this_mod</span></a></span></span><span> </span><span id="local-6989586621681664013"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681664013"><span class="hs-identifier hs-var">unarised</span></a></span></span><span> </span><span id="local-6989586621681664014"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664014"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621681664015"><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664015"><span class="hs-identifier hs-var">locals</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span id="local-6989586621681664016"><span class="annot"><span class="annottext">Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (a, Bag SDoc)
</span><a href="#local-6989586621681664016"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-493"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681664017"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664017"><span class="hs-identifier hs-var">errs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (a, Bag SDoc)
</span><a href="#local-6989586621681664016"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664012"><span class="hs-identifier hs-var">this_mod</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Platform -&gt; LintFlags
</span><a href="GHC.Stg.Lint.html#LintFlags"><span class="hs-identifier hs-var">LintFlags</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681664013"><span class="hs-identifier hs-var">unarised</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681664010"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664011"><span class="hs-identifier hs-var">diag_opts</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664014"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664015"><span class="hs-identifier hs-var">locals</span></a></span><span> </span><span class="annot"><span class="annottext">Bag SDoc
forall a. Bag a
</span><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier hs-var">emptyBag</span></a></span><span>
</span><span id="line-494"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bag SDoc -&gt; Bool
forall a. Bag a -&gt; Bool
</span><a href="GHC.Data.Bag.html#isEmptyBag"><span class="hs-identifier hs-var">isEmptyBag</span></a></span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664017"><span class="hs-identifier hs-var">errs</span></a></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-495"></span><span>      </span><span class="annot"><span class="annottext">Maybe SDoc
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-496"></span><span>  </span><span class="hs-keyword">else</span><span>
</span><span id="line-497"></span><span>      </span><span class="annot"><span class="annottext">SDoc -&gt; Maybe SDoc
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; [SDoc] -&gt; [SDoc]
forall doc. IsLine doc =&gt; doc -&gt; [doc] -&gt; [doc]
</span><a href="GHC.Utils.Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#blankLine"><span class="hs-identifier hs-var">blankLine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bag SDoc -&gt; [SDoc]
forall a. Bag a -&gt; [a]
</span><a href="GHC.Data.Bag.html#bagToList"><span class="hs-identifier hs-var">bagToList</span></a></span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664017"><span class="hs-identifier hs-var">errs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681664024"><span id="local-6989586621681664028"><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#Applicative/GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-500"></span><span>      </span><span id="local-6989586621681664031"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; LintM a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></a></span></span><span> </span><span id="local-6989586621681664032"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681664032"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (a, Bag SDoc))
-&gt; LintM a
forall a.
(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (a, Bag SDoc))
-&gt; LintM a
</span><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-var">LintM</span></a></span><span> </span><span class="annot"><span class="annottext">((Module
  -&gt; LintFlags
  -&gt; DiagOpts
  -&gt; StgPprOpts
  -&gt; [LintLocInfo]
  -&gt; IdSet
  -&gt; Bag SDoc
  -&gt; (a, Bag SDoc))
 -&gt; LintM a)
-&gt; (Module
    -&gt; LintFlags
    -&gt; DiagOpts
    -&gt; StgPprOpts
    -&gt; [LintLocInfo]
    -&gt; IdSet
    -&gt; Bag SDoc
    -&gt; (a, Bag SDoc))
-&gt; LintM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681664033"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664033"><span class="hs-identifier hs-var">_mod</span></a></span></span><span> </span><span id="local-6989586621681664034"><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664034"><span class="hs-identifier hs-var">_lf</span></a></span></span><span> </span><span id="local-6989586621681664035"><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664035"><span class="hs-identifier hs-var">_df</span></a></span></span><span> </span><span id="local-6989586621681664036"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664036"><span class="hs-identifier hs-var">_opts</span></a></span></span><span> </span><span id="local-6989586621681664037"><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664037"><span class="hs-identifier hs-var">_loc</span></a></span></span><span> </span><span id="local-6989586621681664038"><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664038"><span class="hs-identifier hs-var">_scope</span></a></span></span><span> </span><span id="local-6989586621681664039"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664039"><span class="hs-identifier hs-var">errs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681664032"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664039"><span class="hs-identifier hs-var">errs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-501"></span><span>      </span><span id="local-6989586621681664041"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b. LintM (a -&gt; b) -&gt; LintM a -&gt; LintM b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3C%2A%3E/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;*&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LintM (a -&gt; b) -&gt; LintM a -&gt; LintM b
forall (m :: * -&gt; *) a b. Monad m =&gt; m (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#ap/GHC.Base.html#ap"><span class="hs-identifier hs-var">ap</span></a></span><span>
</span><span id="line-502"></span><span>      </span><span id="local-6989586621681664043"><span class="annot"><span class="annottext">*&gt; :: forall a b. LintM a -&gt; LintM b -&gt; LintM b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2A%3E/GHC.Base.html#%2A%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">(*&gt;)</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LintM a -&gt; LintM b -&gt; LintM b
forall a b. LintM a -&gt; LintM b -&gt; LintM b
</span><a href="GHC.Stg.Lint.html#thenL_"><span class="hs-identifier hs-var">thenL_</span></a></span><span>
</span><span id="line-503"></span><span>
</span><span id="line-504"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681664050"><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#Monad/GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-505"></span><span>    </span><span id="local-6989586621681664053"><span class="annot"><span class="annottext">&gt;&gt;= :: forall a b. LintM a -&gt; (a -&gt; LintM b) -&gt; LintM b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E%3D/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var hs-var hs-var hs-var">(&gt;&gt;=)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LintM a -&gt; (a -&gt; LintM b) -&gt; LintM b
forall a b. LintM a -&gt; (a -&gt; LintM b) -&gt; LintM b
</span><a href="GHC.Stg.Lint.html#thenL"><span class="hs-identifier hs-var">thenL</span></a></span><span>
</span><span id="line-506"></span><span>    </span><span id="local-6989586621681664056"><span class="annot"><span class="annottext">&gt;&gt; :: forall a b. LintM a -&gt; LintM b -&gt; LintM b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">(&gt;&gt;)</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LintM a -&gt; LintM b -&gt; LintM b
forall a b. LintM a -&gt; LintM b -&gt; LintM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2A%3E/GHC.Base.html#%2A%3E"><span class="hs-operator hs-var">(*&gt;)</span></a></span><span>
</span><span id="line-507"></span><span>
</span><span id="line-508"></span><span id="local-6989586621681664057"><span id="local-6989586621681664058"><span class="annot"><a href="GHC.Stg.Lint.html#thenL"><span class="hs-identifier hs-type">thenL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681664057"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681664057"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681664058"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681664058"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-509"></span><span id="thenL"><span class="annot"><span class="annottext">thenL :: forall a b. LintM a -&gt; (a -&gt; LintM b) -&gt; LintM b
</span><a href="GHC.Stg.Lint.html#thenL"><span class="hs-identifier hs-var hs-var">thenL</span></a></span></span><span> </span><span id="local-6989586621681664059"><span class="annot"><span class="annottext">LintM a
</span><a href="#local-6989586621681664059"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681664060"><span class="annot"><span class="annottext">a -&gt; LintM b
</span><a href="#local-6989586621681664060"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (b, Bag SDoc))
-&gt; LintM b
forall a.
(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (a, Bag SDoc))
-&gt; LintM a
</span><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-var">LintM</span></a></span><span> </span><span class="annot"><span class="annottext">((Module
  -&gt; LintFlags
  -&gt; DiagOpts
  -&gt; StgPprOpts
  -&gt; [LintLocInfo]
  -&gt; IdSet
  -&gt; Bag SDoc
  -&gt; (b, Bag SDoc))
 -&gt; LintM b)
-&gt; (Module
    -&gt; LintFlags
    -&gt; DiagOpts
    -&gt; StgPprOpts
    -&gt; [LintLocInfo]
    -&gt; IdSet
    -&gt; Bag SDoc
    -&gt; (b, Bag SDoc))
-&gt; LintM b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681664061"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664061"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621681664062"><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664062"><span class="hs-identifier hs-var">lf</span></a></span></span><span> </span><span id="local-6989586621681664063"><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664063"><span class="hs-identifier hs-var">diag_opts</span></a></span></span><span> </span><span id="local-6989586621681664064"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664064"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621681664065"><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664065"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681664066"><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664066"><span class="hs-identifier hs-var">scope</span></a></span></span><span> </span><span id="local-6989586621681664067"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664067"><span class="hs-identifier hs-var">errs</span></a></span></span><span>
</span><span id="line-510"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LintM a
-&gt; Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (a, Bag SDoc)
forall a.
LintM a
-&gt; Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (a, Bag SDoc)
</span><a href="GHC.Stg.Lint.html#unLintM"><span class="hs-identifier hs-var">unLintM</span></a></span><span> </span><span class="annot"><span class="annottext">LintM a
</span><a href="#local-6989586621681664059"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664061"><span class="hs-identifier hs-var">mod</span></a></span><span> </span><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664062"><span class="hs-identifier hs-var">lf</span></a></span><span> </span><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664063"><span class="hs-identifier hs-var">diag_opts</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664064"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664065"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664066"><span class="hs-identifier hs-var">scope</span></a></span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664067"><span class="hs-identifier hs-var">errs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-511"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621681664068"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681664068"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681664069"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664069"><span class="hs-identifier hs-var">errs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LintM b
-&gt; Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (b, Bag SDoc)
forall a.
LintM a
-&gt; Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (a, Bag SDoc)
</span><a href="GHC.Stg.Lint.html#unLintM"><span class="hs-identifier hs-var">unLintM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; LintM b
</span><a href="#local-6989586621681664060"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681664068"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664061"><span class="hs-identifier hs-var">mod</span></a></span><span> </span><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664062"><span class="hs-identifier hs-var">lf</span></a></span><span> </span><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664063"><span class="hs-identifier hs-var">diag_opts</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664064"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664065"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664066"><span class="hs-identifier hs-var">scope</span></a></span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664069"><span class="hs-identifier hs-var">errs'</span></a></span><span>
</span><span id="line-512"></span><span>
</span><span id="line-513"></span><span id="local-6989586621681664070"><span id="local-6989586621681664071"><span class="annot"><a href="GHC.Stg.Lint.html#thenL_"><span class="hs-identifier hs-type">thenL_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681664070"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681664071"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681664071"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-514"></span><span id="thenL_"><span class="annot"><span class="annottext">thenL_ :: forall a b. LintM a -&gt; LintM b -&gt; LintM b
</span><a href="GHC.Stg.Lint.html#thenL_"><span class="hs-identifier hs-var hs-var">thenL_</span></a></span></span><span> </span><span id="local-6989586621681664072"><span class="annot"><span class="annottext">LintM a
</span><a href="#local-6989586621681664072"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681664073"><span class="annot"><span class="annottext">LintM b
</span><a href="#local-6989586621681664073"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (b, Bag SDoc))
-&gt; LintM b
forall a.
(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (a, Bag SDoc))
-&gt; LintM a
</span><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-var">LintM</span></a></span><span> </span><span class="annot"><span class="annottext">((Module
  -&gt; LintFlags
  -&gt; DiagOpts
  -&gt; StgPprOpts
  -&gt; [LintLocInfo]
  -&gt; IdSet
  -&gt; Bag SDoc
  -&gt; (b, Bag SDoc))
 -&gt; LintM b)
-&gt; (Module
    -&gt; LintFlags
    -&gt; DiagOpts
    -&gt; StgPprOpts
    -&gt; [LintLocInfo]
    -&gt; IdSet
    -&gt; Bag SDoc
    -&gt; (b, Bag SDoc))
-&gt; LintM b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681664074"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664074"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621681664075"><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664075"><span class="hs-identifier hs-var">lf</span></a></span></span><span> </span><span id="local-6989586621681664076"><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664076"><span class="hs-identifier hs-var">diag_opts</span></a></span></span><span> </span><span id="local-6989586621681664077"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664077"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621681664078"><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664078"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681664079"><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664079"><span class="hs-identifier hs-var">scope</span></a></span></span><span> </span><span id="local-6989586621681664080"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664080"><span class="hs-identifier hs-var">errs</span></a></span></span><span>
</span><span id="line-515"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LintM a
-&gt; Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (a, Bag SDoc)
forall a.
LintM a
-&gt; Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (a, Bag SDoc)
</span><a href="GHC.Stg.Lint.html#unLintM"><span class="hs-identifier hs-var">unLintM</span></a></span><span> </span><span class="annot"><span class="annottext">LintM a
</span><a href="#local-6989586621681664072"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664074"><span class="hs-identifier hs-var">mod</span></a></span><span> </span><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664075"><span class="hs-identifier hs-var">lf</span></a></span><span> </span><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664076"><span class="hs-identifier hs-var">diag_opts</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664077"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664078"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664079"><span class="hs-identifier hs-var">scope</span></a></span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664080"><span class="hs-identifier hs-var">errs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-516"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681664081"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664081"><span class="hs-identifier hs-var">errs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LintM b
-&gt; Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (b, Bag SDoc)
forall a.
LintM a
-&gt; Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (a, Bag SDoc)
</span><a href="GHC.Stg.Lint.html#unLintM"><span class="hs-identifier hs-var">unLintM</span></a></span><span> </span><span class="annot"><span class="annottext">LintM b
</span><a href="#local-6989586621681664073"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664074"><span class="hs-identifier hs-var">mod</span></a></span><span> </span><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664075"><span class="hs-identifier hs-var">lf</span></a></span><span> </span><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664076"><span class="hs-identifier hs-var">diag_opts</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664077"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664078"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664079"><span class="hs-identifier hs-var">scope</span></a></span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664081"><span class="hs-identifier hs-var">errs'</span></a></span><span>
</span><span id="line-517"></span><span>
</span><span id="line-518"></span><span class="annot"><a href="GHC.Stg.Lint.html#checkL"><span class="hs-identifier hs-type">checkL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-519"></span><span id="checkL"><span class="annot"><span class="annottext">checkL :: Bool -&gt; SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#checkL"><span class="hs-identifier hs-var hs-var">checkL</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="annot"><span class="annottext">SDoc
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; LintM ()
forall a. a -&gt; LintM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-520"></span><span class="annot"><a href="GHC.Stg.Lint.html#checkL"><span class="hs-identifier hs-var">checkL</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span id="local-6989586621681664082"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681664082"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#addErrL"><span class="hs-identifier hs-var">addErrL</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681664082"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-521"></span><span>
</span><span id="line-522"></span><span class="hs-comment">-- Case alts shouldn't have unboxed sum, unboxed tuple, or void binders.</span><span>
</span><span id="line-523"></span><span class="annot"><a href="GHC.Stg.Lint.html#checkPostUnariseBndr"><span class="hs-identifier hs-type">checkPostUnariseBndr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-524"></span><span id="checkPostUnariseBndr"><span class="annot"><span class="annottext">checkPostUnariseBndr :: Id -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#checkPostUnariseBndr"><span class="hs-identifier hs-var hs-var">checkPostUnariseBndr</span></a></span></span><span> </span><span id="local-6989586621681664083"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664083"><span class="hs-identifier hs-var">bndr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-525"></span><span>    </span><span id="local-6989586621681664084"><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664084"><span class="hs-identifier hs-var">lf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LintM LintFlags
</span><a href="GHC.Stg.Lint.html#getLintFlags"><span class="hs-identifier hs-var">getLintFlags</span></a></span><span>
</span><span id="line-526"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; LintM () -&gt; LintM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#when/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LintFlags -&gt; Bool
</span><a href="GHC.Stg.Lint.html#lf_unarised"><span class="hs-identifier hs-var">lf_unarised</span></a></span><span> </span><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664084"><span class="hs-identifier hs-var">lf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LintM () -&gt; LintM ()) -&gt; LintM () -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-527"></span><span>      </span><span class="annot"><span class="annottext">Maybe String -&gt; (String -&gt; LintM ()) -&gt; LintM ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#forM_/Data.Foldable.html#forM_"><span class="hs-identifier hs-var">forM_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Maybe String
</span><a href="GHC.Stg.Lint.html#checkPostUnariseId"><span class="hs-identifier hs-var">checkPostUnariseId</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664083"><span class="hs-identifier hs-var">bndr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((String -&gt; LintM ()) -&gt; LintM ())
-&gt; (String -&gt; LintM ()) -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681664087"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681664087"><span class="hs-identifier hs-var">unexpected</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-528"></span><span>        </span><span class="annot"><span class="annottext">SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#addErrL"><span class="hs-identifier hs-var">addErrL</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; LintM ()) -&gt; SDoc -&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-529"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;After unarisation, binder &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-530"></span><span>          </span><span class="annot"><span class="annottext">Id -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664083"><span class="hs-identifier hs-var">bndr</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; has &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681664087"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; type &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-531"></span><span>          </span><span class="annot"><span class="annottext">Kind -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Kind
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664083"><span class="hs-identifier hs-var">bndr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-532"></span><span>
</span><span id="line-533"></span><span class="hs-comment">-- Post-unarisation args and case alt binders should not have unboxed tuple,</span><span>
</span><span id="line-534"></span><span class="hs-comment">-- unboxed sum, or void types. Return what the binder is if it is one of these.</span><span>
</span><span id="line-535"></span><span class="annot"><a href="GHC.Stg.Lint.html#checkPostUnariseId"><span class="hs-identifier hs-type">checkPostUnariseId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-536"></span><span id="checkPostUnariseId"><span class="annot"><span class="annottext">checkPostUnariseId :: Id -&gt; Maybe String
</span><a href="GHC.Stg.Lint.html#checkPostUnariseId"><span class="hs-identifier hs-var hs-var">checkPostUnariseId</span></a></span></span><span> </span><span id="local-6989586621681664088"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664088"><span class="hs-identifier hs-var">id</span></a></span></span><span>
</span><span id="line-537"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
</span><a href="GHC.Core.Type.html#isUnboxedSumType"><span class="hs-identifier hs-var">isUnboxedSumType</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681664090"><span class="hs-identifier hs-var">id_ty</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unboxed sum&quot;</span></span><span>
</span><span id="line-538"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
</span><a href="GHC.Core.Type.html#isUnboxedTupleType"><span class="hs-identifier hs-var">isUnboxedTupleType</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681664090"><span class="hs-identifier hs-var">id_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unboxed tuple&quot;</span></span><span>
</span><span id="line-539"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(() :: Constraint) =&gt; Kind -&gt; Bool
Kind -&gt; Bool
</span><a href="GHC.Types.RepType.html#isZeroBitTy"><span class="hs-identifier hs-var">isZeroBitTy</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681664090"><span class="hs-identifier hs-var">id_ty</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;void&quot;</span></span><span>
</span><span id="line-540"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-541"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-542"></span><span>    </span><span id="local-6989586621681664090"><span class="annot"><span class="annottext">id_ty :: Kind
</span><a href="#local-6989586621681664090"><span class="hs-identifier hs-var hs-var">id_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; Kind
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664088"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-543"></span><span>
</span><span id="line-544"></span><span class="annot"><a href="GHC.Stg.Lint.html#addErrL"><span class="hs-identifier hs-type">addErrL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-545"></span><span id="addErrL"><span class="annot"><span class="annottext">addErrL :: SDoc -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#addErrL"><span class="hs-identifier hs-var hs-var">addErrL</span></a></span></span><span> </span><span id="local-6989586621681664093"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681664093"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; ((), Bag SDoc))
-&gt; LintM ()
forall a.
(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (a, Bag SDoc))
-&gt; LintM a
</span><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-var">LintM</span></a></span><span> </span><span class="annot"><span class="annottext">((Module
  -&gt; LintFlags
  -&gt; DiagOpts
  -&gt; StgPprOpts
  -&gt; [LintLocInfo]
  -&gt; IdSet
  -&gt; Bag SDoc
  -&gt; ((), Bag SDoc))
 -&gt; LintM ())
-&gt; (Module
    -&gt; LintFlags
    -&gt; DiagOpts
    -&gt; StgPprOpts
    -&gt; [LintLocInfo]
    -&gt; IdSet
    -&gt; Bag SDoc
    -&gt; ((), Bag SDoc))
-&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681664094"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664094"><span class="hs-identifier hs-var">_mod</span></a></span></span><span> </span><span id="local-6989586621681664095"><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664095"><span class="hs-identifier hs-var">_lf</span></a></span></span><span> </span><span id="local-6989586621681664096"><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664096"><span class="hs-identifier hs-var">df</span></a></span></span><span> </span><span id="local-6989586621681664097"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664097"><span class="hs-identifier hs-var">_opts</span></a></span></span><span> </span><span id="local-6989586621681664098"><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664098"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681664099"><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664099"><span class="hs-identifier hs-var">_scope</span></a></span></span><span> </span><span id="local-6989586621681664100"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664100"><span class="hs-identifier hs-var">errs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DiagOpts -&gt; Bag SDoc -&gt; SDoc -&gt; [LintLocInfo] -&gt; Bag SDoc
</span><a href="GHC.Stg.Lint.html#addErr"><span class="hs-identifier hs-var">addErr</span></a></span><span> </span><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664096"><span class="hs-identifier hs-var">df</span></a></span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664100"><span class="hs-identifier hs-var">errs</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681664093"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664098"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-546"></span><span>
</span><span id="line-547"></span><span class="annot"><a href="GHC.Stg.Lint.html#addErr"><span class="hs-identifier hs-type">addErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#DiagOpts"><span class="hs-identifier hs-type">DiagOpts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Lint.html#LintLocInfo"><span class="hs-identifier hs-type">LintLocInfo</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-548"></span><span id="addErr"><span class="annot"><span class="annottext">addErr :: DiagOpts -&gt; Bag SDoc -&gt; SDoc -&gt; [LintLocInfo] -&gt; Bag SDoc
</span><a href="GHC.Stg.Lint.html#addErr"><span class="hs-identifier hs-var hs-var">addErr</span></a></span></span><span> </span><span id="local-6989586621681664102"><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664102"><span class="hs-identifier hs-var">diag_opts</span></a></span></span><span> </span><span id="local-6989586621681664103"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664103"><span class="hs-identifier hs-var">errs_so_far</span></a></span></span><span> </span><span id="local-6989586621681664104"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681664104"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span id="local-6989586621681664105"><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664105"><span class="hs-identifier hs-var">locs</span></a></span></span><span>
</span><span id="line-549"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664103"><span class="hs-identifier hs-var">errs_so_far</span></a></span><span> </span><span class="annot"><span class="annottext">Bag SDoc -&gt; SDoc -&gt; Bag SDoc
forall a. Bag a -&gt; a -&gt; Bag a
</span><a href="GHC.Data.Bag.html#snocBag"><span class="hs-operator hs-var">`snocBag`</span></a></span><span> </span><span class="annot"><span class="annottext">[LintLocInfo] -&gt; SDoc
</span><a href="#local-6989586621681664106"><span class="hs-identifier hs-var">mk_msg</span></a></span><span> </span><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664105"><span class="hs-identifier hs-var">locs</span></a></span><span>
</span><span id="line-550"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-551"></span><span>    </span><span id="local-6989586621681664106"><span class="annot"><span class="annottext">mk_msg :: [LintLocInfo] -&gt; SDoc
</span><a href="#local-6989586621681664106"><span class="hs-identifier hs-var hs-var">mk_msg</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681664107"><span class="annot"><span class="annottext">LintLocInfo
</span><a href="#local-6989586621681664107"><span class="hs-identifier hs-var">loc</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[LintLocInfo]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681664108"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681664108"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681664109"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681664109"><span class="hs-identifier hs-var">hdr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LintLocInfo -&gt; (SrcSpan, SDoc)
</span><a href="GHC.Stg.Lint.html#dumpLoc"><span class="hs-identifier hs-var">dumpLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LintLocInfo
</span><a href="#local-6989586621681664107"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-552"></span><span>                     </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">MessageClass -&gt; SrcSpan -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Types.Error.html#mkLocMessage"><span class="hs-identifier hs-var">mkLocMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DiagOpts
-&gt; DiagnosticReason -&gt; Maybe DiagnosticCode -&gt; MessageClass
</span><a href="GHC.Utils.Error.html#mkMCDiagnostic"><span class="hs-identifier hs-var">Err.mkMCDiagnostic</span></a></span><span> </span><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664102"><span class="hs-identifier hs-var">diag_opts</span></a></span><span> </span><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="GHC.Types.Error.html#WarningWithoutFlag"><span class="hs-identifier hs-var">WarningWithoutFlag</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe DiagnosticCode
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-553"></span><span>                                      </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681664108"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681664109"><span class="hs-identifier hs-var">hdr</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681664104"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-554"></span><span>    </span><span class="annot"><a href="#local-6989586621681664106"><span class="hs-identifier hs-var">mk_msg</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681664104"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-555"></span><span>
</span><span id="line-556"></span><span id="local-6989586621681663328"><span class="annot"><a href="GHC.Stg.Lint.html#addLoc"><span class="hs-identifier hs-type">addLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintLocInfo"><span class="hs-identifier hs-type">LintLocInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663328"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663328"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-557"></span><span id="addLoc"><span class="annot"><span class="annottext">addLoc :: forall a. LintLocInfo -&gt; LintM a -&gt; LintM a
</span><a href="GHC.Stg.Lint.html#addLoc"><span class="hs-identifier hs-var hs-var">addLoc</span></a></span></span><span> </span><span id="local-6989586621681664111"><span class="annot"><span class="annottext">LintLocInfo
</span><a href="#local-6989586621681664111"><span class="hs-identifier hs-var">extra_loc</span></a></span></span><span> </span><span id="local-6989586621681664112"><span class="annot"><span class="annottext">LintM a
</span><a href="#local-6989586621681664112"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (a, Bag SDoc))
-&gt; LintM a
forall a.
(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (a, Bag SDoc))
-&gt; LintM a
</span><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-var">LintM</span></a></span><span> </span><span class="annot"><span class="annottext">((Module
  -&gt; LintFlags
  -&gt; DiagOpts
  -&gt; StgPprOpts
  -&gt; [LintLocInfo]
  -&gt; IdSet
  -&gt; Bag SDoc
  -&gt; (a, Bag SDoc))
 -&gt; LintM a)
-&gt; (Module
    -&gt; LintFlags
    -&gt; DiagOpts
    -&gt; StgPprOpts
    -&gt; [LintLocInfo]
    -&gt; IdSet
    -&gt; Bag SDoc
    -&gt; (a, Bag SDoc))
-&gt; LintM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681664113"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664113"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621681664114"><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664114"><span class="hs-identifier hs-var">lf</span></a></span></span><span> </span><span id="local-6989586621681664115"><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664115"><span class="hs-identifier hs-var">diag_opts</span></a></span></span><span> </span><span id="local-6989586621681664116"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664116"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621681664117"><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664117"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681664118"><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664118"><span class="hs-identifier hs-var">scope</span></a></span></span><span> </span><span id="local-6989586621681664119"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664119"><span class="hs-identifier hs-var">errs</span></a></span></span><span>
</span><span id="line-558"></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LintM a
-&gt; Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (a, Bag SDoc)
forall a.
LintM a
-&gt; Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (a, Bag SDoc)
</span><a href="GHC.Stg.Lint.html#unLintM"><span class="hs-identifier hs-var">unLintM</span></a></span><span> </span><span class="annot"><span class="annottext">LintM a
</span><a href="#local-6989586621681664112"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664113"><span class="hs-identifier hs-var">mod</span></a></span><span> </span><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664114"><span class="hs-identifier hs-var">lf</span></a></span><span> </span><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664115"><span class="hs-identifier hs-var">diag_opts</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664116"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LintLocInfo
</span><a href="#local-6989586621681664111"><span class="hs-identifier hs-var">extra_loc</span></a></span><span class="annot"><span class="annottext">LintLocInfo -&gt; [LintLocInfo] -&gt; [LintLocInfo]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664117"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664118"><span class="hs-identifier hs-var">scope</span></a></span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664119"><span class="hs-identifier hs-var">errs</span></a></span><span>
</span><span id="line-559"></span><span>
</span><span id="line-560"></span><span id="local-6989586621681663305"><span class="annot"><a href="GHC.Stg.Lint.html#addInScopeVars"><span class="hs-identifier hs-type">addInScopeVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663305"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663305"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-561"></span><span id="addInScopeVars"><span class="annot"><span class="annottext">addInScopeVars :: forall a. [Id] -&gt; LintM a -&gt; LintM a
</span><a href="GHC.Stg.Lint.html#addInScopeVars"><span class="hs-identifier hs-var hs-var">addInScopeVars</span></a></span></span><span> </span><span id="local-6989586621681664120"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681664120"><span class="hs-identifier hs-var">ids</span></a></span></span><span> </span><span id="local-6989586621681664121"><span class="annot"><span class="annottext">LintM a
</span><a href="#local-6989586621681664121"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (a, Bag SDoc))
-&gt; LintM a
forall a.
(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (a, Bag SDoc))
-&gt; LintM a
</span><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-var">LintM</span></a></span><span> </span><span class="annot"><span class="annottext">((Module
  -&gt; LintFlags
  -&gt; DiagOpts
  -&gt; StgPprOpts
  -&gt; [LintLocInfo]
  -&gt; IdSet
  -&gt; Bag SDoc
  -&gt; (a, Bag SDoc))
 -&gt; LintM a)
-&gt; (Module
    -&gt; LintFlags
    -&gt; DiagOpts
    -&gt; StgPprOpts
    -&gt; [LintLocInfo]
    -&gt; IdSet
    -&gt; Bag SDoc
    -&gt; (a, Bag SDoc))
-&gt; LintM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681664122"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664122"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621681664123"><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664123"><span class="hs-identifier hs-var">lf</span></a></span></span><span> </span><span id="local-6989586621681664124"><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664124"><span class="hs-identifier hs-var">diag_opts</span></a></span></span><span> </span><span id="local-6989586621681664125"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664125"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621681664126"><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664126"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681664127"><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664127"><span class="hs-identifier hs-var">scope</span></a></span></span><span> </span><span id="local-6989586621681664128"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664128"><span class="hs-identifier hs-var">errs</span></a></span></span><span>
</span><span id="line-562"></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-563"></span><span>        </span><span id="local-6989586621681664129"><span class="annot"><span class="annottext">new_set :: IdSet
</span><a href="#local-6989586621681664129"><span class="hs-identifier hs-var hs-var">new_set</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; IdSet
</span><a href="GHC.Types.Var.Set.html#mkVarSet"><span class="hs-identifier hs-var">mkVarSet</span></a></span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621681664120"><span class="hs-identifier hs-var">ids</span></a></span><span>
</span><span id="line-564"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">LintM a
-&gt; Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (a, Bag SDoc)
forall a.
LintM a
-&gt; Module
-&gt; LintFlags
-&gt; DiagOpts
-&gt; StgPprOpts
-&gt; [LintLocInfo]
-&gt; IdSet
-&gt; Bag SDoc
-&gt; (a, Bag SDoc)
</span><a href="GHC.Stg.Lint.html#unLintM"><span class="hs-identifier hs-var">unLintM</span></a></span><span> </span><span class="annot"><span class="annottext">LintM a
</span><a href="#local-6989586621681664121"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664122"><span class="hs-identifier hs-var">mod</span></a></span><span> </span><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664123"><span class="hs-identifier hs-var">lf</span></a></span><span> </span><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664124"><span class="hs-identifier hs-var">diag_opts</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664125"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664126"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664127"><span class="hs-identifier hs-var">scope</span></a></span><span> </span><span class="annot"><span class="annottext">IdSet -&gt; IdSet -&gt; IdSet
</span><a href="GHC.Types.Var.Set.html#unionVarSet"><span class="hs-operator hs-var">`unionVarSet`</span></a></span><span> </span><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664129"><span class="hs-identifier hs-var">new_set</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664128"><span class="hs-identifier hs-var">errs</span></a></span><span>
</span><span id="line-565"></span><span>
</span><span id="line-566"></span><span class="annot"><a href="GHC.Stg.Lint.html#getLintFlags"><span class="hs-identifier hs-type">getLintFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintFlags"><span class="hs-identifier hs-type">LintFlags</span></a></span><span>
</span><span id="line-567"></span><span id="getLintFlags"><span class="annot"><span class="annottext">getLintFlags :: LintM LintFlags
</span><a href="GHC.Stg.Lint.html#getLintFlags"><span class="hs-identifier hs-var hs-var">getLintFlags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (LintFlags, Bag SDoc))
-&gt; LintM LintFlags
forall a.
(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (a, Bag SDoc))
-&gt; LintM a
</span><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-var">LintM</span></a></span><span> </span><span class="annot"><span class="annottext">((Module
  -&gt; LintFlags
  -&gt; DiagOpts
  -&gt; StgPprOpts
  -&gt; [LintLocInfo]
  -&gt; IdSet
  -&gt; Bag SDoc
  -&gt; (LintFlags, Bag SDoc))
 -&gt; LintM LintFlags)
-&gt; (Module
    -&gt; LintFlags
    -&gt; DiagOpts
    -&gt; StgPprOpts
    -&gt; [LintLocInfo]
    -&gt; IdSet
    -&gt; Bag SDoc
    -&gt; (LintFlags, Bag SDoc))
-&gt; LintM LintFlags
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681664131"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664131"><span class="hs-identifier hs-var">_mod</span></a></span></span><span> </span><span id="local-6989586621681664132"><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664132"><span class="hs-identifier hs-var">lf</span></a></span></span><span> </span><span id="local-6989586621681664133"><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664133"><span class="hs-identifier hs-var">_df</span></a></span></span><span> </span><span id="local-6989586621681664134"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664134"><span class="hs-identifier hs-var">_opts</span></a></span></span><span> </span><span id="local-6989586621681664135"><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664135"><span class="hs-identifier hs-var">_loc</span></a></span></span><span> </span><span id="local-6989586621681664136"><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664136"><span class="hs-identifier hs-var">_scope</span></a></span></span><span> </span><span id="local-6989586621681664137"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664137"><span class="hs-identifier hs-var">errs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664132"><span class="hs-identifier hs-var">lf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664137"><span class="hs-identifier hs-var">errs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-568"></span><span>
</span><span id="line-569"></span><span class="annot"><a href="GHC.Stg.Lint.html#getStgPprOpts"><span class="hs-identifier hs-type">getStgPprOpts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span>
</span><span id="line-570"></span><span id="getStgPprOpts"><span class="annot"><span class="annottext">getStgPprOpts :: LintM StgPprOpts
</span><a href="GHC.Stg.Lint.html#getStgPprOpts"><span class="hs-identifier hs-var hs-var">getStgPprOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (StgPprOpts, Bag SDoc))
-&gt; LintM StgPprOpts
forall a.
(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (a, Bag SDoc))
-&gt; LintM a
</span><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-var">LintM</span></a></span><span> </span><span class="annot"><span class="annottext">((Module
  -&gt; LintFlags
  -&gt; DiagOpts
  -&gt; StgPprOpts
  -&gt; [LintLocInfo]
  -&gt; IdSet
  -&gt; Bag SDoc
  -&gt; (StgPprOpts, Bag SDoc))
 -&gt; LintM StgPprOpts)
-&gt; (Module
    -&gt; LintFlags
    -&gt; DiagOpts
    -&gt; StgPprOpts
    -&gt; [LintLocInfo]
    -&gt; IdSet
    -&gt; Bag SDoc
    -&gt; (StgPprOpts, Bag SDoc))
-&gt; LintM StgPprOpts
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681664138"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664138"><span class="hs-identifier hs-var">_mod</span></a></span></span><span> </span><span id="local-6989586621681664139"><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664139"><span class="hs-identifier hs-var">_lf</span></a></span></span><span> </span><span id="local-6989586621681664140"><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664140"><span class="hs-identifier hs-var">_df</span></a></span></span><span> </span><span id="local-6989586621681664141"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664141"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621681664142"><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664142"><span class="hs-identifier hs-var">_loc</span></a></span></span><span> </span><span id="local-6989586621681664143"><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664143"><span class="hs-identifier hs-var">_scope</span></a></span></span><span> </span><span id="local-6989586621681664144"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664144"><span class="hs-identifier hs-var">errs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664141"><span class="hs-identifier hs-var">opts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664144"><span class="hs-identifier hs-var">errs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-571"></span><span>
</span><span id="line-572"></span><span class="annot"><a href="GHC.Stg.Lint.html#checkInScope"><span class="hs-identifier hs-type">checkInScope</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-type">LintM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-573"></span><span id="checkInScope"><span class="annot"><span class="annottext">checkInScope :: Id -&gt; LintM ()
</span><a href="GHC.Stg.Lint.html#checkInScope"><span class="hs-identifier hs-var hs-var">checkInScope</span></a></span></span><span> </span><span id="local-6989586621681664145"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664145"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; ((), Bag SDoc))
-&gt; LintM ()
forall a.
(Module
 -&gt; LintFlags
 -&gt; DiagOpts
 -&gt; StgPprOpts
 -&gt; [LintLocInfo]
 -&gt; IdSet
 -&gt; Bag SDoc
 -&gt; (a, Bag SDoc))
-&gt; LintM a
</span><a href="GHC.Stg.Lint.html#LintM"><span class="hs-identifier hs-var">LintM</span></a></span><span> </span><span class="annot"><span class="annottext">((Module
  -&gt; LintFlags
  -&gt; DiagOpts
  -&gt; StgPprOpts
  -&gt; [LintLocInfo]
  -&gt; IdSet
  -&gt; Bag SDoc
  -&gt; ((), Bag SDoc))
 -&gt; LintM ())
-&gt; (Module
    -&gt; LintFlags
    -&gt; DiagOpts
    -&gt; StgPprOpts
    -&gt; [LintLocInfo]
    -&gt; IdSet
    -&gt; Bag SDoc
    -&gt; ((), Bag SDoc))
-&gt; LintM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681664146"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664146"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621681664147"><span class="annot"><span class="annottext">LintFlags
</span><a href="#local-6989586621681664147"><span class="hs-identifier hs-var">_lf</span></a></span></span><span> </span><span id="local-6989586621681664148"><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664148"><span class="hs-identifier hs-var">diag_opts</span></a></span></span><span> </span><span id="local-6989586621681664149"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664149"><span class="hs-identifier hs-var">_opts</span></a></span></span><span> </span><span id="local-6989586621681664150"><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664150"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681664151"><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664151"><span class="hs-identifier hs-var">scope</span></a></span></span><span> </span><span id="local-6989586621681664152"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664152"><span class="hs-identifier hs-var">errs</span></a></span></span><span>
</span><span id="line-574"></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Module -&gt; Name -&gt; Bool
</span><a href="GHC.Types.Name.html#nameIsLocalOrFrom"><span class="hs-identifier hs-var">nameIsLocalOrFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681664146"><span class="hs-identifier hs-var">mod</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Name
</span><a href="GHC.Types.Id.html#idName"><span class="hs-identifier hs-var">idName</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664145"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664145"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">Id -&gt; IdSet -&gt; Bool
</span><a href="GHC.Types.Var.Set.html#elemVarSet"><span class="hs-operator hs-var">`elemVarSet`</span></a></span><span> </span><span class="annot"><span class="annottext">IdSet
</span><a href="#local-6989586621681664151"><span class="hs-identifier hs-var">scope</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-575"></span><span>        </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DiagOpts -&gt; Bag SDoc -&gt; SDoc -&gt; [LintLocInfo] -&gt; Bag SDoc
</span><a href="GHC.Stg.Lint.html#addErr"><span class="hs-identifier hs-var">addErr</span></a></span><span> </span><span class="annot"><span class="annottext">DiagOpts
</span><a href="#local-6989586621681664148"><span class="hs-identifier hs-var">diag_opts</span></a></span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664152"><span class="hs-identifier hs-var">errs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Id -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664145"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Kind
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664145"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-576"></span><span>                                    </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;is out of scope&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LintLocInfo]
</span><a href="#local-6989586621681664150"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-577"></span><span>    </span><span class="hs-keyword">else</span><span>
</span><span id="line-578"></span><span>        </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681664152"><span class="hs-identifier hs-var">errs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-579"></span><span>
</span><span id="line-580"></span><span id="local-6989586621681663330"><span class="annot"><a href="GHC.Stg.Lint.html#mkUnliftedTyMsg"><span class="hs-identifier hs-type">mkUnliftedTyMsg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#OutputablePass"><span class="hs-identifier hs-type">OutputablePass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663330"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPprOpts"><span class="hs-identifier hs-type">StgPprOpts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#GenStgRhs"><span class="hs-identifier hs-type">GenStgRhs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681663330"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span><span>
</span><span id="line-581"></span><span id="mkUnliftedTyMsg"><span class="annot"><span class="annottext">mkUnliftedTyMsg :: forall (a :: StgPass).
OutputablePass a =&gt;
StgPprOpts -&gt; Id -&gt; GenStgRhs a -&gt; SDoc
</span><a href="GHC.Stg.Lint.html#mkUnliftedTyMsg"><span class="hs-identifier hs-var hs-var">mkUnliftedTyMsg</span></a></span></span><span> </span><span id="local-6989586621681664167"><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664167"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621681664168"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664168"><span class="hs-identifier hs-var">binder</span></a></span></span><span> </span><span id="local-6989586621681664169"><span class="annot"><span class="annottext">GenStgRhs a
</span><a href="#local-6989586621681664169"><span class="hs-identifier hs-var">rhs</span></a></span></span><span>
</span><span id="line-582"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Let(rec) binder&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664168"><span class="hs-identifier hs-var">binder</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-583"></span><span>     </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;has unlifted type&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Kind
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621681664168"><span class="hs-identifier hs-var">binder</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-584"></span><span>    </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-585"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;RHS:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts -&gt; GenStgRhs a -&gt; SDoc
forall (pass :: StgPass).
OutputablePass pass =&gt;
StgPprOpts -&gt; GenStgRhs pass -&gt; SDoc
</span><a href="GHC.Stg.Syntax.html#pprStgRhs"><span class="hs-identifier hs-var">pprStgRhs</span></a></span><span> </span><span class="annot"><span class="annottext">StgPprOpts
</span><a href="#local-6989586621681664167"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">GenStgRhs a
</span><a href="#local-6989586621681664169"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-586"></span></pre></body></html>