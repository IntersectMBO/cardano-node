<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveTraversable #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Types.Error</span><span>
</span><span id="line-12"></span><span>   </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Messages</span></span><span>
</span><span id="line-13"></span><span>     </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier">Messages</span></a></span><span>
</span><span id="line-14"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkMessages"><span class="hs-identifier">mkMessages</span></a></span><span>
</span><span id="line-15"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#getMessages"><span class="hs-identifier">getMessages</span></a></span><span>
</span><span id="line-16"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#emptyMessages"><span class="hs-identifier">emptyMessages</span></a></span><span>
</span><span id="line-17"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#isEmptyMessages"><span class="hs-identifier">isEmptyMessages</span></a></span><span>
</span><span id="line-18"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#singleMessage"><span class="hs-identifier">singleMessage</span></a></span><span>
</span><span id="line-19"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#addMessage"><span class="hs-identifier">addMessage</span></a></span><span>
</span><span id="line-20"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#unionMessages"><span class="hs-identifier">unionMessages</span></a></span><span>
</span><span id="line-21"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#unionManyMessages"><span class="hs-identifier">unionManyMessages</span></a></span><span>
</span><span id="line-22"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier">MsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span>   </span><span class="annot"><span class="hs-comment">-- * Classifying Messages</span></span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MessageClass"><span class="hs-identifier">MessageClass</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier">Severity</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Diagnostic"><span class="hs-identifier">Diagnostic</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#UnknownDiagnostic"><span class="hs-identifier">UnknownDiagnostic</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticMessage"><span class="hs-identifier">DiagnosticMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticReason"><span class="hs-identifier">DiagnosticReason</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticHint"><span class="hs-identifier">DiagnosticHint</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkPlainDiagnostic"><span class="hs-identifier">mkPlainDiagnostic</span></a></span><span>
</span><span id="line-34"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkPlainError"><span class="hs-identifier">mkPlainError</span></a></span><span>
</span><span id="line-35"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkDecoratedDiagnostic"><span class="hs-identifier">mkDecoratedDiagnostic</span></a></span><span>
</span><span id="line-36"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkDecoratedError"><span class="hs-identifier">mkDecoratedError</span></a></span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#NoDiagnosticOpts"><span class="hs-identifier">NoDiagnosticOpts</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span>   </span><span class="annot"><span class="hs-comment">-- * Hints and refactoring actions</span></span><span>
</span><span id="line-41"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Hint.html#GhcHint"><span class="hs-identifier">GhcHint</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Hint.html#AvailableBindings"><span class="hs-identifier">AvailableBindings</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Hint.html#LanguageExtensionHint"><span class="hs-identifier">LanguageExtensionHint</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Hint.html#suggestExtension"><span class="hs-identifier">suggestExtension</span></a></span><span>
</span><span id="line-45"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Hint.html#suggestExtensionWithInfo"><span class="hs-identifier">suggestExtensionWithInfo</span></a></span><span>
</span><span id="line-46"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Hint.html#suggestExtensions"><span class="hs-identifier">suggestExtensions</span></a></span><span>
</span><span id="line-47"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Hint.html#suggestExtensionsWithInfo"><span class="hs-identifier">suggestExtensionsWithInfo</span></a></span><span>
</span><span id="line-48"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Hint.html#suggestAnyExtension"><span class="hs-identifier">suggestAnyExtension</span></a></span><span>
</span><span id="line-49"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Hint.html#suggestAnyExtensionWithInfo"><span class="hs-identifier">suggestAnyExtensionWithInfo</span></a></span><span>
</span><span id="line-50"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Hint.html#useExtensionInOrderTo"><span class="hs-identifier">useExtensionInOrderTo</span></a></span><span>
</span><span id="line-51"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#noHints"><span class="hs-identifier">noHints</span></a></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Rendering Messages</span></span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier">SDoc</span></a></span><span>
</span><span id="line-56"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier">DecoratedSDoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#unDecorated"><span class="hs-identifier">unDecorated</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkDecorated"><span class="hs-identifier">mkDecorated</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkSimpleDecorated"><span class="hs-identifier">mkSimpleDecorated</span></a></span><span>
</span><span id="line-58"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#unionDecoratedSDoc"><span class="hs-identifier">unionDecoratedSDoc</span></a></span><span>
</span><span id="line-59"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mapDecoratedSDoc"><span class="hs-identifier">mapDecoratedSDoc</span></a></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#pprMessageBag"><span class="hs-identifier">pprMessageBag</span></a></span><span>
</span><span id="line-62"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkLocMessage"><span class="hs-identifier">mkLocMessage</span></a></span><span>
</span><span id="line-63"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkLocMessageWarningGroups"><span class="hs-identifier">mkLocMessageWarningGroups</span></a></span><span>
</span><span id="line-64"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#getCaretDiagnostic"><span class="hs-identifier">getCaretDiagnostic</span></a></span><span>
</span><span id="line-65"></span><span>   </span><span class="annot"><span class="hs-comment">-- * Queries</span></span><span>
</span><span id="line-66"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#isIntrinsicErrorMessage"><span class="hs-identifier">isIntrinsicErrorMessage</span></a></span><span>
</span><span id="line-67"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#isExtrinsicErrorMessage"><span class="hs-identifier">isExtrinsicErrorMessage</span></a></span><span>
</span><span id="line-68"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#isWarningMessage"><span class="hs-identifier">isWarningMessage</span></a></span><span>
</span><span id="line-69"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#getErrorMessages"><span class="hs-identifier">getErrorMessages</span></a></span><span>
</span><span id="line-70"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#getWarningMessages"><span class="hs-identifier">getWarningMessages</span></a></span><span>
</span><span id="line-71"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#partitionMessages"><span class="hs-identifier">partitionMessages</span></a></span><span>
</span><span id="line-72"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#errorsFound"><span class="hs-identifier">errorsFound</span></a></span><span>
</span><span id="line-73"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#errorsOrFatalWarningsFound"><span class="hs-identifier">errorsOrFatalWarningsFound</span></a></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span>   </span><span class="annot"><span class="hs-comment">-- * Diagnostic codes</span></span><span>
</span><span id="line-76"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticCode"><span class="hs-identifier">DiagnosticCode</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span class="hs-keyword">where</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Flags.html"><span class="hs-identifier">GHC.Driver.Flags</span></a></span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html"><span class="hs-identifier">GHC.Data.Bag</span></a></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.IO.html#/GHC.IO.html"><span class="hs-identifier">GHC.IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.IO.html#catchException/GHC.IO.html#catchException"><span class="hs-identifier">catchException</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Outputable</span></span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Utils.Ppr.Colour.html"><span class="hs-identifier">GHC.Utils.Ppr.Colour</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Col</span></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SrcLoc</span></span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Hint.html"><span class="hs-identifier">GHC.Types.Hint</span></a></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier">unpackFS</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.StringBuffer.html"><span class="hs-identifier">GHC.Data.StringBuffer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.StringBuffer.html#atLine"><span class="hs-identifier">atLine</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.StringBuffer.html#hGetStringBuffer"><span class="hs-identifier">hGetStringBuffer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.StringBuffer.html#len"><span class="hs-identifier">len</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.StringBuffer.html#lexemeToString"><span class="hs-identifier">lexemeToString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Json.html"><span class="hs-identifier">GHC.Utils.Json</span></a></span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Bifunctor.html#/Data.Bifunctor.html"><span class="hs-identifier">Data.Bifunctor</span></a></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Foldable.html#/Data.Foldable.html"><span class="hs-identifier">Data.Foldable</span></a></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Foldable.html#fold/Data.Foldable.html#fold"><span class="hs-identifier">fold</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.List.NonEmpty.html#/Data.List.NonEmpty.html"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NE</span></span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.List.html#/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.OldList.html#intercalate/Data.OldList.html#intercalate"><span class="hs-identifier">intercalate</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Typeable.html#/Data.Typeable.html"><span class="hs-identifier">Data.Typeable</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Typeable.Internal.html#Typeable/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier">Typeable</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Numeric.Natural.html#/Numeric.Natural.html"><span class="hs-identifier">Numeric.Natural</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Natural</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Text.Printf.html#/Text.Printf.html"><span class="hs-identifier">Text.Printf</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Text.Printf.html#printf/Text.Printf.html#printf"><span class="hs-identifier">printf</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-comment">{-
Note [Messages]
~~~~~~~~~~~~~~~

We represent the 'Messages' as a single bag of warnings and errors.

The reason behind that is that there is a fluid relationship between errors
and warnings and we want to be able to promote or demote errors and warnings
based on certain flags (e.g. -Werror, -fdefer-type-errors or
-XPartialTypeSignatures). More specifically, every diagnostic has a
'DiagnosticReason', but a warning 'DiagnosticReason' might be associated with
'SevError', in the case of -Werror.

We rely on the 'Severity' to distinguish between a warning and an error.

'WarningMessages' and 'ErrorMessages' are for now simple type aliases to
retain backward compatibility, but in future iterations these can be either
parameterised over an 'e' message type (to make type signatures a bit more
declarative) or removed altogether.
-}</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-comment">-- | A collection of messages emitted by GHC during error reporting. A</span><span>
</span><span id="line-125"></span><span class="hs-comment">-- diagnostic message is typically a warning or an error. See Note [Messages].</span><span>
</span><span id="line-126"></span><span class="hs-comment">--</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- /INVARIANT/: All the messages in this collection must be relevant, i.e.</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- their 'Severity' should /not/ be 'SevIgnore'. The smart constructor</span><span>
</span><span id="line-129"></span><span class="hs-comment">-- 'mkMessages' will filter out any message which 'Severity' is 'SevIgnore'.</span><span>
</span><span id="line-130"></span><span class="hs-keyword">newtype</span><span> </span><span id="Messages"><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span></span><span> </span><span id="local-6989586621681619687"><span class="annot"><a href="#local-6989586621681619687"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Messages"><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getMessages"><span class="annot"><span class="annottext">forall e. Messages e -&gt; Bag (MsgEnvelope e)
</span><a href="GHC.Types.Error.html#getMessages"><span class="hs-identifier hs-var hs-var">getMessages</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619687"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681620031"><span id="local-6989586621681620036"><span id="local-6989586621681620042"><span class="annot"><span class="annottext">NonEmpty (Messages e) -&gt; Messages e
Messages e -&gt; Messages e -&gt; Messages e
(Messages e -&gt; Messages e -&gt; Messages e)
-&gt; (NonEmpty (Messages e) -&gt; Messages e)
-&gt; (forall b. Integral b =&gt; b -&gt; Messages e -&gt; Messages e)
-&gt; Semigroup (Messages e)
forall b. Integral b =&gt; b -&gt; Messages e -&gt; Messages e
forall e. NonEmpty (Messages e) -&gt; Messages e
forall e. Messages e -&gt; Messages e -&gt; Messages e
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
forall e b. Integral b =&gt; b -&gt; Messages e -&gt; Messages e
$c&lt;&gt; :: forall e. Messages e -&gt; Messages e -&gt; Messages e
&lt;&gt; :: Messages e -&gt; Messages e -&gt; Messages e
$csconcat :: forall e. NonEmpty (Messages e) -&gt; Messages e
sconcat :: NonEmpty (Messages e) -&gt; Messages e
$cstimes :: forall e b. Integral b =&gt; b -&gt; Messages e -&gt; Messages e
stimes :: forall b. Integral b =&gt; b -&gt; Messages e -&gt; Messages e
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#Semigroup/GHC.Base.html#Semigroup"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681620052"><span id="local-6989586621681620057"><span id="local-6989586621681620061"><span class="annot"><span class="annottext">Semigroup (Messages e)
Messages e
Semigroup (Messages e) =&gt;
Messages e
-&gt; (Messages e -&gt; Messages e -&gt; Messages e)
-&gt; ([Messages e] -&gt; Messages e)
-&gt; Monoid (Messages e)
[Messages e] -&gt; Messages e
Messages e -&gt; Messages e -&gt; Messages e
forall e. Semigroup (Messages e)
forall e. Messages e
forall a.
Semigroup a =&gt;
a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
forall e. [Messages e] -&gt; Messages e
forall e. Messages e -&gt; Messages e -&gt; Messages e
$cmempty :: forall e. Messages e
mempty :: Messages e
$cmappend :: forall e. Messages e -&gt; Messages e -&gt; Messages e
mappend :: Messages e -&gt; Messages e -&gt; Messages e
$cmconcat :: forall e. [Messages e] -&gt; Messages e
mconcat :: [Messages e] -&gt; Messages e
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#Monoid/GHC.Base.html#Monoid"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681620067"><span id="local-6989586621681620073"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; Messages a -&gt; Messages b)
-&gt; (forall a b. a -&gt; Messages b -&gt; Messages a) -&gt; Functor Messages
forall a b. a -&gt; Messages b -&gt; Messages a
forall a b. (a -&gt; b) -&gt; Messages a -&gt; Messages b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; Messages a -&gt; Messages b
fmap :: forall a b. (a -&gt; b) -&gt; Messages a -&gt; Messages b
$c&lt;$ :: forall a b. a -&gt; Messages b -&gt; Messages a
&lt;$ :: forall a b. a -&gt; Messages b -&gt; Messages a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#Functor/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681620079"><span id="local-6989586621681620085"><span id="local-6989586621681620094"><span id="local-6989586621681620099"><span id="local-6989586621681620103"><span id="local-6989586621681620106"><span id="local-6989586621681620109"><span id="local-6989586621681620112"><span id="local-6989586621681620115"><span id="local-6989586621681620118"><span id="local-6989586621681620121"><span id="local-6989586621681620125"><span id="local-6989586621681620128"><span id="local-6989586621681620133"><span id="local-6989586621681620138"><span id="local-6989586621681620143"><span id="local-6989586621681620148"><span class="annot"><span class="annottext">(forall m. Monoid m =&gt; Messages m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Messages a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Messages a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Messages a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Messages a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Messages a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Messages a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Messages a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Messages a -&gt; a)
-&gt; (forall a. Messages a -&gt; [a])
-&gt; (forall a. Messages a -&gt; Bool)
-&gt; (forall a. Messages a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; Messages a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; Messages a -&gt; a)
-&gt; (forall a. Ord a =&gt; Messages a -&gt; a)
-&gt; (forall a. Num a =&gt; Messages a -&gt; a)
-&gt; (forall a. Num a =&gt; Messages a -&gt; a)
-&gt; Foldable Messages
forall a. Eq a =&gt; a -&gt; Messages a -&gt; Bool
forall a. Num a =&gt; Messages a -&gt; a
forall a. Ord a =&gt; Messages a -&gt; a
forall m. Monoid m =&gt; Messages m -&gt; m
forall a. Messages a -&gt; Bool
forall a. Messages a -&gt; Int
forall a. Messages a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; Messages a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Messages a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Messages a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Messages a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
$cfold :: forall m. Monoid m =&gt; Messages m -&gt; m
fold :: forall m. Monoid m =&gt; Messages m -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Messages a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Messages a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Messages a -&gt; m
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Messages a -&gt; m
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Messages a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Messages a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Messages a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Messages a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Messages a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Messages a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Messages a -&gt; b
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Messages a -&gt; b
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Messages a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Messages a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Messages a -&gt; a
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Messages a -&gt; a
$ctoList :: forall a. Messages a -&gt; [a]
toList :: forall a. Messages a -&gt; [a]
$cnull :: forall a. Messages a -&gt; Bool
null :: forall a. Messages a -&gt; Bool
$clength :: forall a. Messages a -&gt; Int
length :: forall a. Messages a -&gt; Int
$celem :: forall a. Eq a =&gt; a -&gt; Messages a -&gt; Bool
elem :: forall a. Eq a =&gt; a -&gt; Messages a -&gt; Bool
$cmaximum :: forall a. Ord a =&gt; Messages a -&gt; a
maximum :: forall a. Ord a =&gt; Messages a -&gt; a
$cminimum :: forall a. Ord a =&gt; Messages a -&gt; a
minimum :: forall a. Ord a =&gt; Messages a -&gt; a
$csum :: forall a. Num a =&gt; Messages a -&gt; a
sum :: forall a. Num a =&gt; Messages a -&gt; a
$cproduct :: forall a. Num a =&gt; Messages a -&gt; a
product :: forall a. Num a =&gt; Messages a -&gt; a
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#Foldable/Data.Foldable.html#Foldable"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681620158"><span id="local-6989586621681620169"><span id="local-6989586621681620175"><span id="local-6989586621681620180"><span class="annot"><span class="annottext">Functor Messages
Foldable Messages
(Functor Messages, Foldable Messages) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; Messages a -&gt; f (Messages b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    Messages (f a) -&gt; f (Messages a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; Messages a -&gt; m (Messages b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    Messages (m a) -&gt; m (Messages a))
-&gt; Traversable Messages
forall (t :: * -&gt; *).
(Functor t, Foldable t) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a. Monad m =&gt; Messages (m a) -&gt; m (Messages a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
Messages (f a) -&gt; f (Messages a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Messages a -&gt; m (Messages b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Messages a -&gt; f (Messages b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Messages a -&gt; f (Messages b)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Messages a -&gt; f (Messages b)
$csequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Messages (f a) -&gt; f (Messages a)
sequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Messages (f a) -&gt; f (Messages a)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Messages a -&gt; m (Messages b)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Messages a -&gt; m (Messages b)
$csequence :: forall (m :: * -&gt; *) a. Monad m =&gt; Messages (m a) -&gt; m (Messages a)
sequence :: forall (m :: * -&gt; *) a. Monad m =&gt; Messages (m a) -&gt; m (Messages a)
</span><a href="../../base-4.18.3.0/src/Data.Traversable.html#Traversable/Data.Traversable.html#Traversable"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span id="local-6989586621681620186"><span class="annot"><a href="GHC.Types.Error.html#emptyMessages"><span class="hs-identifier hs-type">emptyMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620186"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-135"></span><span id="emptyMessages"><span class="annot"><span class="annottext">emptyMessages :: forall e. Messages e
</span><a href="GHC.Types.Error.html#emptyMessages"><span class="hs-identifier hs-var hs-var">emptyMessages</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e) -&gt; Messages e
forall e. Bag (MsgEnvelope e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
forall a. Bag a
</span><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier hs-var">emptyBag</span></a></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span id="local-6989586621681620188"><span class="annot"><a href="GHC.Types.Error.html#mkMessages"><span class="hs-identifier hs-type">mkMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620188"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620188"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-138"></span><span id="mkMessages"><span class="annot"><span class="annottext">mkMessages :: forall e. Bag (MsgEnvelope e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#mkMessages"><span class="hs-identifier hs-var hs-var">mkMessages</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e) -&gt; Messages e
forall e. Bag (MsgEnvelope e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span><span> </span><span class="annot"><span class="annottext">(Bag (MsgEnvelope e) -&gt; Messages e)
-&gt; (Bag (MsgEnvelope e) -&gt; Bag (MsgEnvelope e))
-&gt; Bag (MsgEnvelope e)
-&gt; Messages e
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope e -&gt; Bool)
-&gt; Bag (MsgEnvelope e) -&gt; Bag (MsgEnvelope e)
forall a. (a -&gt; Bool) -&gt; Bag a -&gt; Bag a
</span><a href="GHC.Data.Bag.html#filterBag"><span class="hs-identifier hs-var">filterBag</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; Bool
forall e. MsgEnvelope e -&gt; Bool
</span><a href="#local-6989586621681620191"><span class="hs-identifier hs-var">interesting</span></a></span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-140"></span><span>    </span><span id="local-6989586621681619757"><span class="annot"><a href="#local-6989586621681620191"><span class="hs-identifier hs-type">interesting</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619757"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-141"></span><span>    </span><span id="local-6989586621681620191"><span class="annot"><span class="annottext">interesting :: forall e. MsgEnvelope e -&gt; Bool
</span><a href="#local-6989586621681620191"><span class="hs-identifier hs-var hs-var">interesting</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Severity -&gt; Severity -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevIgnore"><span class="hs-identifier hs-var">SevIgnore</span></a></span><span> </span><span class="annot"><span class="annottext">(Severity -&gt; Bool)
-&gt; (MsgEnvelope e -&gt; Severity) -&gt; MsgEnvelope e -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; Severity
forall e. MsgEnvelope e -&gt; Severity
</span><a href="GHC.Types.Error.html#errMsgSeverity"><span class="hs-identifier hs-var">errMsgSeverity</span></a></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span id="local-6989586621681620196"><span class="annot"><a href="GHC.Types.Error.html#isEmptyMessages"><span class="hs-identifier hs-type">isEmptyMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620196"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-144"></span><span id="isEmptyMessages"><span class="annot"><span class="annottext">isEmptyMessages :: forall a. Messages a -&gt; Bool
</span><a href="GHC.Types.Error.html#isEmptyMessages"><span class="hs-identifier hs-var hs-var">isEmptyMessages</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681620197"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620197"><span class="hs-identifier hs-var">msgs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e) -&gt; Bool
forall a. Bag a -&gt; Bool
</span><a href="GHC.Data.Bag.html#isEmptyBag"><span class="hs-identifier hs-var">isEmptyBag</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620197"><span class="hs-identifier hs-var">msgs</span></a></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span id="local-6989586621681619764"><span class="annot"><a href="GHC.Types.Error.html#singleMessage"><span class="hs-identifier hs-type">singleMessage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619764"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619764"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-147"></span><span id="singleMessage"><span class="annot"><span class="annottext">singleMessage :: forall e. MsgEnvelope e -&gt; Messages e
</span><a href="GHC.Types.Error.html#singleMessage"><span class="hs-identifier hs-var hs-var">singleMessage</span></a></span></span><span> </span><span id="local-6989586621681620199"><span class="annot"><span class="annottext">MsgEnvelope e
</span><a href="#local-6989586621681620199"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; Messages e -&gt; Messages e
forall e. MsgEnvelope e -&gt; Messages e -&gt; Messages e
</span><a href="GHC.Types.Error.html#addMessage"><span class="hs-identifier hs-var">addMessage</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e
</span><a href="#local-6989586621681620199"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Messages e
forall e. Messages e
</span><a href="GHC.Types.Error.html#emptyMessages"><span class="hs-identifier hs-var">emptyMessages</span></a></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681619770"><span class="annot"><a href="GHC.Types.Error.html#Diagnostic"><span class="hs-identifier hs-type">Diagnostic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619770"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619770"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-150"></span><span>  </span><span id="local-6989586621681620207"><span class="annot"><span class="annottext">ppr :: Messages e -&gt; SDoc
</span><a href="#local-6989586621681620207"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span id="local-6989586621681620209"><span class="annot"><span class="annottext">Messages e
</span><a href="#local-6989586621681620209"><span class="hs-identifier hs-var">msgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#braces"><span class="hs-identifier hs-var">braces</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(MsgEnvelope e -&gt; SDoc) -&gt; [MsgEnvelope e] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; SDoc
</span><a href="#local-6989586621681620212"><span class="hs-identifier hs-var">ppr_one</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bag (MsgEnvelope e) -&gt; [MsgEnvelope e]
forall a. Bag a -&gt; [a]
</span><a href="GHC.Data.Bag.html#bagToList"><span class="hs-identifier hs-var">bagToList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Messages e -&gt; Bag (MsgEnvelope e)
forall e. Messages e -&gt; Bag (MsgEnvelope e)
</span><a href="GHC.Types.Error.html#getMessages"><span class="hs-identifier hs-var">getMessages</span></a></span><span> </span><span class="annot"><span class="annottext">Messages e
</span><a href="#local-6989586621681620209"><span class="hs-identifier hs-var">msgs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>     </span><span class="hs-keyword">where</span><span>
</span><span id="line-152"></span><span>       </span><span class="annot"><a href="#local-6989586621681620212"><span class="hs-identifier hs-type">ppr_one</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619770"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-153"></span><span>       </span><span id="local-6989586621681620212"><span class="annot"><span class="annottext">ppr_one :: MsgEnvelope e -&gt; SDoc
</span><a href="#local-6989586621681620212"><span class="hs-identifier hs-var hs-var">ppr_one</span></a></span></span><span> </span><span id="local-6989586621681620214"><span class="annot"><span class="annottext">MsgEnvelope e
</span><a href="#local-6989586621681620214"><span class="hs-identifier hs-var">envelope</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; SDoc
forall e. Diagnostic e =&gt; e -&gt; SDoc
</span><a href="GHC.Types.Error.html#pprDiagnostic"><span class="hs-identifier hs-var">pprDiagnostic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; e
forall e. MsgEnvelope e -&gt; e
</span><a href="GHC.Types.Error.html#errMsgDiagnostic"><span class="hs-identifier hs-var">errMsgDiagnostic</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e
</span><a href="#local-6989586621681620214"><span class="hs-identifier hs-var">envelope</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="hs-comment">{- Note [Discarding Messages]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Discarding a 'SevIgnore' message from 'addMessage' and 'unionMessages' is just
an optimisation, as GHC would /also/ suppress any diagnostic which severity is
'SevIgnore' before printing the message: See for example 'putLogMsg' and
'defaultLogAction'.

-}</span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="hs-comment">-- | Adds a 'Message' to the input collection of messages.</span><span>
</span><span id="line-166"></span><span class="hs-comment">-- See Note [Discarding Messages].</span><span>
</span><span id="line-167"></span><span id="local-6989586621681619766"><span class="annot"><a href="GHC.Types.Error.html#addMessage"><span class="hs-identifier hs-type">addMessage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619766"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619766"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619766"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-168"></span><span id="addMessage"><span class="annot"><span class="annottext">addMessage :: forall e. MsgEnvelope e -&gt; Messages e -&gt; Messages e
</span><a href="GHC.Types.Error.html#addMessage"><span class="hs-identifier hs-var hs-var">addMessage</span></a></span></span><span> </span><span id="local-6989586621681620217"><span class="annot"><span class="annottext">MsgEnvelope e
</span><a href="#local-6989586621681620217"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681620218"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620218"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevIgnore"><span class="hs-identifier hs-var">SevIgnore</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; Severity
forall e. MsgEnvelope e -&gt; Severity
</span><a href="GHC.Types.Error.html#errMsgSeverity"><span class="hs-identifier hs-var">errMsgSeverity</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e
</span><a href="#local-6989586621681620217"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e) -&gt; Messages e
forall e. Bag (MsgEnvelope e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620218"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e) -&gt; Messages e
forall e. Bag (MsgEnvelope e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MsgEnvelope e
</span><a href="#local-6989586621681620217"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; Bag (MsgEnvelope e) -&gt; Bag (MsgEnvelope e)
forall a. a -&gt; Bag a -&gt; Bag a
</span><a href="GHC.Data.Bag.html#consBag"><span class="hs-operator hs-var">`consBag`</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620218"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="hs-comment">-- | Joins two collections of messages together.</span><span>
</span><span id="line-173"></span><span class="hs-comment">-- See Note [Discarding Messages].</span><span>
</span><span id="line-174"></span><span id="local-6989586621681620220"><span class="annot"><a href="GHC.Types.Error.html#unionMessages"><span class="hs-identifier hs-type">unionMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620220"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620220"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620220"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-175"></span><span id="unionMessages"><span class="annot"><span class="annottext">unionMessages :: forall e. Messages e -&gt; Messages e -&gt; Messages e
</span><a href="GHC.Types.Error.html#unionMessages"><span class="hs-identifier hs-var hs-var">unionMessages</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681620221"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620221"><span class="hs-identifier hs-var">msgs1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681620222"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620222"><span class="hs-identifier hs-var">msgs2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-176"></span><span>  </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e) -&gt; Messages e
forall e. Bag (MsgEnvelope e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620221"><span class="hs-identifier hs-var">msgs1</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e) -&gt; Bag (MsgEnvelope e) -&gt; Bag (MsgEnvelope e)
forall a. Bag a -&gt; Bag a -&gt; Bag a
</span><a href="GHC.Data.Bag.html#unionBags"><span class="hs-operator hs-var">`unionBags`</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620222"><span class="hs-identifier hs-var">msgs2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="annot"><span class="hs-comment">-- | Joins many 'Messages's together</span></span><span>
</span><span id="line-179"></span><span id="local-6989586621681619781"><span id="local-6989586621681619782"><span class="annot"><a href="GHC.Types.Error.html#unionManyMessages"><span class="hs-identifier hs-type">unionManyMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Foldable.html#Foldable/Data.Foldable.html#Foldable"><span class="hs-identifier hs-type">Foldable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619781"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681619781"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619782"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619782"><span class="hs-identifier hs-type">e</span></a></span></span></span><span>
</span><span id="line-180"></span><span id="unionManyMessages"><span class="annot"><span class="annottext">unionManyMessages :: forall (f :: * -&gt; *) e. Foldable f =&gt; f (Messages e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#unionManyMessages"><span class="hs-identifier hs-var hs-var">unionManyMessages</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f (Messages e) -&gt; Messages e
forall m. Monoid m =&gt; f m -&gt; m
forall (t :: * -&gt; *) m. (Foldable t, Monoid m) =&gt; t m -&gt; m
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#fold/Data.Foldable.html#fold"><span class="hs-identifier hs-var">fold</span></a></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- | A 'DecoratedSDoc' is isomorphic to a '[SDoc]' but it carries the</span><span>
</span><span id="line-183"></span><span class="hs-comment">-- invariant that the input '[SDoc]' needs to be rendered /decorated/ into its</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- final form, where the typical case would be adding bullets between each</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- elements of the list. The type of decoration depends on the formatting</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- function used, but in practice GHC uses the 'formatBulleted'.</span><span>
</span><span id="line-187"></span><span class="hs-keyword">newtype</span><span> </span><span id="DecoratedSDoc"><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-var">DecoratedSDoc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Decorated"><span class="annot"><a href="GHC.Types.Error.html#Decorated"><span class="hs-identifier hs-var">Decorated</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unDecorated"><span class="annot"><span class="annottext">DecoratedSDoc -&gt; [SDoc]
</span><a href="GHC.Types.Error.html#unDecorated"><span class="hs-identifier hs-var hs-var">unDecorated</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="annot"><span class="hs-comment">-- | Creates a new 'DecoratedSDoc' out of a list of 'SDoc'.</span></span><span>
</span><span id="line-190"></span><span class="annot"><a href="GHC.Types.Error.html#mkDecorated"><span class="hs-identifier hs-type">mkDecorated</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span>
</span><span id="line-191"></span><span id="mkDecorated"><span class="annot"><span class="annottext">mkDecorated :: [SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkDecorated"><span class="hs-identifier hs-var hs-var">mkDecorated</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#Decorated"><span class="hs-identifier hs-var">Decorated</span></a></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="annot"><span class="hs-comment">-- | Creates a new 'DecoratedSDoc' out of a single 'SDoc'</span></span><span>
</span><span id="line-194"></span><span class="annot"><a href="GHC.Types.Error.html#mkSimpleDecorated"><span class="hs-identifier hs-type">mkSimpleDecorated</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span>
</span><span id="line-195"></span><span id="mkSimpleDecorated"><span class="annot"><span class="annottext">mkSimpleDecorated :: SDoc -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkSimpleDecorated"><span class="hs-identifier hs-var hs-var">mkSimpleDecorated</span></a></span></span><span> </span><span id="local-6989586621681620228"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620228"><span class="hs-identifier hs-var">doc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#Decorated"><span class="hs-identifier hs-var">Decorated</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620228"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="hs-comment">-- | Joins two 'DecoratedSDoc' together. The resulting 'DecoratedSDoc'</span><span>
</span><span id="line-198"></span><span class="hs-comment">-- will have a number of entries which is the sum of the lengths of</span><span>
</span><span id="line-199"></span><span class="hs-comment">-- the input.</span><span>
</span><span id="line-200"></span><span class="annot"><a href="GHC.Types.Error.html#unionDecoratedSDoc"><span class="hs-identifier hs-type">unionDecoratedSDoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span>
</span><span id="line-201"></span><span id="unionDecoratedSDoc"><span class="annot"><span class="annottext">unionDecoratedSDoc :: DecoratedSDoc -&gt; DecoratedSDoc -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#unionDecoratedSDoc"><span class="hs-identifier hs-var hs-var">unionDecoratedSDoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Decorated"><span class="hs-identifier hs-type">Decorated</span></a></span><span> </span><span id="local-6989586621681620229"><span class="annot"><span class="annottext">[SDoc]
</span><a href="#local-6989586621681620229"><span class="hs-identifier hs-var">s1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Decorated"><span class="hs-identifier hs-type">Decorated</span></a></span><span> </span><span id="local-6989586621681620230"><span class="annot"><span class="annottext">[SDoc]
</span><a href="#local-6989586621681620230"><span class="hs-identifier hs-var">s2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-202"></span><span>  </span><span class="annot"><span class="annottext">[SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#Decorated"><span class="hs-identifier hs-var">Decorated</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc]
</span><a href="#local-6989586621681620229"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; [SDoc] -&gt; [SDoc]
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#mappend/GHC.Base.html#mappend"><span class="hs-operator hs-var">`mappend`</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc]
</span><a href="#local-6989586621681620230"><span class="hs-identifier hs-var">s2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="annot"><span class="hs-comment">-- | Apply a transformation function to all elements of a 'DecoratedSDoc'.</span></span><span>
</span><span id="line-205"></span><span class="annot"><a href="GHC.Types.Error.html#mapDecoratedSDoc"><span class="hs-identifier hs-type">mapDecoratedSDoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span>
</span><span id="line-206"></span><span id="mapDecoratedSDoc"><span class="annot"><span class="annottext">mapDecoratedSDoc :: (SDoc -&gt; SDoc) -&gt; DecoratedSDoc -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#mapDecoratedSDoc"><span class="hs-identifier hs-var hs-var">mapDecoratedSDoc</span></a></span></span><span> </span><span id="local-6989586621681620231"><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="#local-6989586621681620231"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Decorated"><span class="hs-identifier hs-type">Decorated</span></a></span><span> </span><span id="local-6989586621681620232"><span class="annot"><span class="annottext">[SDoc]
</span><a href="#local-6989586621681620232"><span class="hs-identifier hs-var">s1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-207"></span><span>  </span><span class="annot"><span class="annottext">[SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#Decorated"><span class="hs-identifier hs-var">Decorated</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; [SDoc] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="#local-6989586621681620231"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc]
</span><a href="#local-6989586621681620232"><span class="hs-identifier hs-var">s1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-comment">-- | A class identifying a diagnostic.</span><span>
</span><span id="line-210"></span><span class="hs-comment">-- Dictionary.com defines a diagnostic as:</span><span>
</span><span id="line-211"></span><span class="hs-comment">--</span><span>
</span><span id="line-212"></span><span class="hs-comment">-- \&quot;a message output by a computer diagnosing an error in a computer program,</span><span>
</span><span id="line-213"></span><span class="hs-comment">-- computer system, or component device\&quot;.</span><span>
</span><span id="line-214"></span><span class="hs-comment">--</span><span>
</span><span id="line-215"></span><span class="hs-comment">-- A 'Diagnostic' carries the /actual/ description of the message (which, in</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- GHC's case, it can be an error or a warning) and the /reason/ why such</span><span>
</span><span id="line-217"></span><span class="hs-comment">-- message was generated in the first place.</span><span>
</span><span id="line-218"></span><span class="hs-keyword">class</span><span> </span><span id="Diagnostic"><span class="annot"><a href="GHC.Types.Error.html#Diagnostic"><span class="hs-identifier hs-var">Diagnostic</span></a></span></span><span> </span><span id="local-6989586621681619789"><span class="annot"><a href="#local-6989586621681619789"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-comment">-- | Type of configuration options for the diagnostic.</span><span>
</span><span id="line-221"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DiagnosticOpts"><span class="annot"><a href="GHC.Types.Error.html#DiagnosticOpts"><span class="hs-identifier hs-var">DiagnosticOpts</span></a></span></span><span> </span><span id="local-6989586621681619789"><span class="annot"><a href="#local-6989586621681619789"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-222"></span><span>  </span><span id="defaultDiagnosticOpts"><span class="annot"><a href="GHC.Types.Error.html#defaultDiagnosticOpts"><span class="hs-identifier hs-type">defaultDiagnosticOpts</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticOpts"><span class="hs-identifier hs-type">DiagnosticOpts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619789"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-comment">-- | Extract the error message text from a 'Diagnostic'.</span><span>
</span><span id="line-225"></span><span>  </span><span id="diagnosticMessage"><span class="annot"><a href="GHC.Types.Error.html#diagnosticMessage"><span class="hs-identifier hs-type">diagnosticMessage</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticOpts"><span class="hs-identifier hs-type">DiagnosticOpts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619789"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681619789"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span>  </span><span class="hs-comment">-- | Extract the reason for this diagnostic. For warnings,</span><span>
</span><span id="line-228"></span><span>  </span><span class="hs-comment">-- a 'DiagnosticReason' includes the warning flag.</span><span>
</span><span id="line-229"></span><span>  </span><span id="diagnosticReason"><span class="annot"><a href="GHC.Types.Error.html#diagnosticReason"><span class="hs-identifier hs-type">diagnosticReason</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621681619789"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticReason"><span class="hs-identifier hs-type">DiagnosticReason</span></a></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-comment">-- | Extract any hints a user might use to repair their</span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-comment">-- code to avoid this diagnostic.</span><span>
</span><span id="line-233"></span><span>  </span><span id="diagnosticHints"><span class="annot"><a href="GHC.Types.Error.html#diagnosticHints"><span class="hs-identifier hs-type">diagnosticHints</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621681619789"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Hint.html#GhcHint"><span class="hs-identifier hs-type">GhcHint</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-comment">-- | Get the 'DiagnosticCode' associated with this 'Diagnostic'.</span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-comment">-- This can return 'Nothing' for at least two reasons:</span><span>
</span><span id="line-237"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-comment">-- 1. The message might be from a plugin that does not supply codes.</span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-comment">-- 2. The message might not yet have been assigned a code. See the</span><span>
</span><span id="line-240"></span><span>  </span><span class="hs-comment">--    'Diagnostic' instance for 'DiagnosticMessage'.</span><span>
</span><span id="line-241"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-242"></span><span>  </span><span class="hs-comment">-- Ideally, case (2) would not happen, but because</span><span>
</span><span id="line-243"></span><span>  </span><span class="hs-comment">-- some errors in GHC still use the old system of just writing the</span><span>
</span><span id="line-244"></span><span>  </span><span class="hs-comment">-- error message in-place (instead of using a dedicated error type</span><span>
</span><span id="line-245"></span><span>  </span><span class="hs-comment">-- and constructor), we do not have error codes for all errors.</span><span>
</span><span id="line-246"></span><span>  </span><span class="hs-comment">-- #18516 tracks our progress toward this goal.</span><span>
</span><span id="line-247"></span><span>  </span><span id="diagnosticCode"><span class="annot"><a href="GHC.Types.Error.html#diagnosticCode"><span class="hs-identifier hs-type">diagnosticCode</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621681619789"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticCode"><span class="hs-identifier hs-type">DiagnosticCode</span></a></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="annot"><span class="hs-comment">-- | An existential wrapper around an unknown diagnostic.</span></span><span>
</span><span id="line-250"></span><span class="hs-keyword">data</span><span> </span><span id="UnknownDiagnostic"><span class="annot"><a href="GHC.Types.Error.html#UnknownDiagnostic"><span class="hs-identifier hs-var">UnknownDiagnostic</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-251"></span><span>  </span><span id="local-6989586621681620238"><span id="UnknownDiagnostic"><span class="annot"><a href="GHC.Types.Error.html#UnknownDiagnostic"><span class="hs-identifier hs-var">UnknownDiagnostic</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticOpts"><span class="hs-identifier hs-type">DiagnosticOpts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620238"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#NoDiagnosticOpts"><span class="hs-identifier hs-type">NoDiagnosticOpts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Diagnostic"><span class="hs-identifier hs-type">Diagnostic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620238"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Typeable.Internal.html#Typeable/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620238"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>                    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681620238"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#UnknownDiagnostic"><span class="hs-identifier hs-type">UnknownDiagnostic</span></a></span></span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Diagnostic"><span class="hs-identifier hs-type">Diagnostic</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#UnknownDiagnostic"><span class="hs-identifier hs-type">UnknownDiagnostic</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-255"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DiagnosticOpts"><span class="annot"><a href="GHC.Types.Error.html#DiagnosticOpts"><span class="hs-identifier hs-var">DiagnosticOpts</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#UnknownDiagnostic"><span class="hs-identifier hs-type">UnknownDiagnostic</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#NoDiagnosticOpts"><span class="hs-identifier hs-type">NoDiagnosticOpts</span></a></span><span>
</span><span id="line-256"></span><span>  </span><span id="local-6989586621681620247"><span class="annot"><span class="annottext">defaultDiagnosticOpts :: DiagnosticOpts UnknownDiagnostic
</span><a href="GHC.Types.Error.html#defaultDiagnosticOpts"><span class="hs-identifier hs-var hs-var hs-var hs-var">defaultDiagnosticOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoDiagnosticOpts
DiagnosticOpts UnknownDiagnostic
</span><a href="GHC.Types.Error.html#NoDiagnosticOpts"><span class="hs-identifier hs-var">NoDiagnosticOpts</span></a></span><span>
</span><span id="line-257"></span><span>  </span><span id="local-6989586621681620249"><span class="annot"><span class="annottext">diagnosticMessage :: DiagnosticOpts UnknownDiagnostic
-&gt; UnknownDiagnostic -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#diagnosticMessage"><span class="hs-identifier hs-var hs-var hs-var hs-var">diagnosticMessage</span></a></span></span><span> </span><span class="annot"><span class="annottext">DiagnosticOpts UnknownDiagnostic
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#UnknownDiagnostic"><span class="hs-identifier hs-type">UnknownDiagnostic</span></a></span><span> </span><span id="local-6989586621681620255"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681620255"><span class="hs-identifier hs-var">diag</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DiagnosticOpts a -&gt; a -&gt; DecoratedSDoc
forall a. Diagnostic a =&gt; DiagnosticOpts a -&gt; a -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#diagnosticMessage"><span class="hs-identifier hs-var">diagnosticMessage</span></a></span><span> </span><span class="annot"><span class="annottext">NoDiagnosticOpts
DiagnosticOpts a
</span><a href="GHC.Types.Error.html#NoDiagnosticOpts"><span class="hs-identifier hs-var">NoDiagnosticOpts</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681620255"><span class="hs-identifier hs-var">diag</span></a></span><span>
</span><span id="line-258"></span><span>  </span><span id="local-6989586621681620256"><span class="annot"><span class="annottext">diagnosticReason :: UnknownDiagnostic -&gt; DiagnosticReason
</span><a href="GHC.Types.Error.html#diagnosticReason"><span class="hs-identifier hs-var hs-var hs-var hs-var">diagnosticReason</span></a></span></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#UnknownDiagnostic"><span class="hs-identifier hs-type">UnknownDiagnostic</span></a></span><span> </span><span id="local-6989586621681620261"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681620261"><span class="hs-identifier hs-var">diag</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; DiagnosticReason
forall a. Diagnostic a =&gt; a -&gt; DiagnosticReason
</span><a href="GHC.Types.Error.html#diagnosticReason"><span class="hs-identifier hs-var">diagnosticReason</span></a></span><span>  </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681620261"><span class="hs-identifier hs-var">diag</span></a></span><span>
</span><span id="line-259"></span><span>  </span><span id="local-6989586621681620262"><span class="annot"><span class="annottext">diagnosticHints :: UnknownDiagnostic -&gt; [GhcHint]
</span><a href="GHC.Types.Error.html#diagnosticHints"><span class="hs-identifier hs-var hs-var hs-var hs-var">diagnosticHints</span></a></span></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#UnknownDiagnostic"><span class="hs-identifier hs-type">UnknownDiagnostic</span></a></span><span> </span><span id="local-6989586621681620267"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681620267"><span class="hs-identifier hs-var">diag</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; [GhcHint]
forall a. Diagnostic a =&gt; a -&gt; [GhcHint]
</span><a href="GHC.Types.Error.html#diagnosticHints"><span class="hs-identifier hs-var">diagnosticHints</span></a></span><span>   </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681620267"><span class="hs-identifier hs-var">diag</span></a></span><span>
</span><span id="line-260"></span><span>  </span><span id="local-6989586621681620268"><span class="annot"><span class="annottext">diagnosticCode :: UnknownDiagnostic -&gt; Maybe DiagnosticCode
</span><a href="GHC.Types.Error.html#diagnosticCode"><span class="hs-identifier hs-var hs-var hs-var hs-var">diagnosticCode</span></a></span></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#UnknownDiagnostic"><span class="hs-identifier hs-type">UnknownDiagnostic</span></a></span><span> </span><span id="local-6989586621681620273"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681620273"><span class="hs-identifier hs-var">diag</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe DiagnosticCode
forall a. Diagnostic a =&gt; a -&gt; Maybe DiagnosticCode
</span><a href="GHC.Types.Error.html#diagnosticCode"><span class="hs-identifier hs-var">diagnosticCode</span></a></span><span>    </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681620273"><span class="hs-identifier hs-var">diag</span></a></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="hs-comment">-- A fallback 'DiagnosticOpts' which can be used when there are no options</span><span>
</span><span id="line-263"></span><span class="hs-comment">-- for a particular diagnostic.</span><span>
</span><span id="line-264"></span><span class="hs-keyword">data</span><span> </span><span id="NoDiagnosticOpts"><span class="annot"><a href="GHC.Types.Error.html#NoDiagnosticOpts"><span class="hs-identifier hs-var">NoDiagnosticOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NoDiagnosticOpts"><span class="annot"><a href="GHC.Types.Error.html#NoDiagnosticOpts"><span class="hs-identifier hs-var">NoDiagnosticOpts</span></a></span></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="annot"><a href="GHC.Types.Error.html#pprDiagnostic"><span class="hs-identifier hs-type">pprDiagnostic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681619776"><span class="annot"><a href="#local-6989586621681619776"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Diagnostic"><span class="hs-identifier hs-type">Diagnostic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619776"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681619776"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-267"></span><span id="pprDiagnostic"><span class="annot"><span class="annottext">pprDiagnostic :: forall e. Diagnostic e =&gt; e -&gt; SDoc
</span><a href="GHC.Types.Error.html#pprDiagnostic"><span class="hs-identifier hs-var hs-var">pprDiagnostic</span></a></span></span><span> </span><span id="local-6989586621681620282"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681620282"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">DiagnosticReason -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e -&gt; DiagnosticReason
forall a. Diagnostic a =&gt; a -&gt; DiagnosticReason
</span><a href="GHC.Types.Error.html#diagnosticReason"><span class="hs-identifier hs-var">diagnosticReason</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681620282"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DecoratedSDoc -&gt; [SDoc]
</span><a href="GHC.Types.Error.html#unDecorated"><span class="hs-identifier hs-var">unDecorated</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DiagnosticOpts e -&gt; e -&gt; DecoratedSDoc
forall a. Diagnostic a =&gt; DiagnosticOpts a -&gt; a -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#diagnosticMessage"><span class="hs-identifier hs-var">diagnosticMessage</span></a></span><span> </span><span class="annot"><span class="annottext">DiagnosticOpts e
</span><a href="#local-6989586621681620284"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681620282"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681620284"><span class="annot"><span class="annottext">opts :: DiagnosticOpts e
</span><a href="#local-6989586621681620284"><span class="hs-identifier hs-var hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Diagnostic a =&gt; DiagnosticOpts a
</span><a href="GHC.Types.Error.html#defaultDiagnosticOpts"><span class="hs-identifier hs-var">defaultDiagnosticOpts</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681619776"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="annot"><span class="hs-comment">-- | A generic 'Hint' message, to be used with 'DiagnosticMessage'.</span></span><span>
</span><span id="line-272"></span><span class="hs-keyword">data</span><span> </span><span id="DiagnosticHint"><span class="annot"><a href="GHC.Types.Error.html#DiagnosticHint"><span class="hs-identifier hs-var">DiagnosticHint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DiagnosticHint"><span class="annot"><a href="GHC.Types.Error.html#DiagnosticHint"><span class="hs-identifier hs-var">DiagnosticHint</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticHint"><span class="hs-identifier hs-type">DiagnosticHint</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-275"></span><span>  </span><span id="local-6989586621681620289"><span class="annot"><span class="annottext">ppr :: DiagnosticHint -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticHint"><span class="hs-identifier hs-type">DiagnosticHint</span></a></span><span> </span><span id="local-6989586621681620290"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620290"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620290"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span class="hs-comment">-- | A generic 'Diagnostic' message, without any further classification or</span><span>
</span><span id="line-278"></span><span class="hs-comment">-- provenance: By looking at a 'DiagnosticMessage' we don't know neither</span><span>
</span><span id="line-279"></span><span class="hs-comment">-- /where/ it was generated nor how to intepret its payload (as it's just a</span><span>
</span><span id="line-280"></span><span class="hs-comment">-- structured document). All we can do is to print it out and look at its</span><span>
</span><span id="line-281"></span><span class="hs-comment">-- 'DiagnosticReason'.</span><span>
</span><span id="line-282"></span><span class="hs-keyword">data</span><span> </span><span id="DiagnosticMessage"><span class="annot"><a href="GHC.Types.Error.html#DiagnosticMessage"><span class="hs-identifier hs-var">DiagnosticMessage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DiagnosticMessage"><span class="annot"><a href="GHC.Types.Error.html#DiagnosticMessage"><span class="hs-identifier hs-var">DiagnosticMessage</span></a></span></span><span>
</span><span id="line-283"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="diagMessage"><span class="annot"><span class="annottext">DiagnosticMessage -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#diagMessage"><span class="hs-identifier hs-var hs-var">diagMessage</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span>
</span><span id="line-284"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="diagReason"><span class="annot"><span class="annottext">DiagnosticMessage -&gt; DiagnosticReason
</span><a href="GHC.Types.Error.html#diagReason"><span class="hs-identifier hs-var hs-var">diagReason</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticReason"><span class="hs-identifier hs-type">DiagnosticReason</span></a></span><span>
</span><span id="line-285"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="diagHints"><span class="annot"><span class="annottext">DiagnosticMessage -&gt; [GhcHint]
</span><a href="GHC.Types.Error.html#diagHints"><span class="hs-identifier hs-var hs-var">diagHints</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Hint.html#GhcHint"><span class="hs-identifier hs-type">GhcHint</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-286"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Diagnostic"><span class="hs-identifier hs-type">Diagnostic</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticMessage"><span class="hs-identifier hs-type">DiagnosticMessage</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DiagnosticOpts"><span class="annot"><a href="GHC.Types.Error.html#DiagnosticOpts"><span class="hs-identifier hs-var">DiagnosticOpts</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticMessage"><span class="hs-identifier hs-type">DiagnosticMessage</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#NoDiagnosticOpts"><span class="hs-identifier hs-type">NoDiagnosticOpts</span></a></span><span>
</span><span id="line-290"></span><span>  </span><span id="local-6989586621681620300"><span class="annot"><span class="annottext">defaultDiagnosticOpts :: DiagnosticOpts DiagnosticMessage
</span><a href="GHC.Types.Error.html#defaultDiagnosticOpts"><span class="hs-identifier hs-var hs-var hs-var hs-var">defaultDiagnosticOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoDiagnosticOpts
DiagnosticOpts DiagnosticMessage
</span><a href="GHC.Types.Error.html#NoDiagnosticOpts"><span class="hs-identifier hs-var">NoDiagnosticOpts</span></a></span><span>
</span><span id="line-291"></span><span>  </span><span id="local-6989586621681620301"><span class="annot"><span class="annottext">diagnosticMessage :: DiagnosticOpts DiagnosticMessage
-&gt; DiagnosticMessage -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#diagnosticMessage"><span class="hs-identifier hs-var hs-var hs-var hs-var">diagnosticMessage</span></a></span></span><span> </span><span class="annot"><span class="annottext">DiagnosticOpts DiagnosticMessage
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DiagnosticMessage -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#diagMessage"><span class="hs-identifier hs-var">diagMessage</span></a></span><span>
</span><span id="line-292"></span><span>  </span><span id="local-6989586621681620302"><span class="annot"><span class="annottext">diagnosticReason :: DiagnosticMessage -&gt; DiagnosticReason
</span><a href="GHC.Types.Error.html#diagnosticReason"><span class="hs-identifier hs-var hs-var hs-var hs-var">diagnosticReason</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DiagnosticMessage -&gt; DiagnosticReason
</span><a href="GHC.Types.Error.html#diagReason"><span class="hs-identifier hs-var">diagReason</span></a></span><span>
</span><span id="line-293"></span><span>  </span><span id="local-6989586621681620303"><span class="annot"><span class="annottext">diagnosticHints :: DiagnosticMessage -&gt; [GhcHint]
</span><a href="GHC.Types.Error.html#diagnosticHints"><span class="hs-identifier hs-var hs-var hs-var hs-var">diagnosticHints</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DiagnosticMessage -&gt; [GhcHint]
</span><a href="GHC.Types.Error.html#diagHints"><span class="hs-identifier hs-var">diagHints</span></a></span><span>
</span><span id="line-294"></span><span>  </span><span id="local-6989586621681620304"><span class="annot"><span class="annottext">diagnosticCode :: DiagnosticMessage -&gt; Maybe DiagnosticCode
</span><a href="GHC.Types.Error.html#diagnosticCode"><span class="hs-identifier hs-var hs-var hs-var hs-var">diagnosticCode</span></a></span></span><span> </span><span class="annot"><span class="annottext">DiagnosticMessage
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe DiagnosticCode
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="hs-comment">-- | Helper function to use when no hints can be provided. Currently this function</span><span>
</span><span id="line-297"></span><span class="hs-comment">-- can be used to construct plain 'DiagnosticMessage' and add hints to them, but</span><span>
</span><span id="line-298"></span><span class="hs-comment">-- once #18516 will be fully executed, the main usage of this function would be in</span><span>
</span><span id="line-299"></span><span class="hs-comment">-- the implementation of the 'diagnosticHints' typeclass method, to report the fact</span><span>
</span><span id="line-300"></span><span class="hs-comment">-- that a particular 'Diagnostic' has no hints.</span><span>
</span><span id="line-301"></span><span class="annot"><a href="GHC.Types.Error.html#noHints"><span class="hs-identifier hs-type">noHints</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Hint.html#GhcHint"><span class="hs-identifier hs-type">GhcHint</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-302"></span><span id="noHints"><span class="annot"><span class="annottext">noHints :: [GhcHint]
</span><a href="GHC.Types.Error.html#noHints"><span class="hs-identifier hs-var hs-var">noHints</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GhcHint]
forall a. Monoid a =&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#mempty/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="annot"><a href="GHC.Types.Error.html#mkPlainDiagnostic"><span class="hs-identifier hs-type">mkPlainDiagnostic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticReason"><span class="hs-identifier hs-type">DiagnosticReason</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Hint.html#GhcHint"><span class="hs-identifier hs-type">GhcHint</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticMessage"><span class="hs-identifier hs-type">DiagnosticMessage</span></a></span><span>
</span><span id="line-305"></span><span id="mkPlainDiagnostic"><span class="annot"><span class="annottext">mkPlainDiagnostic :: DiagnosticReason -&gt; [GhcHint] -&gt; SDoc -&gt; DiagnosticMessage
</span><a href="GHC.Types.Error.html#mkPlainDiagnostic"><span class="hs-identifier hs-var hs-var">mkPlainDiagnostic</span></a></span></span><span> </span><span id="local-6989586621681620305"><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="#local-6989586621681620305"><span class="hs-identifier hs-var">rea</span></a></span></span><span> </span><span id="local-6989586621681620306"><span class="annot"><span class="annottext">[GhcHint]
</span><a href="#local-6989586621681620306"><span class="hs-identifier hs-var">hints</span></a></span></span><span> </span><span id="local-6989586621681620307"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620307"><span class="hs-identifier hs-var">doc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DecoratedSDoc -&gt; DiagnosticReason -&gt; [GhcHint] -&gt; DiagnosticMessage
</span><a href="GHC.Types.Error.html#DiagnosticMessage"><span class="hs-identifier hs-var">DiagnosticMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkSimpleDecorated"><span class="hs-identifier hs-var">mkSimpleDecorated</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620307"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="#local-6989586621681620305"><span class="hs-identifier hs-var">rea</span></a></span><span> </span><span class="annot"><span class="annottext">[GhcHint]
</span><a href="#local-6989586621681620306"><span class="hs-identifier hs-var">hints</span></a></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="annot"><span class="hs-comment">-- | Create an error 'DiagnosticMessage' holding just a single 'SDoc'</span></span><span>
</span><span id="line-308"></span><span class="annot"><a href="GHC.Types.Error.html#mkPlainError"><span class="hs-identifier hs-type">mkPlainError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Hint.html#GhcHint"><span class="hs-identifier hs-type">GhcHint</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticMessage"><span class="hs-identifier hs-type">DiagnosticMessage</span></a></span><span>
</span><span id="line-309"></span><span id="mkPlainError"><span class="annot"><span class="annottext">mkPlainError :: [GhcHint] -&gt; SDoc -&gt; DiagnosticMessage
</span><a href="GHC.Types.Error.html#mkPlainError"><span class="hs-identifier hs-var hs-var">mkPlainError</span></a></span></span><span> </span><span id="local-6989586621681620308"><span class="annot"><span class="annottext">[GhcHint]
</span><a href="#local-6989586621681620308"><span class="hs-identifier hs-var">hints</span></a></span></span><span> </span><span id="local-6989586621681620309"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620309"><span class="hs-identifier hs-var">doc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DecoratedSDoc -&gt; DiagnosticReason -&gt; [GhcHint] -&gt; DiagnosticMessage
</span><a href="GHC.Types.Error.html#DiagnosticMessage"><span class="hs-identifier hs-var">DiagnosticMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkSimpleDecorated"><span class="hs-identifier hs-var">mkSimpleDecorated</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620309"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="GHC.Types.Error.html#ErrorWithoutFlag"><span class="hs-identifier hs-var">ErrorWithoutFlag</span></a></span><span> </span><span class="annot"><span class="annottext">[GhcHint]
</span><a href="#local-6989586621681620308"><span class="hs-identifier hs-var">hints</span></a></span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span class="annot"><span class="hs-comment">-- | Create a 'DiagnosticMessage' from a list of bulleted SDocs and a 'DiagnosticReason'</span></span><span>
</span><span id="line-312"></span><span class="annot"><a href="GHC.Types.Error.html#mkDecoratedDiagnostic"><span class="hs-identifier hs-type">mkDecoratedDiagnostic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticReason"><span class="hs-identifier hs-type">DiagnosticReason</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Hint.html#GhcHint"><span class="hs-identifier hs-type">GhcHint</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticMessage"><span class="hs-identifier hs-type">DiagnosticMessage</span></a></span><span>
</span><span id="line-313"></span><span id="mkDecoratedDiagnostic"><span class="annot"><span class="annottext">mkDecoratedDiagnostic :: DiagnosticReason -&gt; [GhcHint] -&gt; [SDoc] -&gt; DiagnosticMessage
</span><a href="GHC.Types.Error.html#mkDecoratedDiagnostic"><span class="hs-identifier hs-var hs-var">mkDecoratedDiagnostic</span></a></span></span><span> </span><span id="local-6989586621681620311"><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="#local-6989586621681620311"><span class="hs-identifier hs-var">rea</span></a></span></span><span> </span><span id="local-6989586621681620312"><span class="annot"><span class="annottext">[GhcHint]
</span><a href="#local-6989586621681620312"><span class="hs-identifier hs-var">hints</span></a></span></span><span> </span><span id="local-6989586621681620313"><span class="annot"><span class="annottext">[SDoc]
</span><a href="#local-6989586621681620313"><span class="hs-identifier hs-var">docs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DecoratedSDoc -&gt; DiagnosticReason -&gt; [GhcHint] -&gt; DiagnosticMessage
</span><a href="GHC.Types.Error.html#DiagnosticMessage"><span class="hs-identifier hs-var">DiagnosticMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkDecorated"><span class="hs-identifier hs-var">mkDecorated</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc]
</span><a href="#local-6989586621681620313"><span class="hs-identifier hs-var">docs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="#local-6989586621681620311"><span class="hs-identifier hs-var">rea</span></a></span><span> </span><span class="annot"><span class="annottext">[GhcHint]
</span><a href="#local-6989586621681620312"><span class="hs-identifier hs-var">hints</span></a></span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span class="annot"><span class="hs-comment">-- | Create an error 'DiagnosticMessage' from a list of bulleted SDocs</span></span><span>
</span><span id="line-316"></span><span class="annot"><a href="GHC.Types.Error.html#mkDecoratedError"><span class="hs-identifier hs-type">mkDecoratedError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Hint.html#GhcHint"><span class="hs-identifier hs-type">GhcHint</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticMessage"><span class="hs-identifier hs-type">DiagnosticMessage</span></a></span><span>
</span><span id="line-317"></span><span id="mkDecoratedError"><span class="annot"><span class="annottext">mkDecoratedError :: [GhcHint] -&gt; [SDoc] -&gt; DiagnosticMessage
</span><a href="GHC.Types.Error.html#mkDecoratedError"><span class="hs-identifier hs-var hs-var">mkDecoratedError</span></a></span></span><span> </span><span id="local-6989586621681620314"><span class="annot"><span class="annottext">[GhcHint]
</span><a href="#local-6989586621681620314"><span class="hs-identifier hs-var">hints</span></a></span></span><span> </span><span id="local-6989586621681620315"><span class="annot"><span class="annottext">[SDoc]
</span><a href="#local-6989586621681620315"><span class="hs-identifier hs-var">docs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DecoratedSDoc -&gt; DiagnosticReason -&gt; [GhcHint] -&gt; DiagnosticMessage
</span><a href="GHC.Types.Error.html#DiagnosticMessage"><span class="hs-identifier hs-var">DiagnosticMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkDecorated"><span class="hs-identifier hs-var">mkDecorated</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc]
</span><a href="#local-6989586621681620315"><span class="hs-identifier hs-var">docs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="GHC.Types.Error.html#ErrorWithoutFlag"><span class="hs-identifier hs-var">ErrorWithoutFlag</span></a></span><span> </span><span class="annot"><span class="annottext">[GhcHint]
</span><a href="#local-6989586621681620314"><span class="hs-identifier hs-var">hints</span></a></span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span class="hs-comment">-- | The reason /why/ a 'Diagnostic' was emitted in the first place.</span><span>
</span><span id="line-320"></span><span class="hs-comment">-- Diagnostic messages are born within GHC with a very precise reason, which</span><span>
</span><span id="line-321"></span><span class="hs-comment">-- can be completely statically-computed (i.e. this is an error or a warning</span><span>
</span><span id="line-322"></span><span class="hs-comment">-- no matter what), or influenced by the specific state of the 'DynFlags' at</span><span>
</span><span id="line-323"></span><span class="hs-comment">-- the moment of the creation of a new 'Diagnostic'. For example, a parsing</span><span>
</span><span id="line-324"></span><span class="hs-comment">-- error is /always/ going to be an error, whereas a 'WarningWithoutFlag</span><span>
</span><span id="line-325"></span><span class="hs-comment">-- Opt_WarnUnusedImports' might turn into an error due to '-Werror' or</span><span>
</span><span id="line-326"></span><span class="hs-comment">-- '-Werror=warn-unused-imports'. Interpreting a 'DiagnosticReason' together</span><span>
</span><span id="line-327"></span><span class="hs-comment">-- with its associated 'Severity' gives us the full picture.</span><span>
</span><span id="line-328"></span><span class="hs-keyword">data</span><span> </span><span id="DiagnosticReason"><span class="annot"><a href="GHC.Types.Error.html#DiagnosticReason"><span class="hs-identifier hs-var">DiagnosticReason</span></a></span></span><span>
</span><span id="line-329"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="WarningWithoutFlag"><span class="annot"><a href="GHC.Types.Error.html#WarningWithoutFlag"><span class="hs-identifier hs-var">WarningWithoutFlag</span></a></span></span><span>
</span><span id="line-330"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Born as a warning.</span></span><span>
</span><span id="line-331"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="WarningWithFlag"><span class="annot"><a href="GHC.Types.Error.html#WarningWithFlag"><span class="hs-identifier hs-var">WarningWithFlag</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Driver.Flags.html#WarningFlag"><span class="hs-identifier hs-type">WarningFlag</span></a></span><span>
</span><span id="line-332"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Warning was enabled with the flag.</span></span><span>
</span><span id="line-333"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ErrorWithoutFlag"><span class="annot"><a href="GHC.Types.Error.html#ErrorWithoutFlag"><span class="hs-identifier hs-var">ErrorWithoutFlag</span></a></span></span><span>
</span><span id="line-334"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Born as an error.</span></span><span>
</span><span id="line-335"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681620319"><span id="local-6989586621681620323"><span class="annot"><span class="annottext">DiagnosticReason -&gt; DiagnosticReason -&gt; Bool
(DiagnosticReason -&gt; DiagnosticReason -&gt; Bool)
-&gt; (DiagnosticReason -&gt; DiagnosticReason -&gt; Bool)
-&gt; Eq DiagnosticReason
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: DiagnosticReason -&gt; DiagnosticReason -&gt; Bool
== :: DiagnosticReason -&gt; DiagnosticReason -&gt; Bool
$c/= :: DiagnosticReason -&gt; DiagnosticReason -&gt; Bool
/= :: DiagnosticReason -&gt; DiagnosticReason -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681620328"><span id="local-6989586621681620333"><span id="local-6989586621681620337"><span class="annot"><span class="annottext">Int -&gt; DiagnosticReason -&gt; ShowS
[DiagnosticReason] -&gt; ShowS
DiagnosticReason -&gt; String
(Int -&gt; DiagnosticReason -&gt; ShowS)
-&gt; (DiagnosticReason -&gt; String)
-&gt; ([DiagnosticReason] -&gt; ShowS)
-&gt; Show DiagnosticReason
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; DiagnosticReason -&gt; ShowS
showsPrec :: Int -&gt; DiagnosticReason -&gt; ShowS
$cshow :: DiagnosticReason -&gt; String
show :: DiagnosticReason -&gt; String
$cshowList :: [DiagnosticReason] -&gt; ShowS
showList :: [DiagnosticReason] -&gt; ShowS
</span><a href="../../base-4.18.3.0/src/GHC.Show.html#Show/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticReason"><span class="hs-identifier hs-type">DiagnosticReason</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-338"></span><span>  </span><span id="local-6989586621681620345"><span class="annot"><span class="annottext">ppr :: DiagnosticReason -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-339"></span><span>    </span><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="GHC.Types.Error.html#WarningWithoutFlag"><span class="hs-identifier hs-var">WarningWithoutFlag</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;WarningWithoutFlag&quot;</span></span><span>
</span><span id="line-340"></span><span>    </span><span class="annot"><a href="GHC.Types.Error.html#WarningWithFlag"><span class="hs-identifier hs-type">WarningWithFlag</span></a></span><span> </span><span id="local-6989586621681620347"><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621681620347"><span class="hs-identifier hs-var">wf</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;WarningWithFlag &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.18.3.0/src/GHC.Show.html#show/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621681620347"><span class="hs-identifier hs-var">wf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>    </span><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="GHC.Types.Error.html#ErrorWithoutFlag"><span class="hs-identifier hs-var">ErrorWithoutFlag</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ErrorWithoutFlag&quot;</span></span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span class="hs-comment">-- | An envelope for GHC's facts about a running program, parameterised over the</span><span>
</span><span id="line-344"></span><span class="hs-comment">-- /domain-specific/ (i.e. parsing, typecheck-renaming, etc) diagnostics.</span><span>
</span><span id="line-345"></span><span class="hs-comment">--</span><span>
</span><span id="line-346"></span><span class="hs-comment">-- To say things differently, GHC emits /diagnostics/ about the running</span><span>
</span><span id="line-347"></span><span class="hs-comment">-- program, each of which is wrapped into a 'MsgEnvelope' that carries</span><span>
</span><span id="line-348"></span><span class="hs-comment">-- specific information like where the error happened, etc. Finally, multiple</span><span>
</span><span id="line-349"></span><span class="hs-comment">-- 'MsgEnvelope's are aggregated into 'Messages' that are returned to the</span><span>
</span><span id="line-350"></span><span class="hs-comment">-- user.</span><span>
</span><span id="line-351"></span><span class="hs-keyword">data</span><span> </span><span id="MsgEnvelope"><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-var">MsgEnvelope</span></a></span></span><span> </span><span id="local-6989586621681619761"><span class="annot"><a href="#local-6989586621681619761"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MsgEnvelope"><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-var">MsgEnvelope</span></a></span></span><span>
</span><span id="line-352"></span><span>   </span><span class="hs-special">{</span><span> </span><span id="errMsgSpan"><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; SrcSpan
</span><a href="GHC.Types.Error.html#errMsgSpan"><span class="hs-identifier hs-var hs-var">errMsgSpan</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-353"></span><span>      </span><span class="annot"><span class="hs-comment">-- ^ The SrcSpan is used for sorting errors into line-number order</span></span><span>
</span><span id="line-354"></span><span>   </span><span class="hs-special">,</span><span> </span><span id="errMsgContext"><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; NamePprCtx
</span><a href="GHC.Types.Error.html#errMsgContext"><span class="hs-identifier hs-var hs-var">errMsgContext</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#NamePprCtx"><span class="hs-identifier hs-type">NamePprCtx</span></a></span><span>
</span><span id="line-355"></span><span>   </span><span class="hs-special">,</span><span> </span><span id="errMsgDiagnostic"><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; e
</span><a href="GHC.Types.Error.html#errMsgDiagnostic"><span class="hs-identifier hs-var hs-var">errMsgDiagnostic</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621681619761"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-356"></span><span>   </span><span class="hs-special">,</span><span> </span><span id="errMsgSeverity"><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; Severity
</span><a href="GHC.Types.Error.html#errMsgSeverity"><span class="hs-identifier hs-var hs-var">errMsgSeverity</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span>
</span><span id="line-357"></span><span>   </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681620353"><span id="local-6989586621681620355"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; MsgEnvelope a -&gt; MsgEnvelope b)
-&gt; (forall a b. a -&gt; MsgEnvelope b -&gt; MsgEnvelope a)
-&gt; Functor MsgEnvelope
forall a b. a -&gt; MsgEnvelope b -&gt; MsgEnvelope a
forall a b. (a -&gt; b) -&gt; MsgEnvelope a -&gt; MsgEnvelope b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; MsgEnvelope a -&gt; MsgEnvelope b
fmap :: forall a b. (a -&gt; b) -&gt; MsgEnvelope a -&gt; MsgEnvelope b
$c&lt;$ :: forall a b. a -&gt; MsgEnvelope b -&gt; MsgEnvelope a
&lt;$ :: forall a b. a -&gt; MsgEnvelope b -&gt; MsgEnvelope a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#Functor/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681620357"><span id="local-6989586621681620362"><span id="local-6989586621681620365"><span id="local-6989586621681620370"><span id="local-6989586621681620372"><span id="local-6989586621681620375"><span id="local-6989586621681620378"><span id="local-6989586621681620381"><span id="local-6989586621681620384"><span id="local-6989586621681620387"><span id="local-6989586621681620390"><span id="local-6989586621681620392"><span id="local-6989586621681620395"><span id="local-6989586621681620400"><span id="local-6989586621681620405"><span id="local-6989586621681620410"><span id="local-6989586621681620415"><span class="annot"><span class="annottext">(forall m. Monoid m =&gt; MsgEnvelope m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MsgEnvelope a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MsgEnvelope a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MsgEnvelope a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MsgEnvelope a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MsgEnvelope a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MsgEnvelope a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; MsgEnvelope a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; MsgEnvelope a -&gt; a)
-&gt; (forall a. MsgEnvelope a -&gt; [a])
-&gt; (forall e. MsgEnvelope e -&gt; Bool)
-&gt; (forall a. MsgEnvelope a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; MsgEnvelope a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; MsgEnvelope a -&gt; a)
-&gt; (forall a. Ord a =&gt; MsgEnvelope a -&gt; a)
-&gt; (forall a. Num a =&gt; MsgEnvelope a -&gt; a)
-&gt; (forall a. Num a =&gt; MsgEnvelope a -&gt; a)
-&gt; Foldable MsgEnvelope
forall a. Eq a =&gt; a -&gt; MsgEnvelope a -&gt; Bool
forall a. Num a =&gt; MsgEnvelope a -&gt; a
forall a. Ord a =&gt; MsgEnvelope a -&gt; a
forall m. Monoid m =&gt; MsgEnvelope m -&gt; m
forall e. MsgEnvelope e -&gt; Bool
forall a. MsgEnvelope a -&gt; Int
forall a. MsgEnvelope a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; MsgEnvelope a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MsgEnvelope a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MsgEnvelope a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MsgEnvelope a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
$cfold :: forall m. Monoid m =&gt; MsgEnvelope m -&gt; m
fold :: forall m. Monoid m =&gt; MsgEnvelope m -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MsgEnvelope a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MsgEnvelope a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MsgEnvelope a -&gt; m
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MsgEnvelope a -&gt; m
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MsgEnvelope a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MsgEnvelope a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MsgEnvelope a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MsgEnvelope a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MsgEnvelope a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MsgEnvelope a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MsgEnvelope a -&gt; b
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MsgEnvelope a -&gt; b
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; MsgEnvelope a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; MsgEnvelope a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; MsgEnvelope a -&gt; a
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; MsgEnvelope a -&gt; a
$ctoList :: forall a. MsgEnvelope a -&gt; [a]
toList :: forall a. MsgEnvelope a -&gt; [a]
$cnull :: forall e. MsgEnvelope e -&gt; Bool
null :: forall e. MsgEnvelope e -&gt; Bool
$clength :: forall a. MsgEnvelope a -&gt; Int
length :: forall a. MsgEnvelope a -&gt; Int
$celem :: forall a. Eq a =&gt; a -&gt; MsgEnvelope a -&gt; Bool
elem :: forall a. Eq a =&gt; a -&gt; MsgEnvelope a -&gt; Bool
$cmaximum :: forall a. Ord a =&gt; MsgEnvelope a -&gt; a
maximum :: forall a. Ord a =&gt; MsgEnvelope a -&gt; a
$cminimum :: forall a. Ord a =&gt; MsgEnvelope a -&gt; a
minimum :: forall a. Ord a =&gt; MsgEnvelope a -&gt; a
$csum :: forall a. Num a =&gt; MsgEnvelope a -&gt; a
sum :: forall a. Num a =&gt; MsgEnvelope a -&gt; a
$cproduct :: forall a. Num a =&gt; MsgEnvelope a -&gt; a
product :: forall a. Num a =&gt; MsgEnvelope a -&gt; a
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#Foldable/Data.Foldable.html#Foldable"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681620424"><span id="local-6989586621681620429"><span id="local-6989586621681620434"><span id="local-6989586621681620439"><span class="annot"><span class="annottext">Functor MsgEnvelope
Foldable MsgEnvelope
(Functor MsgEnvelope, Foldable MsgEnvelope) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; MsgEnvelope a -&gt; f (MsgEnvelope b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    MsgEnvelope (f a) -&gt; f (MsgEnvelope a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; MsgEnvelope a -&gt; m (MsgEnvelope b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    MsgEnvelope (m a) -&gt; m (MsgEnvelope a))
-&gt; Traversable MsgEnvelope
forall (t :: * -&gt; *).
(Functor t, Foldable t) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a.
Monad m =&gt;
MsgEnvelope (m a) -&gt; m (MsgEnvelope a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
MsgEnvelope (f a) -&gt; f (MsgEnvelope a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; MsgEnvelope a -&gt; m (MsgEnvelope b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; MsgEnvelope a -&gt; f (MsgEnvelope b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; MsgEnvelope a -&gt; f (MsgEnvelope b)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; MsgEnvelope a -&gt; f (MsgEnvelope b)
$csequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
MsgEnvelope (f a) -&gt; f (MsgEnvelope a)
sequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
MsgEnvelope (f a) -&gt; f (MsgEnvelope a)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; MsgEnvelope a -&gt; m (MsgEnvelope b)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; MsgEnvelope a -&gt; m (MsgEnvelope b)
$csequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
MsgEnvelope (m a) -&gt; m (MsgEnvelope a)
sequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
MsgEnvelope (m a) -&gt; m (MsgEnvelope a)
</span><a href="../../base-4.18.3.0/src/Data.Traversable.html#Traversable/Data.Traversable.html#Traversable"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="hs-comment">-- | The class for a diagnostic message. The main purpose is to classify a</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- message within GHC, to distinguish it from a debug/dump message vs a proper</span><span>
</span><span id="line-361"></span><span class="hs-comment">-- diagnostic, for which we include a 'DiagnosticReason'.</span><span>
</span><span id="line-362"></span><span class="hs-keyword">data</span><span> </span><span id="MessageClass"><span class="annot"><a href="GHC.Types.Error.html#MessageClass"><span class="hs-identifier hs-var">MessageClass</span></a></span></span><span>
</span><span id="line-363"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="MCOutput"><span class="annot"><a href="GHC.Types.Error.html#MCOutput"><span class="hs-identifier hs-var">MCOutput</span></a></span></span><span>
</span><span id="line-364"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="MCFatal"><span class="annot"><a href="GHC.Types.Error.html#MCFatal"><span class="hs-identifier hs-var">MCFatal</span></a></span></span><span>
</span><span id="line-365"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="MCInteractive"><span class="annot"><a href="GHC.Types.Error.html#MCInteractive"><span class="hs-identifier hs-var">MCInteractive</span></a></span></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="MCDump"><span class="annot"><a href="GHC.Types.Error.html#MCDump"><span class="hs-identifier hs-var">MCDump</span></a></span></span><span>
</span><span id="line-368"></span><span>    </span><span class="hs-comment">-- ^ Log message intended for compiler developers</span><span>
</span><span id="line-369"></span><span>    </span><span class="hs-comment">-- No file\/line\/column stuff</span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="MCInfo"><span class="annot"><a href="GHC.Types.Error.html#MCInfo"><span class="hs-identifier hs-var">MCInfo</span></a></span></span><span>
</span><span id="line-372"></span><span>    </span><span class="hs-comment">-- ^ Log messages intended for end users.</span><span>
</span><span id="line-373"></span><span>    </span><span class="hs-comment">-- No file\/line\/column stuff.</span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="MCDiagnostic"><span class="annot"><a href="GHC.Types.Error.html#MCDiagnostic"><span class="hs-identifier hs-var">MCDiagnostic</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticReason"><span class="hs-identifier hs-type">DiagnosticReason</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticCode"><span class="hs-identifier hs-type">DiagnosticCode</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>    </span><span class="hs-comment">-- ^ Diagnostics from the compiler. This constructor is very powerful as</span><span>
</span><span id="line-377"></span><span>    </span><span class="hs-comment">-- it allows the construction of a 'MessageClass' with a completely</span><span>
</span><span id="line-378"></span><span>    </span><span class="hs-comment">-- arbitrary permutation of 'Severity' and 'DiagnosticReason'. As such,</span><span>
</span><span id="line-379"></span><span>    </span><span class="hs-comment">-- users are encouraged to use the 'mkMCDiagnostic' smart constructor</span><span>
</span><span id="line-380"></span><span>    </span><span class="hs-comment">-- instead. Use this constructor directly only if you need to construct</span><span>
</span><span id="line-381"></span><span>    </span><span class="hs-comment">-- and manipulate diagnostic messages directly, for example inside</span><span>
</span><span id="line-382"></span><span>    </span><span class="hs-comment">-- 'GHC.Utils.Error'. In all the other circumstances, /especially/ when</span><span>
</span><span id="line-383"></span><span>    </span><span class="hs-comment">-- emitting compiler diagnostics, use the smart constructor.</span><span>
</span><span id="line-384"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-385"></span><span>    </span><span class="hs-comment">-- The @Maybe 'DiagnosticCode'@ field carries a code (if available) for</span><span>
</span><span id="line-386"></span><span>    </span><span class="hs-comment">-- this diagnostic. If you are creating a message not tied to any</span><span>
</span><span id="line-387"></span><span>    </span><span class="hs-comment">-- error-message type, then use Nothing. In the long run, this really</span><span>
</span><span id="line-388"></span><span>    </span><span class="hs-comment">-- should always have a 'DiagnosticCode'. See Note [Diagnostic codes].</span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span class="hs-comment">{-
Note [Suppressing Messages]
~~~~~~~~~~~~~~~~~~~~~~~~~~~
The 'SevIgnore' constructor is used to generate messages for diagnostics which
are meant to be suppressed and not reported to the user: the classic example
are warnings for which the user didn't enable the corresponding 'WarningFlag',
so GHC shouldn't print them.

A different approach would be to extend the zoo of 'mkMsgEnvelope' functions
to return a 'Maybe (MsgEnvelope e)', so that we won't need to even create the
message to begin with. Both approaches have been evaluated, but we settled on
the &quot;SevIgnore one&quot; for a number of reasons:

* It's less invasive to deal with;
* It plays slightly better with deferred diagnostics (see 'GHC.Tc.Errors') as
  for those we need to be able to /always/ produce a message (so that is
  reported at runtime);
* It gives us more freedom: we can still decide to drop a 'SevIgnore' message
  at leisure, or we can decide to keep it around until the last moment. Maybe
  in the future we would need to turn a 'SevIgnore' into something else, for
  example to &quot;unsuppress&quot; diagnostics if a flag is set: with this approach, we
  have more leeway to accommodate new features.

-}</span><span>
</span><span id="line-414"></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="hs-comment">-- | Used to describe warnings and errors</span><span>
</span><span id="line-417"></span><span class="hs-comment">--   o The message has a file\/line\/column heading,</span><span>
</span><span id="line-418"></span><span class="hs-comment">--     plus &quot;warning:&quot; or &quot;error:&quot;,</span><span>
</span><span id="line-419"></span><span class="hs-comment">--     added by mkLocMessage</span><span>
</span><span id="line-420"></span><span class="hs-comment">--   o With 'SevIgnore' the message is suppressed</span><span>
</span><span id="line-421"></span><span class="hs-comment">--   o Output is intended for end users</span><span>
</span><span id="line-422"></span><span class="hs-keyword">data</span><span> </span><span id="Severity"><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier hs-var">Severity</span></a></span></span><span>
</span><span id="line-423"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SevIgnore"><span class="annot"><a href="GHC.Types.Error.html#SevIgnore"><span class="hs-identifier hs-var">SevIgnore</span></a></span></span><span>
</span><span id="line-424"></span><span>  </span><span class="hs-comment">-- ^ Ignore this message, for example in</span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-comment">-- case of suppression of warnings users</span><span>
</span><span id="line-426"></span><span>  </span><span class="hs-comment">-- don't want to see. See Note [Suppressing Messages]</span><span>
</span><span id="line-427"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SevWarning"><span class="annot"><a href="GHC.Types.Error.html#SevWarning"><span class="hs-identifier hs-var">SevWarning</span></a></span></span><span>
</span><span id="line-428"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SevError"><span class="annot"><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span></span><span>
</span><span id="line-429"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681620453"><span id="local-6989586621681620455"><span class="annot"><span class="annottext">Severity -&gt; Severity -&gt; Bool
(Severity -&gt; Severity -&gt; Bool)
-&gt; (Severity -&gt; Severity -&gt; Bool) -&gt; Eq Severity
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Severity -&gt; Severity -&gt; Bool
== :: Severity -&gt; Severity -&gt; Bool
$c/= :: Severity -&gt; Severity -&gt; Bool
/= :: Severity -&gt; Severity -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681620458"><span id="local-6989586621681620460"><span id="local-6989586621681620464"><span class="annot"><span class="annottext">Int -&gt; Severity -&gt; ShowS
[Severity] -&gt; ShowS
Severity -&gt; String
(Int -&gt; Severity -&gt; ShowS)
-&gt; (Severity -&gt; String) -&gt; ([Severity] -&gt; ShowS) -&gt; Show Severity
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Severity -&gt; ShowS
showsPrec :: Int -&gt; Severity -&gt; ShowS
$cshow :: Severity -&gt; String
show :: Severity -&gt; String
$cshowList :: [Severity] -&gt; ShowS
showList :: [Severity] -&gt; ShowS
</span><a href="../../base-4.18.3.0/src/GHC.Show.html#Show/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-432"></span><span>  </span><span id="local-6989586621681620471"><span class="annot"><span class="annottext">ppr :: Severity -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-433"></span><span>    </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevIgnore"><span class="hs-identifier hs-var">SevIgnore</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SevIgnore&quot;</span></span><span>
</span><span id="line-434"></span><span>    </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevWarning"><span class="hs-identifier hs-var">SevWarning</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SevWarning&quot;</span></span><span>
</span><span id="line-435"></span><span>    </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SevError&quot;</span></span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Json.html#ToJson"><span class="hs-identifier hs-type">ToJson</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-438"></span><span>  </span><span id="local-6989586621681620476"><span class="annot"><span class="annottext">json :: Severity -&gt; JsonDoc
</span><a href="#local-6989586621681620476"><span class="hs-identifier hs-var hs-var hs-var hs-var">json</span></a></span></span><span> </span><span id="local-6989586621681620478"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681620478"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; JsonDoc
</span><a href="GHC.Utils.Json.html#JSString"><span class="hs-identifier hs-var">JSString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Severity -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.18.3.0/src/GHC.Show.html#show/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681620478"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Json.html#ToJson"><span class="hs-identifier hs-type">ToJson</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MessageClass"><span class="hs-identifier hs-type">MessageClass</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-441"></span><span>  </span><span id="local-6989586621681620491"><span class="annot"><span class="annottext">json :: MessageClass -&gt; JsonDoc
</span><a href="GHC.Utils.Json.html#json"><span class="hs-identifier hs-var hs-var hs-var hs-var">json</span></a></span></span><span> </span><span class="annot"><span class="annottext">MessageClass
</span><a href="GHC.Types.Error.html#MCOutput"><span class="hs-identifier hs-var">MCOutput</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; JsonDoc
</span><a href="GHC.Utils.Json.html#JSString"><span class="hs-identifier hs-var">JSString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;MCOutput&quot;</span></span><span>
</span><span id="line-442"></span><span>  </span><span class="annot"><a href="GHC.Utils.Json.html#json"><span class="hs-identifier hs-var">json</span></a></span><span> </span><span class="annot"><span class="annottext">MessageClass
</span><a href="GHC.Types.Error.html#MCFatal"><span class="hs-identifier hs-var">MCFatal</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; JsonDoc
</span><a href="GHC.Utils.Json.html#JSString"><span class="hs-identifier hs-var">JSString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;MCFatal&quot;</span></span><span>
</span><span id="line-443"></span><span>  </span><span class="annot"><a href="GHC.Utils.Json.html#json"><span class="hs-identifier hs-var">json</span></a></span><span> </span><span class="annot"><span class="annottext">MessageClass
</span><a href="GHC.Types.Error.html#MCInteractive"><span class="hs-identifier hs-var">MCInteractive</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; JsonDoc
</span><a href="GHC.Utils.Json.html#JSString"><span class="hs-identifier hs-var">JSString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;MCInteractive&quot;</span></span><span>
</span><span id="line-444"></span><span>  </span><span class="annot"><a href="GHC.Utils.Json.html#json"><span class="hs-identifier hs-var">json</span></a></span><span> </span><span class="annot"><span class="annottext">MessageClass
</span><a href="GHC.Types.Error.html#MCDump"><span class="hs-identifier hs-var">MCDump</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; JsonDoc
</span><a href="GHC.Utils.Json.html#JSString"><span class="hs-identifier hs-var">JSString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;MCDump&quot;</span></span><span>
</span><span id="line-445"></span><span>  </span><span class="annot"><a href="GHC.Utils.Json.html#json"><span class="hs-identifier hs-var">json</span></a></span><span> </span><span class="annot"><span class="annottext">MessageClass
</span><a href="GHC.Types.Error.html#MCInfo"><span class="hs-identifier hs-var">MCInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; JsonDoc
</span><a href="GHC.Utils.Json.html#JSString"><span class="hs-identifier hs-var">JSString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;MCInfo&quot;</span></span><span>
</span><span id="line-446"></span><span>  </span><span class="annot"><a href="GHC.Utils.Json.html#json"><span class="hs-identifier hs-var">json</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MCDiagnostic"><span class="hs-identifier hs-type">MCDiagnostic</span></a></span><span> </span><span id="local-6989586621681620492"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681620492"><span class="hs-identifier hs-var">sev</span></a></span></span><span> </span><span id="local-6989586621681620493"><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="#local-6989586621681620493"><span class="hs-identifier hs-var">reason</span></a></span></span><span> </span><span id="local-6989586621681620494"><span class="annot"><span class="annottext">Maybe DiagnosticCode
</span><a href="#local-6989586621681620494"><span class="hs-identifier hs-var">code</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-447"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; JsonDoc
</span><a href="GHC.Utils.Json.html#JSString"><span class="hs-identifier hs-var">JSString</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; JsonDoc) -&gt; String -&gt; JsonDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext -&gt; SDoc -&gt; String
</span><a href="GHC.Utils.Outputable.html#renderWithContext"><span class="hs-identifier hs-var">renderWithContext</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext
</span><a href="GHC.Utils.Outputable.html#defaultSDocContext"><span class="hs-identifier hs-var">defaultSDocContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; SDoc -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;MCDiagnostic&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Severity -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681620492"><span class="hs-identifier hs-var">sev</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">DiagnosticReason -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="#local-6989586621681620493"><span class="hs-identifier hs-var">reason</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe DiagnosticCode -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe DiagnosticCode
</span><a href="#local-6989586621681620494"><span class="hs-identifier hs-var">code</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681620499"><span id="local-6989586621681620504"><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Show.html#Show/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticMessage"><span class="hs-identifier hs-type">DiagnosticMessage</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-450"></span><span>    </span><span id="local-6989586621681620507"><span class="annot"><span class="annottext">show :: MsgEnvelope DiagnosticMessage -&gt; String
</span><a href="../../base-4.18.3.0/src/GHC.Show.html#show/GHC.Show.html#show"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope DiagnosticMessage -&gt; String
forall a. Diagnostic a =&gt; MsgEnvelope a -&gt; String
</span><a href="GHC.Types.Error.html#showMsgEnvelope"><span class="hs-identifier hs-var">showMsgEnvelope</span></a></span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="annot"><span class="hs-comment">-- | Shows an 'MsgEnvelope'. Only use this for debugging.</span></span><span>
</span><span id="line-453"></span><span class="annot"><a href="GHC.Types.Error.html#showMsgEnvelope"><span class="hs-identifier hs-type">showMsgEnvelope</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681619829"><span class="annot"><a href="#local-6989586621681619829"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Diagnostic"><span class="hs-identifier hs-type">Diagnostic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619829"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619829"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-454"></span><span id="showMsgEnvelope"><span class="annot"><span class="annottext">showMsgEnvelope :: forall a. Diagnostic a =&gt; MsgEnvelope a -&gt; String
</span><a href="GHC.Types.Error.html#showMsgEnvelope"><span class="hs-identifier hs-var hs-var">showMsgEnvelope</span></a></span></span><span> </span><span id="local-6989586621681620513"><span class="annot"><span class="annottext">MsgEnvelope a
</span><a href="#local-6989586621681620513"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-455"></span><span>  </span><span class="annot"><span class="annottext">SDocContext -&gt; SDoc -&gt; String
</span><a href="GHC.Utils.Outputable.html#renderWithContext"><span class="hs-identifier hs-var">renderWithContext</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext
</span><a href="GHC.Utils.Outputable.html#defaultSDocContext"><span class="hs-identifier hs-var">defaultSDocContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DecoratedSDoc -&gt; [SDoc]
</span><a href="GHC.Types.Error.html#unDecorated"><span class="hs-identifier hs-var">unDecorated</span></a></span><span> </span><span class="annot"><span class="annottext">(DecoratedSDoc -&gt; [SDoc]) -&gt; (a -&gt; DecoratedSDoc) -&gt; a -&gt; [SDoc]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DiagnosticOpts a -&gt; a -&gt; DecoratedSDoc
forall a. Diagnostic a =&gt; DiagnosticOpts a -&gt; a -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#diagnosticMessage"><span class="hs-identifier hs-var">diagnosticMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Diagnostic a =&gt; DiagnosticOpts a
</span><a href="GHC.Types.Error.html#defaultDiagnosticOpts"><span class="hs-identifier hs-var">defaultDiagnosticOpts</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681619829"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; [SDoc]) -&gt; a -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope a -&gt; a
forall e. MsgEnvelope e -&gt; e
</span><a href="GHC.Types.Error.html#errMsgDiagnostic"><span class="hs-identifier hs-var">errMsgDiagnostic</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope a
</span><a href="#local-6989586621681620513"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span class="annot"><a href="GHC.Types.Error.html#pprMessageBag"><span class="hs-identifier hs-type">pprMessageBag</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-458"></span><span id="pprMessageBag"><span class="annot"><span class="annottext">pprMessageBag :: Bag SDoc -&gt; SDoc
</span><a href="GHC.Types.Error.html#pprMessageBag"><span class="hs-identifier hs-var hs-var">pprMessageBag</span></a></span></span><span> </span><span id="local-6989586621681620514"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681620514"><span class="hs-identifier hs-var">msgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; [SDoc] -&gt; [SDoc]
forall doc. IsLine doc =&gt; doc -&gt; [doc] -&gt; [doc]
</span><a href="GHC.Utils.Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#blankLine"><span class="hs-identifier hs-var">blankLine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bag SDoc -&gt; [SDoc]
forall a. Bag a -&gt; [a]
</span><a href="GHC.Data.Bag.html#bagToList"><span class="hs-identifier hs-var">bagToList</span></a></span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681620514"><span class="hs-identifier hs-var">msgs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span class="annot"><a href="GHC.Types.Error.html#mkLocMessage"><span class="hs-identifier hs-type">mkLocMessage</span></a></span><span>
</span><span id="line-461"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MessageClass"><span class="hs-identifier hs-type">MessageClass</span></a></span><span>                       </span><span class="annot"><span class="hs-comment">-- ^ What kind of message?</span></span><span>
</span><span id="line-462"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>                            </span><span class="annot"><span class="hs-comment">-- ^ location</span></span><span>
</span><span id="line-463"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>                               </span><span class="annot"><span class="hs-comment">-- ^ message</span></span><span>
</span><span id="line-464"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-465"></span><span id="mkLocMessage"><span class="annot"><span class="annottext">mkLocMessage :: MessageClass -&gt; SrcSpan -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Types.Error.html#mkLocMessage"><span class="hs-identifier hs-var hs-var">mkLocMessage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; MessageClass -&gt; SrcSpan -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Types.Error.html#mkLocMessageWarningGroups"><span class="hs-identifier hs-var">mkLocMessageWarningGroups</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-466"></span><span>
</span><span id="line-467"></span><span class="hs-comment">-- | Make an error message with location info, specifying whether to show</span><span>
</span><span id="line-468"></span><span class="hs-comment">-- warning groups (if applicable).</span><span>
</span><span id="line-469"></span><span class="annot"><a href="GHC.Types.Error.html#mkLocMessageWarningGroups"><span class="hs-identifier hs-type">mkLocMessageWarningGroups</span></a></span><span>
</span><span id="line-470"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>                               </span><span class="annot"><span class="hs-comment">-- ^ Print warning groups (if applicable)?</span></span><span>
</span><span id="line-471"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MessageClass"><span class="hs-identifier hs-type">MessageClass</span></a></span><span>                       </span><span class="annot"><span class="hs-comment">-- ^ What kind of message?</span></span><span>
</span><span id="line-472"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>                            </span><span class="annot"><span class="hs-comment">-- ^ location</span></span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>                               </span><span class="annot"><span class="hs-comment">-- ^ message</span></span><span>
</span><span id="line-474"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-475"></span><span>  </span><span class="hs-comment">-- Always print the location, even if it is unhelpful.  Error messages</span><span>
</span><span id="line-476"></span><span>  </span><span class="hs-comment">-- are supposed to be in a standard format, and one without a location</span><span>
</span><span id="line-477"></span><span>  </span><span class="hs-comment">-- would look strange.  Better to say explicitly &quot;&lt;no location info&gt;&quot;.</span><span>
</span><span id="line-478"></span><span id="mkLocMessageWarningGroups"><span class="annot"><span class="annottext">mkLocMessageWarningGroups :: Bool -&gt; MessageClass -&gt; SrcSpan -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Types.Error.html#mkLocMessageWarningGroups"><span class="hs-identifier hs-var hs-var">mkLocMessageWarningGroups</span></a></span></span><span> </span><span id="local-6989586621681620517"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681620517"><span class="hs-identifier hs-var">show_warn_groups</span></a></span></span><span> </span><span id="local-6989586621681620518"><span class="annot"><span class="annottext">MessageClass
</span><a href="#local-6989586621681620518"><span class="hs-identifier hs-var">msg_class</span></a></span></span><span> </span><span id="local-6989586621681620519"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681620519"><span class="hs-identifier hs-var">locn</span></a></span></span><span> </span><span id="local-6989586621681620520"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620520"><span class="hs-identifier hs-var">msg</span></a></span></span><span>
</span><span id="line-479"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SDocContext -&gt; Scheme) -&gt; (Scheme -&gt; SDoc) -&gt; SDoc
forall a. (SDocContext -&gt; a) -&gt; (a -&gt; SDoc) -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#sdocOption"><span class="hs-identifier hs-var">sdocOption</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext -&gt; Scheme
</span><a href="GHC.Utils.Outputable.html#sdocColScheme"><span class="hs-identifier hs-var">sdocColScheme</span></a></span><span> </span><span class="annot"><span class="annottext">((Scheme -&gt; SDoc) -&gt; SDoc) -&gt; (Scheme -&gt; SDoc) -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681620523"><span class="annot"><span class="annottext">Scheme
</span><a href="#local-6989586621681620523"><span class="hs-identifier hs-var">col_scheme</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-480"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681620524"><span class="annot"><span class="annottext">locn' :: SDoc
</span><a href="#local-6989586621681620524"><span class="hs-identifier hs-var hs-var">locn'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SDocContext -&gt; Bool) -&gt; (Bool -&gt; SDoc) -&gt; SDoc
forall a. (SDocContext -&gt; a) -&gt; (a -&gt; SDoc) -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#sdocOption"><span class="hs-identifier hs-var">sdocOption</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext -&gt; Bool
</span><a href="GHC.Utils.Outputable.html#sdocErrorSpans"><span class="hs-identifier hs-var">sdocErrorSpans</span></a></span><span> </span><span class="annot"><span class="annottext">((Bool -&gt; SDoc) -&gt; SDoc) -&gt; (Bool -&gt; SDoc) -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-481"></span><span>                     </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681620519"><span class="hs-identifier hs-var">locn</span></a></span><span>
</span><span id="line-482"></span><span>                     </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcLoc -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcLoc
</span><a href="GHC.Types.SrcLoc.html#srcSpanStart"><span class="hs-identifier hs-var">srcSpanStart</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681620519"><span class="hs-identifier hs-var">locn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-483"></span><span>
</span><span id="line-484"></span><span>          </span><span id="local-6989586621681620527"><span class="annot"><span class="annottext">msg_colour :: PprColour
</span><a href="#local-6989586621681620527"><span class="hs-identifier hs-var hs-var">msg_colour</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MessageClass -&gt; Scheme -&gt; PprColour
</span><a href="GHC.Types.Error.html#getMessageClassColour"><span class="hs-identifier hs-var">getMessageClassColour</span></a></span><span> </span><span class="annot"><span class="annottext">MessageClass
</span><a href="#local-6989586621681620518"><span class="hs-identifier hs-var">msg_class</span></a></span><span> </span><span class="annot"><span class="annottext">Scheme
</span><a href="#local-6989586621681620523"><span class="hs-identifier hs-var">col_scheme</span></a></span><span>
</span><span id="line-485"></span><span>          </span><span id="local-6989586621681620529"><span class="annot"><span class="annottext">col :: String -&gt; SDoc
</span><a href="#local-6989586621681620529"><span class="hs-identifier hs-var hs-var">col</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681620527"><span class="hs-identifier hs-var">msg_colour</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; (String -&gt; SDoc) -&gt; String -&gt; SDoc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span>
</span><span id="line-486"></span><span>
</span><span id="line-487"></span><span>          </span><span id="local-6989586621681620531"><span class="annot"><span class="annottext">msg_title :: SDoc
</span><a href="#local-6989586621681620531"><span class="hs-identifier hs-var hs-var">msg_title</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681620527"><span class="hs-identifier hs-var">msg_colour</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; SDoc -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-488"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">MessageClass
</span><a href="#local-6989586621681620518"><span class="hs-identifier hs-var">msg_class</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-489"></span><span>              </span><span class="annot"><a href="GHC.Types.Error.html#MCDiagnostic"><span class="hs-identifier hs-type">MCDiagnostic</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span><span>   </span><span class="annot"><span class="annottext">DiagnosticReason
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe DiagnosticCode
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;error&quot;</span></span><span>
</span><span id="line-490"></span><span>              </span><span class="annot"><a href="GHC.Types.Error.html#MCDiagnostic"><span class="hs-identifier hs-type">MCDiagnostic</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevWarning"><span class="hs-identifier hs-var">SevWarning</span></a></span><span> </span><span class="annot"><span class="annottext">DiagnosticReason
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe DiagnosticCode
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;warning&quot;</span></span><span>
</span><span id="line-491"></span><span>              </span><span class="annot"><span class="annottext">MessageClass
</span><a href="GHC.Types.Error.html#MCFatal"><span class="hs-identifier hs-var">MCFatal</span></a></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fatal&quot;</span></span><span>
</span><span id="line-492"></span><span>              </span><span class="annot"><span class="annottext">MessageClass
</span><span class="hs-identifier">_</span></span><span>                           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-493"></span><span>
</span><span id="line-494"></span><span>          </span><span id="local-6989586621681620533"><span class="annot"><span class="annottext">warning_flag_doc :: SDoc
</span><a href="#local-6989586621681620533"><span class="hs-identifier hs-var hs-var">warning_flag_doc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-495"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">MessageClass
</span><a href="#local-6989586621681620518"><span class="hs-identifier hs-var">msg_class</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-496"></span><span>              </span><span class="annot"><a href="GHC.Types.Error.html#MCDiagnostic"><span class="hs-identifier hs-type">MCDiagnostic</span></a></span><span> </span><span id="local-6989586621681620534"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681620534"><span class="hs-identifier hs-var">sev</span></a></span></span><span> </span><span id="local-6989586621681620535"><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="#local-6989586621681620535"><span class="hs-identifier hs-var">reason</span></a></span></span><span> </span><span id="local-6989586621681620536"><span class="annot"><span class="annottext">Maybe DiagnosticCode
</span><a href="#local-6989586621681620536"><span class="hs-identifier hs-var">_code</span></a></span></span><span>
</span><span id="line-497"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681620537"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620537"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Severity -&gt; DiagnosticReason -&gt; Maybe SDoc
</span><a href="#local-6989586621681620538"><span class="hs-identifier hs-var">flag_msg</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681620534"><span class="hs-identifier hs-var">sev</span></a></span><span> </span><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="#local-6989586621681620535"><span class="hs-identifier hs-var">reason</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620537"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-498"></span><span>              </span><span class="annot"><span class="annottext">MessageClass
</span><span class="hs-identifier">_</span></span><span>                                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-499"></span><span>
</span><span id="line-500"></span><span>          </span><span id="local-6989586621681620540"><span class="annot"><span class="annottext">code_doc :: SDoc
</span><a href="#local-6989586621681620540"><span class="hs-identifier hs-var hs-var">code_doc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-501"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">MessageClass
</span><a href="#local-6989586621681620518"><span class="hs-identifier hs-var">msg_class</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-502"></span><span>              </span><span class="annot"><a href="GHC.Types.Error.html#MCDiagnostic"><span class="hs-identifier hs-type">MCDiagnostic</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">DiagnosticReason
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681620541"><span class="annot"><span class="annottext">DiagnosticCode
</span><a href="#local-6989586621681620541"><span class="hs-identifier hs-var">code</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681620527"><span class="hs-identifier hs-var">msg_colour</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; SDoc -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DiagnosticCode -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">DiagnosticCode
</span><a href="#local-6989586621681620541"><span class="hs-identifier hs-var">code</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-503"></span><span>              </span><span class="annot"><span class="annottext">MessageClass
</span><span class="hs-identifier">_</span></span><span>                            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-504"></span><span>
</span><span id="line-505"></span><span>          </span><span class="annot"><a href="#local-6989586621681620538"><span class="hs-identifier hs-type">flag_msg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticReason"><span class="hs-identifier hs-type">DiagnosticReason</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-506"></span><span>          </span><span id="local-6989586621681620538"><span class="annot"><span class="annottext">flag_msg :: Severity -&gt; DiagnosticReason -&gt; Maybe SDoc
</span><a href="#local-6989586621681620538"><span class="hs-identifier hs-var hs-var">flag_msg</span></a></span></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevIgnore"><span class="hs-identifier hs-var">SevIgnore</span></a></span><span> </span><span class="annot"><span class="annottext">DiagnosticReason
</span><span class="hs-identifier">_</span></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SDoc
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-507"></span><span>            </span><span class="hs-comment">-- The above can happen when displaying an error message</span><span>
</span><span id="line-508"></span><span>            </span><span class="hs-comment">-- in a log file, e.g. with -ddump-tc-trace. It should not</span><span>
</span><span id="line-509"></span><span>            </span><span class="hs-comment">-- happen otherwise, though.</span><span>
</span><span id="line-510"></span><span>          </span><span class="annot"><a href="#local-6989586621681620538"><span class="hs-identifier hs-var">flag_msg</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span><span> </span><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="GHC.Types.Error.html#WarningWithoutFlag"><span class="hs-identifier hs-var">WarningWithoutFlag</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Maybe SDoc
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="#local-6989586621681620529"><span class="hs-identifier hs-var">col</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-Werror&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-511"></span><span>          </span><span class="annot"><a href="#local-6989586621681620538"><span class="hs-identifier hs-var">flag_msg</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#WarningWithFlag"><span class="hs-identifier hs-type">WarningWithFlag</span></a></span><span> </span><span id="local-6989586621681620542"><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621681620542"><span class="hs-identifier hs-var">wflag</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-512"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681620543"><span class="annot"><span class="annottext">name :: String
</span><a href="#local-6989586621681620543"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty String -&gt; String
forall a. NonEmpty a -&gt; a
</span><a href="../../base-4.18.3.0/src/Data.List.NonEmpty.html#head/Data.List.NonEmpty.html#head"><span class="hs-identifier hs-var">NE.head</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WarningFlag -&gt; NonEmpty String
</span><a href="GHC.Driver.Flags.html#warnFlagNames"><span class="hs-identifier hs-var">warnFlagNames</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621681620542"><span class="hs-identifier hs-var">wflag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-513"></span><span>            </span><span class="annot"><span class="annottext">SDoc -&gt; Maybe SDoc
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; Maybe SDoc) -&gt; SDoc -&gt; Maybe SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="#local-6989586621681620529"><span class="hs-identifier hs-var">col</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-W&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620543"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag -&gt; SDoc
</span><a href="#local-6989586621681620546"><span class="hs-identifier hs-var">warn_flag_grp</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621681620542"><span class="hs-identifier hs-var">wflag</span></a></span><span>
</span><span id="line-514"></span><span>                                      </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a></span><span>
</span><span id="line-515"></span><span>                                      </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="#local-6989586621681620529"><span class="hs-identifier hs-var">col</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Werror=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620543"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-516"></span><span>          </span><span class="annot"><a href="#local-6989586621681620538"><span class="hs-identifier hs-var">flag_msg</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span><span>   </span><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="GHC.Types.Error.html#ErrorWithoutFlag"><span class="hs-identifier hs-var">ErrorWithoutFlag</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SDoc
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-517"></span><span>          </span><span class="annot"><a href="#local-6989586621681620538"><span class="hs-identifier hs-var">flag_msg</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevWarning"><span class="hs-identifier hs-var">SevWarning</span></a></span><span> </span><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="GHC.Types.Error.html#WarningWithoutFlag"><span class="hs-identifier hs-var">WarningWithoutFlag</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SDoc
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-518"></span><span>          </span><span class="annot"><a href="#local-6989586621681620538"><span class="hs-identifier hs-var">flag_msg</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevWarning"><span class="hs-identifier hs-var">SevWarning</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#WarningWithFlag"><span class="hs-identifier hs-type">WarningWithFlag</span></a></span><span> </span><span id="local-6989586621681620549"><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621681620549"><span class="hs-identifier hs-var">wflag</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-519"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681620550"><span class="annot"><span class="annottext">name :: String
</span><a href="#local-6989586621681620550"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty String -&gt; String
forall a. NonEmpty a -&gt; a
</span><a href="../../base-4.18.3.0/src/Data.List.NonEmpty.html#head/Data.List.NonEmpty.html#head"><span class="hs-identifier hs-var">NE.head</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WarningFlag -&gt; NonEmpty String
</span><a href="GHC.Driver.Flags.html#warnFlagNames"><span class="hs-identifier hs-var">warnFlagNames</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621681620549"><span class="hs-identifier hs-var">wflag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-520"></span><span>            </span><span class="annot"><span class="annottext">SDoc -&gt; Maybe SDoc
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="#local-6989586621681620529"><span class="hs-identifier hs-var">col</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-W&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620550"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag -&gt; SDoc
</span><a href="#local-6989586621681620546"><span class="hs-identifier hs-var">warn_flag_grp</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621681620549"><span class="hs-identifier hs-var">wflag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-521"></span><span>          </span><span class="annot"><a href="#local-6989586621681620538"><span class="hs-identifier hs-var">flag_msg</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevWarning"><span class="hs-identifier hs-var">SevWarning</span></a></span><span> </span><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="GHC.Types.Error.html#ErrorWithoutFlag"><span class="hs-identifier hs-var">ErrorWithoutFlag</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-522"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; Maybe SDoc
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SevWarning with ErrorWithoutFlag&quot;</span></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; Maybe SDoc) -&gt; SDoc -&gt; Maybe SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-523"></span><span>              </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;locn:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681620519"><span class="hs-identifier hs-var">locn</span></a></span><span>
</span><span id="line-524"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;msg:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620520"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-525"></span><span>
</span><span id="line-526"></span><span>          </span><span id="local-6989586621681620546"><span class="annot"><span class="annottext">warn_flag_grp :: WarningFlag -&gt; SDoc
</span><a href="#local-6989586621681620546"><span class="hs-identifier hs-var hs-var">warn_flag_grp</span></a></span></span><span> </span><span id="local-6989586621681620552"><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621681620552"><span class="hs-identifier hs-var">flag</span></a></span></span><span>
</span><span id="line-527"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681620517"><span class="hs-identifier hs-var">show_warn_groups</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-528"></span><span>                    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">WarningFlag -&gt; [String]
</span><a href="GHC.Driver.Flags.html#smallestWarningGroups"><span class="hs-identifier hs-var">smallestWarningGroups</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621681620552"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-529"></span><span>                        </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-530"></span><span>                        </span><span id="local-6989586621681620554"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681620554"><span class="hs-identifier hs-var">groups</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SDoc) -&gt; String -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(in &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/Data.OldList.html#intercalate/Data.OldList.html#intercalate"><span class="hs-identifier hs-var">intercalate</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, &quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowS -&gt; [String] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-W&quot;</span></span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681620554"><span class="hs-identifier hs-var">groups</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-531"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-532"></span><span>
</span><span id="line-533"></span><span>          </span><span class="hs-comment">-- Add prefixes, like    Foo.hs:34: warning:</span><span>
</span><span id="line-534"></span><span>          </span><span class="hs-comment">--                           &lt;the warning message&gt;</span><span>
</span><span id="line-535"></span><span>          </span><span id="local-6989586621681620555"><span class="annot"><span class="annottext">header :: SDoc
</span><a href="#local-6989586621681620555"><span class="hs-identifier hs-var hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620524"><span class="hs-identifier hs-var">locn'</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#colon"><span class="hs-identifier hs-var">colon</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-536"></span><span>                   </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620531"><span class="hs-identifier hs-var">msg_title</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#colon"><span class="hs-identifier hs-var">colon</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-537"></span><span>                   </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620540"><span class="hs-identifier hs-var">code_doc</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620533"><span class="hs-identifier hs-var">warning_flag_doc</span></a></span><span>
</span><span id="line-538"></span><span>
</span><span id="line-539"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scheme -&gt; PprColour
</span><a href="GHC.Utils.Ppr.Colour.html#sMessage"><span class="hs-identifier hs-var">Col.sMessage</span></a></span><span> </span><span class="annot"><span class="annottext">Scheme
</span><a href="#local-6989586621681620523"><span class="hs-identifier hs-var">col_scheme</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-540"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scheme -&gt; PprColour
</span><a href="GHC.Utils.Ppr.Colour.html#sHeader"><span class="hs-identifier hs-var">Col.sHeader</span></a></span><span> </span><span class="annot"><span class="annottext">Scheme
</span><a href="#local-6989586621681620523"><span class="hs-identifier hs-var">col_scheme</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620555"><span class="hs-identifier hs-var">header</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span>
</span><span id="line-541"></span><span>                        </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681620520"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-542"></span><span>
</span><span id="line-543"></span><span class="annot"><a href="GHC.Types.Error.html#getMessageClassColour"><span class="hs-identifier hs-type">getMessageClassColour</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MessageClass"><span class="hs-identifier hs-type">MessageClass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Ppr.Colour.html#Scheme"><span class="hs-identifier hs-type">Col.Scheme</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Ppr.Colour.html#PprColour"><span class="hs-identifier hs-type">Col.PprColour</span></a></span><span>
</span><span id="line-544"></span><span id="getMessageClassColour"><span class="annot"><span class="annottext">getMessageClassColour :: MessageClass -&gt; Scheme -&gt; PprColour
</span><a href="GHC.Types.Error.html#getMessageClassColour"><span class="hs-identifier hs-var hs-var">getMessageClassColour</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MCDiagnostic"><span class="hs-identifier hs-type">MCDiagnostic</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span><span> </span><span id="local-6989586621681620560"><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="#local-6989586621681620560"><span class="hs-identifier hs-var">_reason</span></a></span></span><span> </span><span id="local-6989586621681620561"><span class="annot"><span class="annottext">Maybe DiagnosticCode
</span><a href="#local-6989586621681620561"><span class="hs-identifier hs-var">_code</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scheme -&gt; PprColour
</span><a href="GHC.Utils.Ppr.Colour.html#sError"><span class="hs-identifier hs-var">Col.sError</span></a></span><span>
</span><span id="line-545"></span><span class="annot"><a href="GHC.Types.Error.html#getMessageClassColour"><span class="hs-identifier hs-var">getMessageClassColour</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MCDiagnostic"><span class="hs-identifier hs-type">MCDiagnostic</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevWarning"><span class="hs-identifier hs-var">SevWarning</span></a></span><span> </span><span id="local-6989586621681620563"><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="#local-6989586621681620563"><span class="hs-identifier hs-var">_reason</span></a></span></span><span> </span><span id="local-6989586621681620564"><span class="annot"><span class="annottext">Maybe DiagnosticCode
</span><a href="#local-6989586621681620564"><span class="hs-identifier hs-var">_code</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scheme -&gt; PprColour
</span><a href="GHC.Utils.Ppr.Colour.html#sWarning"><span class="hs-identifier hs-var">Col.sWarning</span></a></span><span>
</span><span id="line-546"></span><span class="annot"><a href="GHC.Types.Error.html#getMessageClassColour"><span class="hs-identifier hs-var">getMessageClassColour</span></a></span><span> </span><span class="annot"><span class="annottext">MessageClass
</span><a href="GHC.Types.Error.html#MCFatal"><span class="hs-identifier hs-var">MCFatal</span></a></span><span>                                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scheme -&gt; PprColour
</span><a href="GHC.Utils.Ppr.Colour.html#sFatal"><span class="hs-identifier hs-var">Col.sFatal</span></a></span><span>
</span><span id="line-547"></span><span class="annot"><a href="GHC.Types.Error.html#getMessageClassColour"><span class="hs-identifier hs-var">getMessageClassColour</span></a></span><span> </span><span class="annot"><span class="annottext">MessageClass
</span><span class="hs-identifier">_</span></span><span>                                       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprColour -&gt; Scheme -&gt; PprColour
forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#const/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
forall a. Monoid a =&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#mempty/GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-548"></span><span>
</span><span id="line-549"></span><span class="annot"><a href="GHC.Types.Error.html#getCaretDiagnostic"><span class="hs-identifier hs-type">getCaretDiagnostic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MessageClass"><span class="hs-identifier hs-type">MessageClass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-550"></span><span id="getCaretDiagnostic"><span class="annot"><span class="annottext">getCaretDiagnostic :: MessageClass -&gt; SrcSpan -&gt; IO SDoc
</span><a href="GHC.Types.Error.html#getCaretDiagnostic"><span class="hs-identifier hs-var hs-var">getCaretDiagnostic</span></a></span></span><span> </span><span class="annot"><span class="annottext">MessageClass
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#UnhelpfulSpan"><span class="hs-identifier hs-type">UnhelpfulSpan</span></a></span><span> </span><span class="annot"><span class="annottext">UnhelpfulSpanReason
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; IO SDoc
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-551"></span><span class="annot"><a href="GHC.Types.Error.html#getCaretDiagnostic"><span class="hs-identifier hs-var">getCaretDiagnostic</span></a></span><span> </span><span id="local-6989586621681620569"><span class="annot"><span class="annottext">MessageClass
</span><a href="#local-6989586621681620569"><span class="hs-identifier hs-var">msg_class</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span id="local-6989586621681620571"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681620571"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-552"></span><span>  </span><span class="annot"><span class="annottext">Maybe String -&gt; SDoc
</span><a href="#local-6989586621681620572"><span class="hs-identifier hs-var">caretDiagnostic</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe String -&gt; SDoc) -&gt; IO (Maybe String) -&gt; IO SDoc
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Int -&gt; IO (Maybe String)
</span><a href="#local-6989586621681620574"><span class="hs-identifier hs-var">getSrcLine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; FastString
</span><a href="GHC.Types.SrcLoc.html#srcSpanFile"><span class="hs-identifier hs-var">srcSpanFile</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681620571"><span class="hs-identifier hs-var">span</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620576"><span class="hs-identifier hs-var">row</span></a></span><span>
</span><span id="line-553"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-554"></span><span>    </span><span id="local-6989586621681620574"><span class="annot"><span class="annottext">getSrcLine :: FastString -&gt; Int -&gt; IO (Maybe String)
</span><a href="#local-6989586621681620574"><span class="hs-identifier hs-var hs-var">getSrcLine</span></a></span></span><span> </span><span id="local-6989586621681620580"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681620580"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621681620581"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620581"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-555"></span><span>      </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; IO (Maybe String)
</span><a href="#local-6989586621681620582"><span class="hs-identifier hs-var">getLine</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620581"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681620580"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-556"></span><span>        </span><span class="annot"><span class="annottext">IO (Maybe String)
-&gt; (IOError -&gt; IO (Maybe String)) -&gt; IO (Maybe String)
forall e a. Exception e =&gt; IO a -&gt; (e -&gt; IO a) -&gt; IO a
</span><a href="../../base-4.18.3.0/src/GHC.IO.html#catchException/GHC.IO.html#catchException"><span class="hs-operator hs-var">`catchException`</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">IOError
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.IO.Exception.html#IOError/GHC.IO.Exception.html#IOError"><span class="hs-identifier hs-type">IOError</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-557"></span><span>          </span><span class="annot"><span class="annottext">Maybe String -&gt; IO (Maybe String)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-558"></span><span>
</span><span id="line-559"></span><span>    </span><span id="local-6989586621681620582"><span class="annot"><span class="annottext">getLine :: Int -&gt; String -&gt; IO (Maybe String)
</span><a href="#local-6989586621681620582"><span class="hs-identifier hs-var hs-var">getLine</span></a></span></span><span> </span><span id="local-6989586621681620589"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620589"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681620590"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620590"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-560"></span><span>      </span><span class="hs-comment">-- StringBuffer has advantages over readFile:</span><span>
</span><span id="line-561"></span><span>      </span><span class="hs-comment">-- (a) no lazy IO, otherwise IO exceptions may occur in pure code</span><span>
</span><span id="line-562"></span><span>      </span><span class="hs-comment">-- (b) always UTF-8, rather than some system-dependent encoding</span><span>
</span><span id="line-563"></span><span>      </span><span class="hs-comment">--     (Haskell source code must be UTF-8 anyway)</span><span>
</span><span id="line-564"></span><span>      </span><span id="local-6989586621681620591"><span class="annot"><span class="annottext">StringBuffer
</span><a href="#local-6989586621681620591"><span class="hs-identifier hs-var">content</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO StringBuffer
</span><a href="GHC.Data.StringBuffer.html#hGetStringBuffer"><span class="hs-identifier hs-var">hGetStringBuffer</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620590"><span class="hs-identifier hs-var">fn</span></a></span><span>
</span><span id="line-565"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; StringBuffer -&gt; Maybe StringBuffer
</span><a href="GHC.Data.StringBuffer.html#atLine"><span class="hs-identifier hs-var">atLine</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620589"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">StringBuffer
</span><a href="#local-6989586621681620591"><span class="hs-identifier hs-var">content</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-566"></span><span>        </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681620592"><span class="annot"><span class="annottext">StringBuffer
</span><a href="#local-6989586621681620592"><span class="hs-identifier hs-var">at_line</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; IO (Maybe String)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe String -&gt; IO (Maybe String))
-&gt; Maybe String -&gt; IO (Maybe String)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-567"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String]
</span><a href="../../base-4.18.3.0/src/Data.OldList.html#lines/Data.OldList.html#lines"><span class="hs-identifier hs-var">lines</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char
</span><a href="#local-6989586621681620594"><span class="hs-identifier hs-var">fix</span></a></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Char) -&gt; ShowS
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">StringBuffer -&gt; Int -&gt; String
</span><a href="GHC.Data.StringBuffer.html#lexemeToString"><span class="hs-identifier hs-var">lexemeToString</span></a></span><span> </span><span class="annot"><span class="annottext">StringBuffer
</span><a href="#local-6989586621681620592"><span class="hs-identifier hs-var">at_line</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StringBuffer -&gt; Int
</span><a href="GHC.Data.StringBuffer.html#len"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">StringBuffer
</span><a href="#local-6989586621681620592"><span class="hs-identifier hs-var">at_line</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-568"></span><span>            </span><span id="local-6989586621681620595"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620595"><span class="hs-identifier hs-var">srcLine</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620595"><span class="hs-identifier hs-var">srcLine</span></a></span><span>
</span><span id="line-569"></span><span>            </span><span class="annot"><span class="annottext">[String]
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-570"></span><span>        </span><span class="annot"><span class="annottext">Maybe StringBuffer
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; IO (Maybe String)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-571"></span><span>
</span><span id="line-572"></span><span>    </span><span class="hs-comment">-- allow user to visibly see that their code is incorrectly encoded</span><span>
</span><span id="line-573"></span><span>    </span><span class="hs-comment">-- (StringBuffer.nextChar uses \0 to represent undecodable characters)</span><span>
</span><span id="line-574"></span><span>    </span><span id="local-6989586621681620594"><span class="annot"><span class="annottext">fix :: Char -&gt; Char
</span><a href="#local-6989586621681620594"><span class="hs-identifier hs-var hs-var">fix</span></a></span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\0'</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\xfffd'</span></span><span>
</span><span id="line-575"></span><span>    </span><span class="annot"><a href="#local-6989586621681620594"><span class="hs-identifier hs-var">fix</span></a></span><span> </span><span id="local-6989586621681620596"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681620596"><span class="hs-identifier hs-var">c</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681620596"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-576"></span><span>
</span><span id="line-577"></span><span>    </span><span id="local-6989586621681620576"><span class="annot"><span class="annottext">row :: Int
</span><a href="#local-6989586621681620576"><span class="hs-identifier hs-var hs-var">row</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Int
</span><a href="GHC.Types.SrcLoc.html#srcSpanStartLine"><span class="hs-identifier hs-var">srcSpanStartLine</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681620571"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-578"></span><span>    </span><span id="local-6989586621681620598"><span class="annot"><span class="annottext">rowStr :: String
</span><a href="#local-6989586621681620598"><span class="hs-identifier hs-var hs-var">rowStr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.18.3.0/src/GHC.Show.html#show/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620576"><span class="hs-identifier hs-var">row</span></a></span><span>
</span><span id="line-579"></span><span>    </span><span id="local-6989586621681620599"><span class="annot"><span class="annottext">multiline :: Bool
</span><a href="#local-6989586621681620599"><span class="hs-identifier hs-var hs-var">multiline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620576"><span class="hs-identifier hs-var">row</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Int
</span><a href="GHC.Types.SrcLoc.html#srcSpanEndLine"><span class="hs-identifier hs-var">srcSpanEndLine</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681620571"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-580"></span><span>
</span><span id="line-581"></span><span>    </span><span id="local-6989586621681620572"><span class="annot"><span class="annottext">caretDiagnostic :: Maybe String -&gt; SDoc
</span><a href="#local-6989586621681620572"><span class="hs-identifier hs-var hs-var">caretDiagnostic</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-582"></span><span>    </span><span class="annot"><a href="#local-6989586621681620572"><span class="hs-identifier hs-var">caretDiagnostic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681620601"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620601"><span class="hs-identifier hs-var">srcLineWithNewline</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-583"></span><span>      </span><span class="annot"><span class="annottext">(SDocContext -&gt; Scheme) -&gt; (Scheme -&gt; SDoc) -&gt; SDoc
forall a. (SDocContext -&gt; a) -&gt; (a -&gt; SDoc) -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#sdocOption"><span class="hs-identifier hs-var">sdocOption</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext -&gt; Scheme
</span><a href="GHC.Utils.Outputable.html#sdocColScheme"><span class="hs-identifier hs-var">sdocColScheme</span></a></span><span class="annot"><span class="annottext">((Scheme -&gt; SDoc) -&gt; SDoc) -&gt; (Scheme -&gt; SDoc) -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681620602"><span class="annot"><span class="annottext">Scheme
</span><a href="#local-6989586621681620602"><span class="hs-identifier hs-var">col_scheme</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-584"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681620603"><span class="annot"><span class="annottext">sevColour :: PprColour
</span><a href="#local-6989586621681620603"><span class="hs-identifier hs-var hs-var">sevColour</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MessageClass -&gt; Scheme -&gt; PprColour
</span><a href="GHC.Types.Error.html#getMessageClassColour"><span class="hs-identifier hs-var">getMessageClassColour</span></a></span><span> </span><span class="annot"><span class="annottext">MessageClass
</span><a href="#local-6989586621681620569"><span class="hs-identifier hs-var">msg_class</span></a></span><span> </span><span class="annot"><span class="annottext">Scheme
</span><a href="#local-6989586621681620602"><span class="hs-identifier hs-var">col_scheme</span></a></span><span>
</span><span id="line-585"></span><span>          </span><span id="local-6989586621681620604"><span class="annot"><span class="annottext">marginColour :: PprColour
</span><a href="#local-6989586621681620604"><span class="hs-identifier hs-var hs-var">marginColour</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scheme -&gt; PprColour
</span><a href="GHC.Utils.Ppr.Colour.html#sMargin"><span class="hs-identifier hs-var">Col.sMargin</span></a></span><span> </span><span class="annot"><span class="annottext">Scheme
</span><a href="#local-6989586621681620602"><span class="hs-identifier hs-var">col_scheme</span></a></span><span>
</span><span id="line-586"></span><span>      </span><span class="hs-keyword">in</span><span>
</span><span id="line-587"></span><span>      </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681620604"><span class="hs-identifier hs-var">marginColour</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620606"><span class="hs-identifier hs-var">marginSpace</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-588"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-589"></span><span>      </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681620604"><span class="hs-identifier hs-var">marginColour</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620607"><span class="hs-identifier hs-var">marginRow</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-590"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620608"><span class="hs-identifier hs-var">srcLinePre</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-591"></span><span>      </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681620603"><span class="hs-identifier hs-var">sevColour</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620609"><span class="hs-identifier hs-var">srcLineSpan</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-592"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620610"><span class="hs-identifier hs-var">srcLinePost</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-593"></span><span>      </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681620604"><span class="hs-identifier hs-var">marginColour</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620606"><span class="hs-identifier hs-var">marginSpace</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-594"></span><span>      </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681620603"><span class="hs-identifier hs-var">sevColour</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620611"><span class="hs-identifier hs-var">caretLine</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-595"></span><span>
</span><span id="line-596"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-597"></span><span>
</span><span id="line-598"></span><span>        </span><span class="hs-comment">-- expand tabs in a device-independent manner #13664</span><span>
</span><span id="line-599"></span><span>        </span><span id="local-6989586621681620618"><span class="annot"><span class="annottext">expandTabs :: Int -&gt; Int -&gt; ShowS
</span><a href="#local-6989586621681620618"><span class="hs-identifier hs-var hs-var">expandTabs</span></a></span></span><span> </span><span id="local-6989586621681620619"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620619"><span class="hs-identifier hs-var">tabWidth</span></a></span></span><span> </span><span id="local-6989586621681620620"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620620"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681620621"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620621"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-600"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620621"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-601"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-602"></span><span>            </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\t'</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681620622"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620622"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; String
forall a. Int -&gt; a -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#replicate/GHC.List.html#replicate"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620624"><span class="hs-identifier hs-var">effectiveWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-603"></span><span>                         </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; ShowS
</span><a href="#local-6989586621681620618"><span class="hs-identifier hs-var">expandTabs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620619"><span class="hs-identifier hs-var">tabWidth</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620620"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Num.html#%2B/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620624"><span class="hs-identifier hs-var">effectiveWidth</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620622"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-604"></span><span>            </span><span id="local-6989586621681620626"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681620626"><span class="hs-identifier hs-var">c</span></a></span></span><span>    </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681620627"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620627"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681620626"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; ShowS
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; ShowS
</span><a href="#local-6989586621681620618"><span class="hs-identifier hs-var">expandTabs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620619"><span class="hs-identifier hs-var">tabWidth</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620620"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Num.html#%2B/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620627"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-605"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681620624"><span class="annot"><span class="annottext">effectiveWidth :: Int
</span><a href="#local-6989586621681620624"><span class="hs-identifier hs-var hs-var">effectiveWidth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620619"><span class="hs-identifier hs-var">tabWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620620"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Real.html#mod/GHC.Real.html#mod"><span class="hs-operator hs-var">`mod`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620619"><span class="hs-identifier hs-var">tabWidth</span></a></span><span>
</span><span id="line-606"></span><span>
</span><span id="line-607"></span><span>        </span><span id="local-6989586621681620629"><span class="annot"><span class="annottext">srcLine :: String
</span><a href="#local-6989586621681620629"><span class="hs-identifier hs-var hs-var">srcLine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; ShowS
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#filter/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; ShowS
</span><a href="#local-6989586621681620618"><span class="hs-identifier hs-var">expandTabs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620601"><span class="hs-identifier hs-var">srcLineWithNewline</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-608"></span><span>
</span><span id="line-609"></span><span>        </span><span id="local-6989586621681620630"><span class="annot"><span class="annottext">start :: Int
</span><a href="#local-6989586621681620630"><span class="hs-identifier hs-var hs-var">start</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Int
</span><a href="GHC.Types.SrcLoc.html#srcSpanStartCol"><span class="hs-identifier hs-var">srcSpanStartCol</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681620571"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-610"></span><span>        </span><span id="local-6989586621681620632"><span class="annot"><span class="annottext">end :: Int
</span><a href="#local-6989586621681620632"><span class="hs-identifier hs-var hs-var">end</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681620599"><span class="hs-identifier hs-var">multiline</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#length/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620629"><span class="hs-identifier hs-var">srcLine</span></a></span><span>
</span><span id="line-611"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Int
</span><a href="GHC.Types.SrcLoc.html#srcSpanEndCol"><span class="hs-identifier hs-var">srcSpanEndCol</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681620571"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-612"></span><span>        </span><span id="local-6989586621681620635"><span class="annot"><span class="annottext">width :: Int
</span><a href="#local-6989586621681620635"><span class="hs-identifier hs-var hs-var">width</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620632"><span class="hs-identifier hs-var">end</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620630"><span class="hs-identifier hs-var">start</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-613"></span><span>
</span><span id="line-614"></span><span>        </span><span id="local-6989586621681620637"><span class="annot"><span class="annottext">marginWidth :: Int
</span><a href="#local-6989586621681620637"><span class="hs-identifier hs-var hs-var">marginWidth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#length/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620598"><span class="hs-identifier hs-var">rowStr</span></a></span><span>
</span><span id="line-615"></span><span>        </span><span id="local-6989586621681620606"><span class="annot"><span class="annottext">marginSpace :: String
</span><a href="#local-6989586621681620606"><span class="hs-identifier hs-var hs-var">marginSpace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; String
forall a. Int -&gt; a -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#replicate/GHC.List.html#replicate"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620637"><span class="hs-identifier hs-var">marginWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; |&quot;</span></span><span>
</span><span id="line-616"></span><span>        </span><span id="local-6989586621681620607"><span class="annot"><span class="annottext">marginRow :: String
</span><a href="#local-6989586621681620607"><span class="hs-identifier hs-var hs-var">marginRow</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620598"><span class="hs-identifier hs-var">rowStr</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; |&quot;</span></span><span>
</span><span id="line-617"></span><span>
</span><span id="line-618"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681620608"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620608"><span class="hs-identifier hs-var">srcLinePre</span></a></span></span><span class="hs-special">,</span><span>  </span><span id="local-6989586621681620638"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620638"><span class="hs-identifier hs-var">srcLineRest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; (String, String)
forall a. Int -&gt; [a] -&gt; ([a], [a])
</span><a href="../../base-4.18.3.0/src/GHC.List.html#splitAt/GHC.List.html#splitAt"><span class="hs-identifier hs-var">splitAt</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620630"><span class="hs-identifier hs-var">start</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620629"><span class="hs-identifier hs-var">srcLine</span></a></span><span>
</span><span id="line-619"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681620609"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620609"><span class="hs-identifier hs-var">srcLineSpan</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681620610"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620610"><span class="hs-identifier hs-var">srcLinePost</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; (String, String)
forall a. Int -&gt; [a] -&gt; ([a], [a])
</span><a href="../../base-4.18.3.0/src/GHC.List.html#splitAt/GHC.List.html#splitAt"><span class="hs-identifier hs-var">splitAt</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620635"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620638"><span class="hs-identifier hs-var">srcLineRest</span></a></span><span>
</span><span id="line-620"></span><span>
</span><span id="line-621"></span><span>        </span><span id="local-6989586621681620640"><span class="annot"><span class="annottext">caretEllipsis :: String
</span><a href="#local-6989586621681620640"><span class="hs-identifier hs-var hs-var">caretEllipsis</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681620599"><span class="hs-identifier hs-var">multiline</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;...&quot;</span></span><span>
</span><span id="line-622"></span><span>                      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-623"></span><span>        </span><span id="local-6989586621681620611"><span class="annot"><span class="annottext">caretLine :: String
</span><a href="#local-6989586621681620611"><span class="hs-identifier hs-var hs-var">caretLine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; String
forall a. Int -&gt; a -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#replicate/GHC.List.html#replicate"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620630"><span class="hs-identifier hs-var">start</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; String
forall a. Int -&gt; a -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#replicate/GHC.List.html#replicate"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681620635"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'^'</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620640"><span class="hs-identifier hs-var">caretEllipsis</span></a></span><span>
</span><span id="line-624"></span><span>
</span><span id="line-625"></span><span class="hs-comment">--</span><span>
</span><span id="line-626"></span><span class="hs-comment">-- Queries</span><span>
</span><span id="line-627"></span><span class="hs-comment">--</span><span>
</span><span id="line-628"></span><span>
</span><span id="line-629"></span><span class="hs-comment">{- Note [Intrinsic And Extrinsic Failures]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
We distinguish between /intrinsic/ and /extrinsic/ failures. We classify in
the former category those diagnostics which are /essentially/ failures, and
their nature can't be changed. This is the case for 'ErrorWithoutFlag'. We
classify as /extrinsic/ all those diagnostics (like fatal warnings) which are
born as warnings but which are still failures under particular 'DynFlags'
settings. It's important to be aware of such logic distinction, because when
we are inside the typechecker or the desugarer, we are interested about
intrinsic errors, and to bail out as soon as we find one of them. Conversely,
if we find an /extrinsic/ one, for example because a particular 'WarningFlag'
makes a warning into an error, we /don't/ want to bail out, that's still not the
right time to do so: Rather, we want to first collect all the diagnostics, and
later classify and report them appropriately (in the driver).
-}</span><span>
</span><span id="line-644"></span><span>
</span><span id="line-645"></span><span class="hs-comment">-- | Returns 'True' if this is, intrinsically, a failure. See</span><span>
</span><span id="line-646"></span><span class="hs-comment">-- Note [Intrinsic And Extrinsic Failures].</span><span>
</span><span id="line-647"></span><span id="local-6989586621681619861"><span class="annot"><a href="GHC.Types.Error.html#isIntrinsicErrorMessage"><span class="hs-identifier hs-type">isIntrinsicErrorMessage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Diagnostic"><span class="hs-identifier hs-type">Diagnostic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619861"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619861"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-648"></span><span id="isIntrinsicErrorMessage"><span class="annot"><span class="annottext">isIntrinsicErrorMessage :: forall e. Diagnostic e =&gt; MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isIntrinsicErrorMessage"><span class="hs-identifier hs-var hs-var">isIntrinsicErrorMessage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DiagnosticReason -&gt; DiagnosticReason -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">DiagnosticReason
</span><a href="GHC.Types.Error.html#ErrorWithoutFlag"><span class="hs-identifier hs-var">ErrorWithoutFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(DiagnosticReason -&gt; Bool)
-&gt; (MsgEnvelope e -&gt; DiagnosticReason) -&gt; MsgEnvelope e -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; DiagnosticReason
forall a. Diagnostic a =&gt; a -&gt; DiagnosticReason
</span><a href="GHC.Types.Error.html#diagnosticReason"><span class="hs-identifier hs-var">diagnosticReason</span></a></span><span> </span><span class="annot"><span class="annottext">(e -&gt; DiagnosticReason)
-&gt; (MsgEnvelope e -&gt; e) -&gt; MsgEnvelope e -&gt; DiagnosticReason
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; e
forall e. MsgEnvelope e -&gt; e
</span><a href="GHC.Types.Error.html#errMsgDiagnostic"><span class="hs-identifier hs-var">errMsgDiagnostic</span></a></span><span>
</span><span id="line-649"></span><span>
</span><span id="line-650"></span><span id="local-6989586621681620644"><span class="annot"><a href="GHC.Types.Error.html#isWarningMessage"><span class="hs-identifier hs-type">isWarningMessage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Diagnostic"><span class="hs-identifier hs-type">Diagnostic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620644"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620644"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-651"></span><span id="isWarningMessage"><span class="annot"><span class="annottext">isWarningMessage :: forall e. Diagnostic e =&gt; MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isWarningMessage"><span class="hs-identifier hs-var hs-var">isWarningMessage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (MsgEnvelope e -&gt; Bool) -&gt; MsgEnvelope e -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; Bool
forall e. Diagnostic e =&gt; MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isIntrinsicErrorMessage"><span class="hs-identifier hs-var">isIntrinsicErrorMessage</span></a></span><span>
</span><span id="line-652"></span><span>
</span><span id="line-653"></span><span class="hs-comment">-- | Are there any hard errors here? -Werror warnings are /not/ detected. If</span><span>
</span><span id="line-654"></span><span class="hs-comment">-- you want to check for -Werror warnings, use 'errorsOrFatalWarningsFound'.</span><span>
</span><span id="line-655"></span><span id="local-6989586621681619864"><span class="annot"><a href="GHC.Types.Error.html#errorsFound"><span class="hs-identifier hs-type">errorsFound</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Diagnostic"><span class="hs-identifier hs-type">Diagnostic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619864"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619864"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-656"></span><span id="errorsFound"><span class="annot"><span class="annottext">errorsFound :: forall e. Diagnostic e =&gt; Messages e -&gt; Bool
</span><a href="GHC.Types.Error.html#errorsFound"><span class="hs-identifier hs-var hs-var">errorsFound</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681620651"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620651"><span class="hs-identifier hs-var">msgs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope e -&gt; Bool) -&gt; Bag (MsgEnvelope e) -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#any/Data.Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; Bool
forall e. Diagnostic e =&gt; MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isIntrinsicErrorMessage"><span class="hs-identifier hs-var">isIntrinsicErrorMessage</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620651"><span class="hs-identifier hs-var">msgs</span></a></span><span>
</span><span id="line-657"></span><span>
</span><span id="line-658"></span><span class="hs-comment">-- | Returns 'True' if the envelope contains a message that will stop</span><span>
</span><span id="line-659"></span><span class="hs-comment">-- compilation: either an intrinsic error or a fatal (-Werror) warning</span><span>
</span><span id="line-660"></span><span id="local-6989586621681620653"><span class="annot"><a href="GHC.Types.Error.html#isExtrinsicErrorMessage"><span class="hs-identifier hs-type">isExtrinsicErrorMessage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620653"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-661"></span><span id="isExtrinsicErrorMessage"><span class="annot"><span class="annottext">isExtrinsicErrorMessage :: forall e. MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isExtrinsicErrorMessage"><span class="hs-identifier hs-var hs-var">isExtrinsicErrorMessage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Severity -&gt; Severity -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span><span> </span><span class="annot"><span class="annottext">(Severity -&gt; Bool)
-&gt; (MsgEnvelope e -&gt; Severity) -&gt; MsgEnvelope e -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; Severity
forall e. MsgEnvelope e -&gt; Severity
</span><a href="GHC.Types.Error.html#errMsgSeverity"><span class="hs-identifier hs-var">errMsgSeverity</span></a></span><span>
</span><span id="line-662"></span><span>
</span><span id="line-663"></span><span class="annot"><span class="hs-comment">-- | Are there any errors or -Werror warnings here?</span></span><span>
</span><span id="line-664"></span><span id="local-6989586621681620655"><span class="annot"><a href="GHC.Types.Error.html#errorsOrFatalWarningsFound"><span class="hs-identifier hs-type">errorsOrFatalWarningsFound</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620655"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-665"></span><span id="errorsOrFatalWarningsFound"><span class="annot"><span class="annottext">errorsOrFatalWarningsFound :: forall a. Messages a -&gt; Bool
</span><a href="GHC.Types.Error.html#errorsOrFatalWarningsFound"><span class="hs-identifier hs-var hs-var">errorsOrFatalWarningsFound</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681620657"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620657"><span class="hs-identifier hs-var">msgs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope e -&gt; Bool) -&gt; Bag (MsgEnvelope e) -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#any/Data.Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; Bool
forall e. MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isExtrinsicErrorMessage"><span class="hs-identifier hs-var">isExtrinsicErrorMessage</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620657"><span class="hs-identifier hs-var">msgs</span></a></span><span>
</span><span id="line-666"></span><span>
</span><span id="line-667"></span><span id="local-6989586621681619870"><span class="annot"><a href="GHC.Types.Error.html#getWarningMessages"><span class="hs-identifier hs-type">getWarningMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Diagnostic"><span class="hs-identifier hs-type">Diagnostic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619870"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619870"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619870"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-668"></span><span id="getWarningMessages"><span class="annot"><span class="annottext">getWarningMessages :: forall e. Diagnostic e =&gt; Messages e -&gt; Bag (MsgEnvelope e)
</span><a href="GHC.Types.Error.html#getWarningMessages"><span class="hs-identifier hs-var hs-var">getWarningMessages</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681620660"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620660"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Bag (MsgEnvelope e), Bag (MsgEnvelope e)) -&gt; Bag (MsgEnvelope e)
forall a b. (a, b) -&gt; a
</span><a href="../../base-4.18.3.0/src/Data.Tuple.html#fst/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">((Bag (MsgEnvelope e), Bag (MsgEnvelope e)) -&gt; Bag (MsgEnvelope e))
-&gt; (Bag (MsgEnvelope e), Bag (MsgEnvelope e))
-&gt; Bag (MsgEnvelope e)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope e -&gt; Bool)
-&gt; Bag (MsgEnvelope e)
-&gt; (Bag (MsgEnvelope e), Bag (MsgEnvelope e))
forall a. (a -&gt; Bool) -&gt; Bag a -&gt; (Bag a, Bag a)
</span><a href="GHC.Data.Bag.html#partitionBag"><span class="hs-identifier hs-var">partitionBag</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; Bool
forall e. Diagnostic e =&gt; MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isWarningMessage"><span class="hs-identifier hs-var">isWarningMessage</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620660"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-669"></span><span>
</span><span id="line-670"></span><span id="local-6989586621681620663"><span class="annot"><a href="GHC.Types.Error.html#getErrorMessages"><span class="hs-identifier hs-type">getErrorMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Diagnostic"><span class="hs-identifier hs-type">Diagnostic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620663"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620663"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681620663"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-671"></span><span id="getErrorMessages"><span class="annot"><span class="annottext">getErrorMessages :: forall e. Diagnostic e =&gt; Messages e -&gt; Bag (MsgEnvelope e)
</span><a href="GHC.Types.Error.html#getErrorMessages"><span class="hs-identifier hs-var hs-var">getErrorMessages</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681620666"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620666"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Bag (MsgEnvelope e), Bag (MsgEnvelope e)) -&gt; Bag (MsgEnvelope e)
forall a b. (a, b) -&gt; a
</span><a href="../../base-4.18.3.0/src/Data.Tuple.html#fst/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">((Bag (MsgEnvelope e), Bag (MsgEnvelope e)) -&gt; Bag (MsgEnvelope e))
-&gt; (Bag (MsgEnvelope e), Bag (MsgEnvelope e))
-&gt; Bag (MsgEnvelope e)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope e -&gt; Bool)
-&gt; Bag (MsgEnvelope e)
-&gt; (Bag (MsgEnvelope e), Bag (MsgEnvelope e))
forall a. (a -&gt; Bool) -&gt; Bag a -&gt; (Bag a, Bag a)
</span><a href="GHC.Data.Bag.html#partitionBag"><span class="hs-identifier hs-var">partitionBag</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; Bool
forall e. Diagnostic e =&gt; MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isIntrinsicErrorMessage"><span class="hs-identifier hs-var">isIntrinsicErrorMessage</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620666"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-672"></span><span>
</span><span id="line-673"></span><span class="hs-comment">-- | Partitions the 'Messages' and returns a tuple which first element are the</span><span>
</span><span id="line-674"></span><span class="hs-comment">-- warnings, and the second the errors.</span><span>
</span><span id="line-675"></span><span id="local-6989586621681619876"><span class="annot"><a href="GHC.Types.Error.html#partitionMessages"><span class="hs-identifier hs-type">partitionMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Diagnostic"><span class="hs-identifier hs-type">Diagnostic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619876"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619876"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619876"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681619876"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-676"></span><span id="partitionMessages"><span class="annot"><span class="annottext">partitionMessages :: forall e. Diagnostic e =&gt; Messages e -&gt; (Messages e, Messages e)
</span><a href="GHC.Types.Error.html#partitionMessages"><span class="hs-identifier hs-var hs-var">partitionMessages</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681620671"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620671"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Bag (MsgEnvelope e) -&gt; Messages e)
-&gt; (Bag (MsgEnvelope e) -&gt; Messages e)
-&gt; (Bag (MsgEnvelope e), Bag (MsgEnvelope e))
-&gt; (Messages e, Messages e)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; (a, c) -&gt; (b, d)
forall (p :: * -&gt; * -&gt; *) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><a href="../../base-4.18.3.0/src/Data.Bifunctor.html#bimap/Data.Bifunctor.html#bimap"><span class="hs-identifier hs-var">bimap</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e) -&gt; Messages e
forall e. Bag (MsgEnvelope e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e) -&gt; Messages e
forall e. Bag (MsgEnvelope e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(MsgEnvelope e -&gt; Bool)
-&gt; Bag (MsgEnvelope e)
-&gt; (Bag (MsgEnvelope e), Bag (MsgEnvelope e))
forall a. (a -&gt; Bool) -&gt; Bag a -&gt; (Bag a, Bag a)
</span><a href="GHC.Data.Bag.html#partitionBag"><span class="hs-identifier hs-var">partitionBag</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e -&gt; Bool
forall e. Diagnostic e =&gt; MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isWarningMessage"><span class="hs-identifier hs-var">isWarningMessage</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681620671"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-677"></span><span>
</span><span id="line-678"></span><span class="hs-comment">----------------------------------------------------------------</span><span>
</span><span id="line-679"></span><span class="hs-comment">--                                                            --</span><span>
</span><span id="line-680"></span><span class="hs-comment">-- Definition of diagnostic codes                             --</span><span>
</span><span id="line-681"></span><span class="hs-comment">--                                                            --</span><span>
</span><span id="line-682"></span><span class="hs-comment">----------------------------------------------------------------</span><span>
</span><span id="line-683"></span><span>
</span><span id="line-684"></span><span class="hs-comment">-- | A diagnostic code is a namespaced numeric identifier</span><span>
</span><span id="line-685"></span><span class="hs-comment">-- unique to the given diagnostic (error or warning).</span><span>
</span><span id="line-686"></span><span class="hs-comment">--</span><span>
</span><span id="line-687"></span><span class="hs-comment">-- All diagnostic codes defined within GHC are given the</span><span>
</span><span id="line-688"></span><span class="hs-comment">-- GHC namespace.</span><span>
</span><span id="line-689"></span><span class="hs-comment">--</span><span>
</span><span id="line-690"></span><span class="hs-comment">-- See Note [Diagnostic codes] in GHC.Types.Error.Codes.</span><span>
</span><span id="line-691"></span><span class="hs-keyword">data</span><span> </span><span id="DiagnosticCode"><span class="annot"><a href="GHC.Types.Error.html#DiagnosticCode"><span class="hs-identifier hs-var">DiagnosticCode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-692"></span><span>  </span><span id="DiagnosticCode"><span class="annot"><a href="GHC.Types.Error.html#DiagnosticCode"><span class="hs-identifier hs-var">DiagnosticCode</span></a></span></span><span>
</span><span id="line-693"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="diagnosticCodeNameSpace"><span class="annot"><span class="annottext">DiagnosticCode -&gt; String
</span><a href="GHC.Types.Error.html#diagnosticCodeNameSpace"><span class="hs-identifier hs-var hs-var">diagnosticCodeNameSpace</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-694"></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ diagnostic code prefix (e.g. &quot;GHC&quot;)</span></span><span>
</span><span id="line-695"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="diagnosticCodeNumber"><span class="annot"><span class="annottext">DiagnosticCode -&gt; Natural
</span><a href="GHC.Types.Error.html#diagnosticCodeNumber"><span class="hs-identifier hs-var hs-var">diagnosticCodeNumber</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Natural</span></span><span>
</span><span id="line-696"></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ the actual diagnostic code</span></span><span>
</span><span id="line-697"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-698"></span><span>
</span><span id="line-699"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticCode"><span class="hs-identifier hs-type">DiagnosticCode</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-700"></span><span>  </span><span id="local-6989586621681620689"><span class="annot"><span class="annottext">ppr :: DiagnosticCode -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#DiagnosticCode"><span class="hs-identifier hs-type">DiagnosticCode</span></a></span><span> </span><span id="local-6989586621681620690"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620690"><span class="hs-identifier hs-var">prefix</span></a></span></span><span> </span><span id="local-6989586621681620691"><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621681620691"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-701"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681620690"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Natural -&gt; String
forall r. PrintfType r =&gt; String -&gt; r
</span><a href="../../base-4.18.3.0/src/Text.Printf.html#printf/Text.Printf.html#printf"><span class="hs-identifier hs-var">printf</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;%05d&quot;</span></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621681620691"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-702"></span><span>      </span><span class="hs-comment">-- pad the numeric code to have at least 5 digits</span><span>
</span><span id="line-703"></span></pre></body></html>