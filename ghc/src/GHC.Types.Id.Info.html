<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{-
(c) The University of Glasgow 2006
(c) The GRASP/AQUA Project, Glasgow University, 1993-1998

\section[IdInfo]{@IdInfos@: Non-essential information about @Ids@}

(And a pretty good illustration of quite a few things wrong with
Haskell. [WDP 94/11])
-}</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE BinaryLiterals #-}</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-incomplete-record-updates #-}</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Types.Id.Info</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-18"></span><span>        </span><span class="annot"><span class="hs-comment">-- * The IdDetails type</span></span><span>
</span><span id="line-19"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdDetails"><span class="hs-identifier">IdDetails</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#pprIdDetails"><span class="hs-identifier">pprIdDetails</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#coVarDetails"><span class="hs-identifier">coVarDetails</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#isCoVarDetails"><span class="hs-identifier">isCoVarDetails</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>        </span><span class="annot"><a href="GHC.Types.Basic.html#JoinArity"><span class="hs-identifier">JoinArity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#isJoinIdDetails_maybe"><span class="hs-identifier">isJoinIdDetails_maybe</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelParent"><span class="hs-identifier">RecSelParent</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span>        </span><span class="annot"><span class="hs-comment">-- * The IdInfo type</span></span><span>
</span><span id="line-24"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier">IdInfo</span></a></span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- Abstract</span><span>
</span><span id="line-25"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#vanillaIdInfo"><span class="hs-identifier">vanillaIdInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#noCafIdInfo"><span class="hs-identifier">noCafIdInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** The OneShotInfo type</span></span><span>
</span><span id="line-28"></span><span>        </span><span class="annot"><a href="GHC.Types.Basic.html#OneShotInfo"><span class="hs-identifier">OneShotInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#oneShotInfo"><span class="hs-identifier">oneShotInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#noOneShotInfo"><span class="hs-identifier">noOneShotInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#hasNoOneShotInfo"><span class="hs-identifier">hasNoOneShotInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#setOneShotInfo"><span class="hs-identifier">setOneShotInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Zapping various forms of Info</span></span><span>
</span><span id="line-33"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#zapLamInfo"><span class="hs-identifier">zapLamInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#zapFragileInfo"><span class="hs-identifier">zapFragileInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#zapDemandInfo"><span class="hs-identifier">zapDemandInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#zapUsageInfo"><span class="hs-identifier">zapUsageInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#zapUsageEnvInfo"><span class="hs-identifier">zapUsageEnvInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#zapUsedOnceInfo"><span class="hs-identifier">zapUsedOnceInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#zapTailCallInfo"><span class="hs-identifier">zapTailCallInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#zapCallArityInfo"><span class="hs-identifier">zapCallArityInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#trimUnfolding"><span class="hs-identifier">trimUnfolding</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** The ArityInfo type</span></span><span>
</span><span id="line-38"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#ArityInfo"><span class="hs-identifier">ArityInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#unknownArity"><span class="hs-identifier">unknownArity</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#arityInfo"><span class="hs-identifier">arityInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#setArityInfo"><span class="hs-identifier">setArityInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#ppArityInfo"><span class="hs-identifier">ppArityInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#callArityInfo"><span class="hs-identifier">callArityInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#setCallArityInfo"><span class="hs-identifier">setCallArityInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Demand and strictness Info</span></span><span>
</span><span id="line-45"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#dmdSigInfo"><span class="hs-identifier">dmdSigInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#setDmdSigInfo"><span class="hs-identifier">setDmdSigInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#cprSigInfo"><span class="hs-identifier">cprSigInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#setCprSigInfo"><span class="hs-identifier">setCprSigInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#demandInfo"><span class="hs-identifier">demandInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#setDemandInfo"><span class="hs-identifier">setDemandInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#pprStrictness"><span class="hs-identifier">pprStrictness</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Unfolding Info</span></span><span>
</span><span id="line-50"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#realUnfoldingInfo"><span class="hs-identifier">realUnfoldingInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#unfoldingInfo"><span class="hs-identifier">unfoldingInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#setUnfoldingInfo"><span class="hs-identifier">setUnfoldingInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#hasInlineUnfolding"><span class="hs-identifier">hasInlineUnfolding</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** The InlinePragInfo type</span></span><span>
</span><span id="line-53"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#InlinePragInfo"><span class="hs-identifier">InlinePragInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#inlinePragInfo"><span class="hs-identifier">inlinePragInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#setInlinePragInfo"><span class="hs-identifier">setInlinePragInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** The OccInfo type</span></span><span>
</span><span id="line-57"></span><span>        </span><span class="annot"><a href="GHC.Types.Basic.html#OccInfo"><span class="hs-identifier">OccInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>        </span><span class="annot"><a href="GHC.Types.Basic.html#isDeadOcc"><span class="hs-identifier">isDeadOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#isStrongLoopBreaker"><span class="hs-identifier">isStrongLoopBreaker</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#isWeakLoopBreaker"><span class="hs-identifier">isWeakLoopBreaker</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#occInfo"><span class="hs-identifier">occInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#setOccInfo"><span class="hs-identifier">setOccInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>        </span><span class="annot"><a href="GHC.Types.Basic.html#InsideLam"><span class="hs-identifier">InsideLam</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#BranchCount"><span class="hs-identifier">BranchCount</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span>        </span><span class="annot"><a href="GHC.Types.Basic.html#TailCallInfo"><span class="hs-identifier">TailCallInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>        </span><span class="annot"><a href="GHC.Types.Basic.html#tailCallInfo"><span class="hs-identifier">tailCallInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#isAlwaysTailCalled"><span class="hs-identifier">isAlwaysTailCalled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** The RuleInfo type</span></span><span>
</span><span id="line-67"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier">RuleInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#emptyRuleInfo"><span class="hs-identifier">emptyRuleInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#isEmptyRuleInfo"><span class="hs-identifier">isEmptyRuleInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#ruleInfoFreeVars"><span class="hs-identifier">ruleInfoFreeVars</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#ruleInfoRules"><span class="hs-identifier">ruleInfoRules</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#setRuleInfoHead"><span class="hs-identifier">setRuleInfoHead</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#ruleInfo"><span class="hs-identifier">ruleInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#setRuleInfo"><span class="hs-identifier">setRuleInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#tagSigInfo"><span class="hs-identifier">tagSigInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** The CAFInfo type</span></span><span>
</span><span id="line-74"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#CafInfo"><span class="hs-identifier">CafInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#ppCafInfo"><span class="hs-identifier">ppCafInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#mayHaveCafRefs"><span class="hs-identifier">mayHaveCafRefs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-76"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#cafInfo"><span class="hs-identifier">cafInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#setCafInfo"><span class="hs-identifier">setCafInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** The LambdaFormInfo type</span></span><span>
</span><span id="line-79"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Types.html#LambdaFormInfo"><span class="hs-identifier">LambdaFormInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#lfInfo"><span class="hs-identifier">lfInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#setLFInfo"><span class="hs-identifier">setLFInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#setTagSig"><span class="hs-identifier">setTagSig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#tagSig"><span class="hs-identifier">tagSig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Tick-box Info</span></span><span>
</span><span id="line-85"></span><span>        </span><span class="annot"><a href="GHC.Types.Id.Info.html#TickBoxOp"><span class="hs-identifier">TickBoxOp</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#TickBoxId"><span class="hs-identifier">TickBoxId</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-86"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.html"><span class="hs-identifier">GHC.Core</span></a></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Class.html"><span class="hs-identifier">GHC.Core.Class</span></a></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html"><span class="hs-identifier">GHC.Builtin.PrimOps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#PrimOp"><span class="hs-identifier">PrimOp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html"><span class="hs-identifier">GHC.Types.Var.Set</span></a></span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html"><span class="hs-identifier">GHC.Core.DataCon</span></a></span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.PatSyn.html"><span class="hs-identifier">GHC.Core.PatSyn</span></a></span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html"><span class="hs-identifier">GHC.Types.ForeignCall</span></a></span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Demand.html"><span class="hs-identifier">GHC.Types.Demand</span></a></span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Cpr.html"><span class="hs-identifier">GHC.Types.Cpr</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.Plain.html"><span class="hs-identifier">GHC.Utils.Panic.Plain</span></a></span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Stg.InferTags.TagSig.html"><span class="hs-identifier">GHC.Stg.InferTags.TagSig</span></a></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Word.html#/Data.Word.html"><span class="hs-identifier">Data.Word</span></a></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Types.html"><span class="hs-identifier">GHC.StgToCmm.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Types.html#LambdaFormInfo"><span class="hs-identifier">LambdaFormInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-comment">-- infixl so you can say (id `set` a `set` b)</span><span>
</span><span id="line-114"></span><span class="hs-keyword">infixl</span><span>  </span><span class="hs-number">1</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#setRuleInfo"><span class="hs-operator hs-type">`setRuleInfo`</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-115"></span><span>          </span><span class="annot"><a href="GHC.Types.Id.Info.html#setArityInfo"><span class="hs-operator hs-type">`setArityInfo`</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-116"></span><span>          </span><span class="annot"><a href="GHC.Types.Id.Info.html#setInlinePragInfo"><span class="hs-operator hs-type">`setInlinePragInfo`</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-117"></span><span>          </span><span class="annot"><a href="GHC.Types.Id.Info.html#setUnfoldingInfo"><span class="hs-operator hs-type">`setUnfoldingInfo`</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-118"></span><span>          </span><span class="annot"><a href="GHC.Types.Id.Info.html#setOneShotInfo"><span class="hs-operator hs-type">`setOneShotInfo`</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-119"></span><span>          </span><span class="annot"><a href="GHC.Types.Id.Info.html#setOccInfo"><span class="hs-operator hs-type">`setOccInfo`</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-120"></span><span>          </span><span class="annot"><a href="GHC.Types.Id.Info.html#setCafInfo"><span class="hs-operator hs-type">`setCafInfo`</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-121"></span><span>          </span><span class="annot"><a href="GHC.Types.Id.Info.html#setDmdSigInfo"><span class="hs-operator hs-type">`setDmdSigInfo`</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-122"></span><span>          </span><span class="annot"><a href="GHC.Types.Id.Info.html#setCprSigInfo"><span class="hs-operator hs-type">`setCprSigInfo`</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-123"></span><span>          </span><span class="annot"><a href="GHC.Types.Id.Info.html#setDemandInfo"><span class="hs-operator hs-type">`setDemandInfo`</span></a></span><span>
</span><span id="line-124"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                     IdDetails
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-comment">-- | Identifier Details</span><span>
</span><span id="line-133"></span><span class="hs-comment">--</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- The 'IdDetails' of an 'Id' give stable, and necessary,</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- information about the Id.</span><span>
</span><span id="line-136"></span><span class="hs-keyword">data</span><span> </span><span id="IdDetails"><span class="annot"><a href="GHC.Types.Id.Info.html#IdDetails"><span class="hs-identifier hs-var">IdDetails</span></a></span></span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="VanillaId"><span class="annot"><a href="GHC.Types.Id.Info.html#VanillaId"><span class="hs-identifier hs-var">VanillaId</span></a></span></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span>  </span><span class="annot"><span class="hs-comment">-- | The 'Id' for a record selector</span></span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RecSelId"><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelId"><span class="hs-identifier hs-var">RecSelId</span></a></span></span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="sel_tycon"><span class="annot"><span class="annottext">IdDetails -&gt; RecSelParent
</span><a href="GHC.Types.Id.Info.html#sel_tycon"><span class="hs-identifier hs-var hs-var">sel_tycon</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelParent"><span class="hs-identifier hs-type">RecSelParent</span></a></span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="sel_naughty"><span class="annot"><span class="annottext">IdDetails -&gt; Bool
</span><a href="GHC.Types.Id.Info.html#sel_naughty"><span class="hs-identifier hs-var hs-var">sel_naughty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>       </span><span class="hs-comment">-- True &lt;=&gt; a &quot;naughty&quot; selector which can't actually exist, for example @x@ in:</span><span>
</span><span id="line-143"></span><span>                                </span><span class="hs-comment">--    data T = forall a. MkT { x :: a }</span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-special">}</span><span>                           </span><span class="hs-comment">-- See Note [Naughty record selectors] in GHC.Tc.TyCl</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DataConWorkId"><span class="annot"><a href="GHC.Types.Id.Info.html#DataConWorkId"><span class="hs-identifier hs-var">DataConWorkId</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ The 'Id' is for a data constructor /worker/</span></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DataConWrapId"><span class="annot"><a href="GHC.Types.Id.Info.html#DataConWrapId"><span class="hs-identifier hs-var">DataConWrapId</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ The 'Id' is for a data constructor /wrapper/</span></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span>                                </span><span class="hs-comment">-- [the only reasons we need to know is so that</span><span>
</span><span id="line-150"></span><span>                                </span><span class="hs-comment">--  a) to support isImplicitId</span><span>
</span><span id="line-151"></span><span>                                </span><span class="hs-comment">--  b) when desugaring a RecordCon we can get</span><span>
</span><span id="line-152"></span><span>                                </span><span class="hs-comment">--     from the Id back to the data con]</span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ClassOpId"><span class="annot"><a href="GHC.Types.Id.Info.html#ClassOpId"><span class="hs-identifier hs-var">ClassOpId</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.Class.html#Class"><span class="hs-identifier hs-type">Class</span></a></span><span>             </span><span class="hs-comment">-- ^ The 'Id' is a superclass selector,</span><span>
</span><span id="line-154"></span><span>                                </span><span class="hs-comment">-- or class operation of a class</span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PrimOpId"><span class="annot"><a href="GHC.Types.Id.Info.html#PrimOpId"><span class="hs-identifier hs-var">PrimOpId</span></a></span></span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#PrimOp"><span class="hs-identifier hs-type">PrimOp</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>        </span><span class="hs-comment">-- ^ The 'Id' is for a primitive operator</span><span>
</span><span id="line-157"></span><span>                                </span><span class="hs-comment">-- True &lt;=&gt; is representation-polymorphic,</span><span>
</span><span id="line-158"></span><span>                                </span><span class="hs-comment">--          and hence has no binding</span><span>
</span><span id="line-159"></span><span>                                </span><span class="hs-comment">-- This lev-poly flag is used only in GHC.Types.Id.hasNoBinding</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FCallId"><span class="annot"><a href="GHC.Types.Id.Info.html#FCallId"><span class="hs-identifier hs-var">FCallId</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#ForeignCall"><span class="hs-identifier hs-type">ForeignCall</span></a></span><span>         </span><span class="hs-comment">-- ^ The 'Id' is for a foreign call.</span><span>
</span><span id="line-162"></span><span>                                </span><span class="hs-comment">-- Type will be simple: no type families, newtypes, etc</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TickBoxOpId"><span class="annot"><a href="GHC.Types.Id.Info.html#TickBoxOpId"><span class="hs-identifier hs-var">TickBoxOpId</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#TickBoxOp"><span class="hs-identifier hs-type">TickBoxOp</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ The 'Id' is for a HPC tick box (both traditional and binary)</span></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DFunId"><span class="annot"><a href="GHC.Types.Id.Info.html#DFunId"><span class="hs-identifier hs-var">DFunId</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>                 </span><span class="hs-comment">-- ^ A dictionary function.</span><span>
</span><span id="line-167"></span><span>       </span><span class="hs-comment">-- Bool = True &lt;=&gt; the class has only one method, so may be</span><span>
</span><span id="line-168"></span><span>       </span><span class="hs-comment">--                  implemented with a newtype, so it might be bad</span><span>
</span><span id="line-169"></span><span>       </span><span class="hs-comment">--                  to be strict on this dictionary</span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CoVarId"><span class="annot"><a href="GHC.Types.Id.Info.html#CoVarId"><span class="hs-identifier hs-var">CoVarId</span></a></span></span><span>    </span><span class="hs-comment">-- ^ A coercion variable</span><span>
</span><span id="line-172"></span><span>               </span><span class="hs-comment">-- This only covers /un-lifted/ coercions, of type</span><span>
</span><span id="line-173"></span><span>               </span><span class="hs-comment">-- (t1 ~# t2) or (t1 ~R# t2), not their lifted variants</span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="JoinId"><span class="annot"><a href="GHC.Types.Id.Info.html#JoinId"><span class="hs-identifier hs-var">JoinId</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#JoinArity"><span class="hs-identifier hs-type">JoinArity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Basic.html#CbvMark"><span class="hs-identifier hs-type">CbvMark</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>        </span><span class="hs-comment">-- ^ An 'Id' for a join point taking n arguments</span><span>
</span><span id="line-176"></span><span>        </span><span class="hs-comment">-- Note [Join points] in &quot;GHC.Core&quot;</span><span>
</span><span id="line-177"></span><span>        </span><span class="hs-comment">-- Can also work as a WorkerLikeId if given `CbvMark`s.</span><span>
</span><span id="line-178"></span><span>        </span><span class="hs-comment">-- See Note [CBV Function Ids]</span><span>
</span><span id="line-179"></span><span>        </span><span class="hs-comment">-- The [CbvMark] is always empty (and ignored) until after Tidy.</span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="WorkerLikeId"><span class="annot"><a href="GHC.Types.Id.Info.html#WorkerLikeId"><span class="hs-identifier hs-var">WorkerLikeId</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Basic.html#CbvMark"><span class="hs-identifier hs-type">CbvMark</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-181"></span><span>        </span><span class="hs-comment">-- ^ An 'Id' for a worker like function, which might expect some arguments to be</span><span>
</span><span id="line-182"></span><span>        </span><span class="hs-comment">-- passed both evaluated and tagged.</span><span>
</span><span id="line-183"></span><span>        </span><span class="hs-comment">-- Worker like functions are create by W/W and SpecConstr and we can expect that they</span><span>
</span><span id="line-184"></span><span>        </span><span class="hs-comment">-- aren't used unapplied.</span><span>
</span><span id="line-185"></span><span>        </span><span class="hs-comment">-- See Note [CBV Function Ids]</span><span>
</span><span id="line-186"></span><span>        </span><span class="hs-comment">-- See Note [Tag Inference]</span><span>
</span><span id="line-187"></span><span>        </span><span class="hs-comment">-- The [CbvMark] is always empty (and ignored) until after Tidy for ids from the current</span><span>
</span><span id="line-188"></span><span>        </span><span class="hs-comment">-- module.</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-comment">{- Note [CBV Function Ids]
~~~~~~~~~~~~~~~~~~~~~~~~~~~
A WorkerLikeId essentially allows us to constrain the calling convention
for the given Id. Each such Id carries with it a list of CbvMarks
with each element representing a value argument. Arguments who have
a matching `MarkedCbv` entry in the list need to be passed evaluated+*properly tagged*.

CallByValueFunIds give us additional expressiveness which we use to improve
runtime. This is all part of the TagInference work. See also Note [Tag Inference].

They allows us to express the fact that an argument is not only evaluated to WHNF once we
entered it's RHS but also that an lifted argument is already *properly tagged* once we jump
into the RHS.
This means when e.g. branching on such an argument the RHS doesn't needed to perform
an eval check to ensure the argument isn't an indirection. All seqs on such an argument in
the functions body become no-ops as well.

The invariants around the arguments of call by value function like Ids are then:

* In any call `(f e1 .. en)`, if `f`'s i'th argument is marked `MarkedCbv`,
  then the caller must ensure that the i'th argument
  * points directly to the value (and hence is certainly evaluated before the call)
  * is a properly tagged pointer to that value

* The following functions (and only these functions) have `CbvMarks`:
  * Any `WorkerLikeId`
  * Some `JoinId` bindings.

This works analogous to the Strict Field Invariant. See also Note [Strict Field Invariant].

To make this work what we do is:
* During W/W and SpecConstr any worker/specialized binding we introduce
  is marked as a worker binding by `asWorkerLikeId`.
* W/W and SpecConstr further set OtherCon[] unfoldings on arguments which
  represent contents of a strict fields.
* During Tidy we look at all bindings.
  For any callByValueLike Id and join point we mark arguments as cbv if they
  Are strict. We don't do so for regular bindings.
  See Note [Use CBV semantics only for join points and workers] for why.
  We might have made some ids rhs *more* strict in order to make their arguments
  be passed CBV. See Note [Call-by-value for worker args] for why.
* During CorePrep calls to CallByValueFunIds are eta expanded.
* During Stg CodeGen:
  * When we see a call to a callByValueLike Id:
    * We check if all arguments marked to be passed unlifted are already tagged.
    * If they aren't we will wrap the call in case expressions which will evaluate+tag
      these arguments before jumping to the function.
* During Cmm codeGen:
  * When generating code for the RHS of a StrictWorker binding
    we omit tag checks when using arguments marked as tagged.

We only use this for workers and specialized versions of SpecConstr
But we also check other functions during tidy and potentially turn some of them into
call by value functions and mark some of their arguments as call-by-value by looking at
argument unfoldings.

NB: I choose to put the information into a new Id constructor since these are loaded
at all optimization levels. This makes it trivial to ensure the additional
calling convention demands are available at all call sites. Putting it into
IdInfo would require us at the very least to always decode the IdInfo
just to decide if we need to throw it away or not after.

Note [Use CBV semantics only for join points and workers]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
A function with cbv-semantics requires arguments to be visible
and if no arguments are visible requires us to eta-expand it's
call site. That is for a binding with three cbv arguments like
`w[WorkerLikeId[!,!,!]]` we would need to eta expand undersaturated
occurrences like `map w xs` into `map (\x1 x2 x3 -&gt; w x1 x2 x3) xs.

In experiments it turned out that the code size increase of doing so
can outweigh the performance benefits of doing so.
So we only do this for join points, workers and
specialized functions (from SpecConstr).
Join points are naturally always called saturated so
this problem can't occur for them.
For workers and specialized functions there are also always at least
some applied arguments as we won't inline the wrapper/apply their rule
if there are unapplied occurrences like `map f xs`.
-}</span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="annot"><span class="hs-comment">-- | Recursive Selector Parent</span></span><span>
</span><span id="line-272"></span><span class="hs-keyword">data</span><span> </span><span id="RecSelParent"><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelParent"><span class="hs-identifier hs-var">RecSelParent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RecSelData"><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelData"><span class="hs-identifier hs-var">RecSelData</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="RecSelPatSyn"><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelPatSyn"><span class="hs-identifier hs-var">RecSelPatSyn</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.PatSyn.html#PatSyn"><span class="hs-identifier hs-type">PatSyn</span></a></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621681638961"><span id="local-6989586621681638967"><span class="annot"><span class="annottext">RecSelParent -&gt; RecSelParent -&gt; Bool
(RecSelParent -&gt; RecSelParent -&gt; Bool)
-&gt; (RecSelParent -&gt; RecSelParent -&gt; Bool) -&gt; Eq RecSelParent
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: RecSelParent -&gt; RecSelParent -&gt; Bool
== :: RecSelParent -&gt; RecSelParent -&gt; Bool
$c/= :: RecSelParent -&gt; RecSelParent -&gt; Bool
/= :: RecSelParent -&gt; RecSelParent -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span>
</span><span id="line-273"></span><span>  </span><span class="hs-comment">-- Either `TyCon` or `PatSyn` depending</span><span>
</span><span id="line-274"></span><span>  </span><span class="hs-comment">-- on the origin of the record selector.</span><span>
</span><span id="line-275"></span><span>  </span><span class="hs-comment">-- For a data type family, this is the</span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-comment">-- /instance/ 'TyCon' not the family 'TyCon'</span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelParent"><span class="hs-identifier hs-type">RecSelParent</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-279"></span><span>  </span><span id="local-6989586621681638978"><span class="annot"><span class="annottext">ppr :: RecSelParent -&gt; SDoc
</span><a href="#local-6989586621681638978"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span id="local-6989586621681638980"><span class="annot"><span class="annottext">RecSelParent
</span><a href="#local-6989586621681638980"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">RecSelParent
</span><a href="#local-6989586621681638980"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-280"></span><span>            </span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelData"><span class="hs-identifier hs-type">RecSelData</span></a></span><span> </span><span id="local-6989586621681638981"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681638981"><span class="hs-identifier hs-var">ty_con</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681638981"><span class="hs-identifier hs-var">ty_con</span></a></span><span>
</span><span id="line-281"></span><span>            </span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelPatSyn"><span class="hs-identifier hs-type">RecSelPatSyn</span></a></span><span> </span><span id="local-6989586621681638982"><span class="annot"><span class="annottext">PatSyn
</span><a href="#local-6989586621681638982"><span class="hs-identifier hs-var">ps</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PatSyn -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PatSyn
</span><a href="#local-6989586621681638982"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="hs-comment">-- | Just a synonym for 'CoVarId'. Written separately so it can be</span><span>
</span><span id="line-284"></span><span class="hs-comment">-- exported in the hs-boot file.</span><span>
</span><span id="line-285"></span><span class="annot"><a href="GHC.Types.Id.Info.html#coVarDetails"><span class="hs-identifier hs-type">coVarDetails</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdDetails"><span class="hs-identifier hs-type">IdDetails</span></a></span><span>
</span><span id="line-286"></span><span id="coVarDetails"><span class="annot"><span class="annottext">coVarDetails :: IdDetails
</span><a href="GHC.Types.Id.Info.html#coVarDetails"><span class="hs-identifier hs-var hs-var">coVarDetails</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdDetails
</span><a href="GHC.Types.Id.Info.html#CoVarId"><span class="hs-identifier hs-var">CoVarId</span></a></span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span class="annot"><span class="hs-comment">-- | Check if an 'IdDetails' says 'CoVarId'.</span></span><span>
</span><span id="line-289"></span><span class="annot"><a href="GHC.Types.Id.Info.html#isCoVarDetails"><span class="hs-identifier hs-type">isCoVarDetails</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdDetails"><span class="hs-identifier hs-type">IdDetails</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-290"></span><span id="isCoVarDetails"><span class="annot"><span class="annottext">isCoVarDetails :: IdDetails -&gt; Bool
</span><a href="GHC.Types.Id.Info.html#isCoVarDetails"><span class="hs-identifier hs-var hs-var">isCoVarDetails</span></a></span></span><span> </span><span class="annot"><span class="annottext">IdDetails
</span><a href="GHC.Types.Id.Info.html#CoVarId"><span class="hs-identifier hs-var">CoVarId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-291"></span><span class="annot"><a href="GHC.Types.Id.Info.html#isCoVarDetails"><span class="hs-identifier hs-var">isCoVarDetails</span></a></span><span> </span><span class="annot"><span class="annottext">IdDetails
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span class="annot"><a href="GHC.Types.Id.Info.html#isJoinIdDetails_maybe"><span class="hs-identifier hs-type">isJoinIdDetails_maybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdDetails"><span class="hs-identifier hs-type">IdDetails</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#JoinArity"><span class="hs-identifier hs-type">JoinArity</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Basic.html#CbvMark"><span class="hs-identifier hs-type">CbvMark</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span id="isJoinIdDetails_maybe"><span class="annot"><span class="annottext">isJoinIdDetails_maybe :: IdDetails -&gt; Maybe (Int, Maybe [CbvMark])
</span><a href="GHC.Types.Id.Info.html#isJoinIdDetails_maybe"><span class="hs-identifier hs-var hs-var">isJoinIdDetails_maybe</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#JoinId"><span class="hs-identifier hs-type">JoinId</span></a></span><span> </span><span id="local-6989586621681638983"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681638983"><span class="hs-identifier hs-var">join_arity</span></a></span></span><span> </span><span id="local-6989586621681638984"><span class="annot"><span class="annottext">Maybe [CbvMark]
</span><a href="#local-6989586621681638984"><span class="hs-identifier hs-var">marks</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int, Maybe [CbvMark]) -&gt; Maybe (Int, Maybe [CbvMark])
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681638983"><span class="hs-identifier hs-var">join_arity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe [CbvMark]
</span><a href="#local-6989586621681638984"><span class="hs-identifier hs-var">marks</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span class="annot"><a href="GHC.Types.Id.Info.html#isJoinIdDetails_maybe"><span class="hs-identifier hs-var">isJoinIdDetails_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">IdDetails
</span><span class="hs-identifier">_</span></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Int, Maybe [CbvMark])
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdDetails"><span class="hs-identifier hs-type">IdDetails</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-298"></span><span>    </span><span id="local-6989586621681638987"><span class="annot"><span class="annottext">ppr :: IdDetails -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdDetails -&gt; SDoc
</span><a href="GHC.Types.Id.Info.html#pprIdDetails"><span class="hs-identifier hs-var">pprIdDetails</span></a></span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span class="annot"><a href="GHC.Types.Id.Info.html#pprIdDetails"><span class="hs-identifier hs-type">pprIdDetails</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdDetails"><span class="hs-identifier hs-type">IdDetails</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-301"></span><span id="pprIdDetails"><span class="annot"><span class="annottext">pprIdDetails :: IdDetails -&gt; SDoc
</span><a href="GHC.Types.Id.Info.html#pprIdDetails"><span class="hs-identifier hs-var hs-var">pprIdDetails</span></a></span></span><span> </span><span class="annot"><span class="annottext">IdDetails
</span><a href="GHC.Types.Id.Info.html#VanillaId"><span class="hs-identifier hs-var">VanillaId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-302"></span><span class="annot"><a href="GHC.Types.Id.Info.html#pprIdDetails"><span class="hs-identifier hs-var">pprIdDetails</span></a></span><span> </span><span id="local-6989586621681638989"><span class="annot"><span class="annottext">IdDetails
</span><a href="#local-6989586621681638989"><span class="hs-identifier hs-var">other</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdDetails -&gt; SDoc
</span><a href="#local-6989586621681638991"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">IdDetails
</span><a href="#local-6989586621681638989"><span class="hs-identifier hs-var">other</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-304"></span><span>   </span><span id="local-6989586621681638991"><span class="annot"><span class="annottext">pp :: IdDetails -&gt; SDoc
</span><a href="#local-6989586621681638991"><span class="hs-identifier hs-var hs-var">pp</span></a></span></span><span> </span><span class="annot"><span class="annottext">IdDetails
</span><a href="GHC.Types.Id.Info.html#VanillaId"><span class="hs-identifier hs-var">VanillaId</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;pprIdDetails&quot;</span></span><span>
</span><span id="line-305"></span><span>   </span><span class="annot"><a href="#local-6989586621681638991"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#WorkerLikeId"><span class="hs-identifier hs-type">WorkerLikeId</span></a></span><span> </span><span id="local-6989586621681639026"><span class="annot"><span class="annottext">[CbvMark]
</span><a href="#local-6989586621681639026"><span class="hs-identifier hs-var">dmds</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;StrictWorker&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CbvMark] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[CbvMark]
</span><a href="#local-6989586621681639026"><span class="hs-identifier hs-var">dmds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>   </span><span class="annot"><a href="#local-6989586621681638991"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#DataConWorkId"><span class="hs-identifier hs-type">DataConWorkId</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;DataCon&quot;</span></span><span>
</span><span id="line-307"></span><span>   </span><span class="annot"><a href="#local-6989586621681638991"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#DataConWrapId"><span class="hs-identifier hs-type">DataConWrapId</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;DataConWrapper&quot;</span></span><span>
</span><span id="line-308"></span><span>   </span><span class="annot"><a href="#local-6989586621681638991"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#ClassOpId"><span class="hs-identifier hs-type">ClassOpId</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ClassOp&quot;</span></span><span>
</span><span id="line-309"></span><span>   </span><span class="annot"><a href="#local-6989586621681638991"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#PrimOpId"><span class="hs-identifier hs-type">PrimOpId</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PrimOp&quot;</span></span><span>
</span><span id="line-310"></span><span>   </span><span class="annot"><a href="#local-6989586621681638991"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#FCallId"><span class="hs-identifier hs-type">FCallId</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignCall
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ForeignCall&quot;</span></span><span>
</span><span id="line-311"></span><span>   </span><span class="annot"><a href="#local-6989586621681638991"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#TickBoxOpId"><span class="hs-identifier hs-type">TickBoxOpId</span></a></span><span> </span><span class="annot"><span class="annottext">TickBoxOp
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TickBoxOp&quot;</span></span><span>
</span><span id="line-312"></span><span>   </span><span class="annot"><a href="#local-6989586621681638991"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#DFunId"><span class="hs-identifier hs-type">DFunId</span></a></span><span> </span><span id="local-6989586621681639030"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681639030"><span class="hs-identifier hs-var">nt</span></a></span></span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;DFunId&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SDoc -&gt; SDoc
forall doc. IsOutput doc =&gt; Bool -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#ppWhen"><span class="hs-identifier hs-var">ppWhen</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681639030"><span class="hs-identifier hs-var">nt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(nt)&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>   </span><span class="annot"><a href="#local-6989586621681638991"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelId"><span class="hs-identifier hs-type">RecSelId</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sel_naughty :: IdDetails -&gt; Bool
</span><a href="GHC.Types.Id.Info.html#sel_naughty"><span class="hs-identifier hs-var">sel_naughty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681639032"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681639032"><span class="hs-identifier hs-var">is_naughty</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-314"></span><span>                              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; SDoc -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;RecSel&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-315"></span><span>                                           </span><span class="annot"><span class="annottext">Bool -&gt; SDoc -&gt; SDoc
forall doc. IsOutput doc =&gt; Bool -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#ppWhen"><span class="hs-identifier hs-var">ppWhen</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681639032"><span class="hs-identifier hs-var">is_naughty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(naughty)&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>   </span><span class="annot"><a href="#local-6989586621681638991"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">IdDetails
</span><a href="GHC.Types.Id.Info.html#CoVarId"><span class="hs-identifier hs-var">CoVarId</span></a></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CoVarId&quot;</span></span><span>
</span><span id="line-317"></span><span>   </span><span class="annot"><a href="#local-6989586621681638991"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#JoinId"><span class="hs-identifier hs-type">JoinId</span></a></span><span> </span><span id="local-6989586621681639033"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681639033"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span id="local-6989586621681639034"><span class="annot"><span class="annottext">Maybe [CbvMark]
</span><a href="#local-6989586621681639034"><span class="hs-identifier hs-var">marks</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;JoinId&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; SDoc
forall doc. IsLine doc =&gt; Int -&gt; doc
</span><a href="GHC.Utils.Outputable.html#int"><span class="hs-identifier hs-var">int</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681639033"><span class="hs-identifier hs-var">arity</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe [CbvMark] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [CbvMark]
</span><a href="#local-6989586621681639034"><span class="hs-identifier hs-var">marks</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{The main IdInfo type}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span class="hs-comment">-- | Identifier Information</span><span>
</span><span id="line-328"></span><span class="hs-comment">--</span><span>
</span><span id="line-329"></span><span class="hs-comment">-- An 'IdInfo' gives /optional/ information about an 'Id'.  If</span><span>
</span><span id="line-330"></span><span class="hs-comment">-- present it never lies, but it may not be present, in which case there</span><span>
</span><span id="line-331"></span><span class="hs-comment">-- is always a conservative assumption which can be made.</span><span>
</span><span id="line-332"></span><span class="hs-comment">--</span><span>
</span><span id="line-333"></span><span class="hs-comment">-- Two 'Id's may have different info even though they have the same</span><span>
</span><span id="line-334"></span><span class="hs-comment">-- 'Unique' (and are hence the same 'Id'); for example, one might lack</span><span>
</span><span id="line-335"></span><span class="hs-comment">-- the properties attached to the other.</span><span>
</span><span id="line-336"></span><span class="hs-comment">--</span><span>
</span><span id="line-337"></span><span class="hs-comment">-- Most of the 'IdInfo' gives information about the value, or definition, of</span><span>
</span><span id="line-338"></span><span class="hs-comment">-- the 'Id', independent of its usage. Exceptions to this</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- are 'demandInfo', 'occInfo', 'oneShotInfo' and 'callArityInfo'.</span><span>
</span><span id="line-340"></span><span class="hs-comment">--</span><span>
</span><span id="line-341"></span><span class="hs-comment">-- Performance note: when we update 'IdInfo', we have to reallocate this</span><span>
</span><span id="line-342"></span><span class="hs-comment">-- entire record, so it is a good idea not to let this data structure get</span><span>
</span><span id="line-343"></span><span class="hs-comment">-- too big.</span><span>
</span><span id="line-344"></span><span class="hs-keyword">data</span><span> </span><span id="IdInfo"><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-var">IdInfo</span></a></span></span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="IdInfo"><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-var">IdInfo</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-346"></span><span>        </span><span id="ruleInfo"><span class="annot"><span class="annottext">IdInfo -&gt; RuleInfo
</span><a href="GHC.Types.Id.Info.html#ruleInfo"><span class="hs-identifier hs-var hs-var">ruleInfo</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-type">RuleInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-347"></span><span>        </span><span class="hs-comment">-- ^ Specialisations of the 'Id's function which exist.</span><span>
</span><span id="line-348"></span><span>        </span><span class="hs-comment">-- See Note [Specialisations and RULES in IdInfo]</span><span>
</span><span id="line-349"></span><span>        </span><span id="realUnfoldingInfo"><span class="annot"><span class="annottext">IdInfo -&gt; Unfolding
</span><a href="GHC.Types.Id.Info.html#realUnfoldingInfo"><span class="hs-identifier hs-var hs-var">realUnfoldingInfo</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.html#Unfolding"><span class="hs-identifier hs-type">Unfolding</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-350"></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ The 'Id's unfolding</span></span><span>
</span><span id="line-351"></span><span>        </span><span id="inlinePragInfo"><span class="annot"><span class="annottext">IdInfo -&gt; InlinePragma
</span><a href="GHC.Types.Id.Info.html#inlinePragInfo"><span class="hs-identifier hs-var hs-var">inlinePragInfo</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-352"></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ Any inline pragma attached to the 'Id'</span></span><span>
</span><span id="line-353"></span><span>        </span><span id="occInfo"><span class="annot"><span class="annottext">IdInfo -&gt; OccInfo
</span><a href="GHC.Types.Id.Info.html#occInfo"><span class="hs-identifier hs-var hs-var">occInfo</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#OccInfo"><span class="hs-identifier hs-type">OccInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-354"></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ How the 'Id' occurs in the program</span></span><span>
</span><span id="line-355"></span><span>        </span><span id="dmdSigInfo"><span class="annot"><span class="annottext">IdInfo -&gt; DmdSig
</span><a href="GHC.Types.Id.Info.html#dmdSigInfo"><span class="hs-identifier hs-var hs-var">dmdSigInfo</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Demand.html#DmdSig"><span class="hs-identifier hs-type">DmdSig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-356"></span><span>        </span><span class="hs-comment">-- ^ A strictness signature. Describes how a function uses its arguments</span><span>
</span><span id="line-357"></span><span>        </span><span class="hs-comment">--   See Note [idArity varies independently of dmdTypeDepth]</span><span>
</span><span id="line-358"></span><span>        </span><span class="hs-comment">--       in GHC.Core.Opt.DmdAnal</span><span>
</span><span id="line-359"></span><span>        </span><span id="cprSigInfo"><span class="annot"><span class="annottext">IdInfo -&gt; CprSig
</span><a href="GHC.Types.Id.Info.html#cprSigInfo"><span class="hs-identifier hs-var hs-var">cprSigInfo</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Cpr.html#CprSig"><span class="hs-identifier hs-type">CprSig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-360"></span><span>        </span><span class="hs-comment">-- ^ Information on whether the function will ultimately return a</span><span>
</span><span id="line-361"></span><span>        </span><span class="hs-comment">-- freshly allocated constructor.</span><span>
</span><span id="line-362"></span><span>        </span><span id="demandInfo"><span class="annot"><span class="annottext">IdInfo -&gt; Demand
</span><a href="GHC.Types.Id.Info.html#demandInfo"><span class="hs-identifier hs-var hs-var">demandInfo</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Demand.html#Demand"><span class="hs-identifier hs-type">Demand</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-363"></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ ID demand information</span></span><span>
</span><span id="line-364"></span><span>        </span><span id="bitfield"><span class="annot"><span class="annottext">IdInfo -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#bitfield"><span class="hs-identifier hs-var hs-var">bitfield</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-365"></span><span>        </span><span class="hs-comment">-- ^ Bitfield packs CafInfo, OneShotInfo, arity info, and</span><span>
</span><span id="line-366"></span><span>        </span><span class="hs-comment">-- call arity info in one 64-bit word. Packing these fields reduces size</span><span>
</span><span id="line-367"></span><span>        </span><span class="hs-comment">-- of `IdInfo` from 12 words to 7 words and reduces residency by almost</span><span>
</span><span id="line-368"></span><span>        </span><span class="hs-comment">-- 4% in some programs. See #17497 and associated MR.</span><span>
</span><span id="line-369"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-370"></span><span>        </span><span class="hs-comment">-- See documentation of the getters for what these packed fields mean.</span><span>
</span><span id="line-371"></span><span>        </span><span id="lfInfo"><span class="annot"><span class="annottext">IdInfo -&gt; Maybe LambdaFormInfo
</span><a href="GHC.Types.Id.Info.html#lfInfo"><span class="hs-identifier hs-var hs-var">lfInfo</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Types.html#LambdaFormInfo"><span class="hs-identifier hs-type">LambdaFormInfo</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-372"></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ See Note [The LFInfo of Imported Ids] in GHC.StgToCmm.Closure</span></span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span>        </span><span class="hs-comment">-- See documentation of the getters for what these packed fields mean.</span><span>
</span><span id="line-375"></span><span>        </span><span id="tagSig"><span class="annot"><span class="annottext">IdInfo -&gt; Maybe TagSig
</span><a href="GHC.Types.Id.Info.html#tagSig"><span class="hs-identifier hs-var hs-var">tagSig</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.InferTags.TagSig.html#TagSig"><span class="hs-identifier hs-type">TagSig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-377"></span><span>
</span><span id="line-378"></span><span class="hs-comment">-- | Encodes arities, OneShotInfo, CafInfo.</span><span>
</span><span id="line-379"></span><span class="hs-comment">-- From least-significant to most-significant bits:</span><span>
</span><span id="line-380"></span><span class="hs-comment">--</span><span>
</span><span id="line-381"></span><span class="hs-comment">-- - Bit   0   (1):  OneShotInfo</span><span>
</span><span id="line-382"></span><span class="hs-comment">-- - Bit   1   (1):  CafInfo</span><span>
</span><span id="line-383"></span><span class="hs-comment">-- - Bit   2   (1):  unused</span><span>
</span><span id="line-384"></span><span class="hs-comment">-- - Bits  3-32(30): Call Arity info</span><span>
</span><span id="line-385"></span><span class="hs-comment">-- - Bits 33-62(30): Arity info</span><span>
</span><span id="line-386"></span><span class="hs-comment">--</span><span>
</span><span id="line-387"></span><span class="hs-keyword">newtype</span><span> </span><span id="BitField"><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-var">BitField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BitField"><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-var">BitField</span></a></span></span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Word.html#Word64/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span class="annot"><a href="GHC.Types.Id.Info.html#emptyBitField"><span class="hs-identifier hs-type">emptyBitField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span>
</span><span id="line-390"></span><span id="emptyBitField"><span class="annot"><span class="annottext">emptyBitField :: BitField
</span><a href="GHC.Types.Id.Info.html#emptyBitField"><span class="hs-identifier hs-var hs-var">emptyBitField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-var">BitField</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfieldGetOneShotInfo"><span class="hs-identifier hs-type">bitfieldGetOneShotInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#OneShotInfo"><span class="hs-identifier hs-type">OneShotInfo</span></a></span><span>
</span><span id="line-393"></span><span id="bitfieldGetOneShotInfo"><span class="annot"><span class="annottext">bitfieldGetOneShotInfo :: BitField -&gt; OneShotInfo
</span><a href="GHC.Types.Id.Info.html#bitfieldGetOneShotInfo"><span class="hs-identifier hs-var hs-var">bitfieldGetOneShotInfo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span id="local-6989586621681639041"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639041"><span class="hs-identifier hs-var">bits</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-394"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><a href="../../base-4.18.3.0/src/GHC.Bits.html#testBit/GHC.Bits.html#testBit"><span class="hs-identifier hs-var">testBit</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639041"><span class="hs-identifier hs-var">bits</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">OneShotInfo
</span><a href="GHC.Types.Basic.html#OneShotLam"><span class="hs-identifier hs-var">OneShotLam</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">OneShotInfo
</span><a href="GHC.Types.Basic.html#NoOneShotInfo"><span class="hs-identifier hs-var">NoOneShotInfo</span></a></span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfieldGetCafInfo"><span class="hs-identifier hs-type">bitfieldGetCafInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#CafInfo"><span class="hs-identifier hs-type">CafInfo</span></a></span><span>
</span><span id="line-397"></span><span id="bitfieldGetCafInfo"><span class="annot"><span class="annottext">bitfieldGetCafInfo :: BitField -&gt; CafInfo
</span><a href="GHC.Types.Id.Info.html#bitfieldGetCafInfo"><span class="hs-identifier hs-var hs-var">bitfieldGetCafInfo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span id="local-6989586621681639046"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639046"><span class="hs-identifier hs-var">bits</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-398"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><a href="../../base-4.18.3.0/src/GHC.Bits.html#testBit/GHC.Bits.html#testBit"><span class="hs-identifier hs-var">testBit</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639046"><span class="hs-identifier hs-var">bits</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CafInfo
</span><a href="GHC.Types.Id.Info.html#NoCafRefs"><span class="hs-identifier hs-var">NoCafRefs</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">CafInfo
</span><a href="GHC.Types.Id.Info.html#MayHaveCafRefs"><span class="hs-identifier hs-var">MayHaveCafRefs</span></a></span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfieldGetCallArityInfo"><span class="hs-identifier hs-type">bitfieldGetCallArityInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#ArityInfo"><span class="hs-identifier hs-type">ArityInfo</span></a></span><span>
</span><span id="line-401"></span><span id="bitfieldGetCallArityInfo"><span class="annot"><span class="annottext">bitfieldGetCallArityInfo :: BitField -&gt; Int
</span><a href="GHC.Types.Id.Info.html#bitfieldGetCallArityInfo"><span class="hs-identifier hs-var hs-var">bitfieldGetCallArityInfo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span id="local-6989586621681639050"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639050"><span class="hs-identifier hs-var">bits</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-402"></span><span>    </span><span class="annot"><span class="annottext">Word64 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Real.html#fromIntegral/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639050"><span class="hs-identifier hs-var">bits</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="GHC.Prelude.Basic.html#shiftR"><span class="hs-operator hs-var">`shiftR`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Bits.html#.%26./GHC.Bits.html#.%26."><span class="hs-operator hs-var">.&amp;.</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="GHC.Prelude.Basic.html#shiftL"><span class="hs-operator hs-var">`shiftL`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">30</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfieldGetArityInfo"><span class="hs-identifier hs-type">bitfieldGetArityInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#ArityInfo"><span class="hs-identifier hs-type">ArityInfo</span></a></span><span>
</span><span id="line-405"></span><span id="bitfieldGetArityInfo"><span class="annot"><span class="annottext">bitfieldGetArityInfo :: BitField -&gt; Int
</span><a href="GHC.Types.Id.Info.html#bitfieldGetArityInfo"><span class="hs-identifier hs-var hs-var">bitfieldGetArityInfo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span id="local-6989586621681639055"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639055"><span class="hs-identifier hs-var">bits</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-406"></span><span>    </span><span class="annot"><span class="annottext">Word64 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Real.html#fromIntegral/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639055"><span class="hs-identifier hs-var">bits</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="GHC.Prelude.Basic.html#shiftR"><span class="hs-operator hs-var">`shiftR`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">33</span></span><span class="hs-special">)</span><span>
</span><span id="line-407"></span><span>
</span><span id="line-408"></span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfieldSetOneShotInfo"><span class="hs-identifier hs-type">bitfieldSetOneShotInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#OneShotInfo"><span class="hs-identifier hs-type">OneShotInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span>
</span><span id="line-409"></span><span id="bitfieldSetOneShotInfo"><span class="annot"><span class="annottext">bitfieldSetOneShotInfo :: OneShotInfo -&gt; BitField -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#bitfieldSetOneShotInfo"><span class="hs-identifier hs-var hs-var">bitfieldSetOneShotInfo</span></a></span></span><span> </span><span id="local-6989586621681639057"><span class="annot"><span class="annottext">OneShotInfo
</span><a href="#local-6989586621681639057"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span id="local-6989586621681639058"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639058"><span class="hs-identifier hs-var">bits</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-410"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OneShotInfo
</span><a href="#local-6989586621681639057"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-411"></span><span>      </span><span class="annot"><span class="annottext">OneShotInfo
</span><a href="GHC.Types.Basic.html#NoOneShotInfo"><span class="hs-identifier hs-var">NoOneShotInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-var">BitField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Bits.html#clearBit/GHC.Bits.html#clearBit"><span class="hs-identifier hs-var">clearBit</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639058"><span class="hs-identifier hs-var">bits</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-412"></span><span>      </span><span class="annot"><span class="annottext">OneShotInfo
</span><a href="GHC.Types.Basic.html#OneShotLam"><span class="hs-identifier hs-var">OneShotLam</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-var">BitField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Bits.html#setBit/GHC.Bits.html#setBit"><span class="hs-identifier hs-var">setBit</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639058"><span class="hs-identifier hs-var">bits</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfieldSetCafInfo"><span class="hs-identifier hs-type">bitfieldSetCafInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#CafInfo"><span class="hs-identifier hs-type">CafInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span>
</span><span id="line-415"></span><span id="bitfieldSetCafInfo"><span class="annot"><span class="annottext">bitfieldSetCafInfo :: CafInfo -&gt; BitField -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#bitfieldSetCafInfo"><span class="hs-identifier hs-var hs-var">bitfieldSetCafInfo</span></a></span></span><span> </span><span id="local-6989586621681639062"><span class="annot"><span class="annottext">CafInfo
</span><a href="#local-6989586621681639062"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span id="local-6989586621681639063"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639063"><span class="hs-identifier hs-var">bits</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-416"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CafInfo
</span><a href="#local-6989586621681639062"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-417"></span><span>      </span><span class="annot"><span class="annottext">CafInfo
</span><a href="GHC.Types.Id.Info.html#MayHaveCafRefs"><span class="hs-identifier hs-var">MayHaveCafRefs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-var">BitField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Bits.html#clearBit/GHC.Bits.html#clearBit"><span class="hs-identifier hs-var">clearBit</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639063"><span class="hs-identifier hs-var">bits</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>      </span><span class="annot"><span class="annottext">CafInfo
</span><a href="GHC.Types.Id.Info.html#NoCafRefs"><span class="hs-identifier hs-var">NoCafRefs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-var">BitField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Bits.html#setBit/GHC.Bits.html#setBit"><span class="hs-identifier hs-var">setBit</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639063"><span class="hs-identifier hs-var">bits</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfieldSetCallArityInfo"><span class="hs-identifier hs-type">bitfieldSetCallArityInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#ArityInfo"><span class="hs-identifier hs-type">ArityInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span>
</span><span id="line-421"></span><span id="bitfieldSetCallArityInfo"><span class="annot"><span class="annottext">bitfieldSetCallArityInfo :: Int -&gt; BitField -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#bitfieldSetCallArityInfo"><span class="hs-identifier hs-var hs-var">bitfieldSetCallArityInfo</span></a></span></span><span> </span><span id="local-6989586621681639065"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681639065"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681639066"><span class="annot"><span class="annottext">bf :: BitField
</span><a href="#local-6989586621681639066"><span class="hs-identifier hs-var">bf</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span id="local-6989586621681639067"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639067"><span class="hs-identifier hs-var">bits</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-422"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; BitField -&gt; BitField
forall a. HasCallStack =&gt; Bool -&gt; a -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681639065"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Real.html#%5E/GHC.Real.html#%5E"><span class="hs-operator hs-var">^</span></a></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">30</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(BitField -&gt; BitField) -&gt; BitField -&gt; BitField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-423"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; BitField -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#bitfieldSetArityInfo"><span class="hs-identifier hs-var">bitfieldSetArityInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BitField -&gt; Int
</span><a href="GHC.Types.Id.Info.html#bitfieldGetArityInfo"><span class="hs-identifier hs-var">bitfieldGetArityInfo</span></a></span><span> </span><span class="annot"><span class="annottext">BitField
</span><a href="#local-6989586621681639066"><span class="hs-identifier hs-var">bf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(BitField -&gt; BitField) -&gt; BitField -&gt; BitField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-424"></span><span>    </span><span class="annot"><span class="annottext">Word64 -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-var">BitField</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Real.html#fromIntegral/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681639065"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="GHC.Prelude.Basic.html#shiftL"><span class="hs-operator hs-var">`shiftL`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Bits.html#.%7C./GHC.Bits.html#.%7C."><span class="hs-operator hs-var">.|.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639067"><span class="hs-identifier hs-var">bits</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Bits.html#.%26./GHC.Bits.html#.%26."><span class="hs-operator hs-var">.&amp;.</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0b111</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfieldSetArityInfo"><span class="hs-identifier hs-type">bitfieldSetArityInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#ArityInfo"><span class="hs-identifier hs-type">ArityInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span>
</span><span id="line-427"></span><span id="bitfieldSetArityInfo"><span class="annot"><span class="annottext">bitfieldSetArityInfo :: Int -&gt; BitField -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#bitfieldSetArityInfo"><span class="hs-identifier hs-var hs-var">bitfieldSetArityInfo</span></a></span></span><span> </span><span id="local-6989586621681639073"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681639073"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-type">BitField</span></a></span><span> </span><span id="local-6989586621681639074"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639074"><span class="hs-identifier hs-var">bits</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-428"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; BitField -&gt; BitField
forall a. HasCallStack =&gt; Bool -&gt; a -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681639073"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Real.html#%5E/GHC.Real.html#%5E"><span class="hs-operator hs-var">^</span></a></span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">30</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(BitField -&gt; BitField) -&gt; BitField -&gt; BitField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-429"></span><span>    </span><span class="annot"><span class="annottext">Word64 -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#BitField"><span class="hs-identifier hs-var">BitField</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Real.html#fromIntegral/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681639073"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="GHC.Prelude.Basic.html#shiftL"><span class="hs-operator hs-var">`shiftL`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">33</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Bits.html#.%7C./GHC.Bits.html#.%7C."><span class="hs-operator hs-var">.|.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681639074"><span class="hs-identifier hs-var">bits</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Bits.html#.%26./GHC.Bits.html#.%26."><span class="hs-operator hs-var">.&amp;.</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Int -&gt; Word64
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="GHC.Prelude.Basic.html#shiftL"><span class="hs-operator hs-var">`shiftL`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">33</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Num.html#-/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span class="hs-comment">-- Getters</span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span class="annot"><span class="hs-comment">-- | Info about a lambda-bound variable, if the 'Id' is one</span></span><span>
</span><span id="line-434"></span><span class="annot"><a href="GHC.Types.Id.Info.html#oneShotInfo"><span class="hs-identifier hs-type">oneShotInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#OneShotInfo"><span class="hs-identifier hs-type">OneShotInfo</span></a></span><span>
</span><span id="line-435"></span><span id="oneShotInfo"><span class="annot"><span class="annottext">oneShotInfo :: IdInfo -&gt; OneShotInfo
</span><a href="GHC.Types.Id.Info.html#oneShotInfo"><span class="hs-identifier hs-var hs-var">oneShotInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BitField -&gt; OneShotInfo
</span><a href="GHC.Types.Id.Info.html#bitfieldGetOneShotInfo"><span class="hs-identifier hs-var">bitfieldGetOneShotInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(BitField -&gt; OneShotInfo)
-&gt; (IdInfo -&gt; BitField) -&gt; IdInfo -&gt; OneShotInfo
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#bitfield"><span class="hs-identifier hs-var">bitfield</span></a></span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="hs-comment">-- | 'Id' arity, as computed by &quot;GHC.Core.Opt.Arity&quot;. Specifies how many arguments</span><span>
</span><span id="line-438"></span><span class="hs-comment">-- this 'Id' has to be applied to before it does any meaningful work.</span><span>
</span><span id="line-439"></span><span class="annot"><a href="GHC.Types.Id.Info.html#arityInfo"><span class="hs-identifier hs-type">arityInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#ArityInfo"><span class="hs-identifier hs-type">ArityInfo</span></a></span><span>
</span><span id="line-440"></span><span id="arityInfo"><span class="annot"><span class="annottext">arityInfo :: IdInfo -&gt; Int
</span><a href="GHC.Types.Id.Info.html#arityInfo"><span class="hs-identifier hs-var hs-var">arityInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BitField -&gt; Int
</span><a href="GHC.Types.Id.Info.html#bitfieldGetArityInfo"><span class="hs-identifier hs-var">bitfieldGetArityInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(BitField -&gt; Int) -&gt; (IdInfo -&gt; BitField) -&gt; IdInfo -&gt; Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#bitfield"><span class="hs-identifier hs-var">bitfield</span></a></span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span class="annot"><span class="hs-comment">-- | 'Id' CAF info</span></span><span>
</span><span id="line-443"></span><span class="annot"><a href="GHC.Types.Id.Info.html#cafInfo"><span class="hs-identifier hs-type">cafInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#CafInfo"><span class="hs-identifier hs-type">CafInfo</span></a></span><span>
</span><span id="line-444"></span><span id="cafInfo"><span class="annot"><span class="annottext">cafInfo :: IdInfo -&gt; CafInfo
</span><a href="GHC.Types.Id.Info.html#cafInfo"><span class="hs-identifier hs-var hs-var">cafInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BitField -&gt; CafInfo
</span><a href="GHC.Types.Id.Info.html#bitfieldGetCafInfo"><span class="hs-identifier hs-var">bitfieldGetCafInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(BitField -&gt; CafInfo) -&gt; (IdInfo -&gt; BitField) -&gt; IdInfo -&gt; CafInfo
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#bitfield"><span class="hs-identifier hs-var">bitfield</span></a></span><span>
</span><span id="line-445"></span><span>
</span><span id="line-446"></span><span class="hs-comment">-- | How this is called. This is the number of arguments to which a binding can</span><span>
</span><span id="line-447"></span><span class="hs-comment">-- be eta-expanded without losing any sharing. n &lt;=&gt; all calls have at least n</span><span>
</span><span id="line-448"></span><span class="hs-comment">-- arguments</span><span>
</span><span id="line-449"></span><span class="annot"><a href="GHC.Types.Id.Info.html#callArityInfo"><span class="hs-identifier hs-type">callArityInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#ArityInfo"><span class="hs-identifier hs-type">ArityInfo</span></a></span><span>
</span><span id="line-450"></span><span id="callArityInfo"><span class="annot"><span class="annottext">callArityInfo :: IdInfo -&gt; Int
</span><a href="GHC.Types.Id.Info.html#callArityInfo"><span class="hs-identifier hs-var hs-var">callArityInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BitField -&gt; Int
</span><a href="GHC.Types.Id.Info.html#bitfieldGetCallArityInfo"><span class="hs-identifier hs-var">bitfieldGetCallArityInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(BitField -&gt; Int) -&gt; (IdInfo -&gt; BitField) -&gt; IdInfo -&gt; Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#bitfield"><span class="hs-identifier hs-var">bitfield</span></a></span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="annot"><a href="GHC.Types.Id.Info.html#tagSigInfo"><span class="hs-identifier hs-type">tagSigInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.InferTags.TagSig.html#TagSig"><span class="hs-identifier hs-type">TagSig</span></a></span><span>
</span><span id="line-453"></span><span id="tagSigInfo"><span class="annot"><span class="annottext">tagSigInfo :: IdInfo -&gt; Maybe TagSig
</span><a href="GHC.Types.Id.Info.html#tagSigInfo"><span class="hs-identifier hs-var hs-var">tagSigInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; Maybe TagSig
</span><a href="GHC.Types.Id.Info.html#tagSig"><span class="hs-identifier hs-var">tagSig</span></a></span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span class="hs-comment">-- Setters</span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span class="annot"><a href="GHC.Types.Id.Info.html#setRuleInfo"><span class="hs-identifier hs-type">setRuleInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-type">RuleInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-458"></span><span id="setRuleInfo"><span class="annot"><span class="annottext">setRuleInfo :: IdInfo -&gt; RuleInfo -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setRuleInfo"><span class="hs-identifier hs-var hs-var">setRuleInfo</span></a></span></span><span>       </span><span id="local-6989586621681639076"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639076"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681639077"><span class="annot"><span class="annottext">RuleInfo
</span><a href="#local-6989586621681639077"><span class="hs-identifier hs-var">sp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RuleInfo
</span><a href="#local-6989586621681639077"><span class="hs-identifier hs-var">sp</span></a></span><span> </span><span class="annot"><span class="annottext">RuleInfo -&gt; IdInfo -&gt; IdInfo
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639076"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#ruleInfo"><span class="hs-identifier hs-var">ruleInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681639077"><span class="hs-identifier hs-type">sp</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-459"></span><span class="annot"><a href="GHC.Types.Id.Info.html#setInlinePragInfo"><span class="hs-identifier hs-type">setInlinePragInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-460"></span><span id="setInlinePragInfo"><span class="annot"><span class="annottext">setInlinePragInfo :: IdInfo -&gt; InlinePragma -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setInlinePragInfo"><span class="hs-identifier hs-var hs-var">setInlinePragInfo</span></a></span></span><span> </span><span id="local-6989586621681639078"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639078"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681639079"><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621681639079"><span class="hs-identifier hs-var">pr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621681639079"><span class="hs-identifier hs-var">pr</span></a></span><span> </span><span class="annot"><span class="annottext">InlinePragma -&gt; IdInfo -&gt; IdInfo
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639078"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#inlinePragInfo"><span class="hs-identifier hs-var">inlinePragInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681639079"><span class="hs-identifier hs-type">pr</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-461"></span><span class="annot"><a href="GHC.Types.Id.Info.html#setOccInfo"><span class="hs-identifier hs-type">setOccInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#OccInfo"><span class="hs-identifier hs-type">OccInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-462"></span><span id="setOccInfo"><span class="annot"><span class="annottext">setOccInfo :: IdInfo -&gt; OccInfo -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setOccInfo"><span class="hs-identifier hs-var hs-var">setOccInfo</span></a></span></span><span>        </span><span id="local-6989586621681639080"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639080"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681639081"><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639081"><span class="hs-identifier hs-var">oc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639081"><span class="hs-identifier hs-var">oc</span></a></span><span> </span><span class="annot"><span class="annottext">OccInfo -&gt; IdInfo -&gt; IdInfo
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639080"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#occInfo"><span class="hs-identifier hs-var">occInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681639081"><span class="hs-identifier hs-type">oc</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-463"></span><span>        </span><span class="hs-comment">-- Try to avoid space leaks by seq'ing</span><span>
</span><span id="line-464"></span><span>
</span><span id="line-465"></span><span class="hs-comment">-- | Essentially returns the 'realUnfoldingInfo' field, but does not expose the</span><span>
</span><span id="line-466"></span><span class="hs-comment">-- unfolding of a strong loop breaker.</span><span>
</span><span id="line-467"></span><span class="hs-comment">--</span><span>
</span><span id="line-468"></span><span class="hs-comment">-- This is the right thing to call if you plan to decide whether an unfolding</span><span>
</span><span id="line-469"></span><span class="hs-comment">-- will inline.</span><span>
</span><span id="line-470"></span><span class="annot"><a href="GHC.Types.Id.Info.html#unfoldingInfo"><span class="hs-identifier hs-type">unfoldingInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.html#Unfolding"><span class="hs-identifier hs-type">Unfolding</span></a></span><span>
</span><span id="line-471"></span><span id="unfoldingInfo"><span class="annot"><span class="annottext">unfoldingInfo :: IdInfo -&gt; Unfolding
</span><a href="GHC.Types.Id.Info.html#unfoldingInfo"><span class="hs-identifier hs-var hs-var">unfoldingInfo</span></a></span></span><span> </span><span id="local-6989586621681639082"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639082"><span class="hs-identifier hs-var">info</span></a></span></span><span>
</span><span id="line-472"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OccInfo -&gt; Bool
</span><a href="GHC.Types.Basic.html#isStrongLoopBreaker"><span class="hs-identifier hs-var">isStrongLoopBreaker</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdInfo -&gt; OccInfo
</span><a href="GHC.Types.Id.Info.html#occInfo"><span class="hs-identifier hs-var">occInfo</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639082"><span class="hs-identifier hs-var">info</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unfolding -&gt; Unfolding
</span><a href="GHC.Types.Id.Info.html#trimUnfolding"><span class="hs-identifier hs-var">trimUnfolding</span></a></span><span> </span><span class="annot"><span class="annottext">(Unfolding -&gt; Unfolding) -&gt; Unfolding -&gt; Unfolding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; Unfolding
</span><a href="GHC.Types.Id.Info.html#realUnfoldingInfo"><span class="hs-identifier hs-var">realUnfoldingInfo</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639082"><span class="hs-identifier hs-var">info</span></a></span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                          </span><span class="hs-glyph">=</span><span>                 </span><span class="annot"><span class="annottext">IdInfo -&gt; Unfolding
</span><a href="GHC.Types.Id.Info.html#realUnfoldingInfo"><span class="hs-identifier hs-var">realUnfoldingInfo</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639082"><span class="hs-identifier hs-var">info</span></a></span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span class="annot"><a href="GHC.Types.Id.Info.html#setUnfoldingInfo"><span class="hs-identifier hs-type">setUnfoldingInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.html#Unfolding"><span class="hs-identifier hs-type">Unfolding</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-476"></span><span id="setUnfoldingInfo"><span class="annot"><span class="annottext">setUnfoldingInfo :: IdInfo -&gt; Unfolding -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setUnfoldingInfo"><span class="hs-identifier hs-var hs-var">setUnfoldingInfo</span></a></span></span><span> </span><span id="local-6989586621681639083"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639083"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681639084"><span class="annot"><span class="annottext">Unfolding
</span><a href="#local-6989586621681639084"><span class="hs-identifier hs-var">uf</span></a></span></span><span>
</span><span id="line-477"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- We don't seq the unfolding, as we generate intermediate</span><span>
</span><span id="line-478"></span><span>    </span><span class="hs-comment">-- unfoldings which are just thrown away, so evaluating them is a</span><span>
</span><span id="line-479"></span><span>    </span><span class="hs-comment">-- waste of time.</span><span>
</span><span id="line-480"></span><span>    </span><span class="hs-comment">-- seqUnfolding uf `seq`</span><span>
</span><span id="line-481"></span><span>    </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639083"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#realUnfoldingInfo"><span class="hs-identifier hs-var">realUnfoldingInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681639084"><span class="hs-identifier hs-type">uf</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span class="annot"><a href="GHC.Types.Id.Info.html#hasInlineUnfolding"><span class="hs-identifier hs-type">hasInlineUnfolding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-484"></span><span class="hs-comment">-- ^ True of a /non-loop-breaker/ Id that has a /stable/ unfolding that is</span><span>
</span><span id="line-485"></span><span class="hs-comment">--   (a) always inlined; that is, with an `UnfWhen` guidance, or</span><span>
</span><span id="line-486"></span><span class="hs-comment">--   (b) a DFunUnfolding which never needs to be inlined</span><span>
</span><span id="line-487"></span><span id="hasInlineUnfolding"><span class="annot"><span class="annottext">hasInlineUnfolding :: IdInfo -&gt; Bool
</span><a href="GHC.Types.Id.Info.html#hasInlineUnfolding"><span class="hs-identifier hs-var hs-var">hasInlineUnfolding</span></a></span></span><span> </span><span id="local-6989586621681639086"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639086"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unfolding -&gt; Bool
</span><a href="GHC.Core.html#isInlineUnfolding"><span class="hs-identifier hs-var">isInlineUnfolding</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdInfo -&gt; Unfolding
</span><a href="GHC.Types.Id.Info.html#unfoldingInfo"><span class="hs-identifier hs-var">unfoldingInfo</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639086"><span class="hs-identifier hs-var">info</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span class="annot"><a href="GHC.Types.Id.Info.html#setArityInfo"><span class="hs-identifier hs-type">setArityInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#ArityInfo"><span class="hs-identifier hs-type">ArityInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-490"></span><span id="setArityInfo"><span class="annot"><span class="annottext">setArityInfo :: IdInfo -&gt; Int -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setArityInfo"><span class="hs-identifier hs-var hs-var">setArityInfo</span></a></span></span><span> </span><span id="local-6989586621681639088"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639088"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681639089"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681639089"><span class="hs-identifier hs-var">ar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-491"></span><span>    </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639088"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfield"><span class="hs-identifier hs-var">bitfield</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfieldSetArityInfo"><span class="hs-identifier hs-type">bitfieldSetArityInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681639089"><span class="hs-identifier hs-type">ar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfield"><span class="hs-identifier hs-var">bitfield</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681639088"><span class="hs-identifier hs-type">info</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span class="annot"><a href="GHC.Types.Id.Info.html#setCallArityInfo"><span class="hs-identifier hs-type">setCallArityInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#ArityInfo"><span class="hs-identifier hs-type">ArityInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-494"></span><span id="setCallArityInfo"><span class="annot"><span class="annottext">setCallArityInfo :: IdInfo -&gt; Int -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setCallArityInfo"><span class="hs-identifier hs-var hs-var">setCallArityInfo</span></a></span></span><span> </span><span id="local-6989586621681639090"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639090"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681639091"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681639091"><span class="hs-identifier hs-var">ar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-495"></span><span>    </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639090"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfield"><span class="hs-identifier hs-var">bitfield</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfieldSetCallArityInfo"><span class="hs-identifier hs-type">bitfieldSetCallArityInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681639091"><span class="hs-identifier hs-type">ar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfield"><span class="hs-identifier hs-var">bitfield</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681639090"><span class="hs-identifier hs-type">info</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-496"></span><span>
</span><span id="line-497"></span><span class="annot"><a href="GHC.Types.Id.Info.html#setCafInfo"><span class="hs-identifier hs-type">setCafInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#CafInfo"><span class="hs-identifier hs-type">CafInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-498"></span><span id="setCafInfo"><span class="annot"><span class="annottext">setCafInfo :: IdInfo -&gt; CafInfo -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setCafInfo"><span class="hs-identifier hs-var hs-var">setCafInfo</span></a></span></span><span> </span><span id="local-6989586621681639092"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639092"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681639093"><span class="annot"><span class="annottext">CafInfo
</span><a href="#local-6989586621681639093"><span class="hs-identifier hs-var">caf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-499"></span><span>    </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639092"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfield"><span class="hs-identifier hs-var">bitfield</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfieldSetCafInfo"><span class="hs-identifier hs-type">bitfieldSetCafInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681639093"><span class="hs-identifier hs-type">caf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfield"><span class="hs-identifier hs-var">bitfield</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681639092"><span class="hs-identifier hs-type">info</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-500"></span><span>
</span><span id="line-501"></span><span class="annot"><a href="GHC.Types.Id.Info.html#setLFInfo"><span class="hs-identifier hs-type">setLFInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Types.html#LambdaFormInfo"><span class="hs-identifier hs-type">LambdaFormInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-502"></span><span id="setLFInfo"><span class="annot"><span class="annottext">setLFInfo :: IdInfo -&gt; LambdaFormInfo -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setLFInfo"><span class="hs-identifier hs-var hs-var">setLFInfo</span></a></span></span><span> </span><span id="local-6989586621681639094"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639094"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681639095"><span class="annot"><span class="annottext">LambdaFormInfo
</span><a href="#local-6989586621681639095"><span class="hs-identifier hs-var">lf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639094"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#lfInfo"><span class="hs-identifier hs-var">lfInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681639095"><span class="hs-identifier hs-type">lf</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-503"></span><span>
</span><span id="line-504"></span><span class="annot"><a href="GHC.Types.Id.Info.html#setTagSig"><span class="hs-identifier hs-type">setTagSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Stg.InferTags.TagSig.html#TagSig"><span class="hs-identifier hs-type">TagSig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-505"></span><span id="setTagSig"><span class="annot"><span class="annottext">setTagSig :: IdInfo -&gt; TagSig -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setTagSig"><span class="hs-identifier hs-var hs-var">setTagSig</span></a></span></span><span> </span><span id="local-6989586621681639096"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639096"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681639097"><span class="annot"><span class="annottext">TagSig
</span><a href="#local-6989586621681639097"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639096"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#tagSig"><span class="hs-identifier hs-var">tagSig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681639097"><span class="hs-identifier hs-type">sig</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span class="annot"><a href="GHC.Types.Id.Info.html#setOneShotInfo"><span class="hs-identifier hs-type">setOneShotInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#OneShotInfo"><span class="hs-identifier hs-type">OneShotInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-508"></span><span id="setOneShotInfo"><span class="annot"><span class="annottext">setOneShotInfo :: IdInfo -&gt; OneShotInfo -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setOneShotInfo"><span class="hs-identifier hs-var hs-var">setOneShotInfo</span></a></span></span><span> </span><span id="local-6989586621681639098"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639098"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681639099"><span class="annot"><span class="annottext">OneShotInfo
</span><a href="#local-6989586621681639099"><span class="hs-identifier hs-var">lb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-509"></span><span>    </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639098"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfield"><span class="hs-identifier hs-var">bitfield</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfieldSetOneShotInfo"><span class="hs-identifier hs-type">bitfieldSetOneShotInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681639099"><span class="hs-identifier hs-type">lb</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#bitfield"><span class="hs-identifier hs-var">bitfield</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681639098"><span class="hs-identifier hs-type">info</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-510"></span><span>
</span><span id="line-511"></span><span class="annot"><a href="GHC.Types.Id.Info.html#setDemandInfo"><span class="hs-identifier hs-type">setDemandInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Demand.html#Demand"><span class="hs-identifier hs-type">Demand</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-512"></span><span id="setDemandInfo"><span class="annot"><span class="annottext">setDemandInfo :: IdInfo -&gt; Demand -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setDemandInfo"><span class="hs-identifier hs-var hs-var">setDemandInfo</span></a></span></span><span> </span><span id="local-6989586621681639100"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639100"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681639101"><span class="annot"><span class="annottext">Demand
</span><a href="#local-6989586621681639101"><span class="hs-identifier hs-var">dd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Demand
</span><a href="#local-6989586621681639101"><span class="hs-identifier hs-var">dd</span></a></span><span> </span><span class="annot"><span class="annottext">Demand -&gt; IdInfo -&gt; IdInfo
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639100"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#demandInfo"><span class="hs-identifier hs-var">demandInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681639101"><span class="hs-identifier hs-type">dd</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span class="annot"><a href="GHC.Types.Id.Info.html#setDmdSigInfo"><span class="hs-identifier hs-type">setDmdSigInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Demand.html#DmdSig"><span class="hs-identifier hs-type">DmdSig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-515"></span><span id="setDmdSigInfo"><span class="annot"><span class="annottext">setDmdSigInfo :: IdInfo -&gt; DmdSig -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setDmdSigInfo"><span class="hs-identifier hs-var hs-var">setDmdSigInfo</span></a></span></span><span> </span><span id="local-6989586621681639102"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639102"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681639103"><span class="annot"><span class="annottext">DmdSig
</span><a href="#local-6989586621681639103"><span class="hs-identifier hs-var">dd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DmdSig
</span><a href="#local-6989586621681639103"><span class="hs-identifier hs-var">dd</span></a></span><span> </span><span class="annot"><span class="annottext">DmdSig -&gt; IdInfo -&gt; IdInfo
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639102"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#dmdSigInfo"><span class="hs-identifier hs-var">dmdSigInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681639103"><span class="hs-identifier hs-type">dd</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-516"></span><span>
</span><span id="line-517"></span><span class="annot"><a href="GHC.Types.Id.Info.html#setCprSigInfo"><span class="hs-identifier hs-type">setCprSigInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Cpr.html#CprSig"><span class="hs-identifier hs-type">CprSig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-518"></span><span id="setCprSigInfo"><span class="annot"><span class="annottext">setCprSigInfo :: IdInfo -&gt; CprSig -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setCprSigInfo"><span class="hs-identifier hs-var hs-var">setCprSigInfo</span></a></span></span><span> </span><span id="local-6989586621681639104"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639104"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681639105"><span class="annot"><span class="annottext">CprSig
</span><a href="#local-6989586621681639105"><span class="hs-identifier hs-var">cpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CprSig
</span><a href="#local-6989586621681639105"><span class="hs-identifier hs-var">cpr</span></a></span><span> </span><span class="annot"><span class="annottext">CprSig -&gt; IdInfo -&gt; IdInfo
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639104"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#cprSigInfo"><span class="hs-identifier hs-var">cprSigInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681639105"><span class="hs-identifier hs-type">cpr</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span class="annot"><span class="hs-comment">-- | Basic 'IdInfo' that carries no useful information whatsoever</span></span><span>
</span><span id="line-521"></span><span class="annot"><a href="GHC.Types.Id.Info.html#vanillaIdInfo"><span class="hs-identifier hs-type">vanillaIdInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-522"></span><span id="vanillaIdInfo"><span class="annot"><span class="annottext">vanillaIdInfo :: IdInfo
</span><a href="GHC.Types.Id.Info.html#vanillaIdInfo"><span class="hs-identifier hs-var hs-var">vanillaIdInfo</span></a></span></span><span>
</span><span id="line-523"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-524"></span><span>            </span><span class="annot"><span class="annottext">ruleInfo :: RuleInfo
</span><a href="GHC.Types.Id.Info.html#ruleInfo"><span class="hs-identifier hs-var">ruleInfo</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RuleInfo
</span><a href="GHC.Types.Id.Info.html#emptyRuleInfo"><span class="hs-identifier hs-var">emptyRuleInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-525"></span><span>            </span><span class="annot"><span class="annottext">realUnfoldingInfo :: Unfolding
</span><a href="GHC.Types.Id.Info.html#realUnfoldingInfo"><span class="hs-identifier hs-var">realUnfoldingInfo</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unfolding
</span><a href="GHC.Core.html#noUnfolding"><span class="hs-identifier hs-var">noUnfolding</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-526"></span><span>            </span><span class="annot"><span class="annottext">inlinePragInfo :: InlinePragma
</span><a href="GHC.Types.Id.Info.html#inlinePragInfo"><span class="hs-identifier hs-var">inlinePragInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InlinePragma
</span><a href="GHC.Types.Basic.html#defaultInlinePragma"><span class="hs-identifier hs-var">defaultInlinePragma</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-527"></span><span>            </span><span class="annot"><span class="annottext">occInfo :: OccInfo
</span><a href="GHC.Types.Id.Info.html#occInfo"><span class="hs-identifier hs-var">occInfo</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccInfo
</span><a href="GHC.Types.Basic.html#noOccInfo"><span class="hs-identifier hs-var">noOccInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-528"></span><span>            </span><span class="annot"><span class="annottext">demandInfo :: Demand
</span><a href="GHC.Types.Id.Info.html#demandInfo"><span class="hs-identifier hs-var">demandInfo</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Demand
</span><a href="GHC.Types.Demand.html#topDmd"><span class="hs-identifier hs-var">topDmd</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-529"></span><span>            </span><span class="annot"><span class="annottext">dmdSigInfo :: DmdSig
</span><a href="GHC.Types.Id.Info.html#dmdSigInfo"><span class="hs-identifier hs-var">dmdSigInfo</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DmdSig
</span><a href="GHC.Types.Demand.html#nopSig"><span class="hs-identifier hs-var">nopSig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-530"></span><span>            </span><span class="annot"><span class="annottext">cprSigInfo :: CprSig
</span><a href="GHC.Types.Id.Info.html#cprSigInfo"><span class="hs-identifier hs-var">cprSigInfo</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CprSig
</span><a href="GHC.Types.Cpr.html#topCprSig"><span class="hs-identifier hs-var">topCprSig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-531"></span><span>            </span><span class="annot"><span class="annottext">bitfield :: BitField
</span><a href="GHC.Types.Id.Info.html#bitfield"><span class="hs-identifier hs-var">bitfield</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CafInfo -&gt; BitField -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#bitfieldSetCafInfo"><span class="hs-identifier hs-var">bitfieldSetCafInfo</span></a></span><span> </span><span class="annot"><span class="annottext">CafInfo
</span><a href="GHC.Types.Id.Info.html#vanillaCafInfo"><span class="hs-identifier hs-var">vanillaCafInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(BitField -&gt; BitField) -&gt; BitField -&gt; BitField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-532"></span><span>                             </span><span class="annot"><span class="annottext">Int -&gt; BitField -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#bitfieldSetArityInfo"><span class="hs-identifier hs-var">bitfieldSetArityInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="GHC.Types.Id.Info.html#unknownArity"><span class="hs-identifier hs-var">unknownArity</span></a></span><span> </span><span class="annot"><span class="annottext">(BitField -&gt; BitField) -&gt; BitField -&gt; BitField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-533"></span><span>                             </span><span class="annot"><span class="annottext">Int -&gt; BitField -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#bitfieldSetCallArityInfo"><span class="hs-identifier hs-var">bitfieldSetCallArityInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="GHC.Types.Id.Info.html#unknownArity"><span class="hs-identifier hs-var">unknownArity</span></a></span><span> </span><span class="annot"><span class="annottext">(BitField -&gt; BitField) -&gt; BitField -&gt; BitField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-534"></span><span>                             </span><span class="annot"><span class="annottext">OneShotInfo -&gt; BitField -&gt; BitField
</span><a href="GHC.Types.Id.Info.html#bitfieldSetOneShotInfo"><span class="hs-identifier hs-var">bitfieldSetOneShotInfo</span></a></span><span> </span><span class="annot"><span class="annottext">OneShotInfo
</span><a href="GHC.Types.Basic.html#NoOneShotInfo"><span class="hs-identifier hs-var">NoOneShotInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(BitField -&gt; BitField) -&gt; BitField -&gt; BitField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-535"></span><span>                             </span><span class="annot"><span class="annottext">BitField
</span><a href="GHC.Types.Id.Info.html#emptyBitField"><span class="hs-identifier hs-var">emptyBitField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-536"></span><span>            </span><span class="annot"><span class="annottext">lfInfo :: Maybe LambdaFormInfo
</span><a href="GHC.Types.Id.Info.html#lfInfo"><span class="hs-identifier hs-var">lfInfo</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe LambdaFormInfo
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-537"></span><span>            </span><span class="annot"><span class="annottext">tagSig :: Maybe TagSig
</span><a href="GHC.Types.Id.Info.html#tagSig"><span class="hs-identifier hs-var">tagSig</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TagSig
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-538"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-539"></span><span>
</span><span id="line-540"></span><span class="annot"><span class="hs-comment">-- | More informative 'IdInfo' we can use when we know the 'Id' has no CAF references</span></span><span>
</span><span id="line-541"></span><span class="annot"><a href="GHC.Types.Id.Info.html#noCafIdInfo"><span class="hs-identifier hs-type">noCafIdInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-542"></span><span id="noCafIdInfo"><span class="annot"><span class="annottext">noCafIdInfo :: IdInfo
</span><a href="GHC.Types.Id.Info.html#noCafIdInfo"><span class="hs-identifier hs-var hs-var">noCafIdInfo</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="GHC.Types.Id.Info.html#vanillaIdInfo"><span class="hs-identifier hs-var">vanillaIdInfo</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; CafInfo -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setCafInfo"><span class="hs-operator hs-var">`setCafInfo`</span></a></span><span>    </span><span class="annot"><span class="annottext">CafInfo
</span><a href="GHC.Types.Id.Info.html#NoCafRefs"><span class="hs-identifier hs-var">NoCafRefs</span></a></span><span>
</span><span id="line-543"></span><span>        </span><span class="hs-comment">-- Used for built-in type Ids in GHC.Types.Id.Make.</span><span>
</span><span id="line-544"></span><span>
</span><span id="line-545"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[arity-IdInfo]{Arity info about an @Id@}
*                                                                      *
************************************************************************

For locally-defined Ids, the code generator maintains its own notion
of their arities; so it should not be asking...  (but other things
besides the code-generator need arity info!)

Note [Arity and function types]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
The arity of an 'Id' must never exceed the number of arguments that
can be read off from the 'Id's type, possibly after expanding newtypes.

Examples:

  f1 :: forall a. a -&gt; a

    idArity f1 &lt;= 1: only one value argument, of type 'a'

  f2 :: forall a. Show a =&gt; Int -&gt; a

    idArity f2 &lt;= 2: two value arguments, of types 'Show a' and 'Int'.


  newtype Id a = MkId a
  f3 :: forall b. Id (Int -&gt; b)

    idArity f3 &lt;= 1: there is one value argument, of type 'Int', hidden under the newtype.

  newtype RecFun = MkRecFun (Int -&gt; RecFun)
  f4 :: RecFun

    no constraint on the arity of f4: we can unwrap as many layers of the newtype as we want,
    to get arbitrarily many arguments of type 'Int'.
-}</span><span>
</span><span id="line-583"></span><span>
</span><span id="line-584"></span><span>
</span><span id="line-585"></span><span class="hs-comment">-- | Arity Information</span><span>
</span><span id="line-586"></span><span class="hs-comment">--</span><span>
</span><span id="line-587"></span><span class="hs-comment">-- An 'ArityInfo' of @n@ tells us that partial application of this</span><span>
</span><span id="line-588"></span><span class="hs-comment">-- 'Id' to up to @n-1@ value arguments does essentially no work.</span><span>
</span><span id="line-589"></span><span class="hs-comment">--</span><span>
</span><span id="line-590"></span><span class="hs-comment">-- That is not necessarily the same as saying that it has @n@ leading</span><span>
</span><span id="line-591"></span><span class="hs-comment">-- lambdas, because coerces may get in the way.</span><span>
</span><span id="line-592"></span><span class="hs-comment">--</span><span>
</span><span id="line-593"></span><span class="hs-comment">-- The arity might increase later in the compilation process, if</span><span>
</span><span id="line-594"></span><span class="hs-comment">-- an extra lambda floats up to the binding site.</span><span>
</span><span id="line-595"></span><span class="hs-comment">--</span><span>
</span><span id="line-596"></span><span class="hs-comment">-- /Invariant:/ the 'Arity' of an 'Id' must never exceed the number of</span><span>
</span><span id="line-597"></span><span class="hs-comment">-- value arguments that appear in the type of the 'Id'.</span><span>
</span><span id="line-598"></span><span class="hs-comment">-- See Note [Arity and function types].</span><span>
</span><span id="line-599"></span><span class="hs-keyword">type</span><span> </span><span id="ArityInfo"><span class="annot"><a href="GHC.Types.Id.Info.html#ArityInfo"><span class="hs-identifier hs-var">ArityInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Arity"><span class="hs-identifier hs-type">Arity</span></a></span><span>
</span><span id="line-600"></span><span>
</span><span id="line-601"></span><span class="annot"><span class="hs-comment">-- | It is always safe to assume that an 'Id' has an arity of 0</span></span><span>
</span><span id="line-602"></span><span class="annot"><a href="GHC.Types.Id.Info.html#unknownArity"><span class="hs-identifier hs-type">unknownArity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Arity"><span class="hs-identifier hs-type">Arity</span></a></span><span>
</span><span id="line-603"></span><span id="unknownArity"><span class="annot"><span class="annottext">unknownArity :: Int
</span><a href="GHC.Types.Id.Info.html#unknownArity"><span class="hs-identifier hs-var hs-var">unknownArity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-604"></span><span>
</span><span id="line-605"></span><span class="annot"><a href="GHC.Types.Id.Info.html#ppArityInfo"><span class="hs-identifier hs-type">ppArityInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-606"></span><span id="ppArityInfo"><span class="annot"><span class="annottext">ppArityInfo :: Int -&gt; SDoc
</span><a href="GHC.Types.Id.Info.html#ppArityInfo"><span class="hs-identifier hs-var hs-var">ppArityInfo</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-607"></span><span class="annot"><a href="GHC.Types.Id.Info.html#ppArityInfo"><span class="hs-identifier hs-var">ppArityInfo</span></a></span><span> </span><span id="local-6989586621681639114"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681639114"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Arity&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc
forall doc. IsLine doc =&gt; Int -&gt; doc
</span><a href="GHC.Utils.Outputable.html#int"><span class="hs-identifier hs-var">int</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681639114"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-608"></span><span>
</span><span id="line-609"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Inline-pragma information}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-616"></span><span>
</span><span id="line-617"></span><span class="hs-comment">-- | Inline Pragma Information</span><span>
</span><span id="line-618"></span><span class="hs-comment">--</span><span>
</span><span id="line-619"></span><span class="hs-comment">-- Tells when the inlining is active.</span><span>
</span><span id="line-620"></span><span class="hs-comment">-- When it is active the thing may be inlined, depending on how</span><span>
</span><span id="line-621"></span><span class="hs-comment">-- big it is.</span><span>
</span><span id="line-622"></span><span class="hs-comment">--</span><span>
</span><span id="line-623"></span><span class="hs-comment">-- If there was an @INLINE@ pragma, then as a separate matter, the</span><span>
</span><span id="line-624"></span><span class="hs-comment">-- RHS will have been made to look small with a Core inline 'Note'</span><span>
</span><span id="line-625"></span><span class="hs-comment">--</span><span>
</span><span id="line-626"></span><span class="hs-comment">-- The default 'InlinePragInfo' is 'AlwaysActive', so the info serves</span><span>
</span><span id="line-627"></span><span class="hs-comment">-- entirely as a way to inhibit inlining until we want it</span><span>
</span><span id="line-628"></span><span class="hs-keyword">type</span><span> </span><span id="InlinePragInfo"><span class="annot"><a href="GHC.Types.Id.Info.html#InlinePragInfo"><span class="hs-identifier hs-var">InlinePragInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span>
</span><span id="line-629"></span><span>
</span><span id="line-630"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
               Strictness
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-637"></span><span>
</span><span id="line-638"></span><span class="annot"><a href="GHC.Types.Id.Info.html#pprStrictness"><span class="hs-identifier hs-type">pprStrictness</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Demand.html#DmdSig"><span class="hs-identifier hs-type">DmdSig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-639"></span><span id="pprStrictness"><span class="annot"><span class="annottext">pprStrictness :: DmdSig -&gt; SDoc
</span><a href="GHC.Types.Id.Info.html#pprStrictness"><span class="hs-identifier hs-var hs-var">pprStrictness</span></a></span></span><span> </span><span id="local-6989586621681639117"><span class="annot"><span class="annottext">DmdSig
</span><a href="#local-6989586621681639117"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DmdSig -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">DmdSig
</span><a href="#local-6989586621681639117"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-640"></span><span>
</span><span id="line-641"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
        RuleInfo
*                                                                      *
************************************************************************

Note [Specialisations and RULES in IdInfo]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Generally speaking, a GlobalId has an *empty* RuleInfo.  All their
RULES are contained in the globally-built rule-base.  In principle,
one could attach the to M.f the RULES for M.f that are defined in M.
But we don't do that for instance declarations and so we just treat
them all uniformly.

The EXCEPTION is PrimOpIds, which do have rules in their IdInfo. That is
just for convenience really.

However, LocalIds may have non-empty RuleInfo.  We treat them
differently because:
  a) they might be nested, in which case a global table won't work
  b) the RULE might mention free variables, which we use to keep things alive

In GHC.Iface.Tidy, when the LocalId becomes a GlobalId, its RULES are stripped off
and put in the global list.
-}</span><span>
</span><span id="line-667"></span><span>
</span><span id="line-668"></span><span class="hs-comment">-- | Rule Information</span><span>
</span><span id="line-669"></span><span class="hs-comment">--</span><span>
</span><span id="line-670"></span><span class="hs-comment">-- Records the specializations of this 'Id' that we know about</span><span>
</span><span id="line-671"></span><span class="hs-comment">-- in the form of rewrite 'CoreRule's that target them</span><span>
</span><span id="line-672"></span><span class="hs-keyword">data</span><span> </span><span id="RuleInfo"><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-var">RuleInfo</span></a></span></span><span>
</span><span id="line-673"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="RuleInfo"><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-var">RuleInfo</span></a></span></span><span>
</span><span id="line-674"></span><span>        </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.html#CoreRule"><span class="hs-identifier hs-type">CoreRule</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-675"></span><span>        </span><span class="annot"><a href="GHC.Types.Var.Set.html#DVarSet"><span class="hs-identifier hs-type">DVarSet</span></a></span><span>         </span><span class="hs-comment">-- Locally-defined free vars of *both* LHS and RHS</span><span>
</span><span id="line-676"></span><span>                        </span><span class="hs-comment">-- of rules.  I don't think it needs to include the</span><span>
</span><span id="line-677"></span><span>                        </span><span class="hs-comment">-- ru_fn though.</span><span>
</span><span id="line-678"></span><span>                        </span><span class="hs-comment">-- Note [Rule dependency info] in &quot;GHC.Core.Opt.OccurAnal&quot;</span><span>
</span><span id="line-679"></span><span>
</span><span id="line-680"></span><span class="annot"><span class="hs-comment">-- | Assume that no specializations exist: always safe</span></span><span>
</span><span id="line-681"></span><span class="annot"><a href="GHC.Types.Id.Info.html#emptyRuleInfo"><span class="hs-identifier hs-type">emptyRuleInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-type">RuleInfo</span></a></span><span>
</span><span id="line-682"></span><span id="emptyRuleInfo"><span class="annot"><span class="annottext">emptyRuleInfo :: RuleInfo
</span><a href="GHC.Types.Id.Info.html#emptyRuleInfo"><span class="hs-identifier hs-var hs-var">emptyRuleInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CoreRule] -&gt; DVarSet -&gt; RuleInfo
</span><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-var">RuleInfo</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">DVarSet
</span><a href="GHC.Types.Var.Set.html#emptyDVarSet"><span class="hs-identifier hs-var">emptyDVarSet</span></a></span><span>
</span><span id="line-683"></span><span>
</span><span id="line-684"></span><span class="annot"><a href="GHC.Types.Id.Info.html#isEmptyRuleInfo"><span class="hs-identifier hs-type">isEmptyRuleInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-type">RuleInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-685"></span><span id="isEmptyRuleInfo"><span class="annot"><span class="annottext">isEmptyRuleInfo :: RuleInfo -&gt; Bool
</span><a href="GHC.Types.Id.Info.html#isEmptyRuleInfo"><span class="hs-identifier hs-var hs-var">isEmptyRuleInfo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-type">RuleInfo</span></a></span><span> </span><span id="local-6989586621681639120"><span class="annot"><span class="annottext">[CoreRule]
</span><a href="#local-6989586621681639120"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="annot"><span class="annottext">DVarSet
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CoreRule] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[CoreRule]
</span><a href="#local-6989586621681639120"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-686"></span><span>
</span><span id="line-687"></span><span class="hs-comment">-- | Retrieve the locally-defined free variables of both the left and</span><span>
</span><span id="line-688"></span><span class="hs-comment">-- right hand sides of the specialization rules</span><span>
</span><span id="line-689"></span><span class="annot"><a href="GHC.Types.Id.Info.html#ruleInfoFreeVars"><span class="hs-identifier hs-type">ruleInfoFreeVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-type">RuleInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html#DVarSet"><span class="hs-identifier hs-type">DVarSet</span></a></span><span>
</span><span id="line-690"></span><span id="ruleInfoFreeVars"><span class="annot"><span class="annottext">ruleInfoFreeVars :: RuleInfo -&gt; DVarSet
</span><a href="GHC.Types.Id.Info.html#ruleInfoFreeVars"><span class="hs-identifier hs-var hs-var">ruleInfoFreeVars</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-type">RuleInfo</span></a></span><span> </span><span class="annot"><span class="annottext">[CoreRule]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681639122"><span class="annot"><span class="annottext">DVarSet
</span><a href="#local-6989586621681639122"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DVarSet
</span><a href="#local-6989586621681639122"><span class="hs-identifier hs-var">fvs</span></a></span><span>
</span><span id="line-691"></span><span>
</span><span id="line-692"></span><span class="annot"><a href="GHC.Types.Id.Info.html#ruleInfoRules"><span class="hs-identifier hs-type">ruleInfoRules</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-type">RuleInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.html#CoreRule"><span class="hs-identifier hs-type">CoreRule</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-693"></span><span id="ruleInfoRules"><span class="annot"><span class="annottext">ruleInfoRules :: RuleInfo -&gt; [CoreRule]
</span><a href="GHC.Types.Id.Info.html#ruleInfoRules"><span class="hs-identifier hs-var hs-var">ruleInfoRules</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-type">RuleInfo</span></a></span><span> </span><span id="local-6989586621681639123"><span class="annot"><span class="annottext">[CoreRule]
</span><a href="#local-6989586621681639123"><span class="hs-identifier hs-var">rules</span></a></span></span><span> </span><span class="annot"><span class="annottext">DVarSet
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CoreRule]
</span><a href="#local-6989586621681639123"><span class="hs-identifier hs-var">rules</span></a></span><span>
</span><span id="line-694"></span><span>
</span><span id="line-695"></span><span class="annot"><span class="hs-comment">-- | Change the name of the function the rule is keyed on all of the 'CoreRule's</span></span><span>
</span><span id="line-696"></span><span class="annot"><a href="GHC.Types.Id.Info.html#setRuleInfoHead"><span class="hs-identifier hs-type">setRuleInfoHead</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-type">RuleInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-type">RuleInfo</span></a></span><span>
</span><span id="line-697"></span><span id="setRuleInfoHead"><span class="annot"><span class="annottext">setRuleInfoHead :: Name -&gt; RuleInfo -&gt; RuleInfo
</span><a href="GHC.Types.Id.Info.html#setRuleInfoHead"><span class="hs-identifier hs-var hs-var">setRuleInfoHead</span></a></span></span><span> </span><span id="local-6989586621681639124"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681639124"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-type">RuleInfo</span></a></span><span> </span><span id="local-6989586621681639125"><span class="annot"><span class="annottext">[CoreRule]
</span><a href="#local-6989586621681639125"><span class="hs-identifier hs-var">rules</span></a></span></span><span> </span><span id="local-6989586621681639126"><span class="annot"><span class="annottext">DVarSet
</span><a href="#local-6989586621681639126"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-698"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CoreRule] -&gt; DVarSet -&gt; RuleInfo
</span><a href="GHC.Types.Id.Info.html#RuleInfo"><span class="hs-identifier hs-var">RuleInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CoreRule -&gt; CoreRule) -&gt; [CoreRule] -&gt; [CoreRule]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; CoreRule -&gt; CoreRule
</span><a href="GHC.Core.html#setRuleIdName"><span class="hs-identifier hs-var">setRuleIdName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681639124"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CoreRule]
</span><a href="#local-6989586621681639125"><span class="hs-identifier hs-var">rules</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DVarSet
</span><a href="#local-6989586621681639126"><span class="hs-identifier hs-var">fvs</span></a></span><span>
</span><span id="line-699"></span><span>
</span><span id="line-700"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[CG-IdInfo]{Code generator-related information}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-707"></span><span>
</span><span id="line-708"></span><span class="hs-comment">-- CafInfo is used to build Static Reference Tables (see simplStg/SRT.hs).</span><span>
</span><span id="line-709"></span><span>
</span><span id="line-710"></span><span class="hs-comment">-- | Constant applicative form Information</span><span>
</span><span id="line-711"></span><span class="hs-comment">--</span><span>
</span><span id="line-712"></span><span class="hs-comment">-- Records whether an 'Id' makes Constant Applicative Form references</span><span>
</span><span id="line-713"></span><span class="hs-keyword">data</span><span> </span><span id="CafInfo"><span class="annot"><a href="GHC.Types.Id.Info.html#CafInfo"><span class="hs-identifier hs-var">CafInfo</span></a></span></span><span>
</span><span id="line-714"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span id="MayHaveCafRefs"><span class="annot"><a href="GHC.Types.Id.Info.html#MayHaveCafRefs"><span class="hs-identifier hs-var">MayHaveCafRefs</span></a></span></span><span>                </span><span class="hs-comment">-- ^ Indicates that the 'Id' is for either:</span><span>
</span><span id="line-715"></span><span>                                        </span><span class="hs-comment">--</span><span>
</span><span id="line-716"></span><span>                                        </span><span class="hs-comment">-- 1. A function or static constructor</span><span>
</span><span id="line-717"></span><span>                                        </span><span class="hs-comment">--    that refers to one or more CAFs, or</span><span>
</span><span id="line-718"></span><span>                                        </span><span class="hs-comment">--</span><span>
</span><span id="line-719"></span><span>                                        </span><span class="hs-comment">-- 2. A real live CAF</span><span>
</span><span id="line-720"></span><span>
</span><span id="line-721"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="NoCafRefs"><span class="annot"><a href="GHC.Types.Id.Info.html#NoCafRefs"><span class="hs-identifier hs-var">NoCafRefs</span></a></span></span><span>                     </span><span class="hs-comment">-- ^ A function or static constructor</span><span>
</span><span id="line-722"></span><span>                                        </span><span class="hs-comment">-- that refers to no CAFs.</span><span>
</span><span id="line-723"></span><span>        </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681639129"><span id="local-6989586621681639131"><span class="annot"><span class="annottext">CafInfo -&gt; CafInfo -&gt; Bool
(CafInfo -&gt; CafInfo -&gt; Bool)
-&gt; (CafInfo -&gt; CafInfo -&gt; Bool) -&gt; Eq CafInfo
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: CafInfo -&gt; CafInfo -&gt; Bool
== :: CafInfo -&gt; CafInfo -&gt; Bool
$c/= :: CafInfo -&gt; CafInfo -&gt; Bool
/= :: CafInfo -&gt; CafInfo -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681639137"><span id="local-6989586621681639139"><span id="local-6989586621681639141"><span id="local-6989586621681639145"><span id="local-6989586621681639148"><span id="local-6989586621681639151"><span id="local-6989586621681639154"><span class="annot"><span class="annottext">Eq CafInfo
Eq CafInfo =&gt;
(CafInfo -&gt; CafInfo -&gt; Ordering)
-&gt; (CafInfo -&gt; CafInfo -&gt; Bool)
-&gt; (CafInfo -&gt; CafInfo -&gt; Bool)
-&gt; (CafInfo -&gt; CafInfo -&gt; Bool)
-&gt; (CafInfo -&gt; CafInfo -&gt; Bool)
-&gt; (CafInfo -&gt; CafInfo -&gt; CafInfo)
-&gt; (CafInfo -&gt; CafInfo -&gt; CafInfo)
-&gt; Ord CafInfo
CafInfo -&gt; CafInfo -&gt; Bool
CafInfo -&gt; CafInfo -&gt; Ordering
CafInfo -&gt; CafInfo -&gt; CafInfo
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: CafInfo -&gt; CafInfo -&gt; Ordering
compare :: CafInfo -&gt; CafInfo -&gt; Ordering
$c&lt; :: CafInfo -&gt; CafInfo -&gt; Bool
&lt; :: CafInfo -&gt; CafInfo -&gt; Bool
$c&lt;= :: CafInfo -&gt; CafInfo -&gt; Bool
&lt;= :: CafInfo -&gt; CafInfo -&gt; Bool
$c&gt; :: CafInfo -&gt; CafInfo -&gt; Bool
&gt; :: CafInfo -&gt; CafInfo -&gt; Bool
$c&gt;= :: CafInfo -&gt; CafInfo -&gt; Bool
&gt;= :: CafInfo -&gt; CafInfo -&gt; Bool
$cmax :: CafInfo -&gt; CafInfo -&gt; CafInfo
max :: CafInfo -&gt; CafInfo -&gt; CafInfo
$cmin :: CafInfo -&gt; CafInfo -&gt; CafInfo
min :: CafInfo -&gt; CafInfo -&gt; CafInfo
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-724"></span><span>
</span><span id="line-725"></span><span class="annot"><span class="hs-comment">-- | Assumes that the 'Id' has CAF references: definitely safe</span></span><span>
</span><span id="line-726"></span><span class="annot"><a href="GHC.Types.Id.Info.html#vanillaCafInfo"><span class="hs-identifier hs-type">vanillaCafInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#CafInfo"><span class="hs-identifier hs-type">CafInfo</span></a></span><span>
</span><span id="line-727"></span><span id="vanillaCafInfo"><span class="annot"><span class="annottext">vanillaCafInfo :: CafInfo
</span><a href="GHC.Types.Id.Info.html#vanillaCafInfo"><span class="hs-identifier hs-var hs-var">vanillaCafInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CafInfo
</span><a href="GHC.Types.Id.Info.html#MayHaveCafRefs"><span class="hs-identifier hs-var">MayHaveCafRefs</span></a></span><span>
</span><span id="line-728"></span><span>
</span><span id="line-729"></span><span class="annot"><a href="GHC.Types.Id.Info.html#mayHaveCafRefs"><span class="hs-identifier hs-type">mayHaveCafRefs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#CafInfo"><span class="hs-identifier hs-type">CafInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-730"></span><span id="mayHaveCafRefs"><span class="annot"><span class="annottext">mayHaveCafRefs :: CafInfo -&gt; Bool
</span><a href="GHC.Types.Id.Info.html#mayHaveCafRefs"><span class="hs-identifier hs-var hs-var">mayHaveCafRefs</span></a></span></span><span>  </span><span class="annot"><span class="annottext">CafInfo
</span><a href="GHC.Types.Id.Info.html#MayHaveCafRefs"><span class="hs-identifier hs-var">MayHaveCafRefs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-731"></span><span class="annot"><a href="GHC.Types.Id.Info.html#mayHaveCafRefs"><span class="hs-identifier hs-var">mayHaveCafRefs</span></a></span><span> </span><span class="annot"><span class="annottext">CafInfo
</span><span class="hs-identifier">_</span></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-732"></span><span>
</span><span id="line-733"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#CafInfo"><span class="hs-identifier hs-type">CafInfo</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-734"></span><span>   </span><span id="local-6989586621681639159"><span class="annot"><span class="annottext">ppr :: CafInfo -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CafInfo -&gt; SDoc
</span><a href="GHC.Types.Id.Info.html#ppCafInfo"><span class="hs-identifier hs-var">ppCafInfo</span></a></span><span>
</span><span id="line-735"></span><span>
</span><span id="line-736"></span><span class="annot"><a href="GHC.Types.Id.Info.html#ppCafInfo"><span class="hs-identifier hs-type">ppCafInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#CafInfo"><span class="hs-identifier hs-type">CafInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-737"></span><span id="ppCafInfo"><span class="annot"><span class="annottext">ppCafInfo :: CafInfo -&gt; SDoc
</span><a href="GHC.Types.Id.Info.html#ppCafInfo"><span class="hs-identifier hs-var hs-var">ppCafInfo</span></a></span></span><span> </span><span class="annot"><span class="annottext">CafInfo
</span><a href="GHC.Types.Id.Info.html#NoCafRefs"><span class="hs-identifier hs-var">NoCafRefs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;NoCafRefs&quot;</span></span><span>
</span><span id="line-738"></span><span class="annot"><a href="GHC.Types.Id.Info.html#ppCafInfo"><span class="hs-identifier hs-var">ppCafInfo</span></a></span><span> </span><span class="annot"><span class="annottext">CafInfo
</span><a href="GHC.Types.Id.Info.html#MayHaveCafRefs"><span class="hs-identifier hs-var">MayHaveCafRefs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-739"></span><span>
</span><span id="line-740"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Bulk operations on IdInfo}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-747"></span><span>
</span><span id="line-748"></span><span class="hs-comment">-- | This is used to remove information on lambda binders that we have</span><span>
</span><span id="line-749"></span><span class="hs-comment">-- setup as part of a lambda group, assuming they will be applied all at once,</span><span>
</span><span id="line-750"></span><span class="hs-comment">-- but turn out to be part of an unsaturated lambda as in e.g:</span><span>
</span><span id="line-751"></span><span class="hs-comment">--</span><span>
</span><span id="line-752"></span><span class="hs-comment">-- &gt; (\x1. \x2. e) arg1</span><span>
</span><span id="line-753"></span><span class="annot"><a href="GHC.Types.Id.Info.html#zapLamInfo"><span class="hs-identifier hs-type">zapLamInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-754"></span><span id="zapLamInfo"><span class="annot"><span class="annottext">zapLamInfo :: IdInfo -&gt; Maybe IdInfo
</span><a href="GHC.Types.Id.Info.html#zapLamInfo"><span class="hs-identifier hs-var hs-var">zapLamInfo</span></a></span></span><span> </span><span id="local-6989586621681639160"><span class="annot"><span class="annottext">info :: IdInfo
</span><a href="#local-6989586621681639160"><span class="hs-identifier hs-var">info</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">occInfo :: IdInfo -&gt; OccInfo
</span><a href="GHC.Types.Id.Info.html#occInfo"><span class="hs-identifier hs-var">occInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681639161"><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639161"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">demandInfo :: IdInfo -&gt; Demand
</span><a href="GHC.Types.Id.Info.html#demandInfo"><span class="hs-identifier hs-var">demandInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681639162"><span class="annot"><span class="annottext">Demand
</span><a href="#local-6989586621681639162"><span class="hs-identifier hs-var">demand</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-755"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OccInfo -&gt; Bool
</span><a href="#local-6989586621681639163"><span class="hs-identifier hs-var">is_safe_occ</span></a></span><span> </span><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639161"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Demand -&gt; Bool
</span><a href="#local-6989586621681639165"><span class="hs-identifier hs-var">is_safe_dmd</span></a></span><span> </span><span class="annot"><span class="annottext">Demand
</span><a href="#local-6989586621681639162"><span class="hs-identifier hs-var">demand</span></a></span><span>
</span><span id="line-756"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe IdInfo
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-757"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-758"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; Maybe IdInfo
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639160"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="GHC.Types.Id.Info.html#occInfo"><span class="hs-identifier hs-var">occInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681639166"><span class="hs-identifier hs-type">safe_occ</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#demandInfo"><span class="hs-identifier hs-var">demandInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Demand.html#topDmd"><span class="hs-identifier hs-type">topDmd</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-759"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-760"></span><span>        </span><span class="hs-comment">-- The &quot;unsafe&quot; occ info is the ones that say I'm not in a lambda</span><span>
</span><span id="line-761"></span><span>        </span><span class="hs-comment">-- because that might not be true for an unsaturated lambda</span><span>
</span><span id="line-762"></span><span>    </span><span id="local-6989586621681639163"><span class="annot"><span class="annottext">is_safe_occ :: OccInfo -&gt; Bool
</span><a href="#local-6989586621681639163"><span class="hs-identifier hs-var hs-var">is_safe_occ</span></a></span></span><span> </span><span id="local-6989586621681639167"><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639167"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OccInfo -&gt; Bool
</span><a href="GHC.Types.Basic.html#isAlwaysTailCalled"><span class="hs-identifier hs-var">isAlwaysTailCalled</span></a></span><span> </span><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639167"><span class="hs-identifier hs-var">occ</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-763"></span><span>    </span><span class="annot"><a href="#local-6989586621681639163"><span class="hs-identifier hs-var">is_safe_occ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#OneOcc"><span class="hs-identifier hs-type">OneOcc</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">occ_in_lam :: OccInfo -&gt; InsideLam
</span><a href="GHC.Types.Basic.html#occ_in_lam"><span class="hs-identifier hs-var">occ_in_lam</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InsideLam
</span><a href="GHC.Types.Basic.html#NotInsideLam"><span class="hs-identifier hs-var">NotInsideLam</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-764"></span><span>    </span><span class="annot"><a href="#local-6989586621681639163"><span class="hs-identifier hs-var">is_safe_occ</span></a></span><span> </span><span id="local-6989586621681639171"><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639171"><span class="hs-identifier hs-var">_other</span></a></span></span><span>                                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-765"></span><span>
</span><span id="line-766"></span><span>    </span><span id="local-6989586621681639166"><span class="annot"><span class="annottext">safe_occ :: OccInfo
</span><a href="#local-6989586621681639166"><span class="hs-identifier hs-var hs-var">safe_occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639161"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-767"></span><span>                 </span><span class="annot"><a href="GHC.Types.Basic.html#OneOcc"><span class="hs-identifier hs-type">OneOcc</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639161"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#occ_in_lam"><span class="hs-identifier hs-var">occ_in_lam</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#IsInsideLam"><span class="hs-identifier hs-type">IsInsideLam</span></a></span><span>
</span><span id="line-768"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#occ_tail"><span class="hs-identifier hs-var">occ_tail</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#NoTailCallInfo"><span class="hs-identifier hs-type">NoTailCallInfo</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-769"></span><span>                 </span><span class="annot"><a href="GHC.Types.Basic.html#IAmALoopBreaker"><span class="hs-identifier hs-type">IAmALoopBreaker</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-770"></span><span>                          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639161"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#occ_tail"><span class="hs-identifier hs-var">occ_tail</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#NoTailCallInfo"><span class="hs-identifier hs-type">NoTailCallInfo</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-771"></span><span>                 </span><span id="local-6989586621681639176"><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639176"><span class="hs-identifier hs-var">_other</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639161"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-772"></span><span>
</span><span id="line-773"></span><span>    </span><span id="local-6989586621681639165"><span class="annot"><span class="annottext">is_safe_dmd :: Demand -&gt; Bool
</span><a href="#local-6989586621681639165"><span class="hs-identifier hs-var hs-var">is_safe_dmd</span></a></span></span><span> </span><span id="local-6989586621681639177"><span class="annot"><span class="annottext">Demand
</span><a href="#local-6989586621681639177"><span class="hs-identifier hs-var">dmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Demand -&gt; Bool
</span><a href="GHC.Types.Demand.html#isStrUsedDmd"><span class="hs-identifier hs-var">isStrUsedDmd</span></a></span><span> </span><span class="annot"><span class="annottext">Demand
</span><a href="#local-6989586621681639177"><span class="hs-identifier hs-var">dmd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-774"></span><span>
</span><span id="line-775"></span><span class="annot"><span class="hs-comment">-- | Remove all demand info on the 'IdInfo'</span></span><span>
</span><span id="line-776"></span><span class="annot"><a href="GHC.Types.Id.Info.html#zapDemandInfo"><span class="hs-identifier hs-type">zapDemandInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-777"></span><span id="zapDemandInfo"><span class="annot"><span class="annottext">zapDemandInfo :: IdInfo -&gt; Maybe IdInfo
</span><a href="GHC.Types.Id.Info.html#zapDemandInfo"><span class="hs-identifier hs-var hs-var">zapDemandInfo</span></a></span></span><span> </span><span id="local-6989586621681639180"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639180"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; Maybe IdInfo
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639180"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="GHC.Types.Id.Info.html#demandInfo"><span class="hs-identifier hs-var">demandInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Demand.html#topDmd"><span class="hs-identifier hs-type">topDmd</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-778"></span><span>
</span><span id="line-779"></span><span class="annot"><span class="hs-comment">-- | Remove usage (but not strictness) info on the 'IdInfo'</span></span><span>
</span><span id="line-780"></span><span class="annot"><a href="GHC.Types.Id.Info.html#zapUsageInfo"><span class="hs-identifier hs-type">zapUsageInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-781"></span><span id="zapUsageInfo"><span class="annot"><span class="annottext">zapUsageInfo :: IdInfo -&gt; Maybe IdInfo
</span><a href="GHC.Types.Id.Info.html#zapUsageInfo"><span class="hs-identifier hs-var hs-var">zapUsageInfo</span></a></span></span><span> </span><span id="local-6989586621681639181"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639181"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; Maybe IdInfo
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639181"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="GHC.Types.Id.Info.html#demandInfo"><span class="hs-identifier hs-var">demandInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Demand.html#zapUsageDemand"><span class="hs-identifier hs-type">zapUsageDemand</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#demandInfo"><span class="hs-identifier hs-var">demandInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681639181"><span class="hs-identifier hs-type">info</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-782"></span><span>
</span><span id="line-783"></span><span class="annot"><span class="hs-comment">-- | Remove usage environment info from the strictness signature on the 'IdInfo'</span></span><span>
</span><span id="line-784"></span><span class="annot"><a href="GHC.Types.Id.Info.html#zapUsageEnvInfo"><span class="hs-identifier hs-type">zapUsageEnvInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-785"></span><span id="zapUsageEnvInfo"><span class="annot"><span class="annottext">zapUsageEnvInfo :: IdInfo -&gt; Maybe IdInfo
</span><a href="GHC.Types.Id.Info.html#zapUsageEnvInfo"><span class="hs-identifier hs-var hs-var">zapUsageEnvInfo</span></a></span></span><span> </span><span id="local-6989586621681639183"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639183"><span class="hs-identifier hs-var">info</span></a></span></span><span>
</span><span id="line-786"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">DmdSig -&gt; Bool
</span><a href="GHC.Types.Demand.html#hasDemandEnvSig"><span class="hs-identifier hs-var">hasDemandEnvSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdInfo -&gt; DmdSig
</span><a href="GHC.Types.Id.Info.html#dmdSigInfo"><span class="hs-identifier hs-var">dmdSigInfo</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639183"><span class="hs-identifier hs-var">info</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-787"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; Maybe IdInfo
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639183"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><a href="GHC.Types.Id.Info.html#dmdSigInfo"><span class="hs-identifier hs-var">dmdSigInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Demand.html#zapDmdEnvSig"><span class="hs-identifier hs-type">zapDmdEnvSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#dmdSigInfo"><span class="hs-identifier hs-var">dmdSigInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681639183"><span class="hs-identifier hs-type">info</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-788"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-789"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe IdInfo
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-790"></span><span>
</span><span id="line-791"></span><span class="annot"><a href="GHC.Types.Id.Info.html#zapUsedOnceInfo"><span class="hs-identifier hs-type">zapUsedOnceInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-792"></span><span id="zapUsedOnceInfo"><span class="annot"><span class="annottext">zapUsedOnceInfo :: IdInfo -&gt; Maybe IdInfo
</span><a href="GHC.Types.Id.Info.html#zapUsedOnceInfo"><span class="hs-identifier hs-var hs-var">zapUsedOnceInfo</span></a></span></span><span> </span><span id="local-6989586621681639186"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639186"><span class="hs-identifier hs-var">info</span></a></span></span><span>
</span><span id="line-793"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; Maybe IdInfo
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(IdInfo -&gt; Maybe IdInfo) -&gt; IdInfo -&gt; Maybe IdInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639186"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#dmdSigInfo"><span class="hs-identifier hs-var">dmdSigInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Demand.html#zapUsedOnceSig"><span class="hs-identifier hs-type">zapUsedOnceSig</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#dmdSigInfo"><span class="hs-identifier hs-var">dmdSigInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681639186"><span class="hs-identifier hs-type">info</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-794"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#demandInfo"><span class="hs-identifier hs-var">demandInfo</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Demand.html#zapUsedOnceDemand"><span class="hs-identifier hs-type">zapUsedOnceDemand</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#demandInfo"><span class="hs-identifier hs-var">demandInfo</span></a></span><span>     </span><span class="annot"><a href="#local-6989586621681639186"><span class="hs-identifier hs-type">info</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-795"></span><span>
</span><span id="line-796"></span><span class="annot"><a href="GHC.Types.Id.Info.html#zapFragileInfo"><span class="hs-identifier hs-type">zapFragileInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-797"></span><span class="annot"><span class="hs-comment">-- ^ Zap info that depends on free variables</span></span><span>
</span><span id="line-798"></span><span id="zapFragileInfo"><span class="annot"><span class="annottext">zapFragileInfo :: IdInfo -&gt; Maybe IdInfo
</span><a href="GHC.Types.Id.Info.html#zapFragileInfo"><span class="hs-identifier hs-var hs-var">zapFragileInfo</span></a></span></span><span> </span><span id="local-6989586621681639189"><span class="annot"><span class="annottext">info :: IdInfo
</span><a href="#local-6989586621681639189"><span class="hs-identifier hs-var">info</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">occInfo :: IdInfo -&gt; OccInfo
</span><a href="GHC.Types.Id.Info.html#occInfo"><span class="hs-identifier hs-var">occInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681639190"><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639190"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">realUnfoldingInfo :: IdInfo -&gt; Unfolding
</span><a href="GHC.Types.Id.Info.html#realUnfoldingInfo"><span class="hs-identifier hs-var">realUnfoldingInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681639191"><span class="annot"><span class="annottext">Unfolding
</span><a href="#local-6989586621681639191"><span class="hs-identifier hs-var">unf</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-799"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unfolding
</span><a href="#local-6989586621681639192"><span class="hs-identifier hs-var">new_unf</span></a></span><span> </span><span class="annot"><span class="annottext">Unfolding -&gt; Maybe IdInfo -&gt; Maybe IdInfo
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span>  </span><span class="hs-comment">-- The unfolding field is not (currently) strict, so we</span><span>
</span><span id="line-800"></span><span>                   </span><span class="hs-comment">-- force it here to avoid a (zapFragileUnfolding unf) thunk</span><span>
</span><span id="line-801"></span><span>                   </span><span class="hs-comment">-- which might leak space</span><span>
</span><span id="line-802"></span><span>    </span><span class="annot"><span class="annottext">IdInfo -&gt; Maybe IdInfo
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639189"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; RuleInfo -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setRuleInfo"><span class="hs-operator hs-var">`setRuleInfo`</span></a></span><span> </span><span class="annot"><span class="annottext">RuleInfo
</span><a href="GHC.Types.Id.Info.html#emptyRuleInfo"><span class="hs-identifier hs-var">emptyRuleInfo</span></a></span><span>
</span><span id="line-803"></span><span>               </span><span class="annot"><span class="annottext">IdInfo -&gt; Unfolding -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setUnfoldingInfo"><span class="hs-operator hs-var">`setUnfoldingInfo`</span></a></span><span> </span><span class="annot"><span class="annottext">Unfolding
</span><a href="#local-6989586621681639192"><span class="hs-identifier hs-var">new_unf</span></a></span><span>
</span><span id="line-804"></span><span>               </span><span class="annot"><span class="annottext">IdInfo -&gt; OccInfo -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setOccInfo"><span class="hs-operator hs-var">`setOccInfo`</span></a></span><span>       </span><span class="annot"><span class="annottext">OccInfo -&gt; OccInfo
</span><a href="GHC.Types.Basic.html#zapFragileOcc"><span class="hs-identifier hs-var">zapFragileOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639190"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-805"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-806"></span><span>    </span><span id="local-6989586621681639192"><span class="annot"><span class="annottext">new_unf :: Unfolding
</span><a href="#local-6989586621681639192"><span class="hs-identifier hs-var hs-var">new_unf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unfolding -&gt; Unfolding
</span><a href="GHC.Types.Id.Info.html#zapFragileUnfolding"><span class="hs-identifier hs-var">zapFragileUnfolding</span></a></span><span> </span><span class="annot"><span class="annottext">Unfolding
</span><a href="#local-6989586621681639191"><span class="hs-identifier hs-var">unf</span></a></span><span>
</span><span id="line-807"></span><span>
</span><span id="line-808"></span><span class="annot"><a href="GHC.Types.Id.Info.html#zapFragileUnfolding"><span class="hs-identifier hs-type">zapFragileUnfolding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.html#Unfolding"><span class="hs-identifier hs-type">Unfolding</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.html#Unfolding"><span class="hs-identifier hs-type">Unfolding</span></a></span><span>
</span><span id="line-809"></span><span class="hs-comment">-- ^ Zaps any core unfolding, but /preserves/ evaluated-ness,</span><span>
</span><span id="line-810"></span><span class="hs-comment">-- i.e. an unfolding of OtherCon</span><span>
</span><span id="line-811"></span><span id="zapFragileUnfolding"><span class="annot"><span class="annottext">zapFragileUnfolding :: Unfolding -&gt; Unfolding
</span><a href="GHC.Types.Id.Info.html#zapFragileUnfolding"><span class="hs-identifier hs-var hs-var">zapFragileUnfolding</span></a></span></span><span> </span><span id="local-6989586621681639195"><span class="annot"><span class="annottext">Unfolding
</span><a href="#local-6989586621681639195"><span class="hs-identifier hs-var">unf</span></a></span></span><span>
</span><span id="line-812"></span><span> </span><span class="hs-comment">-- N.B. isEvaldUnfolding catches *both* OtherCon [] *and* core unfoldings</span><span>
</span><span id="line-813"></span><span> </span><span class="hs-comment">-- representing values.</span><span>
</span><span id="line-814"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Unfolding -&gt; Bool
</span><a href="GHC.Core.html#isEvaldUnfolding"><span class="hs-identifier hs-var">isEvaldUnfolding</span></a></span><span> </span><span class="annot"><span class="annottext">Unfolding
</span><a href="#local-6989586621681639195"><span class="hs-identifier hs-var">unf</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unfolding
</span><a href="GHC.Core.html#evaldUnfolding"><span class="hs-identifier hs-var">evaldUnfolding</span></a></span><span>
</span><span id="line-815"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unfolding
</span><a href="GHC.Core.html#noUnfolding"><span class="hs-identifier hs-var">noUnfolding</span></a></span><span>
</span><span id="line-816"></span><span>
</span><span id="line-817"></span><span class="annot"><a href="GHC.Types.Id.Info.html#trimUnfolding"><span class="hs-identifier hs-type">trimUnfolding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.html#Unfolding"><span class="hs-identifier hs-type">Unfolding</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.html#Unfolding"><span class="hs-identifier hs-type">Unfolding</span></a></span><span>
</span><span id="line-818"></span><span class="hs-comment">-- Squash all unfolding info, preserving only evaluated-ness</span><span>
</span><span id="line-819"></span><span id="trimUnfolding"><span class="annot"><span class="annottext">trimUnfolding :: Unfolding -&gt; Unfolding
</span><a href="GHC.Types.Id.Info.html#trimUnfolding"><span class="hs-identifier hs-var hs-var">trimUnfolding</span></a></span></span><span> </span><span id="local-6989586621681639198"><span class="annot"><span class="annottext">Unfolding
</span><a href="#local-6989586621681639198"><span class="hs-identifier hs-var">unf</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Unfolding -&gt; Bool
</span><a href="GHC.Core.html#isEvaldUnfolding"><span class="hs-identifier hs-var">isEvaldUnfolding</span></a></span><span> </span><span class="annot"><span class="annottext">Unfolding
</span><a href="#local-6989586621681639198"><span class="hs-identifier hs-var">unf</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unfolding
</span><a href="GHC.Core.html#evaldUnfolding"><span class="hs-identifier hs-var">evaldUnfolding</span></a></span><span>
</span><span id="line-820"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unfolding
</span><a href="GHC.Core.html#noUnfolding"><span class="hs-identifier hs-var">noUnfolding</span></a></span><span>
</span><span id="line-821"></span><span>
</span><span id="line-822"></span><span class="annot"><a href="GHC.Types.Id.Info.html#zapTailCallInfo"><span class="hs-identifier hs-type">zapTailCallInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-823"></span><span id="zapTailCallInfo"><span class="annot"><span class="annottext">zapTailCallInfo :: IdInfo -&gt; Maybe IdInfo
</span><a href="GHC.Types.Id.Info.html#zapTailCallInfo"><span class="hs-identifier hs-var hs-var">zapTailCallInfo</span></a></span></span><span> </span><span id="local-6989586621681639199"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639199"><span class="hs-identifier hs-var">info</span></a></span></span><span>
</span><span id="line-824"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; OccInfo
</span><a href="GHC.Types.Id.Info.html#occInfo"><span class="hs-identifier hs-var">occInfo</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639199"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-825"></span><span>      </span><span id="local-6989586621681639200"><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639200"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OccInfo -&gt; Bool
</span><a href="GHC.Types.Basic.html#isAlwaysTailCalled"><span class="hs-identifier hs-var">isAlwaysTailCalled</span></a></span><span> </span><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639200"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; Maybe IdInfo
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639199"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; OccInfo -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setOccInfo"><span class="hs-operator hs-var">`setOccInfo`</span></a></span><span> </span><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639201"><span class="hs-identifier hs-var">safe_occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-826"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe IdInfo
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-827"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-828"></span><span>          </span><span id="local-6989586621681639201"><span class="annot"><span class="annottext">safe_occ :: OccInfo
</span><a href="#local-6989586621681639201"><span class="hs-identifier hs-var hs-var">safe_occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccInfo
</span><a href="#local-6989586621681639200"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#occ_tail"><span class="hs-identifier hs-var">occ_tail</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#NoTailCallInfo"><span class="hs-identifier hs-type">NoTailCallInfo</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-829"></span><span>
</span><span id="line-830"></span><span class="annot"><a href="GHC.Types.Id.Info.html#zapCallArityInfo"><span class="hs-identifier hs-type">zapCallArityInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#IdInfo"><span class="hs-identifier hs-type">IdInfo</span></a></span><span>
</span><span id="line-831"></span><span id="zapCallArityInfo"><span class="annot"><span class="annottext">zapCallArityInfo :: IdInfo -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#zapCallArityInfo"><span class="hs-identifier hs-var hs-var">zapCallArityInfo</span></a></span></span><span> </span><span id="local-6989586621681639202"><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639202"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdInfo -&gt; Int -&gt; IdInfo
</span><a href="GHC.Types.Id.Info.html#setCallArityInfo"><span class="hs-identifier hs-var">setCallArityInfo</span></a></span><span> </span><span class="annot"><span class="annottext">IdInfo
</span><a href="#local-6989586621681639202"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-832"></span><span>
</span><span id="line-833"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{TickBoxOp}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-840"></span><span>
</span><span id="line-841"></span><span class="hs-keyword">type</span><span> </span><span id="TickBoxId"><span class="annot"><a href="GHC.Types.Id.Info.html#TickBoxId"><span class="hs-identifier hs-var">TickBoxId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-842"></span><span>
</span><span id="line-843"></span><span class="annot"><span class="hs-comment">-- | Tick box for Hpc-style coverage</span></span><span>
</span><span id="line-844"></span><span class="hs-keyword">data</span><span> </span><span id="TickBoxOp"><span class="annot"><a href="GHC.Types.Id.Info.html#TickBoxOp"><span class="hs-identifier hs-var">TickBoxOp</span></a></span></span><span>
</span><span id="line-845"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="TickBox"><span class="annot"><a href="GHC.Types.Id.Info.html#TickBox"><span class="hs-identifier hs-var">TickBox</span></a></span></span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.Id.Info.html#TickBoxId"><span class="hs-identifier hs-type">TickBoxId</span></a></span><span>
</span><span id="line-846"></span><span>
</span><span id="line-847"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#TickBoxOp"><span class="hs-identifier hs-type">TickBoxOp</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-848"></span><span>    </span><span id="local-6989586621681639214"><span class="annot"><span class="annottext">ppr :: TickBoxOp -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.Info.html#TickBox"><span class="hs-identifier hs-type">TickBox</span></a></span><span> </span><span id="local-6989586621681639215"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681639215"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621681639216"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681639216"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;tick&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Module, Int) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681639215"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681639216"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-849"></span></pre></body></html>