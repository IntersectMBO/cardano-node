<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveTraversable #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-comment">--</span><span>
</span><span id="line-14"></span><span class="hs-comment">--  (c) The University of Glasgow 2002-2006</span><span>
</span><span id="line-15"></span><span class="hs-comment">--</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-comment">-- Functions over HsSyn specialised to RdrName.</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Parser.PostProcess</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-20"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrGetField"><span class="hs-identifier">mkRdrGetField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrProjection"><span class="hs-identifier">mkRdrProjection</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#Fbind"><span class="hs-identifier">Fbind</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- RecordDot</span><span>
</span><span id="line-21"></span><span>        </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsOpApp"><span class="hs-identifier">mkHsOpApp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>        </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsIntegral"><span class="hs-identifier">mkHsIntegral</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsFractional"><span class="hs-identifier">mkHsFractional</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsIsString"><span class="hs-identifier">mkHsIsString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>        </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsDo"><span class="hs-identifier">mkHsDo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSpliceDecl"><span class="hs-identifier">mkSpliceDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRoleAnnotDecl"><span class="hs-identifier">mkRoleAnnotDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkClassDecl"><span class="hs-identifier">mkClassDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyData"><span class="hs-identifier">mkTyData</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkDataFamInst"><span class="hs-identifier">mkDataFamInst</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTySynonym"><span class="hs-identifier">mkTySynonym</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyFamInstEqn"><span class="hs-identifier">mkTyFamInstEqn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkStandaloneKindSig"><span class="hs-identifier">mkStandaloneKindSig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyFamInst"><span class="hs-identifier">mkTyFamInst</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkFamDecl"><span class="hs-identifier">mkFamDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkInlinePragma"><span class="hs-identifier">mkInlinePragma</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkOpaquePragma"><span class="hs-identifier">mkOpaquePragma</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkPatSynMatchGroup"><span class="hs-identifier">mkPatSynMatchGroup</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier">mkRecConstrOrUpdate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyClD"><span class="hs-identifier">mkTyClD</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkInstD"><span class="hs-identifier">mkInstD</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrRecordCon"><span class="hs-identifier">mkRdrRecordCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrRecordUpd"><span class="hs-identifier">mkRdrRecordUpd</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier">setRdrNameSpace</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndr"><span class="hs-identifier">fromSpecTyVarBndr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndrs"><span class="hs-identifier">fromSpecTyVarBndrs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#annBinds"><span class="hs-identifier">annBinds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#fixValbindsAnn"><span class="hs-identifier">fixValbindsAnn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#stmtsAnchor"><span class="hs-identifier">stmtsAnchor</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#stmtsLoc"><span class="hs-identifier">stmtsLoc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvBindGroup"><span class="hs-identifier">cvBindGroup</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier">cvBindsAndSigs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvTopDecls"><span class="hs-identifier">cvTopDecls</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#placeHolderPunRhs"><span class="hs-identifier">placeHolderPunRhs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span>        </span><span class="hs-comment">-- Stuff to do with Foreign declarations</span><span>
</span><span id="line-49"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImport"><span class="hs-identifier">mkImport</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#parseCImport"><span class="hs-identifier">parseCImport</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkExport"><span class="hs-identifier">mkExport</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier">mkExtName</span></a></span><span class="hs-special">,</span><span>    </span><span class="hs-comment">-- RdrName -&gt; CLabelString</span><span>
</span><span id="line-53"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkGadtDecl"><span class="hs-identifier">mkGadtDecl</span></a></span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- [LocatedA RdrName] -&gt; LHsType RdrName -&gt; ConDecl RdrName</span><span>
</span><span id="line-54"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkConDeclH98"><span class="hs-identifier">mkConDeclH98</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span>        </span><span class="hs-comment">-- Bunch of functions in the parser monad for</span><span>
</span><span id="line-57"></span><span>        </span><span class="hs-comment">-- checking and constructing values</span><span>
</span><span id="line-58"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkImportDecl"><span class="hs-identifier">checkImportDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier">checkExpBlockArguments</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkCmdBlockArguments"><span class="hs-identifier">checkCmdBlockArguments</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPrecP"><span class="hs-identifier">checkPrecP</span></a></span><span class="hs-special">,</span><span>           </span><span class="hs-comment">-- Int -&gt; P Int</span><span>
</span><span id="line-61"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkContext"><span class="hs-identifier">checkContext</span></a></span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- HsType -&gt; P HsContext</span><span>
</span><span id="line-62"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPattern"><span class="hs-identifier">checkPattern</span></a></span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- HsExp -&gt; P HsPat</span><span>
</span><span id="line-63"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPattern_details"><span class="hs-identifier">checkPattern_details</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>        </span><span class="annot"><a href="GHC.Parser.Errors.Types.html#incompleteDoBlock"><span class="hs-identifier">incompleteDoBlock</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>        </span><span class="annot"><a href="GHC.Parser.Errors.Types.html#ParseContext"><span class="hs-identifier">ParseContext</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkMonadComp"><span class="hs-identifier">checkMonadComp</span></a></span><span class="hs-special">,</span><span>       </span><span class="hs-comment">-- P (HsStmtContext GhcPs)</span><span>
</span><span id="line-67"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValDef"><span class="hs-identifier">checkValDef</span></a></span><span class="hs-special">,</span><span>          </span><span class="hs-comment">-- (SrcLoc, HsExp, HsRhs, [HsDecl]) -&gt; P HsDecl</span><span>
</span><span id="line-68"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValSigLhs"><span class="hs-identifier">checkValSigLhs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#LRuleTyTmVar"><span class="hs-identifier">LRuleTyTmVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier">RuleTyTmVar</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRuleBndrs"><span class="hs-identifier">mkRuleBndrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRuleTyVarBndrs"><span class="hs-identifier">mkRuleTyVarBndrs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkRuleTyVarBndrNames"><span class="hs-identifier">checkRuleTyVarBndrNames</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-72"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier">checkRecordSyntax</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkEmptyGADTs"><span class="hs-identifier">checkEmptyGADTs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>        </span><span class="annot"><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier">addFatalError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#hintBangPat"><span class="hs-identifier">hintBangPat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkBangTy"><span class="hs-identifier">mkBangTy</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-76"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#UnpackednessPragma"><span class="hs-identifier">UnpackednessPragma</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkMultTy"><span class="hs-identifier">mkMultTy</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span>        </span><span class="hs-comment">-- Token location</span><span>
</span><span id="line-80"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTokenLocation"><span class="hs-identifier">mkTokenLocation</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span>        </span><span class="hs-comment">-- Help with processing exports</span><span>
</span><span id="line-83"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpSubSpec"><span class="hs-identifier">ImpExpSubSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-84"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier">ImpExpQcSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-85"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkModuleImpExp"><span class="hs-identifier">mkModuleImpExp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-86"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTypeImpExp"><span class="hs-identifier">mkTypeImpExp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier">mkImpExpSubSpec</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkImportSpec"><span class="hs-identifier">checkImportSpec</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span>        </span><span class="hs-comment">-- Token symbols</span><span>
</span><span id="line-91"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier">starSym</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span>        </span><span class="hs-comment">-- Warnings and errors</span><span>
</span><span id="line-94"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#warnStarIsType"><span class="hs-identifier">warnStarIsType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#warnPrepositiveQualifiedModule"><span class="hs-identifier">warnPrepositiveQualifiedModule</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-96"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#failOpFewArgs"><span class="hs-identifier">failOpFewArgs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-97"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#failNotEnabledImportQualifiedPost"><span class="hs-identifier">failNotEnabledImportQualifiedPost</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-98"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#failImportQualifiedTwice"><span class="hs-identifier">failImportQualifiedTwice</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span>        </span><span class="annot"><a href="GHC.Parser.Types.html#SumOrTuple"><span class="hs-identifier">SumOrTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span>        </span><span class="hs-comment">-- Expression/command/pattern ambiguity resolution</span><span>
</span><span id="line-103"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier">PV</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-104"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier">runPV</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-105"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier">ECP</span></a></span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier">ECP</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#unECP"><span class="hs-identifier">unECP</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-106"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier">DisambInfixOp</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-107"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier">DisambECP</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-108"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromExp"><span class="hs-identifier">ecpFromExp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-109"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromCmd"><span class="hs-identifier">ecpFromCmd</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-110"></span><span>        </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier">PatBuilder</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span>        </span><span class="hs-comment">-- Type/datacon ambiguity resolution</span><span>
</span><span id="line-113"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambTD"><span class="hs-identifier">DisambTD</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-114"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#addUnpackednessP"><span class="hs-identifier">addUnpackednessP</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-115"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#dataConBuilderCon"><span class="hs-identifier">dataConBuilderCon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-116"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#dataConBuilderDetails"><span class="hs-identifier">dataConBuilderDetails</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-117"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-120"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.html"><span class="hs-identifier">GHC.Hs</span></a></span><span>           </span><span class="hs-comment">-- Lots of it</span><span>
</span><span id="line-121"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier">TyCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#isTupleTyCon"><span class="hs-identifier">isTupleTyCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#tyConSingleDataCon_maybe"><span class="hs-identifier">tyConSingleDataCon_maybe</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html"><span class="hs-identifier">GHC.Core.DataCon</span></a></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier">DataCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#dataConTyCon"><span class="hs-identifier">dataConTyCon</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.ConLike.html"><span class="hs-identifier">GHC.Core.ConLike</span></a></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.ConLike.html#ConLike"><span class="hs-identifier">ConLike</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html"><span class="hs-identifier">GHC.Core.Coercion.Axiom</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Role"><span class="hs-identifier">Role</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#fsFromRole"><span class="hs-identifier">fsFromRole</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html"><span class="hs-identifier">GHC.Types.Name.Reader</span></a></span><span>
</span><span id="line-126"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-127"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span>
</span><span id="line-128"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Error.html"><span class="hs-identifier">GHC.Types.Error</span></a></span><span>
</span><span id="line-129"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Fixity.html"><span class="hs-identifier">GHC.Types.Fixity</span></a></span><span>
</span><span id="line-130"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Hint.html"><span class="hs-identifier">GHC.Types.Hint</span></a></span><span>
</span><span id="line-131"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html"><span class="hs-identifier">GHC.Types.SourceText</span></a></span><span>
</span><span id="line-132"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html"><span class="hs-identifier">GHC.Parser.Types</span></a></span><span>
</span><span id="line-133"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html"><span class="hs-identifier">GHC.Parser.Lexer</span></a></span><span>
</span><span id="line-134"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Parser.Errors.Types.html"><span class="hs-identifier">GHC.Parser.Errors.Types</span></a></span><span>
</span><span id="line-135"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Parser.Errors.Ppr.html"><span class="hs-identifier">GHC.Parser.Errors.Ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Lexeme.html"><span class="hs-identifier">GHC.Utils.Lexeme</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Utils.Lexeme.html#okConOcc"><span class="hs-identifier">okConOcc</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html"><span class="hs-identifier">GHC.Types.TyThing</span></a></span><span>
</span><span id="line-138"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Type.html"><span class="hs-identifier">GHC.Core.Type</span></a></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier">Specificity</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html"><span class="hs-identifier">GHC.Builtin.Types</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#cTupleTyConName"><span class="hs-identifier">cTupleTyConName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#tupleTyCon"><span class="hs-identifier">tupleTyCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#tupleDataCon"><span class="hs-identifier">tupleDataCon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-140"></span><span>                          </span><span class="annot"><a href="GHC.Builtin.Types.html#nilDataConName"><span class="hs-identifier">nilDataConName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html#nilDataConKey"><span class="hs-identifier">nilDataConKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-141"></span><span>                          </span><span class="annot"><a href="GHC.Builtin.Types.html#listTyConName"><span class="hs-identifier">listTyConName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html#listTyConKey"><span class="hs-identifier">listTyConKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-142"></span><span>                          </span><span class="annot"><a href="GHC.Builtin.Types.html#unrestrictedFunTyCon"><span class="hs-identifier">unrestrictedFunTyCon</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html"><span class="hs-identifier">GHC.Types.ForeignCall</span></a></span><span>
</span><span id="line-144"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span>
</span><span id="line-145"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html"><span class="hs-identifier">GHC.Types.Unique</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#hasKey"><span class="hs-identifier">hasKey</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html"><span class="hs-identifier">GHC.Data.OrdList</span></a></span><span>
</span><span id="line-147"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Outputable</span></span><span>
</span><span id="line-148"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-149"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Maybe.html"><span class="hs-identifier">GHC.Data.Maybe</span></a></span><span>
</span><span id="line-150"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html"><span class="hs-identifier">GHC.Utils.Error</span></a></span><span>
</span><span id="line-151"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-152"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Either.html#/Data.Either.html"><span class="hs-identifier">Data.Either</span></a></span><span>
</span><span id="line-153"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.List.html#/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.OldList.html#findIndex/Data.OldList.html#findIndex"><span class="hs-identifier">findIndex</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Foldable.html#/Data.Foldable.html"><span class="hs-identifier">Data.Foldable</span></a></span><span>
</span><span id="line-155"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Semigroup.html#/Data.Semigroup.html"><span class="hs-identifier">Data.Semigroup</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Semi</span></span><span>
</span><span id="line-156"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-157"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.Plain.html"><span class="hs-identifier">GHC.Utils.Panic.Plain</span></a></span><span>
</span><span id="line-158"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Data.Strict.html"><span class="hs-identifier">GHC.Data.Strict</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Strict</span></span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html"><span class="hs-identifier">Language.Haskell.Syntax.Basic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#FieldLabelString"><span class="hs-identifier">FieldLabelString</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Control.Monad.html#/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-163"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#/Text.ParserCombinators.ReadP.html"><span class="hs-identifier">Text.ParserCombinators.ReadP</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ReadP</span></span><span>
</span><span id="line-164"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Char.html#/Data.Char.html"><span class="hs-identifier">Data.Char</span></a></span><span>
</span><span id="line-165"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Data.html#/Data.Data.html"><span class="hs-identifier">Data.Data</span></a></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Data.html#dataTypeOf/Data.Data.html#dataTypeOf"><span class="hs-identifier">dataTypeOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Data.html#fromConstr/Data.Data.html#fromConstr"><span class="hs-identifier">fromConstr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Data.html#dataTypeConstrs/Data.Data.html#dataTypeConstrs"><span class="hs-identifier">dataTypeConstrs</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Kind.html#/Data.Kind.html"><span class="hs-identifier">Data.Kind</span></a></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Type</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.List.NonEmpty.html#/Data.List.NonEmpty.html"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#NonEmpty/GHC.Base.html#NonEmpty"><span class="hs-identifier">NonEmpty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="annot"><span class="hs-comment">{- **********************************************************************

  Construction functions for Rdr stuff

  ********************************************************************* -}</span></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">-- | mkClassDecl builds a RdrClassDecl, filling in the names for tycon and</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- datacon by deriving them from the name of the class.  We fill in the names</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- for the tycon and datacon corresponding to the class, by deriving them</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- from the name of the class itself.  This saves recording the names in the</span><span>
</span><span id="line-179"></span><span class="hs-comment">-- interface file (which would be equally good).</span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="hs-comment">-- Similarly for mkConDecl, mkClassOpSig and default-method names.</span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="hs-comment">--         *** See Note [The Naming story] in GHC.Hs.Decls ****</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span id="local-6989586621681788066"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyClD"><span class="hs-identifier hs-type">mkTyClD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788066"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788066"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-186"></span><span id="mkTyClD"><span class="annot"><span class="annottext">mkTyClD :: forall (p :: Pass). LTyClDecl (GhcPass p) -&gt; LHsDecl (GhcPass p)
</span><a href="GHC.Parser.PostProcess.html#mkTyClD"><span class="hs-identifier hs-var hs-var">mkTyClD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789373"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789373"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789374"><span class="annot"><span class="annottext">TyClDecl (GhcPass p)
</span><a href="#local-6989586621681789374"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsDecl (GhcPass p)
-&gt; GenLocated SrcSpanAnnA (HsDecl (GhcPass p))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789373"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XTyClD (GhcPass p) -&gt; TyClDecl (GhcPass p) -&gt; HsDecl (GhcPass p)
forall p. XTyClD p -&gt; TyClDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-var">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyClD (GhcPass p)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass p)
</span><a href="#local-6989586621681789374"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span id="local-6989586621681788078"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkInstD"><span class="hs-identifier hs-type">mkInstD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788078"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788078"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-189"></span><span id="mkInstD"><span class="annot"><span class="annottext">mkInstD :: forall (p :: Pass). LInstDecl (GhcPass p) -&gt; LHsDecl (GhcPass p)
</span><a href="GHC.Parser.PostProcess.html#mkInstD"><span class="hs-identifier hs-var hs-var">mkInstD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789377"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789377"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789378"><span class="annot"><span class="annottext">InstDecl (GhcPass p)
</span><a href="#local-6989586621681789378"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsDecl (GhcPass p)
-&gt; GenLocated SrcSpanAnnA (HsDecl (GhcPass p))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789377"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XInstD (GhcPass p) -&gt; InstDecl (GhcPass p) -&gt; HsDecl (GhcPass p)
forall p. XInstD p -&gt; InstDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-var">InstD</span></a></span><span> </span><span class="annot"><span class="annottext">XInstD (GhcPass p)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">InstDecl (GhcPass p)
</span><a href="#local-6989586621681789378"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span id="local-6989586621681788087"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkClassDecl"><span class="hs-identifier hs-type">mkClassDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-192"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681788087"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsFunDep"><span class="hs-identifier hs-type">LHsFunDep</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Concrete.html#LayoutInfo"><span class="hs-identifier hs-type">LayoutInfo</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-196"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-197"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span id="mkClassDecl"><span class="annot"><span class="annottext">mkClassDecl :: forall a.
SrcSpan
-&gt; Located (Maybe (LHsContext GhcPs), LHsType GhcPs)
-&gt; Located (a, [LHsFunDep GhcPs])
-&gt; OrdList (LHsDecl GhcPs)
-&gt; LayoutInfo GhcPs
-&gt; [AddEpAnn]
-&gt; P (LTyClDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkClassDecl"><span class="hs-identifier hs-var hs-var">mkClassDecl</span></a></span></span><span> </span><span id="local-6989586621681789387"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789387"><span class="hs-identifier hs-var">loc'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789388"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681789388"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789389"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789389"><span class="hs-identifier hs-var">tycl_hdr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681789390"><span class="annot"><span class="annottext">Located (a, [LHsFunDep GhcPs])
</span><a href="#local-6989586621681789390"><span class="hs-identifier hs-var">fds</span></a></span></span><span> </span><span id="local-6989586621681789391"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681789391"><span class="hs-identifier hs-var">where_cls</span></a></span></span><span> </span><span id="local-6989586621681789392"><span class="annot"><span class="annottext">LayoutInfo GhcPs
</span><a href="#local-6989586621681789392"><span class="hs-identifier hs-var">layoutInfo</span></a></span></span><span> </span><span id="local-6989586621681789393"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789393"><span class="hs-identifier hs-var">annsIn</span></a></span></span><span>
</span><span id="line-200"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681789394"><span class="annot"><span class="annottext">loc :: SrcSpanAnnA
</span><a href="#local-6989586621681789394"><span class="hs-identifier hs-var hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789387"><span class="hs-identifier hs-var">loc'</span></a></span><span>
</span><span id="line-201"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789396"><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBindLR GhcPs GhcPs))
</span><a href="#local-6989586621681789396"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789397"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcPs)]
</span><a href="#local-6989586621681789397"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789398"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (FamilyDecl GhcPs)]
</span><a href="#local-6989586621681789398"><span class="hs-identifier hs-var">ats</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789399"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (TyFamInstDecl GhcPs)]
</span><a href="#local-6989586621681789399"><span class="hs-identifier hs-var">at_defs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (DataFamInstDecl GhcPs)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789400"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (DocDecl GhcPs)]
</span><a href="#local-6989586621681789400"><span class="hs-identifier hs-var">docs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
-&gt; P (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
      [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs], [LDocDecl GhcPs])
</span><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier hs-var">cvBindsAndSigs</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681789391"><span class="hs-identifier hs-var">where_cls</span></a></span><span>
</span><span id="line-202"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789401"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789401"><span class="hs-identifier hs-var">cls</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789402"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681789402"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789403"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681789403"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789404"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789404"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789389"><span class="hs-identifier hs-var">tycl_hdr</span></a></span><span>
</span><span id="line-203"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789406"><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681789406"><span class="hs-identifier hs-var">tyvars</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SDoc
-&gt; SDoc
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var">checkTyVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;class&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Parser.PostProcess.html#whereDots"><span class="hs-identifier hs-var">whereDots</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789401"><span class="hs-identifier hs-var">cls</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681789402"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-204"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789410"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789410"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789394"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Get any remaining comments</span><span>
</span><span id="line-205"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681789413"><span class="annot"><span class="annottext">anns' :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681789413"><span class="hs-identifier hs-var hs-var">anns'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; Anchor) -&gt; SrcSpan -&gt; Anchor
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789394"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789393"><span class="hs-identifier hs-var">annsIn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789404"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789410"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-206"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (TyClDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (TyClDecl GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; TyClDecl GhcPs -&gt; GenLocated SrcSpanAnnA (TyClDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789394"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClassDecl"><span class="hs-identifier hs-type">ClassDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdCExt :: XClassDecl GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdCExt"><span class="hs-identifier hs-var">tcdCExt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681789413"><span class="hs-identifier hs-var">anns'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnnSortKey
</span><a href="GHC.Parser.Annotation.html#NoAnnSortKey"><span class="hs-identifier hs-var">NoAnnSortKey</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdLayout :: LayoutInfo GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdLayout"><span class="hs-identifier hs-var">tcdLayout</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LayoutInfo GhcPs
</span><a href="#local-6989586621681789392"><span class="hs-identifier hs-var">layoutInfo</span></a></span><span>
</span><span id="line-208"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdCtxt :: Maybe (LHsContext GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#tcdCtxt"><span class="hs-identifier hs-var">tcdCtxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681789388"><span class="hs-identifier hs-var">mcxt</span></a></span><span>
</span><span id="line-209"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdLName :: XRec GhcPs (IdP GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789401"><span class="hs-identifier hs-var">cls</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdTyVars :: LHsQTyVars GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681789406"><span class="hs-identifier hs-var">tyvars</span></a></span><span>
</span><span id="line-210"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdFixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Decls.html#tcdFixity"><span class="hs-identifier hs-var">tcdFixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681789403"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-211"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdFDs :: [LHsFunDep GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdFDs"><span class="hs-identifier hs-var">tcdFDs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, [GenLocated SrcSpanAnnA (FunDep GhcPs)])
-&gt; [GenLocated SrcSpanAnnA (FunDep GhcPs)]
forall a b. (a, b) -&gt; b
</span><a href="../../base-4.18.3.0/src/Data.Tuple.html#snd/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpan (a, [GenLocated SrcSpanAnnA (FunDep GhcPs)])
-&gt; (a, [GenLocated SrcSpanAnnA (FunDep GhcPs)])
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located (a, [LHsFunDep GhcPs])
GenLocated SrcSpan (a, [GenLocated SrcSpanAnnA (FunDep GhcPs)])
</span><a href="#local-6989586621681789390"><span class="hs-identifier hs-var">fds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdSigs :: [LSig GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdSigs"><span class="hs-identifier hs-var">tcdSigs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LSig GhcPs] -&gt; [LSig GhcPs]
</span><a href="GHC.Hs.Utils.html#mkClassOpSigs"><span class="hs-identifier hs-var">mkClassOpSigs</span></a></span><span> </span><span class="annot"><span class="annottext">[LSig GhcPs]
[GenLocated SrcSpanAnnA (Sig GhcPs)]
</span><a href="#local-6989586621681789397"><span class="hs-identifier hs-var">sigs</span></a></span><span>
</span><span id="line-213"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdMeths :: LHsBinds GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdMeths"><span class="hs-identifier hs-var">tcdMeths</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsBinds GhcPs
Bag (GenLocated SrcSpanAnnA (HsBindLR GhcPs GhcPs))
</span><a href="#local-6989586621681789396"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-214"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdATs :: [LFamilyDecl GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdATs"><span class="hs-identifier hs-var">tcdATs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LFamilyDecl GhcPs]
[GenLocated SrcSpanAnnA (FamilyDecl GhcPs)]
</span><a href="#local-6989586621681789398"><span class="hs-identifier hs-var">ats</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdATDefs :: [LTyFamInstDecl GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdATDefs"><span class="hs-identifier hs-var">tcdATDefs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LTyFamInstDecl GhcPs]
[GenLocated SrcSpanAnnA (TyFamInstDecl GhcPs)]
</span><a href="#local-6989586621681789399"><span class="hs-identifier hs-var">at_defs</span></a></span><span>
</span><span id="line-215"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdDocs :: [LDocDecl GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdDocs"><span class="hs-identifier hs-var">tcdDocs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LDocDecl GhcPs]
[GenLocated SrcSpanAnnA (DocDecl GhcPs)]
</span><a href="#local-6989586621681789400"><span class="hs-identifier hs-var">docs</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyData"><span class="hs-identifier hs-type">mkTyData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-218"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-219"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#NewOrData"><span class="hs-identifier hs-type">NewOrData</span></a></span><span>
</span><span id="line-220"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedP"><span class="hs-identifier hs-type">LocatedP</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CType"><span class="hs-identifier hs-type">CType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-224"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDeriving"><span class="hs-identifier hs-type">HsDeriving</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-226"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span id="mkTyData"><span class="annot"><span class="annottext">mkTyData :: SrcSpan
-&gt; Bool
-&gt; NewOrData
-&gt; Maybe (LocatedP CType)
-&gt; Located (Maybe (LHsContext GhcPs), LHsType GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; [LConDecl GhcPs]
-&gt; Located (HsDeriving GhcPs)
-&gt; [AddEpAnn]
-&gt; P (LTyClDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkTyData"><span class="hs-identifier hs-var hs-var">mkTyData</span></a></span></span><span> </span><span id="local-6989586621681789435"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789435"><span class="hs-identifier hs-var">loc'</span></a></span></span><span> </span><span id="local-6989586621681789436"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681789436"><span class="hs-identifier hs-var">is_type_data</span></a></span></span><span> </span><span id="local-6989586621681789437"><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621681789437"><span class="hs-identifier hs-var">new_or_data</span></a></span></span><span> </span><span id="local-6989586621681789438"><span class="annot"><span class="annottext">Maybe (LocatedP CType)
</span><a href="#local-6989586621681789438"><span class="hs-identifier hs-var">cType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789439"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681789439"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789440"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789440"><span class="hs-identifier hs-var">tycl_hdr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>         </span><span id="local-6989586621681789441"><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621681789441"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621681789442"><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621681789442"><span class="hs-identifier hs-var">data_cons</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681789443"><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621681789443"><span class="hs-identifier hs-var">maybe_deriv</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681789444"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789444"><span class="hs-identifier hs-var">annsIn</span></a></span></span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681789445"><span class="annot"><span class="annottext">loc :: SrcSpanAnnA
</span><a href="#local-6989586621681789445"><span class="hs-identifier hs-var hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789435"><span class="hs-identifier hs-var">loc'</span></a></span><span>
</span><span id="line-230"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789446"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789446"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789447"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681789447"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789448"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681789448"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789449"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789449"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789440"><span class="hs-identifier hs-var">tycl_hdr</span></a></span><span>
</span><span id="line-231"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789450"><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681789450"><span class="hs-identifier hs-var">tyvars</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SDoc
-&gt; SDoc
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var">checkTyVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NewOrData -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621681789437"><span class="hs-identifier hs-var">new_or_data</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Parser.PostProcess.html#equalsDots"><span class="hs-identifier hs-var">equalsDots</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789446"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681789447"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-232"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789453"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789453"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789445"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Get any remaining comments</span><span>
</span><span id="line-233"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681789454"><span class="annot"><span class="annottext">anns' :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681789454"><span class="hs-identifier hs-var hs-var">anns'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; Anchor) -&gt; SrcSpan -&gt; Anchor
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789445"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789444"><span class="hs-identifier hs-var">annsIn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789449"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789453"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-234"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789455"><span class="annot"><span class="annottext">DataDefnCons (GenLocated SrcSpanAnnA (ConDecl GhcPs))
</span><a href="#local-6989586621681789455"><span class="hs-identifier hs-var">data_cons</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; Bool
-&gt; NewOrData
-&gt; [LConDecl GhcPs]
-&gt; P (DataDefnCons (LConDecl GhcPs))
</span><a href="GHC.Parser.PostProcess.html#checkNewOrData"><span class="hs-identifier hs-var">checkNewOrData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789445"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789446"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681789436"><span class="hs-identifier hs-var">is_type_data</span></a></span><span> </span><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621681789437"><span class="hs-identifier hs-var">new_or_data</span></a></span><span> </span><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621681789442"><span class="hs-identifier hs-var">data_cons</span></a></span><span>
</span><span id="line-235"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789457"><span class="annot"><span class="annottext">HsDataDefn GhcPs
</span><a href="#local-6989586621681789457"><span class="hs-identifier hs-var">defn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (LocatedP CType)
-&gt; Maybe (LHsContext GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; DataDefnCons (LConDecl GhcPs)
-&gt; HsDeriving GhcPs
-&gt; P (HsDataDefn GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkDataDefn"><span class="hs-identifier hs-var">mkDataDefn</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LocatedP CType)
</span><a href="#local-6989586621681789438"><span class="hs-identifier hs-var">cType</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681789439"><span class="hs-identifier hs-var">mcxt</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621681789441"><span class="hs-identifier hs-var">ksig</span></a></span><span> </span><span class="annot"><span class="annottext">DataDefnCons (LConDecl GhcPs)
DataDefnCons (GenLocated SrcSpanAnnA (ConDecl GhcPs))
</span><a href="#local-6989586621681789455"><span class="hs-identifier hs-var">data_cons</span></a></span><span> </span><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621681789443"><span class="hs-identifier hs-var">maybe_deriv</span></a></span><span>
</span><span id="line-236"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (TyClDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (TyClDecl GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; TyClDecl GhcPs -&gt; GenLocated SrcSpanAnnA (TyClDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789445"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataDecl"><span class="hs-identifier hs-type">DataDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdDExt :: XDataDecl GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdDExt"><span class="hs-identifier hs-var">tcdDExt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XDataDecl GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681789454"><span class="hs-identifier hs-var">anns'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-237"></span><span>                                   </span><span class="annot"><span class="annottext">tcdLName :: XRec GhcPs (IdP GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789446"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdTyVars :: LHsQTyVars GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681789450"><span class="hs-identifier hs-var">tyvars</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-238"></span><span>                                   </span><span class="annot"><span class="annottext">tcdFixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Decls.html#tcdFixity"><span class="hs-identifier hs-var">tcdFixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681789448"><span class="hs-identifier hs-var">fixity</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-239"></span><span>                                   </span><span class="annot"><span class="annottext">tcdDataDefn :: HsDataDefn GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdDataDefn"><span class="hs-identifier hs-var">tcdDataDefn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDataDefn GhcPs
</span><a href="#local-6989586621681789457"><span class="hs-identifier hs-var">defn</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkDataDefn"><span class="hs-identifier hs-type">mkDataDefn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedP"><span class="hs-identifier hs-type">LocatedP</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CType"><span class="hs-identifier hs-type">CType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataDefnCons"><span class="hs-identifier hs-type">DataDefnCons</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDeriving"><span class="hs-identifier hs-type">HsDeriving</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-246"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span id="mkDataDefn"><span class="annot"><span class="annottext">mkDataDefn :: Maybe (LocatedP CType)
-&gt; Maybe (LHsContext GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; DataDefnCons (LConDecl GhcPs)
-&gt; HsDeriving GhcPs
-&gt; P (HsDataDefn GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkDataDefn"><span class="hs-identifier hs-var hs-var">mkDataDefn</span></a></span></span><span> </span><span id="local-6989586621681789462"><span class="annot"><span class="annottext">Maybe (LocatedP CType)
</span><a href="#local-6989586621681789462"><span class="hs-identifier hs-var">cType</span></a></span></span><span> </span><span id="local-6989586621681789463"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681789463"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span> </span><span id="local-6989586621681789464"><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621681789464"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621681789465"><span class="annot"><span class="annottext">DataDefnCons (LConDecl GhcPs)
</span><a href="#local-6989586621681789465"><span class="hs-identifier hs-var">data_cons</span></a></span></span><span> </span><span id="local-6989586621681789466"><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621681789466"><span class="hs-identifier hs-var">maybe_deriv</span></a></span></span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs) -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkDatatypeContext"><span class="hs-identifier hs-var">checkDatatypeContext</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681789463"><span class="hs-identifier hs-var">mcxt</span></a></span><span>
</span><span id="line-249"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsDataDefn GhcPs -&gt; P (HsDataDefn GhcPs)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dd_ext :: XCHsDataDefn GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#dd_ext"><span class="hs-identifier hs-var">dd_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCHsDataDefn GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-250"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cType :: Maybe (XRec GhcPs CType)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cType"><span class="hs-identifier hs-var">dd_cType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec GhcPs CType)
Maybe (LocatedP CType)
</span><a href="#local-6989586621681789462"><span class="hs-identifier hs-var">cType</span></a></span><span>
</span><span id="line-251"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_ctxt :: Maybe (LHsContext GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_ctxt"><span class="hs-identifier hs-var">dd_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681789463"><span class="hs-identifier hs-var">mcxt</span></a></span><span>
</span><span id="line-252"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cons :: DataDefnCons (LConDecl GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cons"><span class="hs-identifier hs-var">dd_cons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataDefnCons (LConDecl GhcPs)
</span><a href="#local-6989586621681789465"><span class="hs-identifier hs-var">data_cons</span></a></span><span>
</span><span id="line-253"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_kindSig :: Maybe (LHsType GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_kindSig"><span class="hs-identifier hs-var">dd_kindSig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621681789464"><span class="hs-identifier hs-var">ksig</span></a></span><span>
</span><span id="line-254"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_derivs :: HsDeriving GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#dd_derivs"><span class="hs-identifier hs-var">dd_derivs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621681789466"><span class="hs-identifier hs-var">maybe_deriv</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTySynonym"><span class="hs-identifier hs-type">mkTySynonym</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-257"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>  </span><span class="hs-comment">-- LHS</span><span>
</span><span id="line-258"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>  </span><span class="hs-comment">-- RHS</span><span>
</span><span id="line-259"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-260"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span id="mkTySynonym"><span class="annot"><span class="annottext">mkTySynonym :: SrcSpan
-&gt; LHsType GhcPs
-&gt; LHsType GhcPs
-&gt; [AddEpAnn]
-&gt; P (LTyClDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkTySynonym"><span class="hs-identifier hs-var hs-var">mkTySynonym</span></a></span></span><span> </span><span id="local-6989586621681789475"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789475"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789476"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789476"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621681789477"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789477"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span id="local-6989586621681789478"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789478"><span class="hs-identifier hs-var">annsIn</span></a></span></span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789479"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789479"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789480"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681789480"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789481"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681789481"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789482"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789482"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789476"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-263"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789483"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789483"><span class="hs-identifier hs-var">cs1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789475"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan [temp]</span><span>
</span><span id="line-264"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789484"><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681789484"><span class="hs-identifier hs-var">tyvars</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SDoc
-&gt; SDoc
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var">checkTyVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;type&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Parser.PostProcess.html#equalsDots"><span class="hs-identifier hs-var">equalsDots</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789479"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681789480"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-265"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789485"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789485"><span class="hs-identifier hs-var">cs2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789475"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan [temp]</span><span>
</span><span id="line-266"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681789486"><span class="annot"><span class="annottext">anns' :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681789486"><span class="hs-identifier hs-var hs-var">anns'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789475"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789478"><span class="hs-identifier hs-var">annsIn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789482"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789483"><span class="hs-identifier hs-var">cs1</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnnComments -&gt; EpAnnComments
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789485"><span class="hs-identifier hs-var">cs2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (TyClDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (TyClDecl GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; TyClDecl GhcPs -&gt; GenLocated SrcSpanAnnA (TyClDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789475"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SynDecl"><span class="hs-identifier hs-type">SynDecl</span></a></span><span>
</span><span id="line-268"></span><span>                                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdSExt :: XSynDecl GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdSExt"><span class="hs-identifier hs-var">tcdSExt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XSynDecl GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681789486"><span class="hs-identifier hs-var">anns'</span></a></span><span>
</span><span id="line-269"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdLName :: XRec GhcPs (IdP GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789479"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdTyVars :: LHsQTyVars GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681789484"><span class="hs-identifier hs-var">tyvars</span></a></span><span>
</span><span id="line-270"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdFixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Decls.html#tcdFixity"><span class="hs-identifier hs-var">tcdFixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681789481"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-271"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdRhs :: LHsType GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#tcdRhs"><span class="hs-identifier hs-var">tcdRhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789477"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkStandaloneKindSig"><span class="hs-identifier hs-type">mkStandaloneKindSig</span></a></span><span>
</span><span id="line-274"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-275"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">]</span><span>   </span><span class="hs-comment">-- LHS</span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>             </span><span class="hs-comment">-- RHS</span><span>
</span><span id="line-277"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LStandaloneKindSig"><span class="hs-identifier hs-type">LStandaloneKindSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span id="mkStandaloneKindSig"><span class="annot"><span class="annottext">mkStandaloneKindSig :: SrcSpan
-&gt; Located [GenLocated SrcSpanAnnN RdrName]
-&gt; LHsSigType GhcPs
-&gt; [AddEpAnn]
-&gt; P (LStandaloneKindSig GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkStandaloneKindSig"><span class="hs-identifier hs-var hs-var">mkStandaloneKindSig</span></a></span></span><span> </span><span id="local-6989586621681789490"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789490"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789491"><span class="annot"><span class="annottext">Located [GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681789491"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621681789492"><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681789492"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span id="local-6989586621681789493"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789493"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-280"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681789494"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681789494"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN RdrName
 -&gt; P (GenLocated SrcSpanAnnN RdrName))
-&gt; [GenLocated SrcSpanAnnN RdrName]
-&gt; P [GenLocated SrcSpanAnnN RdrName]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="../../base-4.18.3.0/src/Data.Traversable.html#mapM/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; P (GenLocated SrcSpanAnnN RdrName)
forall {m :: * -&gt; *} {a}.
MonadP m =&gt;
GenLocated (SrcSpanAnn' a) RdrName
-&gt; m (GenLocated (SrcSpanAnn' a) RdrName)
</span><a href="#local-6989586621681789496"><span class="hs-identifier hs-var">check_lhs_name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located [GenLocated SrcSpanAnnN RdrName]
-&gt; [GenLocated SrcSpanAnnN RdrName]
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located [GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681789491"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789497"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789497"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
-&gt; P (GenLocated SrcSpanAnnN RdrName)
</span><a href="#local-6989586621681789498"><span class="hs-identifier hs-var">check_singular_lhs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
-&gt; [GenLocated SrcSpanAnnN RdrName]
forall a. [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#reverse/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681789494"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789500"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789500"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789490"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-283"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (StandaloneKindSig GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (StandaloneKindSig GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (StandaloneKindSig GhcPs)
 -&gt; P (GenLocated SrcSpanAnnA (StandaloneKindSig GhcPs)))
-&gt; GenLocated SrcSpanAnnA (StandaloneKindSig GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (StandaloneKindSig GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; StandaloneKindSig GhcPs
-&gt; GenLocated SrcSpanAnnA (StandaloneKindSig GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789490"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>       </span><span class="annot"><span class="annottext">(StandaloneKindSig GhcPs
 -&gt; GenLocated SrcSpanAnnA (StandaloneKindSig GhcPs))
-&gt; StandaloneKindSig GhcPs
-&gt; GenLocated SrcSpanAnnA (StandaloneKindSig GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XStandaloneKindSig GhcPs
-&gt; XRec GhcPs (IdP GhcPs)
-&gt; LHsSigType GhcPs
-&gt; StandaloneKindSig GhcPs
forall pass.
XStandaloneKindSig pass
-&gt; LIdP pass -&gt; LHsSigType pass -&gt; StandaloneKindSig pass
</span><a href="Language.Haskell.Syntax.Decls.html#StandaloneKindSig"><span class="hs-identifier hs-var">StandaloneKindSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789490"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789493"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789500"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789497"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681789492"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-285"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-286"></span><span>    </span><span id="local-6989586621681789496"><span class="annot"><span class="annottext">check_lhs_name :: GenLocated (SrcSpanAnn' a) RdrName
-&gt; m (GenLocated (SrcSpanAnn' a) RdrName)
</span><a href="#local-6989586621681789496"><span class="hs-identifier hs-var hs-var">check_lhs_name</span></a></span></span><span> </span><span id="local-6989586621681789517"><span class="annot"><span class="annottext">v :: GenLocated (SrcSpanAnn' a) RdrName
</span><a href="#local-6989586621681789517"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-glyph">-&gt;</span><span id="local-6989586621681789518"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789518"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-287"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isUnqual"><span class="hs-identifier hs-var">isUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789518"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcOcc"><span class="hs-identifier hs-var">isTcOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789518"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) RdrName
-&gt; m (GenLocated (SrcSpanAnn' a) RdrName)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) RdrName
</span><a href="#local-6989586621681789517"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-289"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; m (GenLocated (SrcSpanAnn' a) RdrName)
forall a. MsgEnvelope PsMessage -&gt; m a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; m (GenLocated (SrcSpanAnn' a) RdrName))
-&gt; MsgEnvelope PsMessage -&gt; m (GenLocated (SrcSpanAnn' a) RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) RdrName -&gt; SrcSpan
forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) RdrName
</span><a href="#local-6989586621681789517"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-290"></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrUnexpectedQualifiedConstructor"><span class="hs-identifier hs-var">PsErrUnexpectedQualifiedConstructor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) RdrName
</span><a href="#local-6989586621681789517"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>    </span><span id="local-6989586621681789498"><span class="annot"><span class="annottext">check_singular_lhs :: [GenLocated SrcSpanAnnN RdrName]
-&gt; P (GenLocated SrcSpanAnnN RdrName)
</span><a href="#local-6989586621681789498"><span class="hs-identifier hs-var hs-var">check_singular_lhs</span></a></span></span><span> </span><span id="local-6989586621681789526"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681789526"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-292"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681789526"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-293"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; P (GenLocated SrcSpanAnnN RdrName)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkStandaloneKindSig: empty left-hand side&quot;</span></span><span>
</span><span id="line-294"></span><span>        </span><span class="hs-special">[</span><span id="local-6989586621681789528"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789528"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; P (GenLocated SrcSpanAnnN RdrName)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789528"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-295"></span><span>        </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN RdrName]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P (GenLocated SrcSpanAnnN RdrName)
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P (GenLocated SrcSpanAnnN RdrName))
-&gt; MsgEnvelope PsMessage -&gt; P (GenLocated SrcSpanAnnN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located [GenLocated SrcSpanAnnN RdrName] -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located [GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681789491"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-296"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[XRec GhcPs (IdP GhcPs)] -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrMultipleNamesInStandaloneKindSignature"><span class="hs-identifier hs-var">PsErrMultipleNamesInStandaloneKindSignature</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (IdP GhcPs)]
[GenLocated SrcSpanAnnN RdrName]
</span><a href="#local-6989586621681789526"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyFamInstEqn"><span class="hs-identifier hs-type">mkTyFamInstEqn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-299"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterFamEqnTyVarBndrs"><span class="hs-identifier hs-type">HsOuterFamEqnTyVarBndrs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-300"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-301"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-302"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-303"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyFamInstEqn"><span class="hs-identifier hs-type">LTyFamInstEqn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span id="mkTyFamInstEqn"><span class="annot"><span class="annottext">mkTyFamInstEqn :: SrcSpan
-&gt; HsOuterFamEqnTyVarBndrs GhcPs
-&gt; LHsType GhcPs
-&gt; LHsType GhcPs
-&gt; [AddEpAnn]
-&gt; P (LTyFamInstEqn GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkTyFamInstEqn"><span class="hs-identifier hs-var hs-var">mkTyFamInstEqn</span></a></span></span><span> </span><span id="local-6989586621681789531"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789531"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789532"><span class="annot"><span class="annottext">HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="#local-6989586621681789532"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span id="local-6989586621681789533"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789533"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621681789534"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789534"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span id="local-6989586621681789535"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789535"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-305"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789536"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789536"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789537"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681789537"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789538"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681789538"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789539"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789539"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789533"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-306"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789540"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789540"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789531"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-307"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA (FamEqn GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs)))
-&gt; P (GenLocated
        SrcSpanAnnA (FamEqn GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; FamEqn GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; GenLocated
     SrcSpanAnnA (FamEqn GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs)))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789531"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(FamEqn GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))
 -&gt; GenLocated
      SrcSpanAnnA (FamEqn GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))))
-&gt; FamEqn GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; GenLocated
     SrcSpanAnnA (FamEqn GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span>
</span><span id="line-308"></span><span>                        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">feqn_ext :: XCFamEqn GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_ext"><span class="hs-identifier hs-var">feqn_ext</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789531"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789535"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#mappend/GHC.Base.html#mappend"><span class="hs-operator hs-var">`mappend`</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789539"><span class="hs-identifier hs-var">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789540"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-309"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_tycon :: XRec GhcPs (IdP GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789536"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-310"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_bndrs :: HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_bndrs"><span class="hs-identifier hs-var">feqn_bndrs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="#local-6989586621681789532"><span class="hs-identifier hs-var">bndrs</span></a></span><span>
</span><span id="line-311"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_pats :: [LHsTypeArg GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_pats"><span class="hs-identifier hs-var">feqn_pats</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681789537"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-312"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_fixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_fixity"><span class="hs-identifier hs-var">feqn_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681789538"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-313"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_rhs :: GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681789534"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkDataFamInst"><span class="hs-identifier hs-type">mkDataFamInst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-316"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#NewOrData"><span class="hs-identifier hs-type">NewOrData</span></a></span><span>
</span><span id="line-317"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedP"><span class="hs-identifier hs-type">LocatedP</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CType"><span class="hs-identifier hs-type">CType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterFamEqnTyVarBndrs"><span class="hs-identifier hs-type">HsOuterFamEqnTyVarBndrs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-319"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-322"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDeriving"><span class="hs-identifier hs-type">HsDeriving</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-323"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-324"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span id="mkDataFamInst"><span class="annot"><span class="annottext">mkDataFamInst :: SrcSpan
-&gt; NewOrData
-&gt; Maybe (LocatedP CType)
-&gt; (Maybe (LHsContext GhcPs), HsOuterFamEqnTyVarBndrs GhcPs,
    LHsType GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; [LConDecl GhcPs]
-&gt; Located (HsDeriving GhcPs)
-&gt; [AddEpAnn]
-&gt; P (LInstDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkDataFamInst"><span class="hs-identifier hs-var hs-var">mkDataFamInst</span></a></span></span><span> </span><span id="local-6989586621681789548"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789548"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789549"><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621681789549"><span class="hs-identifier hs-var">new_or_data</span></a></span></span><span> </span><span id="local-6989586621681789550"><span class="annot"><span class="annottext">Maybe (LocatedP CType)
</span><a href="#local-6989586621681789550"><span class="hs-identifier hs-var">cType</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789551"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681789551"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789552"><span class="annot"><span class="annottext">HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="#local-6989586621681789552"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789553"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789553"><span class="hs-identifier hs-var">tycl_hdr</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>              </span><span id="local-6989586621681789554"><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621681789554"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621681789555"><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621681789555"><span class="hs-identifier hs-var">data_cons</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681789556"><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621681789556"><span class="hs-identifier hs-var">maybe_deriv</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681789557"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789557"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-327"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789558"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789558"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789559"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681789559"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789560"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681789560"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789561"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789561"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789553"><span class="hs-identifier hs-var">tycl_hdr</span></a></span><span>
</span><span id="line-328"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789562"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789562"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789548"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan</span><span>
</span><span id="line-329"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681789563"><span class="annot"><span class="annottext">fam_eqn_ans :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681789563"><span class="hs-identifier hs-var hs-var">fam_eqn_ans</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789548"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789561"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789562"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789557"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span>
</span><span id="line-330"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789564"><span class="annot"><span class="annottext">DataDefnCons (GenLocated SrcSpanAnnA (ConDecl GhcPs))
</span><a href="#local-6989586621681789564"><span class="hs-identifier hs-var">data_cons</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; RdrName
-&gt; Bool
-&gt; NewOrData
-&gt; [LConDecl GhcPs]
-&gt; P (DataDefnCons (LConDecl GhcPs))
</span><a href="GHC.Parser.PostProcess.html#checkNewOrData"><span class="hs-identifier hs-var">checkNewOrData</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789548"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789558"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621681789549"><span class="hs-identifier hs-var">new_or_data</span></a></span><span> </span><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621681789555"><span class="hs-identifier hs-var">data_cons</span></a></span><span>
</span><span id="line-331"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789565"><span class="annot"><span class="annottext">HsDataDefn GhcPs
</span><a href="#local-6989586621681789565"><span class="hs-identifier hs-var">defn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (LocatedP CType)
-&gt; Maybe (LHsContext GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; DataDefnCons (LConDecl GhcPs)
-&gt; HsDeriving GhcPs
-&gt; P (HsDataDefn GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkDataDefn"><span class="hs-identifier hs-var">mkDataDefn</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LocatedP CType)
</span><a href="#local-6989586621681789550"><span class="hs-identifier hs-var">cType</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681789551"><span class="hs-identifier hs-var">mcxt</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621681789554"><span class="hs-identifier hs-var">ksig</span></a></span><span> </span><span class="annot"><span class="annottext">DataDefnCons (LConDecl GhcPs)
DataDefnCons (GenLocated SrcSpanAnnA (ConDecl GhcPs))
</span><a href="#local-6989586621681789564"><span class="hs-identifier hs-var">data_cons</span></a></span><span> </span><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621681789556"><span class="hs-identifier hs-var">maybe_deriv</span></a></span><span>
</span><span id="line-332"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (InstDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (InstDecl GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; InstDecl GhcPs -&gt; GenLocated SrcSpanAnnA (InstDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789548"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XDataFamInstD GhcPs -&gt; DataFamInstDecl GhcPs -&gt; InstDecl GhcPs
forall pass.
XDataFamInstD pass -&gt; DataFamInstDecl pass -&gt; InstDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#DataFamInstD"><span class="hs-identifier hs-var">DataFamInstD</span></a></span><span> </span><span class="annot"><span class="annottext">XDataFamInstD GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FamEqn GhcPs (HsDataDefn GhcPs) -&gt; DataFamInstDecl GhcPs
forall pass. FamEqn pass (HsDataDefn pass) -&gt; DataFamInstDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#DataFamInstDecl"><span class="hs-identifier hs-var">DataFamInstDecl</span></a></span><span>
</span><span id="line-333"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">feqn_ext :: XCFamEqn GhcPs (HsDataDefn GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_ext"><span class="hs-identifier hs-var">feqn_ext</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCFamEqn GhcPs (HsDataDefn GhcPs)
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681789563"><span class="hs-identifier hs-var">fam_eqn_ans</span></a></span><span>
</span><span id="line-334"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_tycon :: XRec GhcPs (IdP GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789558"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-335"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_bndrs :: HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_bndrs"><span class="hs-identifier hs-var">feqn_bndrs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsOuterFamEqnTyVarBndrs GhcPs
</span><a href="#local-6989586621681789552"><span class="hs-identifier hs-var">bndrs</span></a></span><span>
</span><span id="line-336"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_pats :: [LHsTypeArg GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_pats"><span class="hs-identifier hs-var">feqn_pats</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681789559"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-337"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_fixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_fixity"><span class="hs-identifier hs-var">feqn_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681789560"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-338"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_rhs :: HsDataDefn GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDataDefn GhcPs
</span><a href="#local-6989586621681789565"><span class="hs-identifier hs-var">defn</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span class="hs-comment">-- mkDataFamInst loc new_or_data cType (mcxt, bndrs, tycl_hdr)</span><span>
</span><span id="line-341"></span><span class="hs-comment">--               ksig data_cons (L _ maybe_deriv) anns</span><span>
</span><span id="line-342"></span><span class="hs-comment">--   = do { (tc, tparams, fixity, ann) &lt;- checkTyClHdr False tycl_hdr</span><span>
</span><span id="line-343"></span><span class="hs-comment">--        ; cs &lt;- getCommentsFor loc -- Add any API Annotations to the top SrcSpan</span><span>
</span><span id="line-344"></span><span class="hs-comment">--        ; let anns' = addAnns (EpAnn (spanAsAnchor loc) ann cs) anns emptyComments</span><span>
</span><span id="line-345"></span><span class="hs-comment">--        ; defn &lt;- mkDataDefn new_or_data cType mcxt ksig data_cons maybe_deriv</span><span>
</span><span id="line-346"></span><span class="hs-comment">--        ; return (L (noAnnSrcSpan loc) (DataFamInstD anns' (DataFamInstDecl</span><span>
</span><span id="line-347"></span><span class="hs-comment">--                   (FamEqn { feqn_ext    = anns'</span><span>
</span><span id="line-348"></span><span class="hs-comment">--                           , feqn_tycon  = tc</span><span>
</span><span id="line-349"></span><span class="hs-comment">--                           , feqn_bndrs  = bndrs</span><span>
</span><span id="line-350"></span><span class="hs-comment">--                           , feqn_pats   = tparams</span><span>
</span><span id="line-351"></span><span class="hs-comment">--                           , feqn_fixity = fixity</span><span>
</span><span id="line-352"></span><span class="hs-comment">--                           , feqn_rhs    = defn })))) }</span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyFamInst"><span class="hs-identifier hs-type">mkTyFamInst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-357"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamInstEqn"><span class="hs-identifier hs-type">TyFamInstEqn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-358"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-359"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-360"></span><span id="mkTyFamInst"><span class="annot"><span class="annottext">mkTyFamInst :: SrcSpan -&gt; TyFamInstEqn GhcPs -&gt; [AddEpAnn] -&gt; P (LInstDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkTyFamInst"><span class="hs-identifier hs-var hs-var">mkTyFamInst</span></a></span></span><span> </span><span id="local-6989586621681789568"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789568"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789569"><span class="annot"><span class="annottext">TyFamInstEqn GhcPs
</span><a href="#local-6989586621681789569"><span class="hs-identifier hs-var">eqn</span></a></span></span><span> </span><span id="local-6989586621681789570"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789570"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-361"></span><span>  </span><span id="local-6989586621681789571"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789571"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789568"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-362"></span><span>  </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (InstDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (InstDecl GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; InstDecl GhcPs -&gt; GenLocated SrcSpanAnnA (InstDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789568"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XTyFamInstD GhcPs -&gt; TyFamInstDecl GhcPs -&gt; InstDecl GhcPs
forall pass.
XTyFamInstD pass -&gt; TyFamInstDecl pass -&gt; InstDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#TyFamInstD"><span class="hs-identifier hs-var">TyFamInstD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyFamInstD GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-363"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCTyFamInstDecl GhcPs -&gt; TyFamInstEqn GhcPs -&gt; TyFamInstDecl GhcPs
forall pass.
XCTyFamInstDecl pass -&gt; TyFamInstEqn pass -&gt; TyFamInstDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#TyFamInstDecl"><span class="hs-identifier hs-var">TyFamInstDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789568"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789570"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789571"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyFamInstEqn GhcPs
</span><a href="#local-6989586621681789569"><span class="hs-identifier hs-var">eqn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkFamDecl"><span class="hs-identifier hs-type">mkFamDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-366"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamilyInfo"><span class="hs-identifier hs-type">FamilyInfo</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-367"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#TopLevelFlag"><span class="hs-identifier hs-type">TopLevelFlag</span></a></span><span>
</span><span id="line-368"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>                   </span><span class="hs-comment">-- LHS</span><span>
</span><span id="line-369"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LFamilyResultSig"><span class="hs-identifier hs-type">LFamilyResultSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>          </span><span class="hs-comment">-- Optional result signature</span><span>
</span><span id="line-370"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LInjectivityAnn"><span class="hs-identifier hs-type">LInjectivityAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- Injectivity annotation</span><span>
</span><span id="line-371"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-372"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-373"></span><span id="mkFamDecl"><span class="annot"><span class="annottext">mkFamDecl :: SrcSpan
-&gt; FamilyInfo GhcPs
-&gt; TopLevelFlag
-&gt; LHsType GhcPs
-&gt; LFamilyResultSig GhcPs
-&gt; Maybe (LInjectivityAnn GhcPs)
-&gt; [AddEpAnn]
-&gt; P (LTyClDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkFamDecl"><span class="hs-identifier hs-var hs-var">mkFamDecl</span></a></span></span><span> </span><span id="local-6989586621681789574"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789574"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789575"><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="#local-6989586621681789575"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621681789576"><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="#local-6989586621681789576"><span class="hs-identifier hs-var">topLevel</span></a></span></span><span> </span><span id="local-6989586621681789577"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789577"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621681789578"><span class="annot"><span class="annottext">LFamilyResultSig GhcPs
</span><a href="#local-6989586621681789578"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621681789579"><span class="annot"><span class="annottext">Maybe (LInjectivityAnn GhcPs)
</span><a href="#local-6989586621681789579"><span class="hs-identifier hs-var">injAnn</span></a></span></span><span> </span><span id="local-6989586621681789580"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789580"><span class="hs-identifier hs-var">annsIn</span></a></span></span><span>
</span><span id="line-374"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789581"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789581"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789582"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681789582"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789583"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681789583"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789584"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789584"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789577"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-375"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789585"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789585"><span class="hs-identifier hs-var">cs1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789574"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan [temp]</span><span>
</span><span id="line-376"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789586"><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681789586"><span class="hs-identifier hs-var">tyvars</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SDoc
-&gt; SDoc
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var">checkTyVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FamilyInfo GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="#local-6989586621681789575"><span class="hs-identifier hs-var">info</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681789587"><span class="hs-identifier hs-var">equals_or_where</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789581"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681789582"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-377"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789588"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789588"><span class="hs-identifier hs-var">cs2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789574"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan [temp]</span><span>
</span><span id="line-378"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681789589"><span class="annot"><span class="annottext">anns' :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681789589"><span class="hs-identifier hs-var hs-var">anns'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789574"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789580"><span class="hs-identifier hs-var">annsIn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789584"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789585"><span class="hs-identifier hs-var">cs1</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnnComments -&gt; EpAnnComments
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789588"><span class="hs-identifier hs-var">cs2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (TyClDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (TyClDecl GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; TyClDecl GhcPs -&gt; GenLocated SrcSpanAnnA (TyClDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789574"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XFamDecl GhcPs -&gt; FamilyDecl GhcPs -&gt; TyClDecl GhcPs
forall pass. XFamDecl pass -&gt; FamilyDecl pass -&gt; TyClDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#FamDecl"><span class="hs-identifier hs-var">FamDecl</span></a></span><span> </span><span class="annot"><span class="annottext">XFamDecl GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-380"></span><span>                                         </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamilyDecl"><span class="hs-identifier hs-type">FamilyDecl</span></a></span><span>
</span><span id="line-381"></span><span>                                           </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fdExt :: XCFamilyDecl GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fdExt"><span class="hs-identifier hs-var">fdExt</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCFamilyDecl GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681789589"><span class="hs-identifier hs-var">anns'</span></a></span><span>
</span><span id="line-382"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdTopLevel :: TopLevelFlag
</span><a href="Language.Haskell.Syntax.Decls.html#fdTopLevel"><span class="hs-identifier hs-var">fdTopLevel</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="#local-6989586621681789576"><span class="hs-identifier hs-var">topLevel</span></a></span><span>
</span><span id="line-383"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdInfo :: FamilyInfo GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fdInfo"><span class="hs-identifier hs-var">fdInfo</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="#local-6989586621681789575"><span class="hs-identifier hs-var">info</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdLName :: XRec GhcPs (IdP GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#fdLName"><span class="hs-identifier hs-var">fdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789581"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-384"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdTyVars :: LHsQTyVars GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fdTyVars"><span class="hs-identifier hs-var">fdTyVars</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621681789586"><span class="hs-identifier hs-var">tyvars</span></a></span><span>
</span><span id="line-385"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdFixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Decls.html#fdFixity"><span class="hs-identifier hs-var">fdFixity</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681789583"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-386"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdResultSig :: LFamilyResultSig GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fdResultSig"><span class="hs-identifier hs-var">fdResultSig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LFamilyResultSig GhcPs
</span><a href="#local-6989586621681789578"><span class="hs-identifier hs-var">ksig</span></a></span><span>
</span><span id="line-387"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdInjectivityAnn :: Maybe (LInjectivityAnn GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#fdInjectivityAnn"><span class="hs-identifier hs-var">fdInjectivityAnn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LInjectivityAnn GhcPs)
</span><a href="#local-6989586621681789579"><span class="hs-identifier hs-var">injAnn</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-388"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-389"></span><span>    </span><span id="local-6989586621681789587"><span class="annot"><span class="annottext">equals_or_where :: SDoc
</span><a href="#local-6989586621681789587"><span class="hs-identifier hs-var hs-var">equals_or_where</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="#local-6989586621681789575"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-390"></span><span>                        </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#DataFamily"><span class="hs-identifier hs-var">DataFamily</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-391"></span><span>                        </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#OpenTypeFamily"><span class="hs-identifier hs-var">OpenTypeFamily</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-392"></span><span>                        </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClosedTypeFamily"><span class="hs-identifier hs-type">ClosedTypeFamily</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Parser.PostProcess.html#whereDots"><span class="hs-identifier hs-var">whereDots</span></a></span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSpliceDecl"><span class="hs-identifier hs-type">mkSpliceDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-395"></span><span class="hs-comment">-- If the user wrote</span><span>
</span><span id="line-396"></span><span class="hs-comment">--      [pads| ... ]   then return a QuasiQuoteD</span><span>
</span><span id="line-397"></span><span class="hs-comment">--      $(e)           then return a SpliceD</span><span>
</span><span id="line-398"></span><span class="hs-comment">-- but if they wrote, say,</span><span>
</span><span id="line-399"></span><span class="hs-comment">--      f x            then behave as if they'd written $(f x)</span><span>
</span><span id="line-400"></span><span class="hs-comment">--                     ie a SpliceD</span><span>
</span><span id="line-401"></span><span class="hs-comment">--</span><span>
</span><span id="line-402"></span><span class="hs-comment">-- Typed splices are not allowed at the top level, thus we do not represent them</span><span>
</span><span id="line-403"></span><span class="hs-comment">-- as spliced declaration.  See #10945</span><span>
</span><span id="line-404"></span><span id="mkSpliceDecl"><span class="annot"><span class="annottext">mkSpliceDecl :: LHsExpr GhcPs -&gt; P (LHsDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkSpliceDecl"><span class="hs-identifier hs-var hs-var">mkSpliceDecl</span></a></span></span><span> </span><span id="local-6989586621681789604"><span class="annot"><span class="annottext">lexpr :: LHsExpr GhcPs
</span><a href="#local-6989586621681789604"><span class="hs-identifier hs-var">lexpr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789605"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789605"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789606"><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681789606"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-405"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsUntypedSplice"><span class="hs-identifier hs-type">HsUntypedSplice</span></a></span><span> </span><span class="annot"><span class="annottext">XUntypedSplice GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681789608"><span class="annot"><span class="annottext">splice :: HsUntypedSplice GhcPs
</span><a href="#local-6989586621681789608"><span class="hs-identifier hs-var">splice</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsUntypedSpliceExpr"><span class="hs-identifier hs-type">HsUntypedSpliceExpr</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681789606"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-406"></span><span>    </span><span id="local-6989586621681789610"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789610"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789605"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-407"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsDecl GhcPs)
 -&gt; P (GenLocated SrcSpanAnnA (HsDecl GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsDecl GhcPs -&gt; GenLocated SrcSpanAnnA (HsDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; EpAnnComments -&gt; SrcSpanAnnA
forall ann. Monoid ann =&gt; SrcAnn ann -&gt; EpAnnComments -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#addCommentsToSrcAnn"><span class="hs-identifier hs-var">addCommentsToSrcAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789605"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789610"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(HsDecl GhcPs -&gt; GenLocated SrcSpanAnnA (HsDecl GhcPs))
-&gt; HsDecl GhcPs -&gt; GenLocated SrcSpanAnnA (HsDecl GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceD GhcPs -&gt; SpliceDecl GhcPs -&gt; HsDecl GhcPs
forall p. XSpliceD p -&gt; SpliceDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SpliceD"><span class="hs-identifier hs-var">SpliceD</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceD GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSpliceDecl GhcPs
-&gt; XRec GhcPs (HsUntypedSplice GhcPs)
-&gt; SpliceDecoration
-&gt; SpliceDecl GhcPs
forall p.
XSpliceDecl p
-&gt; XRec p (HsUntypedSplice p) -&gt; SpliceDecoration -&gt; SpliceDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SpliceDecl"><span class="hs-identifier hs-var">SpliceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceDecl GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsUntypedSplice GhcPs
-&gt; GenLocated SrcSpanAnnA (HsUntypedSplice GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789605"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">HsUntypedSplice GhcPs
</span><a href="#local-6989586621681789608"><span class="hs-identifier hs-var">splice</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SpliceDecoration
</span><a href="Language.Haskell.Syntax.Decls.html#DollarSplice"><span class="hs-identifier hs-var">DollarSplice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsUntypedSplice"><span class="hs-identifier hs-type">HsUntypedSplice</span></a></span><span> </span><span class="annot"><span class="annottext">XUntypedSplice GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681789615"><span class="annot"><span class="annottext">splice :: HsUntypedSplice GhcPs
</span><a href="#local-6989586621681789615"><span class="hs-identifier hs-var">splice</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsQuasiQuote"><span class="hs-identifier hs-type">HsQuasiQuote</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681789606"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-410"></span><span>    </span><span id="local-6989586621681789617"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789617"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789605"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-411"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsDecl GhcPs)
 -&gt; P (GenLocated SrcSpanAnnA (HsDecl GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsDecl GhcPs -&gt; GenLocated SrcSpanAnnA (HsDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; EpAnnComments -&gt; SrcSpanAnnA
forall ann. Monoid ann =&gt; SrcAnn ann -&gt; EpAnnComments -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#addCommentsToSrcAnn"><span class="hs-identifier hs-var">addCommentsToSrcAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789605"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789617"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(HsDecl GhcPs -&gt; GenLocated SrcSpanAnnA (HsDecl GhcPs))
-&gt; HsDecl GhcPs -&gt; GenLocated SrcSpanAnnA (HsDecl GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceD GhcPs -&gt; SpliceDecl GhcPs -&gt; HsDecl GhcPs
forall p. XSpliceD p -&gt; SpliceDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SpliceD"><span class="hs-identifier hs-var">SpliceD</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceD GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSpliceDecl GhcPs
-&gt; XRec GhcPs (HsUntypedSplice GhcPs)
-&gt; SpliceDecoration
-&gt; SpliceDecl GhcPs
forall p.
XSpliceDecl p
-&gt; XRec p (HsUntypedSplice p) -&gt; SpliceDecoration -&gt; SpliceDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SpliceDecl"><span class="hs-identifier hs-var">SpliceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceDecl GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsUntypedSplice GhcPs
-&gt; GenLocated SrcSpanAnnA (HsUntypedSplice GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789605"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">HsUntypedSplice GhcPs
</span><a href="#local-6989586621681789615"><span class="hs-identifier hs-var">splice</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SpliceDecoration
</span><a href="Language.Haskell.Syntax.Decls.html#DollarSplice"><span class="hs-identifier hs-var">DollarSplice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-412"></span><span>
</span><span id="line-413"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-414"></span><span>    </span><span id="local-6989586621681789618"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789618"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789605"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsDecl GhcPs)
 -&gt; P (GenLocated SrcSpanAnnA (HsDecl GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (HsDecl GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsDecl GhcPs -&gt; GenLocated SrcSpanAnnA (HsDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; EpAnnComments -&gt; SrcSpanAnnA
forall ann. Monoid ann =&gt; SrcAnn ann -&gt; EpAnnComments -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#addCommentsToSrcAnn"><span class="hs-identifier hs-var">addCommentsToSrcAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789605"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789618"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(HsDecl GhcPs -&gt; GenLocated SrcSpanAnnA (HsDecl GhcPs))
-&gt; HsDecl GhcPs -&gt; GenLocated SrcSpanAnnA (HsDecl GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceD GhcPs -&gt; SpliceDecl GhcPs -&gt; HsDecl GhcPs
forall p. XSpliceD p -&gt; SpliceDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SpliceD"><span class="hs-identifier hs-var">SpliceD</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceD GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSpliceDecl GhcPs
-&gt; XRec GhcPs (HsUntypedSplice GhcPs)
-&gt; SpliceDecoration
-&gt; SpliceDecl GhcPs
forall p.
XSpliceDecl p
-&gt; XRec p (HsUntypedSplice p) -&gt; SpliceDecoration -&gt; SpliceDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SpliceDecl"><span class="hs-identifier hs-var">SpliceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceDecl GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-416"></span><span>                                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsUntypedSplice GhcPs
-&gt; GenLocated SrcSpanAnnA (HsUntypedSplice GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789605"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XUntypedSpliceExpr GhcPs -&gt; LHsExpr GhcPs -&gt; HsUntypedSplice GhcPs
forall id.
XUntypedSpliceExpr id -&gt; LHsExpr id -&gt; HsUntypedSplice id
</span><a href="Language.Haskell.Syntax.Expr.html#HsUntypedSpliceExpr"><span class="hs-identifier hs-var">HsUntypedSpliceExpr</span></a></span><span> </span><span class="annot"><span class="annottext">XUntypedSpliceExpr GhcPs
EpAnn [AddEpAnn]
forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681789604"><span class="hs-identifier hs-var">lexpr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-417"></span><span>                                       </span><span class="annot"><span class="annottext">SpliceDecoration
</span><a href="Language.Haskell.Syntax.Decls.html#BareSplice"><span class="hs-identifier hs-var">BareSplice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRoleAnnotDecl"><span class="hs-identifier hs-type">mkRoleAnnotDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-420"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>                </span><span class="hs-comment">-- type being annotated</span><span>
</span><span id="line-421"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- roles</span><span>
</span><span id="line-422"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-423"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LRoleAnnotDecl"><span class="hs-identifier hs-type">LRoleAnnotDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-424"></span><span id="mkRoleAnnotDecl"><span class="annot"><span class="annottext">mkRoleAnnotDecl :: SrcSpan
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [Located (Maybe FastString)]
-&gt; [AddEpAnn]
-&gt; P (LRoleAnnotDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRoleAnnotDecl"><span class="hs-identifier hs-var hs-var">mkRoleAnnotDecl</span></a></span></span><span> </span><span id="local-6989586621681789621"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789621"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789622"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789622"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span id="local-6989586621681789623"><span class="annot"><span class="annottext">[Located (Maybe FastString)]
</span><a href="#local-6989586621681789623"><span class="hs-identifier hs-var">roles</span></a></span></span><span> </span><span id="local-6989586621681789624"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789624"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681789625"><span class="annot"><span class="annottext">[GenLocated (SrcAnn NoEpAnns) (Maybe Role)]
</span><a href="#local-6989586621681789625"><span class="hs-identifier hs-var">roles'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Located (Maybe FastString)
 -&gt; P (GenLocated (SrcAnn NoEpAnns) (Maybe Role)))
-&gt; [Located (Maybe FastString)]
-&gt; P [GenLocated (SrcAnn NoEpAnns) (Maybe Role)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="../../base-4.18.3.0/src/Data.Traversable.html#mapM/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Maybe FastString)
-&gt; P (GenLocated (SrcAnn NoEpAnns) (Maybe Role))
</span><a href="#local-6989586621681789626"><span class="hs-identifier hs-var">parse_role</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (Maybe FastString)]
</span><a href="#local-6989586621681789623"><span class="hs-identifier hs-var">roles</span></a></span><span>
</span><span id="line-426"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789627"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789627"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789621"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-427"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (RoleAnnotDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (RoleAnnotDecl GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (RoleAnnotDecl GhcPs)
 -&gt; P (GenLocated SrcSpanAnnA (RoleAnnotDecl GhcPs)))
-&gt; GenLocated SrcSpanAnnA (RoleAnnotDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (RoleAnnotDecl GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; RoleAnnotDecl GhcPs
-&gt; GenLocated SrcSpanAnnA (RoleAnnotDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789621"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>         </span><span class="annot"><span class="annottext">(RoleAnnotDecl GhcPs
 -&gt; GenLocated SrcSpanAnnA (RoleAnnotDecl GhcPs))
-&gt; RoleAnnotDecl GhcPs
-&gt; GenLocated SrcSpanAnnA (RoleAnnotDecl GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XCRoleAnnotDecl GhcPs
-&gt; XRec GhcPs (IdP GhcPs)
-&gt; [XRec GhcPs (Maybe Role)]
-&gt; RoleAnnotDecl GhcPs
forall pass.
XCRoleAnnotDecl pass
-&gt; LIdP pass -&gt; [XRec pass (Maybe Role)] -&gt; RoleAnnotDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#RoleAnnotDecl"><span class="hs-identifier hs-var">RoleAnnotDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789621"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789624"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789627"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789622"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (Maybe Role)]
[GenLocated (SrcAnn NoEpAnns) (Maybe Role)]
</span><a href="#local-6989586621681789625"><span class="hs-identifier hs-var">roles'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-429"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-430"></span><span>    </span><span id="local-6989586621681789633"><span class="annot"><span class="annottext">role_data_type :: DataType
</span><a href="#local-6989586621681789633"><span class="hs-identifier hs-var hs-var">role_data_type</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Role -&gt; DataType
forall a. Data a =&gt; a -&gt; DataType
</span><a href="../../base-4.18.3.0/src/Data.Data.html#dataTypeOf/Data.Data.html#dataTypeOf"><span class="hs-identifier hs-var">dataTypeOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Role
forall a. HasCallStack =&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Err.html#undefined/GHC.Err.html#undefined"><span class="hs-identifier hs-var">undefined</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Role"><span class="hs-identifier hs-type">Role</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-431"></span><span>    </span><span id="local-6989586621681789637"><span class="annot"><span class="annottext">all_roles :: [Role]
</span><a href="#local-6989586621681789637"><span class="hs-identifier hs-var hs-var">all_roles</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Constr -&gt; Role) -&gt; [Constr] -&gt; [Role]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Constr -&gt; Role
forall a. Data a =&gt; Constr -&gt; a
</span><a href="../../base-4.18.3.0/src/Data.Data.html#fromConstr/Data.Data.html#fromConstr"><span class="hs-identifier hs-var">fromConstr</span></a></span><span> </span><span class="annot"><span class="annottext">([Constr] -&gt; [Role]) -&gt; [Constr] -&gt; [Role]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataType -&gt; [Constr]
</span><a href="../../base-4.18.3.0/src/Data.Data.html#dataTypeConstrs/Data.Data.html#dataTypeConstrs"><span class="hs-identifier hs-var">dataTypeConstrs</span></a></span><span> </span><span class="annot"><span class="annottext">DataType
</span><a href="#local-6989586621681789633"><span class="hs-identifier hs-var">role_data_type</span></a></span><span>
</span><span id="line-432"></span><span>    </span><span id="local-6989586621681789638"><span class="annot"><span class="annottext">possible_roles :: [(FastString, Role)]
</span><a href="#local-6989586621681789638"><span class="hs-identifier hs-var hs-var">possible_roles</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Role -&gt; FastString
</span><a href="GHC.Core.Coercion.Axiom.html#fsFromRole"><span class="hs-identifier hs-var">fsFromRole</span></a></span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621681789639"><span class="hs-keyword hs-var">role</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621681789639"><span class="hs-keyword hs-var">role</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681789639"><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621681789639"><span class="hs-keyword hs-var">role</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Role]
</span><a href="#local-6989586621681789637"><span class="hs-identifier hs-var">all_roles</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-433"></span><span>
</span><span id="line-434"></span><span>    </span><span id="local-6989586621681789626"><span class="annot"><span class="annottext">parse_role :: Located (Maybe FastString)
-&gt; P (GenLocated (SrcAnn NoEpAnns) (Maybe Role))
</span><a href="#local-6989586621681789626"><span class="hs-identifier hs-var hs-var">parse_role</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789640"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789640"><span class="hs-identifier hs-var">loc_role</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe FastString
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcAnn NoEpAnns) (Maybe Role)
-&gt; P (GenLocated (SrcAnn NoEpAnns) (Maybe Role))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated (SrcAnn NoEpAnns) (Maybe Role)
 -&gt; P (GenLocated (SrcAnn NoEpAnns) (Maybe Role)))
-&gt; GenLocated (SrcAnn NoEpAnns) (Maybe Role)
-&gt; P (GenLocated (SrcAnn NoEpAnns) (Maybe Role))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcAnn NoEpAnns
-&gt; Maybe Role -&gt; GenLocated (SrcAnn NoEpAnns) (Maybe Role)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcAnn NoEpAnns
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789640"><span class="hs-identifier hs-var">loc_role</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Role
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-435"></span><span>    </span><span class="annot"><a href="#local-6989586621681789626"><span class="hs-identifier hs-var">parse_role</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789641"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789641"><span class="hs-identifier hs-var">loc_role</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681789642"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681789642"><span class="hs-keyword hs-var">role</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-436"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; [(FastString, Role)] -&gt; Maybe Role
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><a href="../../base-4.18.3.0/src/GHC.List.html#lookup/GHC.List.html#lookup"><span class="hs-identifier hs-var">lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681789642"><span class="hs-keyword hs-var">role</span></a></span><span> </span><span class="annot"><span class="annottext">[(FastString, Role)]
</span><a href="#local-6989586621681789638"><span class="hs-identifier hs-var">possible_roles</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-437"></span><span>          </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681789644"><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621681789644"><span class="hs-identifier hs-var">found_role</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcAnn NoEpAnns) (Maybe Role)
-&gt; P (GenLocated (SrcAnn NoEpAnns) (Maybe Role))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated (SrcAnn NoEpAnns) (Maybe Role)
 -&gt; P (GenLocated (SrcAnn NoEpAnns) (Maybe Role)))
-&gt; GenLocated (SrcAnn NoEpAnns) (Maybe Role)
-&gt; P (GenLocated (SrcAnn NoEpAnns) (Maybe Role))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcAnn NoEpAnns
-&gt; Maybe Role -&gt; GenLocated (SrcAnn NoEpAnns) (Maybe Role)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcAnn NoEpAnns
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789641"><span class="hs-identifier hs-var">loc_role</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe Role -&gt; GenLocated (SrcAnn NoEpAnns) (Maybe Role))
-&gt; Maybe Role -&gt; GenLocated (SrcAnn NoEpAnns) (Maybe Role)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Role -&gt; Maybe Role
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621681789644"><span class="hs-identifier hs-var">found_role</span></a></span><span>
</span><span id="line-438"></span><span>          </span><span class="annot"><span class="annottext">Maybe Role
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-439"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681789645"><span class="annot"><span class="annottext">nearby :: [Role]
</span><a href="#local-6989586621681789645"><span class="hs-identifier hs-var hs-var">nearby</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Role)] -&gt; [Role]
forall a. String -&gt; [(String, a)] -&gt; [a]
</span><a href="GHC.Utils.Misc.html#fuzzyLookup"><span class="hs-identifier hs-var">fuzzyLookup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681789642"><span class="hs-keyword hs-var">role</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-440"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FastString -&gt; String) -&gt; [(FastString, Role)] -&gt; [(String, Role)]
forall (f :: * -&gt; *) a c b.
Functor f =&gt;
(a -&gt; c) -&gt; f (a, b) -&gt; f (c, b)
</span><a href="GHC.Utils.Misc.html#mapFst"><span class="hs-identifier hs-var">mapFst</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">[(FastString, Role)]
</span><a href="#local-6989586621681789638"><span class="hs-identifier hs-var">possible_roles</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-441"></span><span>            </span><span class="hs-keyword">in</span><span>
</span><span id="line-442"></span><span>            </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage
-&gt; P (GenLocated (SrcAnn NoEpAnns) (Maybe Role))
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage
 -&gt; P (GenLocated (SrcAnn NoEpAnns) (Maybe Role)))
-&gt; MsgEnvelope PsMessage
-&gt; P (GenLocated (SrcAnn NoEpAnns) (Maybe Role))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789641"><span class="hs-identifier hs-var">loc_role</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-443"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; [Role] -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIllegalRoleName"><span class="hs-identifier hs-var">PsErrIllegalRoleName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681789642"><span class="hs-keyword hs-var">role</span></a></span><span> </span><span class="annot"><span class="annottext">[Role]
</span><a href="#local-6989586621681789645"><span class="hs-identifier hs-var">nearby</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span class="hs-comment">-- | Converts a list of 'LHsTyVarBndr's annotated with their 'Specificity' to</span><span>
</span><span id="line-446"></span><span class="hs-comment">-- binders without annotations. Only accepts specified variables, and errors if</span><span>
</span><span id="line-447"></span><span class="hs-comment">-- any of the provided binders has an 'InferredSpec' annotation.</span><span>
</span><span id="line-448"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndrs"><span class="hs-identifier hs-type">fromSpecTyVarBndrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-449"></span><span id="fromSpecTyVarBndrs"><span class="annot"><span class="annottext">fromSpecTyVarBndrs :: [LHsTyVarBndr Specificity GhcPs] -&gt; P [LHsTyVarBndr () GhcPs]
</span><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndrs"><span class="hs-identifier hs-var hs-var">fromSpecTyVarBndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)
 -&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)))
-&gt; [GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
-&gt; P [GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="../../base-4.18.3.0/src/Data.Traversable.html#mapM/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">LHsTyVarBndr Specificity GhcPs -&gt; P (LHsTyVarBndr () GhcPs)
GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
</span><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndr"><span class="hs-identifier hs-var">fromSpecTyVarBndr</span></a></span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span class="hs-comment">-- | Converts 'LHsTyVarBndr' annotated with its 'Specificity' to one without</span><span>
</span><span id="line-452"></span><span class="hs-comment">-- annotations. Only accepts specified variables, and errors if the provided</span><span>
</span><span id="line-453"></span><span class="hs-comment">-- binder has an 'InferredSpec' annotation.</span><span>
</span><span id="line-454"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndr"><span class="hs-identifier hs-type">fromSpecTyVarBndr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-455"></span><span id="fromSpecTyVarBndr"><span class="annot"><span class="annottext">fromSpecTyVarBndr :: LHsTyVarBndr Specificity GhcPs -&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndr"><span class="hs-identifier hs-var hs-var">fromSpecTyVarBndr</span></a></span></span><span> </span><span id="local-6989586621681789651"><span class="annot"><span class="annottext">LHsTyVarBndr Specificity GhcPs
</span><a href="#local-6989586621681789651"><span class="hs-identifier hs-var">bndr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LHsTyVarBndr Specificity GhcPs
</span><a href="#local-6989586621681789651"><span class="hs-identifier hs-var">bndr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-456"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789652"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789652"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#UserTyVar"><span class="hs-identifier hs-type">UserTyVar</span></a></span><span> </span><span id="local-6989586621681789654"><span class="annot"><span class="annottext">XUserTyVar GhcPs
</span><a href="#local-6989586621681789654"><span class="hs-identifier hs-var">xtv</span></a></span></span><span> </span><span id="local-6989586621681789655"><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621681789655"><span class="hs-identifier hs-var">flag</span></a></span></span><span> </span><span id="local-6989586621681789656"><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
</span><a href="#local-6989586621681789656"><span class="hs-identifier hs-var">idp</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Specificity -&gt; SrcSpanAnnA -&gt; P ()
</span><a href="#local-6989586621681789657"><span class="hs-identifier hs-var">check_spec</span></a></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621681789655"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789652"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-457"></span><span>                                          </span><span class="annot"><span class="annottext">P ()
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
forall a b. P a -&gt; P b -&gt; P b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsTyVarBndr () GhcPs
-&gt; GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789652"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(HsTyVarBndr () GhcPs
 -&gt; GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
-&gt; HsTyVarBndr () GhcPs
-&gt; GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XUserTyVar GhcPs
-&gt; () -&gt; XRec GhcPs (IdP GhcPs) -&gt; HsTyVarBndr () GhcPs
forall flag pass.
XUserTyVar pass -&gt; flag -&gt; LIdP pass -&gt; HsTyVarBndr flag pass
</span><a href="Language.Haskell.Syntax.Type.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XUserTyVar GhcPs
</span><a href="#local-6989586621681789654"><span class="hs-identifier hs-var">xtv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
</span><a href="#local-6989586621681789656"><span class="hs-identifier hs-var">idp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-458"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789658"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789658"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#KindedTyVar"><span class="hs-identifier hs-type">KindedTyVar</span></a></span><span> </span><span id="local-6989586621681789660"><span class="annot"><span class="annottext">XKindedTyVar GhcPs
</span><a href="#local-6989586621681789660"><span class="hs-identifier hs-var">xtv</span></a></span></span><span> </span><span id="local-6989586621681789661"><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621681789661"><span class="hs-identifier hs-var">flag</span></a></span></span><span> </span><span id="local-6989586621681789662"><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
</span><a href="#local-6989586621681789662"><span class="hs-identifier hs-var">idp</span></a></span></span><span> </span><span id="local-6989586621681789663"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789663"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Specificity -&gt; SrcSpanAnnA -&gt; P ()
</span><a href="#local-6989586621681789657"><span class="hs-identifier hs-var">check_spec</span></a></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621681789661"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789658"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-459"></span><span>                                          </span><span class="annot"><span class="annottext">P ()
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
forall a b. P a -&gt; P b -&gt; P b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsTyVarBndr () GhcPs
-&gt; GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789658"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(HsTyVarBndr () GhcPs
 -&gt; GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
-&gt; HsTyVarBndr () GhcPs
-&gt; GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XKindedTyVar GhcPs
-&gt; ()
-&gt; XRec GhcPs (IdP GhcPs)
-&gt; LHsType GhcPs
-&gt; HsTyVarBndr () GhcPs
forall flag pass.
XKindedTyVar pass
-&gt; flag -&gt; LIdP pass -&gt; LHsKind pass -&gt; HsTyVarBndr flag pass
</span><a href="Language.Haskell.Syntax.Type.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XKindedTyVar GhcPs
</span><a href="#local-6989586621681789660"><span class="hs-identifier hs-var">xtv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
</span><a href="#local-6989586621681789662"><span class="hs-identifier hs-var">idp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789663"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-460"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-461"></span><span>    </span><span class="annot"><a href="#local-6989586621681789657"><span class="hs-identifier hs-type">check_spec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-462"></span><span>    </span><span id="local-6989586621681789657"><span class="annot"><span class="annottext">check_spec :: Specificity -&gt; SrcSpanAnnA -&gt; P ()
</span><a href="#local-6989586621681789657"><span class="hs-identifier hs-var hs-var">check_spec</span></a></span></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="GHC.Types.Var.html#SpecifiedSpec"><span class="hs-identifier hs-var">SpecifiedSpec</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; P ()
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-463"></span><span>    </span><span class="annot"><a href="#local-6989586621681789657"><span class="hs-identifier hs-var">check_spec</span></a></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="GHC.Types.Var.html#InferredSpec"><span class="hs-identifier hs-var">InferredSpec</span></a></span><span>  </span><span id="local-6989586621681789665"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789665"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P ()
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P ()) -&gt; MsgEnvelope PsMessage -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789665"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-464"></span><span>                                     </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrInferredTypeVarNotAllowed"><span class="hs-identifier hs-var">PsErrInferredTypeVarNotAllowed</span></a></span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span class="annot"><span class="hs-comment">-- | Add the annotation for a 'where' keyword to existing @HsLocalBinds@</span></span><span>
</span><span id="line-467"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#annBinds"><span class="hs-identifier hs-type">annBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-468"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-469"></span><span id="annBinds"><span class="annot"><span class="annottext">annBinds :: AddEpAnn
-&gt; EpAnnComments
-&gt; HsLocalBinds GhcPs
-&gt; (HsLocalBinds GhcPs, Maybe EpAnnComments)
</span><a href="GHC.Parser.PostProcess.html#annBinds"><span class="hs-identifier hs-var hs-var">annBinds</span></a></span></span><span> </span><span id="local-6989586621681789667"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681789667"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681789668"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789668"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span id="local-6989586621681789670"><span class="annot"><span class="annottext">XHsValBinds GhcPs GhcPs
</span><a href="#local-6989586621681789670"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span id="local-6989586621681789671"><span class="annot"><span class="annottext">HsValBindsLR GhcPs GhcPs
</span><a href="#local-6989586621681789671"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XHsValBinds GhcPs GhcPs
-&gt; HsValBindsLR GhcPs GhcPs -&gt; HsLocalBinds GhcPs
forall idL idR.
XHsValBinds idL idR
-&gt; HsValBindsLR idL idR -&gt; HsLocalBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-var">HsValBinds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn -&gt; EpAnn AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
</span><a href="GHC.Parser.PostProcess.html#add_where"><span class="hs-identifier hs-var">add_where</span></a></span><span> </span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681789667"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">XHsValBinds GhcPs GhcPs
EpAnn AnnList
</span><a href="#local-6989586621681789670"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789668"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsValBindsLR GhcPs GhcPs
</span><a href="#local-6989586621681789671"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe EpAnnComments
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-470"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#annBinds"><span class="hs-identifier hs-var">annBinds</span></a></span><span> </span><span id="local-6989586621681789673"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681789673"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681789674"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789674"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsIPBinds"><span class="hs-identifier hs-type">HsIPBinds</span></a></span><span> </span><span id="local-6989586621681789676"><span class="annot"><span class="annottext">XHsIPBinds GhcPs GhcPs
</span><a href="#local-6989586621681789676"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span id="local-6989586621681789677"><span class="annot"><span class="annottext">HsIPBinds GhcPs
</span><a href="#local-6989586621681789677"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XHsIPBinds GhcPs GhcPs -&gt; HsIPBinds GhcPs -&gt; HsLocalBinds GhcPs
forall idL idR.
XHsIPBinds idL idR -&gt; HsIPBinds idR -&gt; HsLocalBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#HsIPBinds"><span class="hs-identifier hs-var">HsIPBinds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn -&gt; EpAnn AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
</span><a href="GHC.Parser.PostProcess.html#add_where"><span class="hs-identifier hs-var">add_where</span></a></span><span> </span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681789673"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">XHsIPBinds GhcPs GhcPs
EpAnn AnnList
</span><a href="#local-6989586621681789676"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789674"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsIPBinds GhcPs
</span><a href="#local-6989586621681789677"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe EpAnnComments
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-471"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#annBinds"><span class="hs-identifier hs-var">annBinds</span></a></span><span> </span><span class="annot"><span class="annottext">AddEpAnn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681789678"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789678"><span class="hs-identifier hs-var">cs</span></a></span></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#EmptyLocalBinds"><span class="hs-identifier hs-type">EmptyLocalBinds</span></a></span><span> </span><span id="local-6989586621681789680"><span class="annot"><span class="annottext">XEmptyLocalBinds GhcPs GhcPs
</span><a href="#local-6989586621681789680"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XEmptyLocalBinds GhcPs GhcPs -&gt; HsLocalBinds GhcPs
forall idL idR. XEmptyLocalBinds idL idR -&gt; HsLocalBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#EmptyLocalBinds"><span class="hs-identifier hs-var">EmptyLocalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XEmptyLocalBinds GhcPs GhcPs
</span><a href="#local-6989586621681789680"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">EpAnnComments -&gt; Maybe EpAnnComments
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789678"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#add_where"><span class="hs-identifier hs-type">add_where</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-type">AnnList</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-type">AnnList</span></a></span><span>
</span><span id="line-474"></span><span id="add_where"><span class="annot"><span class="annottext">add_where :: AddEpAnn -&gt; EpAnn AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
</span><a href="GHC.Parser.PostProcess.html#add_where"><span class="hs-identifier hs-var hs-var">add_where</span></a></span></span><span> </span><span id="local-6989586621681789681"><span class="annot"><span class="annottext">an :: AddEpAnn
</span><a href="#local-6989586621681789681"><span class="hs-identifier hs-var">an</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaSpan"><span class="hs-identifier hs-type">EpaSpan</span></a></span><span> </span><span id="local-6989586621681789684"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789684"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span id="local-6989586621681789685"><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681789685"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-type">AnnList</span></a></span><span> </span><span id="local-6989586621681789687"><span class="annot"><span class="annottext">Maybe Anchor
</span><a href="#local-6989586621681789687"><span class="hs-identifier hs-var">anc</span></a></span></span><span> </span><span id="local-6989586621681789688"><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681789688"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681789689"><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681789689"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681789690"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789690"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681789691"><span class="annot"><span class="annottext">[TrailingAnn]
</span><a href="#local-6989586621681789691"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681789692"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789692"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681789693"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789693"><span class="hs-identifier hs-var">cs2</span></a></span></span><span>
</span><span id="line-475"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#valid_anchor"><span class="hs-identifier hs-var">valid_anchor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#anchor"><span class="hs-identifier hs-var">anchor</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681789685"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Anchor -&gt; AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#widenAnchor"><span class="hs-identifier hs-var">widenAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681789685"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681789681"><span class="hs-identifier hs-var">an</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Anchor
-&gt; Maybe AddEpAnn
-&gt; Maybe AddEpAnn
-&gt; [AddEpAnn]
-&gt; [TrailingAnn]
-&gt; AnnList
</span><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-var">AnnList</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Anchor
</span><a href="#local-6989586621681789687"><span class="hs-identifier hs-var">anc</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681789688"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681789689"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681789681"><span class="hs-identifier hs-var">an</span></a></span><span class="annot"><span class="annottext">AddEpAnn -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789690"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TrailingAnn]
</span><a href="#local-6989586621681789691"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789692"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnnComments -&gt; EpAnnComments
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789693"><span class="hs-identifier hs-var">cs2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-478"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Anchor -&gt; AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Anchor -&gt; Anchor
</span><a href="GHC.Parser.PostProcess.html#patch_anchor"><span class="hs-identifier hs-var">patch_anchor</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789684"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681789685"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-479"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Anchor
-&gt; Maybe AddEpAnn
-&gt; Maybe AddEpAnn
-&gt; [AddEpAnn]
-&gt; [TrailingAnn]
-&gt; AnnList
</span><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-var">AnnList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Anchor -&gt; Anchor) -&gt; Maybe Anchor -&gt; Maybe Anchor
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Anchor -&gt; Anchor
</span><a href="GHC.Parser.PostProcess.html#patch_anchor"><span class="hs-identifier hs-var">patch_anchor</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789684"><span class="hs-identifier hs-var">rs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Anchor
</span><a href="#local-6989586621681789687"><span class="hs-identifier hs-var">anc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681789688"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681789689"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681789681"><span class="hs-identifier hs-var">an</span></a></span><span class="annot"><span class="annottext">AddEpAnn -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789690"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TrailingAnn]
</span><a href="#local-6989586621681789691"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789692"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnnComments -&gt; EpAnnComments
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789693"><span class="hs-identifier hs-var">cs2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-480"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#add_where"><span class="hs-identifier hs-var">add_where</span></a></span><span> </span><span id="local-6989586621681789698"><span class="annot"><span class="annottext">an :: AddEpAnn
</span><a href="#local-6989586621681789698"><span class="hs-identifier hs-var">an</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaSpan"><span class="hs-identifier hs-type">EpaSpan</span></a></span><span> </span><span id="local-6989586621681789699"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789699"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnn AnnList
</span><a href="GHC.Parser.Annotation.html#EpAnnNotUsed"><span class="hs-identifier hs-var">EpAnnNotUsed</span></a></span><span> </span><span id="local-6989586621681789701"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789701"><span class="hs-identifier hs-var">cs</span></a></span></span><span>
</span><span id="line-481"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Anchor -&gt; AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; AnchorOperation -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-var">Anchor</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789699"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">AnchorOperation
</span><a href="GHC.Parser.Annotation.html#UnchangedAnchor"><span class="hs-identifier hs-var">UnchangedAnchor</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-482"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Anchor
-&gt; Maybe AddEpAnn
-&gt; Maybe AddEpAnn
-&gt; [AddEpAnn]
-&gt; [TrailingAnn]
-&gt; AnnList
</span><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-var">AnnList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; Maybe Anchor
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(Anchor -&gt; Maybe Anchor) -&gt; Anchor -&gt; Maybe Anchor
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; AnchorOperation -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-var">Anchor</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789699"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">AnchorOperation
</span><a href="GHC.Parser.Annotation.html#UnchangedAnchor"><span class="hs-identifier hs-var">UnchangedAnchor</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe AddEpAnn
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe AddEpAnn
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681789698"><span class="hs-identifier hs-var">an</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789701"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-483"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#add_where"><span class="hs-identifier hs-var">add_where</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaDelta"><span class="hs-identifier hs-type">EpaDelta</span></a></span><span> </span><span class="annot"><span class="annottext">DeltaPos
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LEpaComment]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnn AnnList
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; EpAnn AnnList
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;add_where&quot;</span></span><span>
</span><span id="line-484"></span><span> </span><span class="hs-comment">-- EpaDelta should only be used for transformations</span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#valid_anchor"><span class="hs-identifier hs-type">valid_anchor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-487"></span><span id="valid_anchor"><span class="annot"><span class="annottext">valid_anchor :: RealSrcSpan -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#valid_anchor"><span class="hs-identifier hs-var hs-var">valid_anchor</span></a></span></span><span> </span><span id="local-6989586621681789705"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789705"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Int
</span><a href="GHC.Types.SrcLoc.html#srcSpanStartLine"><span class="hs-identifier hs-var">srcSpanStartLine</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789705"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span class="hs-comment">-- If the decl list for where binds is empty, the anchor ends up</span><span>
</span><span id="line-490"></span><span class="hs-comment">-- invalid. In this case, use the parent one</span><span>
</span><span id="line-491"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#patch_anchor"><span class="hs-identifier hs-type">patch_anchor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-type">Anchor</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-type">Anchor</span></a></span><span>
</span><span id="line-492"></span><span id="patch_anchor"><span class="annot"><span class="annottext">patch_anchor :: RealSrcSpan -&gt; Anchor -&gt; Anchor
</span><a href="GHC.Parser.PostProcess.html#patch_anchor"><span class="hs-identifier hs-var hs-var">patch_anchor</span></a></span></span><span> </span><span id="local-6989586621681789707"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789707"><span class="hs-identifier hs-var">r1</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-type">Anchor</span></a></span><span> </span><span id="local-6989586621681789708"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789708"><span class="hs-identifier hs-var">r0</span></a></span></span><span> </span><span id="local-6989586621681789709"><span class="annot"><span class="annottext">AnchorOperation
</span><a href="#local-6989586621681789709"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; AnchorOperation -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-var">Anchor</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789710"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">AnchorOperation
</span><a href="#local-6989586621681789709"><span class="hs-identifier hs-var">op</span></a></span><span>
</span><span id="line-493"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-494"></span><span>    </span><span id="local-6989586621681789710"><span class="annot"><span class="annottext">r :: RealSrcSpan
</span><a href="#local-6989586621681789710"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Int
</span><a href="GHC.Types.SrcLoc.html#srcSpanStartLine"><span class="hs-identifier hs-var">srcSpanStartLine</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789708"><span class="hs-identifier hs-var">r0</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789707"><span class="hs-identifier hs-var">r1</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789708"><span class="hs-identifier hs-var">r0</span></a></span><span>
</span><span id="line-495"></span><span>
</span><span id="line-496"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#fixValbindsAnn"><span class="hs-identifier hs-type">fixValbindsAnn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-type">AnnList</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-type">AnnList</span></a></span><span>
</span><span id="line-497"></span><span id="fixValbindsAnn"><span class="annot"><span class="annottext">fixValbindsAnn :: EpAnn AnnList -&gt; EpAnn AnnList
</span><a href="GHC.Parser.PostProcess.html#fixValbindsAnn"><span class="hs-identifier hs-var hs-var">fixValbindsAnn</span></a></span></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnList
</span><a href="GHC.Parser.Annotation.html#EpAnnNotUsed"><span class="hs-identifier hs-var">EpAnnNotUsed</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn AnnList
forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#EpAnnNotUsed"><span class="hs-identifier hs-var">EpAnnNotUsed</span></a></span><span>
</span><span id="line-498"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#fixValbindsAnn"><span class="hs-identifier hs-var">fixValbindsAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span id="local-6989586621681789712"><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681789712"><span class="hs-identifier hs-var">anchor</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-type">AnnList</span></a></span><span> </span><span id="local-6989586621681789713"><span class="annot"><span class="annottext">Maybe Anchor
</span><a href="#local-6989586621681789713"><span class="hs-identifier hs-var">ma</span></a></span></span><span> </span><span id="local-6989586621681789714"><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681789714"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681789715"><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681789715"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681789716"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789716"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681789717"><span class="annot"><span class="annottext">[TrailingAnn]
</span><a href="#local-6989586621681789717"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681789718"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789718"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-499"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#widenAnchor"><span class="hs-identifier hs-var">widenAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681789712"><span class="hs-identifier hs-var">anchor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TrailingAnn -&gt; AddEpAnn) -&gt; [TrailingAnn] -&gt; [AddEpAnn]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">TrailingAnn -&gt; AddEpAnn
</span><a href="GHC.Parser.Annotation.html#trailingAnnToAddEpAnn"><span class="hs-identifier hs-var">trailingAnnToAddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">[TrailingAnn]
</span><a href="#local-6989586621681789717"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Anchor
-&gt; Maybe AddEpAnn
-&gt; Maybe AddEpAnn
-&gt; [AddEpAnn]
-&gt; [TrailingAnn]
-&gt; AnnList
</span><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-var">AnnList</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Anchor
</span><a href="#local-6989586621681789713"><span class="hs-identifier hs-var">ma</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681789714"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe AddEpAnn
</span><a href="#local-6989586621681789715"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789716"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">[TrailingAnn]
</span><a href="#local-6989586621681789717"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789718"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-500"></span><span>
</span><span id="line-501"></span><span class="hs-comment">-- | The 'Anchor' for a stmtlist is based on either the location or</span><span>
</span><span id="line-502"></span><span class="hs-comment">-- the first semicolon annotion.</span><span>
</span><span id="line-503"></span><span id="local-6989586621681788244"><span class="annot"><a href="GHC.Parser.PostProcess.html#stmtsAnchor"><span class="hs-identifier hs-type">stmtsAnchor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621681788244"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-type">Anchor</span></a></span></span><span>
</span><span id="line-504"></span><span id="stmtsAnchor"><span class="annot"><span class="annottext">stmtsAnchor :: forall a. Located (OrdList AddEpAnn, a) -&gt; Anchor
</span><a href="GHC.Parser.PostProcess.html#stmtsAnchor"><span class="hs-identifier hs-var hs-var">stmtsAnchor</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789720"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789720"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.OrdList.html#ConsOL"><span class="hs-identifier hs-type">ConsOL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaSpan"><span class="hs-identifier hs-type">EpaSpan</span></a></span><span> </span><span id="local-6989586621681789722"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789722"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OrdList AddEpAnn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-505"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Anchor -&gt; RealSrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#widenAnchorR"><span class="hs-identifier hs-var">widenAnchorR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; AnchorOperation -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-var">Anchor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789720"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnchorOperation
</span><a href="GHC.Parser.Annotation.html#UnchangedAnchor"><span class="hs-identifier hs-var">UnchangedAnchor</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681789722"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-506"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#stmtsAnchor"><span class="hs-identifier hs-var">stmtsAnchor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789725"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789725"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">(OrdList AddEpAnn, a)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; AnchorOperation -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-var">Anchor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789725"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnchorOperation
</span><a href="GHC.Parser.Annotation.html#UnchangedAnchor"><span class="hs-identifier hs-var">UnchangedAnchor</span></a></span><span>
</span><span id="line-507"></span><span>
</span><span id="line-508"></span><span id="local-6989586621681788246"><span class="annot"><a href="GHC.Parser.PostProcess.html#stmtsLoc"><span class="hs-identifier hs-type">stmtsLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621681788246"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span></span><span>
</span><span id="line-509"></span><span id="stmtsLoc"><span class="annot"><span class="annottext">stmtsLoc :: forall a. Located (OrdList AddEpAnn, a) -&gt; SrcSpan
</span><a href="GHC.Parser.PostProcess.html#stmtsLoc"><span class="hs-identifier hs-var hs-var">stmtsLoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789726"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789726"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.OrdList.html#ConsOL"><span class="hs-identifier hs-type">ConsOL</span></a></span><span> </span><span id="local-6989586621681789727"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681789727"><span class="hs-identifier hs-var">aa</span></a></span></span><span> </span><span class="annot"><span class="annottext">OrdList AddEpAnn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-510"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddEpAnn] -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#widenSpan"><span class="hs-identifier hs-var">widenSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789726"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681789727"><span class="hs-identifier hs-var">aa</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-511"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#stmtsLoc"><span class="hs-identifier hs-var">stmtsLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789729"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789729"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">(OrdList AddEpAnn, a)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789729"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-512"></span><span>
</span><span id="line-513"></span><span class="annot"><span class="hs-comment">{- **********************************************************************

  #cvBinds-etc# Converting to @HsBinds@, etc.

  ********************************************************************* -}</span></span><span>
</span><span id="line-518"></span><span>
</span><span id="line-519"></span><span class="hs-comment">-- | Function definitions are restructured here. Each is assumed to be recursive</span><span>
</span><span id="line-520"></span><span class="hs-comment">-- initially, and non recursive definitions are discovered by the dependency</span><span>
</span><span id="line-521"></span><span class="hs-comment">-- analyser.</span><span>
</span><span id="line-522"></span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span class="hs-comment">--  | Groups together bindings for a single function</span><span>
</span><span id="line-525"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvTopDecls"><span class="hs-identifier hs-type">cvTopDecls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-526"></span><span id="cvTopDecls"><span class="annot"><span class="annottext">cvTopDecls :: OrdList (LHsDecl GhcPs) -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#cvTopDecls"><span class="hs-identifier hs-var hs-var">cvTopDecls</span></a></span></span><span> </span><span id="local-6989586621681789730"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681789730"><span class="hs-identifier hs-var">decls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (GenLocated SrcSpanAnnA (HsDecl GhcPs))
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
forall a. OrdList a -&gt; [a]
</span><a href="GHC.Data.OrdList.html#fromOL"><span class="hs-identifier hs-var">fromOL</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
OrdList (GenLocated SrcSpanAnnA (HsDecl GhcPs))
</span><a href="#local-6989586621681789730"><span class="hs-identifier hs-var">decls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span class="hs-comment">-- Declaration list may only contain value bindings and signatures.</span><span>
</span><span id="line-529"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvBindGroup"><span class="hs-identifier hs-type">cvBindGroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-530"></span><span id="cvBindGroup"><span class="annot"><span class="annottext">cvBindGroup :: OrdList (LHsDecl GhcPs) -&gt; P (HsValBindsLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#cvBindGroup"><span class="hs-identifier hs-var hs-var">cvBindGroup</span></a></span></span><span> </span><span id="local-6989586621681789734"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681789734"><span class="hs-identifier hs-var">binding</span></a></span></span><span>
</span><span id="line-531"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789735"><span class="annot"><span class="annottext">Bag (GenLocated SrcSpanAnnA (HsBindLR GhcPs GhcPs))
</span><a href="#local-6989586621681789735"><span class="hs-identifier hs-var">mbs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789736"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig GhcPs)]
</span><a href="#local-6989586621681789736"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789737"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (FamilyDecl GhcPs)]
</span><a href="#local-6989586621681789737"><span class="hs-identifier hs-var">fam_ds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789738"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (TyFamInstDecl GhcPs)]
</span><a href="#local-6989586621681789738"><span class="hs-identifier hs-var">tfam_insts</span></a></span></span><span>
</span><span id="line-532"></span><span>         </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789739"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (DataFamInstDecl GhcPs)]
</span><a href="#local-6989586621681789739"><span class="hs-identifier hs-var">dfam_insts</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (DocDecl GhcPs)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
-&gt; P (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
      [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs], [LDocDecl GhcPs])
</span><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier hs-var">cvBindsAndSigs</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681789734"><span class="hs-identifier hs-var">binding</span></a></span><span>
</span><span id="line-533"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; P ()
forall (m :: * -&gt; *). (HasCallStack, Applicative m) =&gt; Bool -&gt; m ()
</span><a href="GHC.Utils.Panic.Plain.html#massert"><span class="hs-identifier hs-var">massert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (FamilyDecl GhcPs)] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (FamilyDecl GhcPs)]
</span><a href="#local-6989586621681789737"><span class="hs-identifier hs-var">fam_ds</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (TyFamInstDecl GhcPs)] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (TyFamInstDecl GhcPs)]
</span><a href="#local-6989586621681789738"><span class="hs-identifier hs-var">tfam_insts</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (DataFamInstDecl GhcPs)] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (DataFamInstDecl GhcPs)]
</span><a href="#local-6989586621681789739"><span class="hs-identifier hs-var">dfam_insts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-534"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsValBindsLR GhcPs GhcPs -&gt; P (HsValBindsLR GhcPs GhcPs)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(HsValBindsLR GhcPs GhcPs -&gt; P (HsValBindsLR GhcPs GhcPs))
-&gt; HsValBindsLR GhcPs GhcPs -&gt; P (HsValBindsLR GhcPs GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XValBinds GhcPs GhcPs
-&gt; LHsBinds GhcPs -&gt; [LSig GhcPs] -&gt; HsValBindsLR GhcPs GhcPs
forall idL idR.
XValBinds idL idR
-&gt; LHsBindsLR idL idR -&gt; [LSig idR] -&gt; HsValBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#ValBinds"><span class="hs-identifier hs-var">ValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XValBinds GhcPs GhcPs
AnnSortKey
</span><a href="GHC.Parser.Annotation.html#NoAnnSortKey"><span class="hs-identifier hs-var">NoAnnSortKey</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBinds GhcPs
Bag (GenLocated SrcSpanAnnA (HsBindLR GhcPs GhcPs))
</span><a href="#local-6989586621681789735"><span class="hs-identifier hs-var">mbs</span></a></span><span> </span><span class="annot"><span class="annottext">[LSig GhcPs]
[GenLocated SrcSpanAnnA (Sig GhcPs)]
</span><a href="#local-6989586621681789736"><span class="hs-identifier hs-var">sigs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-535"></span><span>
</span><span id="line-536"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier hs-type">cvBindsAndSigs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-537"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LFamilyDecl"><span class="hs-identifier hs-type">LFamilyDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-538"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyFamInstDecl"><span class="hs-identifier hs-type">LTyFamInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDataFamInstDecl"><span class="hs-identifier hs-type">LDataFamInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDocDecl"><span class="hs-identifier hs-type">LDocDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-539"></span><span class="hs-comment">-- Input decls contain just value bindings and signatures</span><span>
</span><span id="line-540"></span><span class="hs-comment">-- and in case of class or instance declarations also</span><span>
</span><span id="line-541"></span><span class="hs-comment">-- associated type declarations. They might also contain Haddock comments.</span><span>
</span><span id="line-542"></span><span id="cvBindsAndSigs"><span class="annot"><span class="annottext">cvBindsAndSigs :: OrdList (LHsDecl GhcPs)
-&gt; P (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
      [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs], [LDocDecl GhcPs])
</span><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier hs-var hs-var">cvBindsAndSigs</span></a></span></span><span> </span><span id="local-6989586621681789743"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681789743"><span class="hs-identifier hs-var">fb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-543"></span><span>  </span><span id="local-6989586621681789744"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsDecl GhcPs)]
</span><a href="#local-6989586621681789744"><span class="hs-identifier hs-var">fb'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsDecl GhcPs)]
-&gt; P [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
forall {m :: * -&gt; *} {a}.
MonadP m =&gt;
[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
-&gt; m [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681789745"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (GenLocated SrcSpanAnnA (HsDecl GhcPs))
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
forall a. OrdList a -&gt; [a]
</span><a href="GHC.Data.OrdList.html#fromOL"><span class="hs-identifier hs-var">fromOL</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
OrdList (GenLocated SrcSpanAnnA (HsDecl GhcPs))
</span><a href="#local-6989586621681789743"><span class="hs-identifier hs-var">fb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-544"></span><span>  </span><span class="annot"><span class="annottext">(Bag (GenLocated SrcSpanAnnA (HsBindLR GhcPs GhcPs)),
 [GenLocated SrcSpanAnnA (Sig GhcPs)],
 [GenLocated SrcSpanAnnA (FamilyDecl GhcPs)],
 [GenLocated SrcSpanAnnA (TyFamInstDecl GhcPs)],
 [GenLocated SrcSpanAnnA (DataFamInstDecl GhcPs)],
 [GenLocated SrcSpanAnnA (DocDecl GhcPs)])
-&gt; P (Bag (GenLocated SrcSpanAnnA (HsBindLR GhcPs GhcPs)),
      [GenLocated SrcSpanAnnA (Sig GhcPs)],
      [GenLocated SrcSpanAnnA (FamilyDecl GhcPs)],
      [GenLocated SrcSpanAnnA (TyFamInstDecl GhcPs)],
      [GenLocated SrcSpanAnnA (DataFamInstDecl GhcPs)],
      [GenLocated SrcSpanAnnA (DocDecl GhcPs)])
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
-&gt; (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
    [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs], [LDocDecl GhcPs])
</span><a href="GHC.Hs.Decls.html#partitionBindsAndSigs"><span class="hs-identifier hs-var">partitionBindsAndSigs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
[GenLocated SrcSpanAnnA (HsDecl GhcPs)]
</span><a href="#local-6989586621681789744"><span class="hs-identifier hs-var">fb'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-545"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-546"></span><span>    </span><span class="hs-comment">-- cvBindsAndSigs is called in several places in the parser,</span><span>
</span><span id="line-547"></span><span>    </span><span class="hs-comment">-- and its items can be produced by various productions:</span><span>
</span><span id="line-548"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-549"></span><span>    </span><span class="hs-comment">--    * decl       (when parsing a where clause or a let-expression)</span><span>
</span><span id="line-550"></span><span>    </span><span class="hs-comment">--    * decl_inst  (when parsing an instance declaration)</span><span>
</span><span id="line-551"></span><span>    </span><span class="hs-comment">--    * decl_cls   (when parsing a class declaration)</span><span>
</span><span id="line-552"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-553"></span><span>    </span><span class="hs-comment">-- partitionBindsAndSigs can handle almost all declaration forms produced</span><span>
</span><span id="line-554"></span><span>    </span><span class="hs-comment">-- by the aforementioned productions, except for SpliceD, which we filter</span><span>
</span><span id="line-555"></span><span>    </span><span class="hs-comment">-- out here (in drop_bad_decls).</span><span>
</span><span id="line-556"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-557"></span><span>    </span><span class="hs-comment">-- We're not concerned with every declaration form possible, such as those</span><span>
</span><span id="line-558"></span><span>    </span><span class="hs-comment">-- produced by the topdecl parser production, because cvBindsAndSigs is not</span><span>
</span><span id="line-559"></span><span>    </span><span class="hs-comment">-- called on top-level declarations.</span><span>
</span><span id="line-560"></span><span>    </span><span id="local-6989586621681789745"><span class="annot"><span class="annottext">drop_bad_decls :: [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
-&gt; m [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681789745"><span class="hs-identifier hs-var hs-var">drop_bad_decls</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
-&gt; m [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-561"></span><span>    </span><span class="annot"><a href="#local-6989586621681789745"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789761"><span class="annot"><span class="annottext">SrcSpanAnn' a
</span><a href="#local-6989586621681789761"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SpliceD"><span class="hs-identifier hs-type">SpliceD</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681789762"><span class="annot"><span class="annottext">SpliceDecl GhcPs
</span><a href="#local-6989586621681789762"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681789763"><span class="annot"><span class="annottext">[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681789763"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-562"></span><span>      </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; m ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; m ()) -&gt; MsgEnvelope PsMessage -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnn' a -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnn' a
</span><a href="#local-6989586621681789761"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SpliceDecl GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrDeclSpliceNotAtTopLevel"><span class="hs-identifier hs-var">PsErrDeclSpliceNotAtTopLevel</span></a></span><span> </span><span class="annot"><span class="annottext">SpliceDecl GhcPs
</span><a href="#local-6989586621681789762"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-563"></span><span>      </span><span class="annot"><span class="annottext">[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
-&gt; m [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681789745"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681789763"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-564"></span><span>    </span><span class="annot"><a href="#local-6989586621681789745"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789766"><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)
</span><a href="#local-6989586621681789766"><span class="hs-identifier hs-var">d</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681789767"><span class="annot"><span class="annottext">[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681789767"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)
</span><a href="#local-6989586621681789766"><span class="hs-identifier hs-var">d</span></a></span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)
-&gt; [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
-&gt; [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
 -&gt; [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)])
-&gt; m [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
-&gt; m [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
-&gt; m [GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681789745"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (SrcSpanAnn' a) (HsDecl GhcPs)]
</span><a href="#local-6989586621681789767"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-565"></span><span>
</span><span id="line-566"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-567"></span><span class="hs-comment">-- Group function bindings into equation groups</span><span>
</span><span id="line-568"></span><span>
</span><span id="line-569"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBind"><span class="hs-identifier hs-type">getMonoBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-570"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-571"></span><span class="hs-comment">-- Suppose      (b',ds') = getMonoBind b ds</span><span>
</span><span id="line-572"></span><span class="hs-comment">--      ds is a list of parsed bindings</span><span>
</span><span id="line-573"></span><span class="hs-comment">--      b is a MonoBinds that has just been read off the front</span><span>
</span><span id="line-574"></span><span>
</span><span id="line-575"></span><span class="hs-comment">-- Then b' is the result of grouping more equations from ds that</span><span>
</span><span id="line-576"></span><span class="hs-comment">-- belong with b into a single MonoBinds, and ds' is the depleted</span><span>
</span><span id="line-577"></span><span class="hs-comment">-- list of parsed bindings.</span><span>
</span><span id="line-578"></span><span class="hs-comment">--</span><span>
</span><span id="line-579"></span><span class="hs-comment">-- All Haddock comments between equations inside the group are</span><span>
</span><span id="line-580"></span><span class="hs-comment">-- discarded.</span><span>
</span><span id="line-581"></span><span class="hs-comment">--</span><span>
</span><span id="line-582"></span><span class="hs-comment">-- No AndMonoBinds or EmptyMonoBinds here; just single equations</span><span>
</span><span id="line-583"></span><span>
</span><span id="line-584"></span><span id="getMonoBind"><span class="annot"><span class="annottext">getMonoBind :: LHsBind GhcPs
-&gt; [LHsDecl GhcPs] -&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="GHC.Parser.PostProcess.html#getMonoBind"><span class="hs-identifier hs-var hs-var">getMonoBind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789770"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789770"><span class="hs-identifier hs-var">loc1</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_id :: forall idL idR. HsBindLR idL idR -&gt; LIdP idL
</span><a href="Language.Haskell.Syntax.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681789773"><span class="annot"><span class="annottext">fun_id1 :: XRec GhcPs (IdP GhcPs)
</span><a href="#local-6989586621681789773"><span class="hs-identifier hs-var">fun_id1</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681789774"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789774"><span class="hs-identifier hs-var">f1</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-585"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fun_matches :: forall idL idR. HsBindLR idL idR -&gt; MatchGroup idR (LHsExpr idR)
</span><a href="Language.Haskell.Syntax.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-586"></span><span>                               </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681789778"><span class="annot"><span class="annottext">m1 :: [GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681789778"><span class="hs-identifier hs-var">m1</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681789779"><span class="annot"><span class="annottext">Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681789779"><span class="hs-identifier hs-var">mtchs1</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-587"></span><span>            </span><span id="local-6989586621681789780"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789780"><span class="hs-identifier hs-var">binds</span></a></span></span><span>
</span><span id="line-588"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)] -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#has_args"><span class="hs-identifier hs-var">has_args</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681789778"><span class="hs-identifier hs-var">m1</span></a></span><span>
</span><span id="line-589"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
-&gt; SrcSpanAnnA
-&gt; [LHsDecl GhcPs]
-&gt; [LHsDecl GhcPs]
-&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="#local-6989586621681789782"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; GenLocated
     SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpanAnnA
forall ann. SrcAnn ann -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#removeCommentsA"><span class="hs-identifier hs-var">removeCommentsA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789770"><span class="hs-identifier hs-var">loc1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681789779"><span class="hs-identifier hs-var">mtchs1</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpanAnnA
forall ann. Monoid ann =&gt; SrcAnn ann -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#commentsOnlyA"><span class="hs-identifier hs-var">commentsOnlyA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789770"><span class="hs-identifier hs-var">loc1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789780"><span class="hs-identifier hs-var">binds</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-590"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-591"></span><span>    </span><span class="annot"><a href="#local-6989586621681789782"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span>
</span><span id="line-592"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-593"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- AZ</span><span>
</span><span id="line-594"></span><span>    </span><span id="local-6989586621681789782"><span class="annot"><span class="annottext">go :: [LMatch GhcPs (LHsExpr GhcPs)]
-&gt; SrcSpanAnnA
-&gt; [LHsDecl GhcPs]
-&gt; [LHsDecl GhcPs]
-&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="#local-6989586621681789782"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621681789785"><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681789785"><span class="hs-identifier hs-var">mtchs</span></a></span></span><span> </span><span id="local-6989586621681789786"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789786"><span class="hs-identifier hs-var">loc</span></a></span></span><span>
</span><span id="line-595"></span><span>       </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789787"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789787"><span class="hs-identifier hs-var">loc2</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_id :: forall idL idR. HsBindLR idL idR -&gt; LIdP idL
</span><a href="Language.Haskell.Syntax.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681789789"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789789"><span class="hs-identifier hs-var">f2</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-596"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fun_matches :: forall idL idR. HsBindLR idL idR -&gt; MatchGroup idR (LHsExpr idR)
</span><a href="Language.Haskell.Syntax.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-597"></span><span>                                    </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789790"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789790"><span class="hs-identifier hs-var">lm2</span></a></span></span><span> </span><span id="local-6989586621681789791"><span class="annot"><span class="annottext">Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681789791"><span class="hs-identifier hs-var">mtchs2</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-598"></span><span>         </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681789792"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789792"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-599"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789774"><span class="hs-identifier hs-var">f1</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789789"><span class="hs-identifier hs-var">f2</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-600"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789793"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789793"><span class="hs-identifier hs-var">loc2'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789794"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789794"><span class="hs-identifier hs-var">lm2'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpanAnnA -&gt; (SrcSpanAnnA, SrcSpanAnnA)
</span><a href="GHC.Parser.Annotation.html#transferAnnsA"><span class="hs-identifier hs-var">transferAnnsA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789787"><span class="hs-identifier hs-var">loc2</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789790"><span class="hs-identifier hs-var">lm2</span></a></span><span>
</span><span id="line-601"></span><span>          </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
-&gt; SrcSpanAnnA
-&gt; [LHsDecl GhcPs]
-&gt; [LHsDecl GhcPs]
-&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="#local-6989586621681789782"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; GenLocated
     SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789794"><span class="hs-identifier hs-var">lm2'</span></a></span><span> </span><span class="annot"><span class="annottext">Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681789791"><span class="hs-identifier hs-var">mtchs2</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681789785"><span class="hs-identifier hs-var">mtchs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-602"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpanAnnA -&gt; SrcSpanAnnA
forall a. Semigroup a =&gt; SrcAnn a -&gt; SrcAnn a -&gt; SrcAnn a
</span><a href="GHC.Parser.Annotation.html#combineSrcSpansA"><span class="hs-identifier hs-var">combineSrcSpansA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789786"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789793"><span class="hs-identifier hs-var">loc2'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789792"><span class="hs-identifier hs-var">binds</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-603"></span><span>    </span><span class="annot"><a href="#local-6989586621681789782"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681789797"><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681789797"><span class="hs-identifier hs-var">mtchs</span></a></span></span><span> </span><span id="local-6989586621681789798"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789798"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789799"><span class="annot"><span class="annottext">doc_decl :: LHsDecl GhcPs
</span><a href="#local-6989586621681789799"><span class="hs-identifier hs-var">doc_decl</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789800"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789800"><span class="hs-identifier hs-var">loc2</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocD"><span class="hs-identifier hs-type">DocD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681789802"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789802"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681789803"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789803"><span class="hs-identifier hs-var">doc_decls</span></a></span></span><span>
</span><span id="line-604"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681789804"><span class="annot"><span class="annottext">doc_decls' :: [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
</span><a href="#local-6989586621681789804"><span class="hs-identifier hs-var hs-var">doc_decls'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs
GenLocated SrcSpanAnnA (HsDecl GhcPs)
</span><a href="#local-6989586621681789799"><span class="hs-identifier hs-var">doc_decl</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
[GenLocated SrcSpanAnnA (HsDecl GhcPs)]
</span><a href="#local-6989586621681789803"><span class="hs-identifier hs-var">doc_decls</span></a></span><span>
</span><span id="line-605"></span><span>          </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
-&gt; SrcSpanAnnA
-&gt; [LHsDecl GhcPs]
-&gt; [LHsDecl GhcPs]
-&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="#local-6989586621681789782"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681789797"><span class="hs-identifier hs-var">mtchs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpanAnnA -&gt; SrcSpanAnnA
forall a. Semigroup a =&gt; SrcAnn a -&gt; SrcAnn a -&gt; SrcAnn a
</span><a href="GHC.Parser.Annotation.html#combineSrcSpansA"><span class="hs-identifier hs-var">combineSrcSpansA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789798"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789800"><span class="hs-identifier hs-var">loc2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789802"><span class="hs-identifier hs-var">binds</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
[GenLocated SrcSpanAnnA (HsDecl GhcPs)]
</span><a href="#local-6989586621681789804"><span class="hs-identifier hs-var">doc_decls'</span></a></span><span>
</span><span id="line-606"></span><span>    </span><span class="annot"><a href="#local-6989586621681789782"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681789805"><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681789805"><span class="hs-identifier hs-var">mtchs</span></a></span></span><span> </span><span id="local-6989586621681789806"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789806"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789807"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789807"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span id="local-6989586621681789808"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789808"><span class="hs-identifier hs-var">doc_decls</span></a></span></span><span>
</span><span id="line-607"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsBindLR GhcPs GhcPs
-&gt; GenLocated SrcSpanAnnA (HsBindLR GhcPs GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789806"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; LocatedL [LMatch GhcPs (LHsExpr GhcPs)] -&gt; HsBindLR GhcPs GhcPs
</span><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-var">makeFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789773"><span class="hs-identifier hs-var">fun_id1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; GenLocated
     SrcSpanAnnL
     [GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall a e2 an.
Semigroup a =&gt;
[GenLocated (SrcAnn a) e2]
-&gt; LocatedAn an [GenLocated (SrcAnn a) e2]
</span><a href="GHC.Hs.Utils.html#mkLocatedList"><span class="hs-identifier hs-var">mkLocatedList</span></a></span><span> </span><span class="annot"><span class="annottext">([GenLocated
    SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
 -&gt; GenLocated
      SrcSpanAnnL
      [GenLocated
         SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))])
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; GenLocated
     SrcSpanAnnL
     [GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall a. [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#reverse/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681789805"><span class="hs-identifier hs-var">mtchs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-608"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsDecl GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
forall a. [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#reverse/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
[GenLocated SrcSpanAnnA (HsDecl GhcPs)]
</span><a href="#local-6989586621681789808"><span class="hs-identifier hs-var">doc_decls</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsDecl GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
[GenLocated SrcSpanAnnA (HsDecl GhcPs)]
</span><a href="#local-6989586621681789807"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-609"></span><span>        </span><span class="hs-comment">-- Reverse the final matches, to get it back in the right order</span><span>
</span><span id="line-610"></span><span>        </span><span class="hs-comment">-- Do the same thing with the trailing doc comments</span><span>
</span><span id="line-611"></span><span>
</span><span id="line-612"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBind"><span class="hs-identifier hs-var">getMonoBind</span></a></span><span> </span><span id="local-6989586621681789811"><span class="annot"><span class="annottext">LHsBind GhcPs
</span><a href="#local-6989586621681789811"><span class="hs-identifier hs-var">bind</span></a></span></span><span> </span><span id="local-6989586621681789812"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789812"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsBind GhcPs
</span><a href="#local-6989586621681789811"><span class="hs-identifier hs-var">bind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789812"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-613"></span><span>
</span><span id="line-614"></span><span class="hs-comment">-- Group together adjacent FunBinds for every function.</span><span>
</span><span id="line-615"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-type">getMonoBindAll</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-616"></span><span id="getMonoBindAll"><span class="annot"><span class="annottext">getMonoBindAll :: [LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var hs-var">getMonoBindAll</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-617"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789813"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789813"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681789814"><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681789814"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681789815"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789815"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-618"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789816"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789816"><span class="hs-identifier hs-var">l'</span></a></span></span><span> </span><span id="local-6989586621681789817"><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681789817"><span class="hs-identifier hs-var">b'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789818"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789818"><span class="hs-identifier hs-var">ds'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsBind GhcPs
-&gt; [LHsDecl GhcPs] -&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="GHC.Parser.PostProcess.html#getMonoBind"><span class="hs-identifier hs-var">getMonoBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsBindLR GhcPs GhcPs
-&gt; GenLocated SrcSpanAnnA (HsBindLR GhcPs GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789813"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681789814"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789815"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-619"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsDecl GhcPs -&gt; GenLocated SrcSpanAnnA (HsDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789816"><span class="hs-identifier hs-var">l'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XValD GhcPs -&gt; HsBindLR GhcPs GhcPs -&gt; HsDecl GhcPs
forall p. XValD p -&gt; HsBind p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-var">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621681789817"><span class="hs-identifier hs-var">b'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789818"><span class="hs-identifier hs-var">ds'</span></a></span><span>
</span><span id="line-620"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789819"><span class="annot"><span class="annottext">LHsDecl GhcPs
</span><a href="#local-6989586621681789819"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681789820"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789820"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs
GenLocated SrcSpanAnnA (HsDecl GhcPs)
</span><a href="#local-6989586621681789819"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621681789820"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-621"></span><span>
</span><span id="line-622"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#has_args"><span class="hs-identifier hs-type">has_args</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-623"></span><span id="has_args"><span class="annot"><span class="annottext">has_args :: [LMatch GhcPs (LHsExpr GhcPs)] -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#has_args"><span class="hs-identifier hs-var hs-var">has_args</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC.Parser.PostProcess.has_args&quot;</span></span><span>
</span><span id="line-624"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#has_args"><span class="hs-identifier hs-var">has_args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_pats :: forall p body. Match p body -&gt; [LPat p]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681789823"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681789823"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681789823"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-625"></span><span>        </span><span class="hs-comment">-- Don't group together FunBinds if they have</span><span>
</span><span id="line-626"></span><span>        </span><span class="hs-comment">-- no arguments.  This is necessary now that variable bindings</span><span>
</span><span id="line-627"></span><span>        </span><span class="hs-comment">-- with no arguments are now treated as FunBinds rather</span><span>
</span><span id="line-628"></span><span>        </span><span class="hs-comment">-- than pattern bindings (tests/rename/should_fail/rnfail002).</span><span>
</span><span id="line-629"></span><span>
</span><span id="line-630"></span><span class="annot"><span class="hs-comment">{- **********************************************************************

  #PrefixToHS-utils# Utilities for conversion

  ********************************************************************* -}</span></span><span>
</span><span id="line-635"></span><span>
</span><span id="line-636"></span><span class="hs-comment">{- Note [Parsing data constructors is hard]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The problem with parsing data constructors is that they look a lot like types.
Compare:

  (s1)   data T = C t1 t2
  (s2)   type T = C t1 t2

Syntactically, there's little difference between these declarations, except in
(s1) 'C' is a data constructor, but in (s2) 'C' is a type constructor.

This similarity would pose no problem if we knew ahead of time if we are
parsing a type or a constructor declaration. Looking at (s1) and (s2), a simple
(but wrong!) rule comes to mind: in 'data' declarations assume we are parsing
data constructors, and in other contexts (e.g. 'type' declarations) assume we
are parsing type constructors.

This simple rule does not work because of two problematic cases:

  (p1)   data T = C t1 t2 :+ t3
  (p2)   data T = C t1 t2 =&gt; t3

In (p1) we encounter (:+) and it turns out we are parsing an infix data
declaration, so (C t1 t2) is a type and 'C' is a type constructor.
In (p2) we encounter (=&gt;) and it turns out we are parsing an existential
context, so (C t1 t2) is a constraint and 'C' is a type constructor.

As the result, in order to determine whether (C t1 t2) declares a data
constructor, a type, or a context, we would need unlimited lookahead which
'happy' is not so happy with.
-}</span><span>
</span><span id="line-668"></span><span>
</span><span id="line-669"></span><span class="hs-comment">-- | Reinterpret a type constructor, including type operators, as a data</span><span>
</span><span id="line-670"></span><span class="hs-comment">--   constructor.</span><span>
</span><span id="line-671"></span><span class="hs-comment">-- See Note [Parsing data constructors is hard]</span><span>
</span><span id="line-672"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#tyConToDataCon"><span class="hs-identifier hs-type">tyConToDataCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Either.html#Either/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Errors.Types.html#PsMessage"><span class="hs-identifier hs-type">PsMessage</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-673"></span><span id="tyConToDataCon"><span class="annot"><span class="annottext">tyConToDataCon :: GenLocated SrcSpanAnnN RdrName
-&gt; Either (MsgEnvelope PsMessage) (GenLocated SrcSpanAnnN RdrName)
</span><a href="GHC.Parser.PostProcess.html#tyConToDataCon"><span class="hs-identifier hs-var hs-var">tyConToDataCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789826"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681789826"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789827"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789827"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-674"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#okConOcc"><span class="hs-identifier hs-var">okConOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; String
</span><a href="GHC.Types.Name.Occurrence.html#occNameString"><span class="hs-identifier hs-var">occNameString</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681789829"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-675"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; Either (MsgEnvelope PsMessage) (GenLocated SrcSpanAnnN RdrName)
forall a. a -&gt; Either (MsgEnvelope PsMessage) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681789826"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var">setRdrNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789827"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#srcDataName"><span class="hs-identifier hs-var">srcDataName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-676"></span><span>
</span><span id="line-677"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-678"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage
-&gt; Either (MsgEnvelope PsMessage) (GenLocated SrcSpanAnnN RdrName)
forall a b. a -&gt; Either a b
</span><a href="../../base-4.18.3.0/src/Data.Either.html#Left/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage
 -&gt; Either (MsgEnvelope PsMessage) (GenLocated SrcSpanAnnN RdrName))
-&gt; MsgEnvelope PsMessage
-&gt; Either (MsgEnvelope PsMessage) (GenLocated SrcSpanAnnN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681789826"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrNotADataCon"><span class="hs-identifier hs-var">PsErrNotADataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789827"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-679"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-680"></span><span>    </span><span id="local-6989586621681789829"><span class="annot"><span class="annottext">occ :: OccName
</span><a href="#local-6989586621681789829"><span class="hs-identifier hs-var hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789827"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-681"></span><span>
</span><span id="line-682"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkPatSynMatchGroup"><span class="hs-identifier hs-type">mkPatSynMatchGroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-683"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-684"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-685"></span><span id="mkPatSynMatchGroup"><span class="annot"><span class="annottext">mkPatSynMatchGroup :: GenLocated SrcSpanAnnN RdrName
-&gt; LocatedL (OrdList (LHsDecl GhcPs))
-&gt; P (MatchGroup GhcPs (LHsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkPatSynMatchGroup"><span class="hs-identifier hs-var hs-var">mkPatSynMatchGroup</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789832"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681789832"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789833"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789833"><span class="hs-identifier hs-var">patsyn_name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789834"><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681789834"><span class="hs-identifier hs-var">ld</span></a></span></span><span> </span><span id="local-6989586621681789835"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621681789835"><span class="hs-identifier hs-var">decls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-686"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681789836"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681789836"><span class="hs-identifier hs-var">matches</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsDecl GhcPs)
 -&gt; P (GenLocated
         SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))))
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
-&gt; P [GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="../../base-4.18.3.0/src/Data.Traversable.html#mapM/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; P (GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="#local-6989586621681789837"><span class="hs-identifier hs-var">fromDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (GenLocated SrcSpanAnnA (HsDecl GhcPs))
-&gt; [GenLocated SrcSpanAnnA (HsDecl GhcPs)]
forall a. OrdList a -&gt; [a]
</span><a href="GHC.Data.OrdList.html#fromOL"><span class="hs-identifier hs-var">fromOL</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
OrdList (GenLocated SrcSpanAnnA (HsDecl GhcPs))
</span><a href="#local-6989586621681789835"><span class="hs-identifier hs-var">decls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-687"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; P () -&gt; P ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#when/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681789836"><span class="hs-identifier hs-var">matches</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; P ()
</span><a href="#local-6989586621681789839"><span class="hs-identifier hs-var">wrongNumberErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681789832"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-688"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; P (MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
 -&gt; P (MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; P (MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
-&gt; GenLocated
     SrcSpanAnnL
     [GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall (p :: Pass) (body :: * -&gt; *).
AnnoBody p body =&gt;
Origin
-&gt; LocatedL
     [LocatedA (Match (GhcPass p) (LocatedA (body (GhcPass p))))]
-&gt; MatchGroup (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-var">mkMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="GHC.Types.Basic.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnL
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; GenLocated
     SrcSpanAnnL
     [GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681789834"><span class="hs-identifier hs-var">ld</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681789836"><span class="hs-identifier hs-var">matches</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-689"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-690"></span><span>    </span><span id="local-6989586621681789837"><span class="annot"><span class="annottext">fromDecl :: GenLocated SrcSpanAnnA (HsDecl GhcPs)
-&gt; P (GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="#local-6989586621681789837"><span class="hs-identifier hs-var hs-var">fromDecl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789842"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789842"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789843"><span class="annot"><span class="annottext">decl :: HsDecl GhcPs
</span><a href="#local-6989586621681789843"><span class="hs-identifier hs-var">decl</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatBind"><span class="hs-identifier hs-type">PatBind</span></a></span><span> </span><span class="annot"><span class="annottext">XPatBind GhcPs GhcPs
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-691"></span><span>                                 </span><span class="hs-comment">-- AZ: where should these anns come from?</span><span>
</span><span id="line-692"></span><span>                         </span><span id="local-6989586621681789845"><span class="annot"><span class="annottext">pat :: LPat GhcPs
</span><a href="#local-6989586621681789845"><span class="hs-identifier hs-var">pat</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span> </span><span id="local-6989586621681789847"><span class="annot"><span class="annottext">XConPat GhcPs
</span><a href="#local-6989586621681789847"><span class="hs-identifier hs-var">noAnn</span></a></span></span><span> </span><span id="local-6989586621681789848"><span class="annot"><span class="annottext">ln :: XRec GhcPs (ConLikeP GhcPs)
</span><a href="#local-6989586621681789848"><span class="hs-identifier hs-var">ln</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681789849"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789849"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681789850"><span class="annot"><span class="annottext">HsConPatDetails GhcPs
</span><a href="#local-6989586621681789850"><span class="hs-identifier hs-var">details</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-693"></span><span>                               </span><span id="local-6989586621681789851"><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681789851"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-694"></span><span>        </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; P () -&gt; P ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/Control.Monad.html#unless/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789849"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789833"><span class="hs-identifier hs-var">patsyn_name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(P () -&gt; P ()) -&gt; P () -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-695"></span><span>               </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsDecl GhcPs -&gt; P ()
</span><a href="#local-6989586621681789853"><span class="hs-identifier hs-var">wrongNameBindingErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789842"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621681789843"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-696"></span><span>           </span><span class="hs-special">;</span><span> </span><span id="local-6989586621681789854"><span class="annot"><span class="annottext">Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681789854"><span class="hs-identifier hs-var">match</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsConPatDetails GhcPs
</span><a href="#local-6989586621681789850"><span class="hs-identifier hs-var">details</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-697"></span><span>               </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-type">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[HsConPatTyArg (NoGhcTc GhcPs)]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681789856"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681789856"><span class="hs-identifier hs-var">pats</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; P (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
 -&gt; P (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
-&gt; Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; P (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_ext :: XCMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_ext"><span class="hs-identifier hs-var">m_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XConPat GhcPs
XCMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681789847"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-698"></span><span>                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: HsMatchContext GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcPs
</span><a href="#local-6989586621681789859"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_pats :: [LPat GhcPs]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681789856"><span class="hs-identifier hs-var">pats</span></a></span><span>
</span><span id="line-699"></span><span>                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: GRHSs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
GRHSs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681789851"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-700"></span><span>                   </span><span class="hs-keyword">where</span><span>
</span><span id="line-701"></span><span>                     </span><span id="local-6989586621681789859"><span class="annot"><span class="annottext">ctxt :: HsMatchContext GhcPs
</span><a href="#local-6989586621681789859"><span class="hs-identifier hs-var hs-var">ctxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: LIdP (NoGhcTc GhcPs)
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LIdP (NoGhcTc GhcPs)
XRec GhcPs (ConLikeP GhcPs)
</span><a href="#local-6989586621681789848"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-702"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_fixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fixity"><span class="hs-identifier hs-var">mc_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a></span><span>
</span><span id="line-703"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_strictness :: SrcStrictness
</span><a href="Language.Haskell.Syntax.Expr.html#mc_strictness"><span class="hs-identifier hs-var">mc_strictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-704"></span><span>
</span><span id="line-705"></span><span>               </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-type">InfixCon</span></a></span><span> </span><span id="local-6989586621681789868"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681789868"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621681789869"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681789869"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; P (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
 -&gt; P (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
-&gt; Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; P (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_ext :: XCMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_ext"><span class="hs-identifier hs-var">m_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XConPat GhcPs
XCMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681789847"><span class="hs-identifier hs-var">noAnn</span></a></span><span>
</span><span id="line-706"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: HsMatchContext GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcPs
</span><a href="#local-6989586621681789870"><span class="hs-identifier hs-var">ctxt</span></a></span><span>
</span><span id="line-707"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_pats :: [LPat GhcPs]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681789868"><span class="hs-identifier hs-var">p1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681789869"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-708"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: GRHSs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
GRHSs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681789851"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-709"></span><span>                   </span><span class="hs-keyword">where</span><span>
</span><span id="line-710"></span><span>                     </span><span id="local-6989586621681789870"><span class="annot"><span class="annottext">ctxt :: HsMatchContext GhcPs
</span><a href="#local-6989586621681789870"><span class="hs-identifier hs-var hs-var">ctxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: LIdP (NoGhcTc GhcPs)
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LIdP (NoGhcTc GhcPs)
XRec GhcPs (ConLikeP GhcPs)
</span><a href="#local-6989586621681789848"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-711"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_fixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fixity"><span class="hs-identifier hs-var">mc_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span>
</span><span id="line-712"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_strictness :: SrcStrictness
</span><a href="Language.Haskell.Syntax.Expr.html#mc_strictness"><span class="hs-identifier hs-var">mc_strictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-713"></span><span>
</span><span id="line-714"></span><span>               </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-type">RecCon</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; LPat GhcPs
-&gt; P (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall a. SrcSpan -&gt; LPat GhcPs -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#recordPatSynErr"><span class="hs-identifier hs-var">recordPatSynErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789842"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681789845"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-715"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; P (GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
 -&gt; P (GenLocated
         SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))))
-&gt; GenLocated
     SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; P (GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; GenLocated
     SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789842"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681789854"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-716"></span><span>    </span><span class="annot"><a href="#local-6989586621681789837"><span class="hs-identifier hs-var">fromDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789874"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789874"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789875"><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621681789875"><span class="hs-identifier hs-var">decl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; HsDecl GhcPs
-&gt; P (GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="#local-6989586621681789876"><span class="hs-identifier hs-var">extraDeclErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789874"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621681789875"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-717"></span><span>
</span><span id="line-718"></span><span>    </span><span id="local-6989586621681789876"><span class="annot"><span class="annottext">extraDeclErr :: SrcSpan
-&gt; HsDecl GhcPs
-&gt; P (GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
</span><a href="#local-6989586621681789876"><span class="hs-identifier hs-var hs-var">extraDeclErr</span></a></span></span><span> </span><span id="local-6989586621681789877"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789877"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789878"><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621681789878"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-719"></span><span>        </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage
-&gt; P (GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage
 -&gt; P (GenLocated
         SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))))
-&gt; MsgEnvelope PsMessage
-&gt; P (GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789877"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-720"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; HsDecl GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrNoSingleWhereBindInPatSynDecl"><span class="hs-identifier hs-var">PsErrNoSingleWhereBindInPatSynDecl</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789833"><span class="hs-identifier hs-var">patsyn_name</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621681789878"><span class="hs-identifier hs-var">decl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-721"></span><span>
</span><span id="line-722"></span><span>    </span><span id="local-6989586621681789853"><span class="annot"><span class="annottext">wrongNameBindingErr :: SrcSpan -&gt; HsDecl GhcPs -&gt; P ()
</span><a href="#local-6989586621681789853"><span class="hs-identifier hs-var hs-var">wrongNameBindingErr</span></a></span></span><span> </span><span id="local-6989586621681789880"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789880"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789881"><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621681789881"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-723"></span><span>      </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P ()
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P ()) -&gt; MsgEnvelope PsMessage -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789880"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-724"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; HsDecl GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrInvalidWhereBindInPatSynDecl"><span class="hs-identifier hs-var">PsErrInvalidWhereBindInPatSynDecl</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789833"><span class="hs-identifier hs-var">patsyn_name</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621681789881"><span class="hs-identifier hs-var">decl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-725"></span><span>
</span><span id="line-726"></span><span>    </span><span id="local-6989586621681789839"><span class="annot"><span class="annottext">wrongNumberErr :: SrcSpan -&gt; P ()
</span><a href="#local-6989586621681789839"><span class="hs-identifier hs-var hs-var">wrongNumberErr</span></a></span></span><span> </span><span id="local-6989586621681789883"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789883"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-727"></span><span>      </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P ()
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P ()) -&gt; MsgEnvelope PsMessage -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789883"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-728"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrEmptyWhereInPatSynDecl"><span class="hs-identifier hs-var">PsErrEmptyWhereInPatSynDecl</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681789833"><span class="hs-identifier hs-var">patsyn_name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-729"></span><span>
</span><span id="line-730"></span><span id="local-6989586621681788304"><span class="annot"><a href="GHC.Parser.PostProcess.html#recordPatSynErr"><span class="hs-identifier hs-type">recordPatSynErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788304"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-731"></span><span id="recordPatSynErr"><span class="annot"><span class="annottext">recordPatSynErr :: forall a. SrcSpan -&gt; LPat GhcPs -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#recordPatSynErr"><span class="hs-identifier hs-var hs-var">recordPatSynErr</span></a></span></span><span> </span><span id="local-6989586621681789887"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789887"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789888"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681789888"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-732"></span><span>    </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P a
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P a) -&gt; MsgEnvelope PsMessage -&gt; P a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789887"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-733"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LPat GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrRecordSyntaxInPatSynDecl"><span class="hs-identifier hs-var">PsErrRecordSyntaxInPatSynDecl</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681789888"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-734"></span><span>
</span><span id="line-735"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkConDeclH98"><span class="hs-identifier hs-type">mkConDeclH98</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-736"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsConDeclH98Details"><span class="hs-identifier hs-type">HsConDeclH98Details</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-737"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDecl"><span class="hs-identifier hs-type">ConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-738"></span><span>
</span><span id="line-739"></span><span id="mkConDeclH98"><span class="annot"><span class="annottext">mkConDeclH98 :: EpAnn [AddEpAnn]
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; Maybe [LHsTyVarBndr Specificity GhcPs]
-&gt; Maybe (LHsContext GhcPs)
-&gt; HsConDeclH98Details GhcPs
-&gt; ConDecl GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkConDeclH98"><span class="hs-identifier hs-var hs-var">mkConDeclH98</span></a></span></span><span> </span><span id="local-6989586621681789890"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681789890"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681789891"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789891"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621681789892"><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs]
</span><a href="#local-6989586621681789892"><span class="hs-identifier hs-var">mb_forall</span></a></span></span><span> </span><span id="local-6989586621681789893"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681789893"><span class="hs-identifier hs-var">mb_cxt</span></a></span></span><span> </span><span id="local-6989586621681789894"><span class="annot"><span class="annottext">HsConDeclH98Details GhcPs
</span><a href="#local-6989586621681789894"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-740"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclH98"><span class="hs-identifier hs-type">ConDeclH98</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">con_ext :: XConDeclH98 GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#con_ext"><span class="hs-identifier hs-var">con_ext</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XConDeclH98 GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681789890"><span class="hs-identifier hs-var">ann</span></a></span><span>
</span><span id="line-741"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_name :: XRec GhcPs (IdP GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#con_name"><span class="hs-identifier hs-var">con_name</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681789891"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-742"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_forall :: Bool
</span><a href="Language.Haskell.Syntax.Decls.html#con_forall"><span class="hs-identifier hs-var">con_forall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
-&gt; Bool
forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Maybe.html#isJust/Data.Maybe.html#isJust"><span class="hs-identifier hs-var">isJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs]
Maybe [GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
</span><a href="#local-6989586621681789892"><span class="hs-identifier hs-var">mb_forall</span></a></span><span>
</span><span id="line-743"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_ex_tvs :: [LHsTyVarBndr Specificity GhcPs]
</span><a href="Language.Haskell.Syntax.Decls.html#con_ex_tvs"><span class="hs-identifier hs-var">con_ex_tvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs]
Maybe [GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
</span><a href="#local-6989586621681789892"><span class="hs-identifier hs-var">mb_forall</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcPs)]
forall a. Maybe a -&gt; a -&gt; a
</span><a href="GHC.Data.Maybe.html#orElse"><span class="hs-operator hs-var">`orElse`</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-744"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_mb_cxt :: Maybe (LHsContext GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#con_mb_cxt"><span class="hs-identifier hs-var">con_mb_cxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681789893"><span class="hs-identifier hs-var">mb_cxt</span></a></span><span>
</span><span id="line-745"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_args :: HsConDeclH98Details GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#con_args"><span class="hs-identifier hs-var">con_args</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsConDeclH98Details GhcPs
</span><a href="#local-6989586621681789894"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-746"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_doc :: Maybe (LHsDoc GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#con_doc"><span class="hs-identifier hs-var">con_doc</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsDoc GhcPs)
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-747"></span><span>
</span><span id="line-748"></span><span class="hs-comment">-- | Construct a GADT-style data constructor from the constructor names and</span><span>
</span><span id="line-749"></span><span class="hs-comment">-- their type. Some interesting aspects of this function:</span><span>
</span><span id="line-750"></span><span class="hs-comment">--</span><span>
</span><span id="line-751"></span><span class="hs-comment">-- * This splits up the constructor type into its quantified type variables (if</span><span>
</span><span id="line-752"></span><span class="hs-comment">--   provided), context (if provided), argument types, and result type, and</span><span>
</span><span id="line-753"></span><span class="hs-comment">--   records whether this is a prefix or record GADT constructor. See</span><span>
</span><span id="line-754"></span><span class="hs-comment">--   Note [GADT abstract syntax] in &quot;GHC.Hs.Decls&quot; for more details.</span><span>
</span><span id="line-755"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkGadtDecl"><span class="hs-identifier hs-type">mkGadtDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-756"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#NonEmpty/GHC.Base.html#NonEmpty"><span class="hs-identifier hs-type">NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-757"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Concrete.html#LHsUniToken"><span class="hs-identifier hs-type">LHsUniToken</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;::&quot;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&#8759;&quot;</span></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-758"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-759"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-760"></span><span id="mkGadtDecl"><span class="annot"><span class="annottext">mkGadtDecl :: SrcSpan
-&gt; NonEmpty (GenLocated SrcSpanAnnN RdrName)
-&gt; LHsUniToken &quot;::&quot; &quot;\8759&quot; GhcPs
-&gt; LHsSigType GhcPs
-&gt; P (LConDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkGadtDecl"><span class="hs-identifier hs-var hs-var">mkGadtDecl</span></a></span></span><span> </span><span id="local-6989586621681789905"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789905"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681789906"><span class="annot"><span class="annottext">NonEmpty (GenLocated SrcSpanAnnN RdrName)
</span><a href="#local-6989586621681789906"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621681789907"><span class="annot"><span class="annottext">LHsUniToken &quot;::&quot; &quot;\8759&quot; GhcPs
</span><a href="#local-6989586621681789907"><span class="hs-identifier hs-var">dcol</span></a></span></span><span> </span><span id="local-6989586621681789908"><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681789908"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-761"></span><span>  </span><span id="local-6989586621681789909"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789909"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789905"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-762"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681789910"><span class="annot"><span class="annottext">l :: SrcSpanAnnA
</span><a href="#local-6989586621681789910"><span class="hs-identifier hs-var hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789905"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-763"></span><span>
</span><span id="line-764"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621681789911"><span class="annot"><span class="annottext">HsConDeclGADTDetails GhcPs
</span><a href="#local-6989586621681789911"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789912"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681789912"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789913"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789913"><span class="hs-identifier hs-var">annsa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789914"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789914"><span class="hs-identifier hs-var">csa</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-765"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789915"><span class="hs-identifier hs-var">body_ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-766"></span><span>     </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789916"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789916"><span class="hs-identifier hs-var">ll</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsFunTy"><span class="hs-identifier hs-type">HsFunTy</span></a></span><span> </span><span id="local-6989586621681789918"><span class="annot"><span class="annottext">XFunTy GhcPs
</span><a href="#local-6989586621681789918"><span class="hs-identifier hs-var">af</span></a></span></span><span> </span><span id="local-6989586621681789919"><span class="annot"><span class="annottext">HsArrow GhcPs
</span><a href="#local-6989586621681789919"><span class="hs-identifier hs-var">hsArr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681789920"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789920"><span class="hs-identifier hs-var">loc'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsRecTy"><span class="hs-identifier hs-type">HsRecTy</span></a></span><span> </span><span id="local-6989586621681789922"><span class="annot"><span class="annottext">XRecTy GhcPs
</span><a href="#local-6989586621681789922"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span id="local-6989586621681789923"><span class="annot"><span class="annottext">[LConDeclField GhcPs]
</span><a href="#local-6989586621681789923"><span class="hs-identifier hs-var">rf</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681789924"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789924"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-767"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681789925"><span class="annot"><span class="annottext">an' :: EpAnn AnnList
</span><a href="#local-6989586621681789925"><span class="hs-identifier hs-var hs-var">an'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; EpAnn AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
forall a.
Monoid a =&gt;
SrcSpan -&gt; EpAnn a -&gt; EpAnnComments -&gt; EpAnn a
</span><a href="GHC.Parser.Annotation.html#addCommentsToEpAnn"><span class="hs-identifier hs-var">addCommentsToEpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789920"><span class="hs-identifier hs-var">loc'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRecTy GhcPs
EpAnn AnnList
</span><a href="#local-6989586621681789922"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn NoEpAnns -&gt; EpAnnComments
forall ann. EpAnn ann -&gt; EpAnnComments
</span><a href="GHC.Parser.Annotation.html#comments"><span class="hs-identifier hs-var">comments</span></a></span><span> </span><span class="annot"><span class="annottext">XFunTy GhcPs
EpAnn NoEpAnns
</span><a href="#local-6989586621681789918"><span class="hs-identifier hs-var">af</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-768"></span><span>       </span><span id="local-6989586621681789928"><span class="annot"><span class="annottext">GenLocated TokenLocation (HsUniToken &quot;-&gt;&quot; &quot;\8594&quot;)
</span><a href="#local-6989586621681789928"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsArrow GhcPs
</span><a href="#local-6989586621681789919"><span class="hs-identifier hs-var">hsArr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-769"></span><span>         </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsUnrestrictedArrow"><span class="hs-identifier hs-type">HsUnrestrictedArrow</span></a></span><span> </span><span id="local-6989586621681789930"><span class="annot"><span class="annottext">LHsUniToken &quot;-&gt;&quot; &quot;\8594&quot; GhcPs
</span><a href="#local-6989586621681789930"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated TokenLocation (HsUniToken &quot;-&gt;&quot; &quot;\8594&quot;)
-&gt; P (GenLocated TokenLocation (HsUniToken &quot;-&gt;&quot; &quot;\8594&quot;))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">LHsUniToken &quot;-&gt;&quot; &quot;\8594&quot; GhcPs
GenLocated TokenLocation (HsUniToken &quot;-&gt;&quot; &quot;\8594&quot;)
</span><a href="#local-6989586621681789930"><span class="hs-identifier hs-var">arr</span></a></span><span>
</span><span id="line-770"></span><span>         </span><span class="annot"><span class="annottext">HsArrow GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P ()) -&gt; MsgEnvelope PsMessage -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; SrcSpan
forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681789915"><span class="hs-identifier hs-var">body_ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-771"></span><span>                                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsArrow GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIllegalGadtRecordMultiplicity"><span class="hs-identifier hs-var">PsErrIllegalGadtRecordMultiplicity</span></a></span><span> </span><span class="annot"><span class="annottext">HsArrow GhcPs
</span><a href="#local-6989586621681789919"><span class="hs-identifier hs-var">hsArr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-772"></span><span>                 </span><span class="annot"><span class="annottext">GenLocated TokenLocation (HsUniToken &quot;-&gt;&quot; &quot;\8594&quot;)
-&gt; P (GenLocated TokenLocation (HsUniToken &quot;-&gt;&quot; &quot;\8594&quot;))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated TokenLocation (HsUniToken &quot;-&gt;&quot; &quot;\8594&quot;)
forall (tok :: Symbol) (utok :: Symbol).
GenLocated TokenLocation (HsUniToken tok utok)
</span><a href="GHC.Hs.Extension.html#noHsUniTok"><span class="hs-identifier hs-var">noHsUniTok</span></a></span><span>
</span><span id="line-773"></span><span>
</span><span id="line-774"></span><span>       </span><span class="annot"><span class="annottext">(HsConDeclGADTDetails GhcPs, GenLocated SrcSpanAnnA (HsType GhcPs),
 [AddEpAnn], EpAnnComments)
-&gt; P (HsConDeclGADTDetails GhcPs,
      GenLocated SrcSpanAnnA (HsType GhcPs), [AddEpAnn], EpAnnComments)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs [LConDeclField GhcPs]
-&gt; LHsUniToken &quot;-&gt;&quot; &quot;\8594&quot; GhcPs -&gt; HsConDeclGADTDetails GhcPs
forall pass.
XRec pass [LConDeclField pass]
-&gt; LHsUniToken &quot;-&gt;&quot; &quot;\8594&quot; pass -&gt; HsConDeclGADTDetails pass
</span><a href="Language.Haskell.Syntax.Decls.html#RecConGADT"><span class="hs-identifier hs-var">RecConGADT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnL
-&gt; [GenLocated SrcSpanAnnA (ConDeclField GhcPs)]
-&gt; GenLocated
     SrcSpanAnnL [GenLocated SrcSpanAnnA (ConDeclField GhcPs)]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn AnnList -&gt; SrcSpan -&gt; SrcSpanAnnL
forall a. a -&gt; SrcSpan -&gt; SrcSpanAnn' a
</span><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-var">SrcSpanAnn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnList
</span><a href="#local-6989586621681789925"><span class="hs-identifier hs-var">an'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789920"><span class="hs-identifier hs-var">loc'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LConDeclField GhcPs]
[GenLocated SrcSpanAnnA (ConDeclField GhcPs)]
</span><a href="#local-6989586621681789923"><span class="hs-identifier hs-var">rf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsUniToken &quot;-&gt;&quot; &quot;\8594&quot; GhcPs
GenLocated TokenLocation (HsUniToken &quot;-&gt;&quot; &quot;\8594&quot;)
</span><a href="#local-6989586621681789928"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681789924"><span class="hs-identifier hs-var">res_ty</span></a></span><span>
</span><span id="line-775"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem -&gt; EpAnnComments
forall ann. EpAnn ann -&gt; EpAnnComments
</span><a href="GHC.Parser.Annotation.html#epAnnComments"><span class="hs-identifier hs-var">epAnnComments</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; EpAnn AnnListItem
forall a. SrcSpanAnn' a -&gt; a
</span><a href="GHC.Parser.Annotation.html#ann"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789916"><span class="hs-identifier hs-var">ll</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-776"></span><span>     </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-777"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681789937"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789937"><span class="hs-identifier hs-var">anns</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789938"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789938"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789939"><span class="annot"><span class="annottext">[HsScaled GhcPs (LHsType GhcPs)]
</span><a href="#local-6989586621681789939"><span class="hs-identifier hs-var">arg_types</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789940"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789940"><span class="hs-identifier hs-var">res_type</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; ([AddEpAnn], EpAnnComments, [HsScaled GhcPs (LHsType GhcPs)],
    LHsType GhcPs)
forall (p :: Pass).
LHsType (GhcPass p)
-&gt; ([AddEpAnn], EpAnnComments,
    [HsScaled (GhcPass p) (LHsType (GhcPass p))], LHsType (GhcPass p))
</span><a href="GHC.Hs.Type.html#splitHsFunType"><span class="hs-identifier hs-var">splitHsFunType</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789915"><span class="hs-identifier hs-var">body_ty</span></a></span><span>
</span><span id="line-778"></span><span>       </span><span class="annot"><span class="annottext">(HsConDeclGADTDetails GhcPs, GenLocated SrcSpanAnnA (HsType GhcPs),
 [AddEpAnn], EpAnnComments)
-&gt; P (HsConDeclGADTDetails GhcPs,
      GenLocated SrcSpanAnnA (HsType GhcPs), [AddEpAnn], EpAnnComments)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[HsScaled GhcPs (LHsType GhcPs)] -&gt; HsConDeclGADTDetails GhcPs
forall pass.
[HsScaled pass (LBangType pass)] -&gt; HsConDeclGADTDetails pass
</span><a href="Language.Haskell.Syntax.Decls.html#PrefixConGADT"><span class="hs-identifier hs-var">PrefixConGADT</span></a></span><span> </span><span class="annot"><span class="annottext">[HsScaled GhcPs (LHsType GhcPs)]
</span><a href="#local-6989586621681789939"><span class="hs-identifier hs-var">arg_types</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681789940"><span class="hs-identifier hs-var">res_type</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789937"><span class="hs-identifier hs-var">anns</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789938"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-779"></span><span>
</span><span id="line-780"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681789943"><span class="annot"><span class="annottext">an :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681789943"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681789905"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681789913"><span class="hs-identifier hs-var">annsa</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789909"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnnComments -&gt; EpAnnComments
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681789914"><span class="hs-identifier hs-var">csa</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-781"></span><span>
</span><span id="line-782"></span><span>  </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (ConDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (ConDecl GhcPs))
forall a. a -&gt; P a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (ConDecl GhcPs)
 -&gt; P (GenLocated SrcSpanAnnA (ConDecl GhcPs)))
-&gt; GenLocated SrcSpanAnnA (ConDecl GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (ConDecl GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; ConDecl GhcPs -&gt; GenLocated SrcSpanAnnA (ConDecl GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681789910"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclGADT"><span class="hs-identifier hs-type">ConDeclGADT</span></a></span><span>
</span><span id="line-783"></span><span>                     </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">con_g_ext :: XConDeclGADT GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#con_g_ext"><span class="hs-identifier hs-var">con_g_ext</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XConDeclGADT GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681789943"><span class="hs-identifier hs-var">an</span></a></span><span>
</span><span id="line-784"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_names :: NonEmpty (XRec GhcPs (IdP GhcPs))
</span><a href="Language.Haskell.Syntax.Decls.html#con_names"><span class="hs-identifier hs-var">con_names</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty (XRec GhcPs (IdP GhcPs))
NonEmpty (GenLocated SrcSpanAnnN RdrName)
</span><a href="#local-6989586621681789906"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-785"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_dcolon :: LHsUniToken &quot;::&quot; &quot;\8759&quot; GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#con_dcolon"><span class="hs-identifier hs-var">con_dcolon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsUniToken &quot;::&quot; &quot;\8759&quot; GhcPs
</span><a href="#local-6989586621681789907"><span class="hs-identifier hs-var">dcol</span></a></span><span>
</span><span id="line-786"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_bndrs :: XRec GhcPs (HsOuterSigTyVarBndrs GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#con_bndrs"><span class="hs-identifier hs-var">con_bndrs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsOuterSigTyVarBndrs GhcPs
-&gt; GenLocated SrcSpanAnnA (HsOuterSigTyVarBndrs GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsSigType GhcPs) -&gt; SrcSpanAnnA
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
GenLocated SrcSpanAnnA (HsSigType GhcPs)
</span><a href="#local-6989586621681789908"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcPs
</span><a href="#local-6989586621681789949"><span class="hs-identifier hs-var">outer_bndrs</span></a></span><span>
</span><span id="line-787"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_mb_cxt :: Maybe (LHsContext GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#con_mb_cxt"><span class="hs-identifier hs-var">con_mb_cxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681789950"><span class="hs-identifier hs-var">mcxt</span></a></span><span>
</span><span id="line-788"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_g_args :: HsConDeclGADTDetails GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#con_g_args"><span class="hs-identifier hs-var">con_g_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsConDeclGADTDetails GhcPs
</span><a href="#local-6989586621681789911"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-789"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_res_ty :: LHsType GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#con_res_ty"><span class="hs-identifier hs-var">con_res_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681789912"><span class="hs-identifier hs-var">res_ty</span></a></span><span>
</span><span id="line-790"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_doc :: Maybe (LHsDoc GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#con_doc"><span class="hs-identifier hs-var">con_doc</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsDoc GhcPs)
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-791"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-792"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681789949"><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcPs
</span><a href="#local-6989586621681789949"><span class="hs-identifier hs-var">outer_bndrs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789950"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621681789950"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681789915"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681789915"><span class="hs-identifier hs-var">body_ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
-&gt; (HsOuterSigTyVarBndrs GhcPs, Maybe (LHsContext GhcPs),
    LHsType GhcPs)
</span><a href="GHC.Hs.Type.html#splitLHsGadtTy"><span class="hs-identifier hs-var">splitLHsGadtTy</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681789908"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-793"></span><span>
</span><span id="line-794"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-type">setRdrNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-795"></span><span class="hs-comment">-- ^ This rather gruesome function is used mainly by the parser.</span><span>
</span><span id="line-796"></span><span class="hs-comment">-- When parsing:</span><span>
</span><span id="line-797"></span><span class="hs-comment">--</span><span>
</span><span id="line-798"></span><span class="hs-comment">-- &gt; data T a = T | T1 Int</span><span>
</span><span id="line-799"></span><span class="hs-comment">--</span><span>
</span><span id="line-800"></span><span class="hs-comment">-- we parse the data constructors as /types/ because of parser ambiguities,</span><span>
</span><span id="line-801"></span><span class="hs-comment">-- so then we need to change the /type constr/ to a /data constr/</span><span>
</span><span id="line-802"></span><span class="hs-comment">--</span><span>
</span><span id="line-803"></span><span class="hs-comment">-- The exact-name case /can/ occur when parsing:</span><span>
</span><span id="line-804"></span><span class="hs-comment">--</span><span>
</span><span id="line-805"></span><span class="hs-comment">-- &gt; data [] a = [] | a : [a]</span><span>
</span><span id="line-806"></span><span class="hs-comment">--</span><span>
</span><span id="line-807"></span><span class="hs-comment">-- For the exact-name case we return an original name.</span><span>
</span><span id="line-808"></span><span id="setRdrNameSpace"><span class="annot"><span class="annottext">setRdrNameSpace :: RdrName -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var hs-var">setRdrNameSpace</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621681789955"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681789955"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681789956"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789956"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789956"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681789955"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-809"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var">setRdrNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span id="local-6989586621681789959"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621681789959"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681789960"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681789960"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681789961"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789961"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-var">Qual</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621681789959"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789961"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681789960"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-810"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var">setRdrNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span id="local-6989586621681789963"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681789963"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681789964"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681789964"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681789965"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789965"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-var">Orig</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621681789963"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789965"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681789964"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-811"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var">setRdrNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621681789967"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681789967"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>    </span><span id="local-6989586621681789968"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789968"><span class="hs-identifier hs-var">ns</span></a></span></span><span>
</span><span id="line-812"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681789969"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621681789969"><span class="hs-identifier hs-var">thing</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe TyThing
</span><a href="GHC.Types.Name.html#wiredInNameTyThing_maybe"><span class="hs-identifier hs-var">wiredInNameTyThing_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681789967"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-813"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-var">setWiredInNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621681789969"><span class="hs-identifier hs-var">thing</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789968"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-814"></span><span>    </span><span class="hs-comment">-- Preserve Exact Names for wired-in things,</span><span>
</span><span id="line-815"></span><span>    </span><span class="hs-comment">-- notably tuples and lists</span><span>
</span><span id="line-816"></span><span>
</span><span id="line-817"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Bool
</span><a href="GHC.Types.Name.html#isExternalName"><span class="hs-identifier hs-var">isExternalName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681789967"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-818"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-var">Orig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(() :: Constraint) =&gt; Name -&gt; Module
Name -&gt; Module
</span><a href="GHC.Types.Name.html#nameModule"><span class="hs-identifier hs-var">nameModule</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681789967"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681789974"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-819"></span><span>
</span><span id="line-820"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>   </span><span class="hs-comment">-- This can happen when quoting and then</span><span>
</span><span id="line-821"></span><span>                </span><span class="hs-comment">-- splicing a fixity declaration for a type</span><span>
</span><span id="line-822"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; OccName -&gt; SrcSpan -&gt; Name
</span><a href="GHC.Types.Name.html#mkSystemNameAt"><span class="hs-identifier hs-var">mkSystemNameAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Unique
</span><a href="GHC.Types.Name.html#nameUnique"><span class="hs-identifier hs-var">nameUnique</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681789967"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681789974"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; SrcSpan
</span><a href="GHC.Types.Name.html#nameSrcSpan"><span class="hs-identifier hs-var">nameSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681789967"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-823"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-824"></span><span>    </span><span id="local-6989586621681789974"><span class="annot"><span class="annottext">occ :: OccName
</span><a href="#local-6989586621681789974"><span class="hs-identifier hs-var hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789968"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681789967"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-825"></span><span>
</span><span id="line-826"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-type">setWiredInNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-827"></span><span id="setWiredInNameSpace"><span class="annot"><span class="annottext">setWiredInNameSpace :: TyThing -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-var hs-var">setWiredInNameSpace</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-type">ATyCon</span></a></span><span> </span><span id="local-6989586621681789980"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681789980"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681789981"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789981"><span class="hs-identifier hs-var">ns</span></a></span></span><span>
</span><span id="line-828"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataConNameSpace"><span class="hs-identifier hs-var">isDataConNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789981"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-829"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#ty_con_data_con"><span class="hs-identifier hs-var">ty_con_data_con</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681789980"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-830"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcClsNameSpace"><span class="hs-identifier hs-var">isTcClsNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789981"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-831"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681789980"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-comment">-- No-op</span><span>
</span><span id="line-832"></span><span>
</span><span id="line-833"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-var">setWiredInNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-type">RealDataCon</span></a></span><span> </span><span id="local-6989586621681789988"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681789988"><span class="hs-identifier hs-var">dc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681789989"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789989"><span class="hs-identifier hs-var">ns</span></a></span></span><span>
</span><span id="line-834"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcClsNameSpace"><span class="hs-identifier hs-var">isTcClsNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789989"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-835"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#data_con_ty_con"><span class="hs-identifier hs-var">data_con_ty_con</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681789988"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-836"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataConNameSpace"><span class="hs-identifier hs-var">isDataConNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789989"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-837"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681789988"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-comment">-- No-op</span><span>
</span><span id="line-838"></span><span>
</span><span id="line-839"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-var">setWiredInNameSpace</span></a></span><span> </span><span id="local-6989586621681789991"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621681789991"><span class="hs-identifier hs-var">thing</span></a></span></span><span> </span><span id="local-6989586621681789992"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789992"><span class="hs-identifier hs-var">ns</span></a></span></span><span>
</span><span id="line-840"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; RdrName
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;setWiredinNameSpace&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; SDoc
</span><a href="GHC.Types.Name.Occurrence.html#pprNameSpace"><span class="hs-identifier hs-var">pprNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621681789992"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621681789991"><span class="hs-identifier hs-var">thing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-841"></span><span>
</span><span id="line-842"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#ty_con_data_con"><span class="hs-identifier hs-type">ty_con_data_con</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-843"></span><span id="ty_con_data_con"><span class="annot"><span class="annottext">ty_con_data_con :: TyCon -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#ty_con_data_con"><span class="hs-identifier hs-var hs-var">ty_con_data_con</span></a></span></span><span> </span><span id="local-6989586621681789996"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681789996"><span class="hs-identifier hs-var">tc</span></a></span></span><span>
</span><span id="line-844"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isTupleTyCon"><span class="hs-identifier hs-var">isTupleTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681789996"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-845"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681789997"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681789997"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe DataCon
</span><a href="GHC.Core.TyCon.html#tyConSingleDataCon_maybe"><span class="hs-identifier hs-var">tyConSingleDataCon_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681789996"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-846"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681789997"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-847"></span><span>
</span><span id="line-848"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681789996"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Unique -&gt; Bool
forall a. Uniquable a =&gt; a -&gt; Unique -&gt; Bool
</span><a href="GHC.Types.Unique.html#hasKey"><span class="hs-operator hs-var">`hasKey`</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Names.html#listTyConKey"><span class="hs-identifier hs-var">listTyConKey</span></a></span><span>
</span><span id="line-849"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Types.html#nilDataConName"><span class="hs-identifier hs-var">nilDataConName</span></a></span><span>
</span><span id="line-850"></span><span>
</span><span id="line-851"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>  </span><span class="hs-comment">-- See Note [setRdrNameSpace for wired-in names]</span><span>
</span><span id="line-852"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#srcDataName"><span class="hs-identifier hs-var">srcDataName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; OccName
forall a. NamedThing a =&gt; a -&gt; OccName
</span><a href="GHC.Types.Name.html#getOccName"><span class="hs-identifier hs-var">getOccName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681789996"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-853"></span><span>
</span><span id="line-854"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#data_con_ty_con"><span class="hs-identifier hs-type">data_con_ty_con</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-855"></span><span id="data_con_ty_con"><span class="annot"><span class="annottext">data_con_ty_con :: DataCon -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#data_con_ty_con"><span class="hs-identifier hs-var hs-var">data_con_ty_con</span></a></span></span><span> </span><span id="local-6989586621681789999"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681789999"><span class="hs-identifier hs-var">dc</span></a></span></span><span>
</span><span id="line-856"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681790000"><span class="annot"><span class="annottext">tc :: TyCon
</span><a href="#local-6989586621681790000"><span class="hs-identifier hs-var hs-var">tc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; TyCon
</span><a href="GHC.Core.DataCon.html#dataConTyCon"><span class="hs-identifier hs-var">dataConTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681789999"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-857"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isTupleTyCon"><span class="hs-identifier hs-var">isTupleTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681790000"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-858"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621681790000"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-859"></span><span>
</span><span id="line-860"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681789999"><span class="hs-identifier hs-var">dc</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Unique -&gt; Bool
forall a. Uniquable a =&gt; a -&gt; Unique -&gt; Bool
</span><a href="GHC.Types.Unique.html#hasKey"><span class="hs-operator hs-var">`hasKey`</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Names.html#nilDataConKey"><span class="hs-identifier hs-var">nilDataConKey</span></a></span><span>
</span><span id="line-861"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Types.html#listTyConName"><span class="hs-identifier hs-var">listTyConName</span></a></span><span>
</span><span id="line-862"></span><span>
</span><span id="line-863"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>  </span><span class="hs-comment">-- See Note [setRdrNameSpace for wired-in names]</span><span>
</span><span id="line-864"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier hs-var">tcClsName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; OccName
forall a. NamedThing a =&gt; a -&gt; OccName
</span><a href="GHC.Types.Name.html#getOccName"><span class="hs-identifier hs-var">getOccName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621681789999"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-865"></span><span>
</span><span id="line-866"></span><span>
</span><span id="line-867"></span><span>
</span><span id="line-868"></span><span class="hs-comment">{- Note [setRdrNameSpace for wired-in names]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In GHC.Types, which declares (:), we have
  infixr 5 :
The ambiguity about which &quot;:&quot; is meant is resolved by parsing it as a
data constructor, but then using dataTcOccs to try the type constructor too;
and that in turn calls setRdrNameSpace to change the name-space of &quot;:&quot; to
tcClsName.  There isn't a corresponding &quot;:&quot; type constructor, but it's painful
to make setRdrNameSpace partial, so we just make an Unqual name instead. It
really doesn't matter!
-}</span><span>
</span><span id="line-879"></span><span>
</span><span id="line-880"></span><span id="local-6989586621681788342"><span id="local-6989586621681788343"><span class="annot"><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-type">eitherToP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#MonadP"><span class="hs-identifier hs-type">MonadP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788342"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Either.html#Either/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Errors.Types.html#PsMessage"><span class="hs-identifier hs-type">PsMessage</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681788343"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788342"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788343"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-881"></span><span class="hs-comment">-- Adapts the Either monad to the P monad</span><span>
</span><span id="line-882"></span><span id="eitherToP"><span class="annot"><span class="annottext">eitherToP :: forall (m :: * -&gt; *) a.
MonadP m =&gt;
Either (MsgEnvelope PsMessage) a -&gt; m a
</span><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-var hs-var">eitherToP</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Either.html#Left/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621681790007"><span class="annot"><span class="annottext">MsgEnvelope PsMessage
</span><a href="#local-6989586621681790007"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; m a
forall a. MsgEnvelope PsMessage -&gt; m a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage
</span><a href="#local-6989586621681790007"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-883"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-var">eitherToP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Either.html#Right/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621681790008"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681790008"><span class="hs-identifier hs-var">thing</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; m a
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681790008"><span class="hs-identifier hs-var">thing</span></a></span><span>
</span><span id="line-884"></span><span>
</span><span id="line-885"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-type">checkTyVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-886"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- the synthesized type variables</span><span>
</span><span id="line-887"></span><span class="hs-comment">-- ^ Check whether the given list of type parameters are all type variables</span><span>
</span><span id="line-888"></span><span class="hs-comment">-- (possibly with a kind signature).</span><span>
</span><span id="line-889"></span><span id="checkTyVars"><span class="annot"><span class="annottext">checkTyVars :: SDoc
-&gt; SDoc
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var hs-var">checkTyVars</span></a></span></span><span> </span><span id="local-6989586621681790009"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681790009"><span class="hs-identifier hs-var">pp_what</span></a></span></span><span> </span><span id="local-6989586621681790010"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681790010"><span class="hs-identifier hs-var">equals_or_where</span></a></span></span><span> </span><span id="local-6989586621681790011"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790011"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621681790012"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681790012"><span class="hs-identifier hs-var">tparms</span></a></span></span><span>
</span><span id="line-890"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681790013"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
</span><a href="#local-6989586621681790013"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))
 -&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)))
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; P [GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="../../base-4.18.3.0/src/Data.Traversable.html#mapM/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">HsArg
  (GenLocated SrcSpanAnnA (HsType GhcPs))
  (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
</span><a href="#local-6989586621681790014"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790012"><span class="hs-identifier hs-var">tparms</span></a></span><span>
</span><span id="line-891"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">LHsQTyVars GhcPs -&gt; P (LHsQTyVars GhcPs)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcPs] -&gt; LHsQTyVars GhcPs
</span><a href="GHC.Hs.Type.html#mkHsQTvs"><span class="hs-identifier hs-var">mkHsQTvs</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcPs]
[GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
</span><a href="#local-6989586621681790013"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-892"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-893"></span><span>    </span><span id="local-6989586621681790014"><span class="annot"><span class="annottext">check :: HsArg
  (GenLocated SrcSpanAnnA (HsType GhcPs))
  (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
</span><a href="#local-6989586621681790014"><span class="hs-identifier hs-var hs-var">check</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTypeArg"><span class="hs-identifier hs-type">HsTypeArg</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790017"><span class="annot"><span class="annottext">ki :: GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790017"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790018"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790018"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage
 -&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)))
-&gt; MsgEnvelope PsMessage
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790018"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-894"></span><span>                                         </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; SDoc -&gt; RdrName -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrUnexpectedTypeAppInDecl"><span class="hs-identifier hs-var">PsErrUnexpectedTypeAppInDecl</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790017"><span class="hs-identifier hs-var">ki</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681790009"><span class="hs-identifier hs-var">pp_what</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790011"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-895"></span><span>    </span><span class="annot"><a href="#local-6989586621681790014"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span id="local-6989586621681790021"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790021"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
-&gt; [AddEpAnn]
-&gt; EpAnnComments
-&gt; LHsType GhcPs
-&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="#local-6989586621681790022"><span class="hs-identifier hs-var">chkParens</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790021"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-896"></span><span>    </span><span class="annot"><a href="#local-6989586621681790014"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsArgPar"><span class="hs-identifier hs-type">HsArgPar</span></a></span><span> </span><span id="local-6989586621681790024"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790024"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage
 -&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)))
-&gt; MsgEnvelope PsMessage
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790024"><span class="hs-identifier hs-var">sp</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-897"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; RdrName -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrMalformedDecl"><span class="hs-identifier hs-var">PsErrMalformedDecl</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681790009"><span class="hs-identifier hs-var">pp_what</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790011"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-898"></span><span>        </span><span class="hs-comment">-- Keep around an action for adjusting the annotations of extra parens</span><span>
</span><span id="line-899"></span><span>    </span><span class="annot"><a href="#local-6989586621681790022"><span class="hs-identifier hs-type">chkParens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-900"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-901"></span><span>    </span><span id="local-6989586621681790022"><span class="annot"><span class="annottext">chkParens :: [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; EpAnnComments
-&gt; LHsType GhcPs
-&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="#local-6989586621681790022"><span class="hs-identifier hs-var hs-var">chkParens</span></a></span></span><span> </span><span id="local-6989586621681790026"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790026"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790027"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790027"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681790028"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790028"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790029"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790029"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-type">HsParTy</span></a></span><span> </span><span id="local-6989586621681790031"><span class="annot"><span class="annottext">XParTy GhcPs
</span><a href="#local-6989586621681790031"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span id="local-6989586621681790032"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790032"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-902"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-903"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621681790033"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681790033"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681790034"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681790034"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; (AddEpAnn, AddEpAnn)
</span><a href="GHC.Parser.Lexer.html#mkParensEpAnn"><span class="hs-identifier hs-var">mkParensEpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; RealSrcSpan) -&gt; SrcSpan -&gt; RealSrcSpan
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790029"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-904"></span><span>        </span><span class="hs-keyword">in</span><span>
</span><span id="line-905"></span><span>          </span><span class="annot"><span class="annottext">[AddEpAnn]
-&gt; [AddEpAnn]
-&gt; EpAnnComments
-&gt; LHsType GhcPs
-&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="#local-6989586621681790022"><span class="hs-identifier hs-var">chkParens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681790033"><span class="hs-identifier hs-var">o</span></a></span><span class="annot"><span class="annottext">AddEpAnn -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790026"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681790034"><span class="hs-identifier hs-var">c</span></a></span><span class="annot"><span class="annottext">AddEpAnn -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790027"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790028"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnnComments -&gt; EpAnnComments
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnParen -&gt; EpAnnComments
forall ann. EpAnn ann -&gt; EpAnnComments
</span><a href="GHC.Parser.Annotation.html#epAnnComments"><span class="hs-identifier hs-var">epAnnComments</span></a></span><span> </span><span class="annot"><span class="annottext">XParTy GhcPs
EpAnn AnnParen
</span><a href="#local-6989586621681790031"><span class="hs-identifier hs-var">an</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790032"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-906"></span><span>    </span><span class="annot"><a href="#local-6989586621681790022"><span class="hs-identifier hs-var">chkParens</span></a></span><span> </span><span id="local-6989586621681790036"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790036"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790037"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790037"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681790038"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790038"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span id="local-6989586621681790039"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790039"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
-&gt; [AddEpAnn]
-&gt; EpAnnComments
-&gt; LHsType GhcPs
-&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="#local-6989586621681790040"><span class="hs-identifier hs-var">chk</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790036"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790037"><span class="hs-identifier hs-var">cps</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790038"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790039"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-907"></span><span>
</span><span id="line-908"></span><span>        </span><span class="hs-comment">-- Check that the name space is correct!</span><span>
</span><span id="line-909"></span><span>    </span><span class="annot"><a href="#local-6989586621681790040"><span class="hs-identifier hs-type">chk</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-910"></span><span>    </span><span id="local-6989586621681790040"><span class="annot"><span class="annottext">chk :: [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; EpAnnComments
-&gt; LHsType GhcPs
-&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="#local-6989586621681790040"><span class="hs-identifier hs-var hs-var">chk</span></a></span></span><span> </span><span id="local-6989586621681790041"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790041"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790042"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790042"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681790043"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790043"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790044"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790044"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsKindSig"><span class="hs-identifier hs-type">HsKindSig</span></a></span><span> </span><span id="local-6989586621681790046"><span class="annot"><span class="annottext">XKindSig GhcPs
</span><a href="#local-6989586621681790046"><span class="hs-identifier hs-var">annk</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790047"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790047"><span class="hs-identifier hs-var">annt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span id="local-6989586621681790049"><span class="annot"><span class="annottext">XTyVar GhcPs
</span><a href="#local-6989586621681790049"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790050"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790050"><span class="hs-identifier hs-var">lv</span></a></span></span><span> </span><span id="local-6989586621681790051"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790051"><span class="hs-identifier hs-var">tv</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790052"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790052"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-911"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrTyVar"><span class="hs-identifier hs-var">isRdrTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790051"><span class="hs-identifier hs-var">tv</span></a></span><span>
</span><span id="line-912"></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-913"></span><span>                </span><span id="local-6989586621681790054"><span class="annot"><span class="annottext">an :: [AddEpAnn]
</span><a href="#local-6989586621681790054"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#reverse/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790041"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790042"><span class="hs-identifier hs-var">cps</span></a></span><span>
</span><span id="line-914"></span><span>              </span><span class="hs-keyword">in</span><span>
</span><span id="line-915"></span><span>                </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsTyVarBndr () GhcPs
-&gt; GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; [AddEpAnn] -&gt; SrcSpanAnnA
forall an. SrcSpanAnn' an -&gt; [AddEpAnn] -&gt; SrcSpanAnn' an
</span><a href="GHC.Parser.Annotation.html#widenLocatedAn"><span class="hs-identifier hs-var">widenLocatedAn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790044"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpanAnnA -&gt; SrcSpanAnnA
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790047"><span class="hs-identifier hs-var">annt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790054"><span class="hs-identifier hs-var">an</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-916"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XKindedTyVar GhcPs
-&gt; ()
-&gt; XRec GhcPs (IdP GhcPs)
-&gt; LHsType GhcPs
-&gt; HsTyVarBndr () GhcPs
forall flag pass.
XKindedTyVar pass
-&gt; flag -&gt; LIdP pass -&gt; LHsKind pass -&gt; HsTyVarBndr flag pass
</span><a href="Language.Haskell.Syntax.Type.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XKindSig GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790046"><span class="hs-identifier hs-var">annk</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; EpAnn [AddEpAnn] -&gt; EpAnn [AddEpAnn]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790049"><span class="hs-identifier hs-var">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790054"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790043"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790050"><span class="hs-identifier hs-var">lv</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790051"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790052"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-917"></span><span>    </span><span class="annot"><a href="#local-6989586621681790040"><span class="hs-identifier hs-var">chk</span></a></span><span> </span><span id="local-6989586621681790056"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790056"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790057"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790057"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681790058"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790058"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790059"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790059"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span id="local-6989586621681790060"><span class="annot"><span class="annottext">XTyVar GhcPs
</span><a href="#local-6989586621681790060"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790061"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790061"><span class="hs-identifier hs-var">ltv</span></a></span></span><span> </span><span id="local-6989586621681790062"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790062"><span class="hs-identifier hs-var">tv</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-918"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrTyVar"><span class="hs-identifier hs-var">isRdrTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790062"><span class="hs-identifier hs-var">tv</span></a></span><span>
</span><span id="line-919"></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-920"></span><span>                </span><span id="local-6989586621681790063"><span class="annot"><span class="annottext">an :: [AddEpAnn]
</span><a href="#local-6989586621681790063"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#reverse/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790056"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790057"><span class="hs-identifier hs-var">cps</span></a></span><span>
</span><span id="line-921"></span><span>              </span><span class="hs-keyword">in</span><span>
</span><span id="line-922"></span><span>                </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsTyVarBndr () GhcPs
-&gt; GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; [AddEpAnn] -&gt; SrcSpanAnnA
forall an. SrcSpanAnn' an -&gt; [AddEpAnn] -&gt; SrcSpanAnn' an
</span><a href="GHC.Parser.Annotation.html#widenLocatedAn"><span class="hs-identifier hs-var">widenLocatedAn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790059"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790063"><span class="hs-identifier hs-var">an</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-923"></span><span>                                     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XUserTyVar GhcPs
-&gt; () -&gt; XRec GhcPs (IdP GhcPs) -&gt; HsTyVarBndr () GhcPs
forall flag pass.
XUserTyVar pass -&gt; flag -&gt; LIdP pass -&gt; HsTyVarBndr flag pass
</span><a href="Language.Haskell.Syntax.Type.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790060"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790063"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790058"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790061"><span class="hs-identifier hs-var">ltv</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790062"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-924"></span><span>    </span><span class="annot"><a href="#local-6989586621681790040"><span class="hs-identifier hs-var">chk</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790064"><span class="annot"><span class="annottext">t :: LHsType GhcPs
</span><a href="#local-6989586621681790064"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790065"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790065"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-925"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P (LHsTyVarBndr () GhcPs)
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P (LHsTyVarBndr () GhcPs))
-&gt; MsgEnvelope PsMessage -&gt; P (LHsTyVarBndr () GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790065"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-926"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; SDoc -&gt; RdrName -&gt; [LHsTypeArg GhcPs] -&gt; SDoc -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrUnexpectedTypeInDecl"><span class="hs-identifier hs-var">PsErrUnexpectedTypeInDecl</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790064"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681790009"><span class="hs-identifier hs-var">pp_what</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790011"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621681790012"><span class="hs-identifier hs-var">tparms</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681790010"><span class="hs-identifier hs-var">equals_or_where</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-927"></span><span>
</span><span id="line-928"></span><span>
</span><span id="line-929"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#whereDots"><span class="hs-identifier hs-type">whereDots</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#equalsDots"><span class="hs-identifier hs-type">equalsDots</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-930"></span><span class="hs-comment">-- Second argument to checkTyVars</span><span>
</span><span id="line-931"></span><span id="whereDots"><span class="annot"><span class="annottext">whereDots :: SDoc
</span><a href="GHC.Parser.PostProcess.html#whereDots"><span class="hs-identifier hs-var hs-var">whereDots</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;where ...&quot;</span></span><span>
</span><span id="line-932"></span><span id="equalsDots"><span class="annot"><span class="annottext">equalsDots :: SDoc
</span><a href="GHC.Parser.PostProcess.html#equalsDots"><span class="hs-identifier hs-var hs-var">equalsDots</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;= ...&quot;</span></span><span>
</span><span id="line-933"></span><span>
</span><span id="line-934"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkDatatypeContext"><span class="hs-identifier hs-type">checkDatatypeContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-935"></span><span id="checkDatatypeContext"><span class="annot"><span class="annottext">checkDatatypeContext :: Maybe (LHsContext GhcPs) -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkDatatypeContext"><span class="hs-identifier hs-var hs-var">checkDatatypeContext</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; P ()
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-936"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkDatatypeContext"><span class="hs-identifier hs-var">checkDatatypeContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681790067"><span class="annot"><span class="annottext">LHsContext GhcPs
</span><a href="#local-6989586621681790067"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-937"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681790068"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790068"><span class="hs-identifier hs-var">allowed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; P Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#DatatypeContextsBit"><span class="hs-identifier hs-var">DatatypeContextsBit</span></a></span><span>
</span><span id="line-938"></span><span>         </span><span class="annot"><span class="annottext">Bool -&gt; P () -&gt; P ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/Control.Monad.html#unless/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790068"><span class="hs-identifier hs-var">allowed</span></a></span><span> </span><span class="annot"><span class="annottext">(P () -&gt; P ()) -&gt; P () -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P ()) -&gt; MsgEnvelope PsMessage -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated
  (SrcSpanAnn' (EpAnn AnnContext))
  [GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; SrcSpan
forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
GenLocated
  (SrcSpanAnn' (EpAnn AnnContext))
  [GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621681790067"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-939"></span><span>                                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsContext GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIllegalDataTypeContext"><span class="hs-identifier hs-var">PsErrIllegalDataTypeContext</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
</span><a href="#local-6989586621681790067"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-940"></span><span>
</span><span id="line-941"></span><span class="hs-keyword">type</span><span> </span><span id="LRuleTyTmVar"><span class="annot"><a href="GHC.Parser.PostProcess.html#LRuleTyTmVar"><span class="hs-identifier hs-var">LRuleTyTmVar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedAn"><span class="hs-identifier hs-type">LocatedAn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-type">NoEpAnns</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span>
</span><span id="line-942"></span><span class="hs-keyword">data</span><span> </span><span id="RuleTyTmVar"><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-var">RuleTyTmVar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RuleTyTmVar"><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-var">RuleTyTmVar</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-943"></span><span class="annot"><span class="hs-comment">-- ^ Essentially a wrapper for a @RuleBndr GhcPs@</span></span><span>
</span><span id="line-944"></span><span>
</span><span id="line-945"></span><span class="hs-comment">-- turns RuleTyTmVars into RuleBnrs - this is straightforward</span><span>
</span><span id="line-946"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRuleBndrs"><span class="hs-identifier hs-type">mkRuleBndrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.PostProcess.html#LRuleTyTmVar"><span class="hs-identifier hs-type">LRuleTyTmVar</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LRuleBndr"><span class="hs-identifier hs-type">LRuleBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-947"></span><span id="mkRuleBndrs"><span class="annot"><span class="annottext">mkRuleBndrs :: [LRuleTyTmVar] -&gt; [LRuleBndr GhcPs]
</span><a href="GHC.Parser.PostProcess.html#mkRuleBndrs"><span class="hs-identifier hs-var hs-var">mkRuleBndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LRuleTyTmVar -&gt; GenLocated (SrcAnn NoEpAnns) (RuleBndr GhcPs))
-&gt; [LRuleTyTmVar]
-&gt; [GenLocated (SrcAnn NoEpAnns) (RuleBndr GhcPs)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RuleTyTmVar -&gt; RuleBndr GhcPs)
-&gt; LRuleTyTmVar -&gt; GenLocated (SrcAnn NoEpAnns) (RuleBndr GhcPs)
forall a b.
(a -&gt; b)
-&gt; GenLocated (SrcAnn NoEpAnns) a -&gt; GenLocated (SrcAnn NoEpAnns) b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">RuleTyTmVar -&gt; RuleBndr GhcPs
</span><a href="#local-6989586621681790073"><span class="hs-identifier hs-var">cvt_one</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-948"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681790073"><span class="annot"><span class="annottext">cvt_one :: RuleTyTmVar -&gt; RuleBndr GhcPs
</span><a href="#local-6989586621681790073"><span class="hs-identifier hs-var hs-var">cvt_one</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span> </span><span id="local-6989586621681790074"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790074"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681790075"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790075"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCRuleBndr GhcPs -&gt; XRec GhcPs (IdP GhcPs) -&gt; RuleBndr GhcPs
forall pass. XCRuleBndr pass -&gt; LIdP pass -&gt; RuleBndr pass
</span><a href="Language.Haskell.Syntax.Decls.html#RuleBndr"><span class="hs-identifier hs-var">RuleBndr</span></a></span><span> </span><span class="annot"><span class="annottext">XCRuleBndr GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790074"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790075"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-949"></span><span>        </span><span class="annot"><a href="#local-6989586621681790073"><span class="hs-identifier hs-var">cvt_one</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span> </span><span id="local-6989586621681790077"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790077"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681790078"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790078"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681790079"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790079"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-950"></span><span>          </span><span class="annot"><span class="annottext">XRuleBndrSig GhcPs
-&gt; XRec GhcPs (IdP GhcPs) -&gt; HsPatSigType GhcPs -&gt; RuleBndr GhcPs
forall pass.
XRuleBndrSig pass
-&gt; LIdP pass -&gt; HsPatSigType pass -&gt; RuleBndr pass
</span><a href="Language.Haskell.Syntax.Decls.html#RuleBndrSig"><span class="hs-identifier hs-var">RuleBndrSig</span></a></span><span> </span><span class="annot"><span class="annottext">XRuleBndrSig GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790077"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790078"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn NoEpAnns -&gt; LHsType GhcPs -&gt; HsPatSigType GhcPs
</span><a href="GHC.Hs.Type.html#mkHsPatSigType"><span class="hs-identifier hs-var">mkHsPatSigType</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn NoEpAnns
forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790079"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-951"></span><span>
</span><span id="line-952"></span><span class="hs-comment">-- turns RuleTyTmVars into HsTyVarBndrs - this is more interesting</span><span>
</span><span id="line-953"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRuleTyVarBndrs"><span class="hs-identifier hs-type">mkRuleTyVarBndrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.PostProcess.html#LRuleTyTmVar"><span class="hs-identifier hs-type">LRuleTyTmVar</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-954"></span><span id="mkRuleTyVarBndrs"><span class="annot"><span class="annottext">mkRuleTyVarBndrs :: [LRuleTyTmVar] -&gt; [LHsTyVarBndr () GhcPs]
</span><a href="GHC.Parser.PostProcess.html#mkRuleTyVarBndrs"><span class="hs-identifier hs-var hs-var">mkRuleTyVarBndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LRuleTyTmVar -&gt; GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs))
-&gt; [LRuleTyTmVar]
-&gt; [GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">LRuleTyTmVar -&gt; GenLocated SrcSpanAnnA (HsTyVarBndr () GhcPs)
forall {a} {ann}.
GenLocated (SrcSpanAnn' a) RuleTyTmVar
-&gt; GenLocated (SrcAnn ann) (HsTyVarBndr () GhcPs)
</span><a href="#local-6989586621681790082"><span class="hs-identifier hs-var">cvt_one</span></a></span><span>
</span><span id="line-955"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681790082"><span class="annot"><span class="annottext">cvt_one :: GenLocated (SrcSpanAnn' a) RuleTyTmVar
-&gt; GenLocated (SrcAnn ann) (HsTyVarBndr () GhcPs)
</span><a href="#local-6989586621681790082"><span class="hs-identifier hs-var hs-var">cvt_one</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790085"><span class="annot"><span class="annottext">SrcSpanAnn' a
</span><a href="#local-6989586621681790085"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span> </span><span id="local-6989586621681790086"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790086"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681790087"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790087"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-956"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcAnn ann
-&gt; HsTyVarBndr () GhcPs
-&gt; GenLocated (SrcAnn ann) (HsTyVarBndr () GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnn' a -&gt; SrcAnn ann
forall a ann. SrcSpanAnn' a -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnn' a
</span><a href="#local-6989586621681790085"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XUserTyVar GhcPs
-&gt; () -&gt; XRec GhcPs (IdP GhcPs) -&gt; HsTyVarBndr () GhcPs
forall flag pass.
XUserTyVar pass -&gt; flag -&gt; LIdP pass -&gt; HsTyVarBndr flag pass
</span><a href="Language.Haskell.Syntax.Type.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XUserTyVar GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790086"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RdrName -&gt; RdrName)
-&gt; GenLocated SrcSpanAnnN RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall a b.
(a -&gt; b) -&gt; GenLocated SrcSpanAnnN a -&gt; GenLocated SrcSpanAnnN b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName
</span><a href="#local-6989586621681790089"><span class="hs-identifier hs-var">tm_to_ty</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790087"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-957"></span><span>        </span><span class="annot"><a href="#local-6989586621681790082"><span class="hs-identifier hs-var">cvt_one</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790090"><span class="annot"><span class="annottext">SrcSpanAnn' a
</span><a href="#local-6989586621681790090"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span> </span><span id="local-6989586621681790091"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790091"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681790092"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790092"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681790093"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790093"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-958"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcAnn ann
-&gt; HsTyVarBndr () GhcPs
-&gt; GenLocated (SrcAnn ann) (HsTyVarBndr () GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnn' a -&gt; SrcAnn ann
forall a ann. SrcSpanAnn' a -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnn' a
</span><a href="#local-6989586621681790090"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XKindedTyVar GhcPs
-&gt; ()
-&gt; XRec GhcPs (IdP GhcPs)
-&gt; LHsType GhcPs
-&gt; HsTyVarBndr () GhcPs
forall flag pass.
XKindedTyVar pass
-&gt; flag -&gt; LIdP pass -&gt; LHsKind pass -&gt; HsTyVarBndr flag pass
</span><a href="Language.Haskell.Syntax.Type.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XKindedTyVar GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790091"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RdrName -&gt; RdrName)
-&gt; GenLocated SrcSpanAnnN RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall a b.
(a -&gt; b) -&gt; GenLocated SrcSpanAnnN a -&gt; GenLocated SrcSpanAnnN b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName
</span><a href="#local-6989586621681790089"><span class="hs-identifier hs-var">tm_to_ty</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790092"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790093"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-959"></span><span>    </span><span class="hs-comment">-- takes something in namespace 'varName' to something in namespace 'tvName'</span><span>
</span><span id="line-960"></span><span>        </span><span id="local-6989586621681790089"><span class="annot"><span class="annottext">tm_to_ty :: RdrName -&gt; RdrName
</span><a href="#local-6989586621681790089"><span class="hs-identifier hs-var hs-var">tm_to_ty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621681790096"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681790096"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tvName"><span class="hs-identifier hs-var">tvName</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681790096"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-961"></span><span>        </span><span class="annot"><a href="#local-6989586621681790089"><span class="hs-identifier hs-var">tm_to_ty</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; RdrName
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkRuleTyVarBndrs&quot;</span></span><span>
</span><span id="line-962"></span><span>
</span><span id="line-963"></span><span class="hs-comment">-- See Note [Parsing explicit foralls in Rules] in Parser.y</span><span>
</span><span id="line-964"></span><span id="local-6989586621681788366"><span class="annot"><a href="GHC.Parser.PostProcess.html#checkRuleTyVarBndrNames"><span class="hs-identifier hs-type">checkRuleTyVarBndrNames</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788366"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-965"></span><span id="checkRuleTyVarBndrNames"><span class="annot"><span class="annottext">checkRuleTyVarBndrNames :: forall flag. [LHsTyVarBndr flag GhcPs] -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkRuleTyVarBndrNames"><span class="hs-identifier hs-var hs-var">checkRuleTyVarBndrNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsTyVarBndr flag GhcPs) -&gt; P ())
-&gt; [GenLocated SrcSpanAnnA (HsTyVarBndr flag GhcPs)] -&gt; P ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#mapM_/Data.Foldable.html#mapM_"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA RdrName -&gt; P ()
forall {f :: * -&gt; *} {a}.
MonadP f =&gt;
GenLocated (SrcSpanAnn' a) RdrName -&gt; f ()
</span><a href="#local-6989586621681790103"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA RdrName -&gt; P ())
-&gt; (GenLocated SrcSpanAnnA (HsTyVarBndr flag GhcPs)
    -&gt; GenLocated SrcSpanAnnA RdrName)
-&gt; GenLocated SrcSpanAnnA (HsTyVarBndr flag GhcPs)
-&gt; P ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(HsTyVarBndr flag GhcPs -&gt; RdrName)
-&gt; GenLocated SrcSpanAnnA (HsTyVarBndr flag GhcPs)
-&gt; GenLocated SrcSpanAnnA RdrName
forall a b.
(a -&gt; b) -&gt; GenLocated SrcSpanAnnA a -&gt; GenLocated SrcSpanAnnA b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">HsTyVarBndr flag GhcPs -&gt; IdP GhcPs
HsTyVarBndr flag GhcPs -&gt; RdrName
forall flag (p :: Pass).
HsTyVarBndr flag (GhcPass p) -&gt; IdP (GhcPass p)
</span><a href="GHC.Hs.Type.html#hsTyVarName"><span class="hs-identifier hs-var">hsTyVarName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-966"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681790103"><span class="annot"><span class="annottext">check :: GenLocated (SrcSpanAnn' a) RdrName -&gt; f ()
</span><a href="#local-6989586621681790103"><span class="hs-identifier hs-var hs-var">check</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790121"><span class="annot"><span class="annottext">SrcSpanAnn' a
</span><a href="#local-6989586621681790121"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621681790122"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681790122"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-967"></span><span>          </span><span class="annot"><span class="annottext">Bool -&gt; f () -&gt; f ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#when/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681790122"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; [FastString] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#elem/Data.Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;forall&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;family&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;role&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-968"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; f ()
forall a. MsgEnvelope PsMessage -&gt; f a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; f ()) -&gt; MsgEnvelope PsMessage -&gt; f ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnn' a -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnn' a
</span><a href="#local-6989586621681790121"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-969"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrParseErrorOnInput"><span class="hs-identifier hs-var">PsErrParseErrorOnInput</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681790122"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-970"></span><span>        </span><span class="annot"><a href="#local-6989586621681790103"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) RdrName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; f ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;checkRuleTyVarBndrNames&quot;</span></span><span>
</span><span id="line-971"></span><span>
</span><span id="line-972"></span><span id="local-6989586621681788380"><span id="local-6989586621681788381"><span class="annot"><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier hs-type">checkRecordSyntax</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Lexer.html#MonadP"><span class="hs-identifier hs-type">MonadP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788380"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788381"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788381"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788380"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788381"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-973"></span><span id="checkRecordSyntax"><span class="annot"><span class="annottext">checkRecordSyntax :: forall (m :: * -&gt; *) a.
(MonadP m, Outputable a) =&gt;
LocatedA a -&gt; m (LocatedA a)
</span><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier hs-var hs-var">checkRecordSyntax</span></a></span></span><span> </span><span id="local-6989586621681790139"><span class="annot"><span class="annottext">lr :: LocatedA a
</span><a href="#local-6989586621681790139"><span class="hs-identifier hs-var">lr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790140"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790140"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681790141"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681790141"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-974"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681790142"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790142"><span class="hs-identifier hs-var">allowed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; m Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#TraditionalRecordSyntaxBit"><span class="hs-identifier hs-var">TraditionalRecordSyntaxBit</span></a></span><span>
</span><span id="line-975"></span><span>         </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/Control.Monad.html#unless/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790142"><span class="hs-identifier hs-var">allowed</span></a></span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; m ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; m ()) -&gt; MsgEnvelope PsMessage -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790140"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-976"></span><span>                                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIllegalTraditionalRecordSyntax"><span class="hs-identifier hs-var">PsErrIllegalTraditionalRecordSyntax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681790141"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-977"></span><span>         </span><span class="annot"><span class="annottext">LocatedA a -&gt; m (LocatedA a)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA a
</span><a href="#local-6989586621681790139"><span class="hs-identifier hs-var">lr</span></a></span><span>
</span><span id="line-978"></span><span>
</span><span id="line-979"></span><span class="hs-comment">-- | Check if the gadt_constrlist is empty. Only raise parse error for</span><span>
</span><span id="line-980"></span><span class="hs-comment">-- `data T where` to avoid affecting existing error message, see #8258.</span><span>
</span><span id="line-981"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkEmptyGADTs"><span class="hs-identifier hs-type">checkEmptyGADTs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-982"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-983"></span><span id="checkEmptyGADTs"><span class="annot"><span class="annottext">checkEmptyGADTs :: Located ([AddEpAnn], [LConDecl GhcPs])
-&gt; P (Located ([AddEpAnn], [LConDecl GhcPs]))
</span><a href="GHC.Parser.PostProcess.html#checkEmptyGADTs"><span class="hs-identifier hs-var hs-var">checkEmptyGADTs</span></a></span></span><span> </span><span id="local-6989586621681790145"><span class="annot"><span class="annottext">gadts :: Located ([AddEpAnn], [LConDecl GhcPs])
</span><a href="#local-6989586621681790145"><span class="hs-identifier hs-var">gadts</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790146"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790146"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>           </span><span class="hs-comment">-- Empty GADT declaration.</span><span>
</span><span id="line-984"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681790147"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790147"><span class="hs-identifier hs-var">gadtSyntax</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; P Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#GadtSyntaxBit"><span class="hs-identifier hs-var">GadtSyntaxBit</span></a></span><span>   </span><span class="hs-comment">-- GADTs implies GADTSyntax</span><span>
</span><span id="line-985"></span><span>         </span><span class="annot"><span class="annottext">Bool -&gt; P () -&gt; P ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/Control.Monad.html#unless/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790147"><span class="hs-identifier hs-var">gadtSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">(P () -&gt; P ()) -&gt; P () -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P ()) -&gt; MsgEnvelope PsMessage -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790146"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-986"></span><span>                                          </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIllegalWhereInDataDecl"><span class="hs-identifier hs-var">PsErrIllegalWhereInDataDecl</span></a></span><span>
</span><span id="line-987"></span><span>         </span><span class="annot"><span class="annottext">Located ([AddEpAnn], [GenLocated SrcSpanAnnA (ConDecl GhcPs)])
-&gt; P (Located
        ([AddEpAnn], [GenLocated SrcSpanAnnA (ConDecl GhcPs)]))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Located ([AddEpAnn], [LConDecl GhcPs])
Located ([AddEpAnn], [GenLocated SrcSpanAnnA (ConDecl GhcPs)])
</span><a href="#local-6989586621681790145"><span class="hs-identifier hs-var">gadts</span></a></span><span>
</span><span id="line-988"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkEmptyGADTs"><span class="hs-identifier hs-var">checkEmptyGADTs</span></a></span><span> </span><span id="local-6989586621681790150"><span class="annot"><span class="annottext">Located ([AddEpAnn], [LConDecl GhcPs])
</span><a href="#local-6989586621681790150"><span class="hs-identifier hs-var">gadts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located ([AddEpAnn], [GenLocated SrcSpanAnnA (ConDecl GhcPs)])
-&gt; P (Located
        ([AddEpAnn], [GenLocated SrcSpanAnnA (ConDecl GhcPs)]))
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Located ([AddEpAnn], [LConDecl GhcPs])
Located ([AddEpAnn], [GenLocated SrcSpanAnnA (ConDecl GhcPs)])
</span><a href="#local-6989586621681790150"><span class="hs-identifier hs-var">gadts</span></a></span><span>              </span><span class="hs-comment">-- Ordinary GADT declaration.</span><span>
</span><span id="line-989"></span><span>
</span><span id="line-990"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-type">checkTyClHdr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>               </span><span class="hs-comment">-- True  &lt;=&gt; class header</span><span>
</span><span id="line-991"></span><span>                                   </span><span class="hs-comment">-- False &lt;=&gt; type header</span><span>
</span><span id="line-992"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-993"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span>     </span><span class="hs-comment">-- the head symbol (type or class name)</span><span>
</span><span id="line-994"></span><span>                   </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- parameters of head symbol</span><span>
</span><span id="line-995"></span><span>                   </span><span class="annot"><a href="GHC.Types.Fixity.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a></span><span class="hs-special">,</span><span>        </span><span class="hs-comment">-- the declaration is in infix format</span><span>
</span><span id="line-996"></span><span>                   </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>           </span><span class="hs-comment">-- API Annotation for HsParTy</span><span>
</span><span id="line-997"></span><span>                                         </span><span class="hs-comment">-- when stripping parens</span><span>
</span><span id="line-998"></span><span class="hs-comment">-- Well-formedness check and decomposition of type and class heads.</span><span>
</span><span id="line-999"></span><span class="hs-comment">-- Decomposes   T ty1 .. tyn   into    (T, [ty1, ..., tyn])</span><span>
</span><span id="line-1000"></span><span class="hs-comment">--              Int :*: Bool   into    (:*:, [Int, Bool])</span><span>
</span><span id="line-1001"></span><span class="hs-comment">-- returning the pieces</span><span>
</span><span id="line-1002"></span><span id="checkTyClHdr"><span class="annot"><span class="annottext">checkTyClHdr :: Bool
-&gt; LHsType GhcPs
-&gt; P (GenLocated SrcSpanAnnN RdrName, [LHsTypeArg GhcPs],
      LexicalFixity, [AddEpAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var hs-var">checkTyClHdr</span></a></span></span><span> </span><span id="local-6989586621681790151"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790151"><span class="hs-identifier hs-var">is_cls</span></a></span></span><span> </span><span id="local-6989586621681790152"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790152"><span class="hs-identifier hs-var">ty</span></a></span></span><span>
</span><span id="line-1003"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; LexicalFixity
-&gt; P (GenLocated SrcSpanAnnN RdrName,
      [HsArg
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))],
      LexicalFixity, [AddEpAnn])
</span><a href="#local-6989586621681790153"><span class="hs-identifier hs-var">goL</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790152"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a></span><span>
</span><span id="line-1004"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1005"></span><span>    </span><span id="local-6989586621681790153"><span class="annot"><span class="annottext">goL :: GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; LexicalFixity
-&gt; P (GenLocated SrcSpanAnnN RdrName,
      [HsArg
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))],
      LexicalFixity, [AddEpAnn])
</span><a href="#local-6989586621681790153"><span class="hs-identifier hs-var hs-var">goL</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790154"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790154"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790155"><span class="annot"><span class="annottext">HsType GhcPs
</span><a href="#local-6989586621681790155"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790156"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790156"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681790157"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790157"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790158"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790158"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681790159"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790159"><span class="hs-identifier hs-var">fix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; HsType GhcPs
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; LexicalFixity
-&gt; P (GenLocated SrcSpanAnnN RdrName,
      [HsArg
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))],
      LexicalFixity, [AddEpAnn])
</span><a href="#local-6989586621681790160"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790154"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><a href="#local-6989586621681790155"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790156"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790157"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790158"><span class="hs-identifier hs-var">cps</span></a></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790159"><span class="hs-identifier hs-var">fix</span></a></span><span>
</span><span id="line-1006"></span><span>
</span><span id="line-1007"></span><span>    </span><span class="hs-comment">-- workaround to define '*' despite StarIsType</span><span>
</span><span id="line-1008"></span><span>    </span><span id="local-6989586621681790160"><span class="annot"><span class="annottext">go :: SrcSpan
-&gt; HsType GhcPs
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; LexicalFixity
-&gt; P (GenLocated SrcSpanAnnN RdrName,
      [HsArg
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))],
      LexicalFixity, [AddEpAnn])
</span><a href="#local-6989586621681790160"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-type">HsParTy</span></a></span><span> </span><span id="local-6989586621681790161"><span class="annot"><span class="annottext">XParTy GhcPs
</span><a href="#local-6989586621681790161"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790162"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790162"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsStarTy"><span class="hs-identifier hs-type">HsStarTy</span></a></span><span> </span><span class="annot"><span class="annottext">XStarTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790164"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790164"><span class="hs-identifier hs-var">isUni</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790165"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790165"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681790166"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790166"><span class="hs-identifier hs-var">ops'</span></a></span></span><span> </span><span id="local-6989586621681790167"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790167"><span class="hs-identifier hs-var">cps'</span></a></span></span><span> </span><span id="local-6989586621681790168"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790168"><span class="hs-identifier hs-var">fix</span></a></span></span><span>
</span><span id="line-1009"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; P ()
</span><a href="GHC.Parser.Lexer.html#addPsMessage"><span class="hs-identifier hs-var">addPsMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790162"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsWarnStarBinder"><span class="hs-identifier hs-var">PsWarnStarBinder</span></a></span><span>
</span><span id="line-1010"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681790171"><span class="annot"><span class="annottext">name :: OccName
</span><a href="#local-6989586621681790171"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccNameFS"><span class="hs-identifier hs-var">mkOccNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier hs-var">tcClsName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; FastString
</span><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier hs-var">starSym</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790164"><span class="hs-identifier hs-var">isUni</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1011"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681790173"><span class="annot"><span class="annottext">a' :: SrcSpanAnnN
</span><a href="#local-6989586621681790173"><span class="hs-identifier hs-var hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; EpAnn AnnParen -&gt; SrcSpanAnnN
</span><a href="#local-6989586621681790174"><span class="hs-identifier hs-var">newAnns</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790162"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">XParTy GhcPs
EpAnn AnnParen
</span><a href="#local-6989586621681790161"><span class="hs-identifier hs-var">an</span></a></span><span>
</span><span id="line-1012"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN RdrName,
 [HsArg
    (GenLocated SrcSpanAnnA (HsType GhcPs))
    (GenLocated SrcSpanAnnA (HsType GhcPs))],
 LexicalFixity, [AddEpAnn])
-&gt; P (GenLocated SrcSpanAnnN RdrName,
      [HsArg
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))],
      LexicalFixity, [AddEpAnn])
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790173"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621681790171"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790165"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790168"><span class="hs-identifier hs-var">fix</span></a></span><span>
</span><span id="line-1013"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#reverse/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790166"><span class="hs-identifier hs-var">ops'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790167"><span class="hs-identifier hs-var">cps'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1014"></span><span>
</span><span id="line-1015"></span><span>    </span><span class="annot"><a href="#local-6989586621681790160"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790175"><span class="annot"><span class="annottext">ltc :: XRec GhcPs (IdP GhcPs)
</span><a href="#local-6989586621681790175"><span class="hs-identifier hs-var">ltc</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790176"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790176"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790177"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790177"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681790178"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790178"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790179"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790179"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681790180"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790180"><span class="hs-identifier hs-var">fix</span></a></span></span><span>
</span><span id="line-1016"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrTc"><span class="hs-identifier hs-var">isRdrTc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790176"><span class="hs-identifier hs-var">tc</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN RdrName,
 [HsArg
    (GenLocated SrcSpanAnnA (HsType GhcPs))
    (GenLocated SrcSpanAnnA (HsType GhcPs))],
 LexicalFixity, [AddEpAnn])
-&gt; P (GenLocated SrcSpanAnnN RdrName,
      [HsArg
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))],
      LexicalFixity, [AddEpAnn])
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790175"><span class="hs-identifier hs-var">ltc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790177"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790180"><span class="hs-identifier hs-var">fix</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#reverse/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790178"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790179"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1017"></span><span>    </span><span class="annot"><a href="#local-6989586621681790160"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOpTy"><span class="hs-identifier hs-type">HsOpTy</span></a></span><span> </span><span class="annot"><span class="annottext">XOpTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790183"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790183"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681790184"><span class="annot"><span class="annottext">ltc :: XRec GhcPs (IdP GhcPs)
</span><a href="#local-6989586621681790184"><span class="hs-identifier hs-var">ltc</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790185"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790185"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790186"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790186"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790187"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790187"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681790188"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790188"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790189"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790189"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681790190"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790190"><span class="hs-identifier hs-var">_fix</span></a></span></span><span>
</span><span id="line-1018"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrTc"><span class="hs-identifier hs-var">isRdrTc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790185"><span class="hs-identifier hs-var">tc</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN RdrName,
 [HsArg
    (GenLocated SrcSpanAnnA (HsType GhcPs))
    (GenLocated SrcSpanAnnA (HsType GhcPs))],
 LexicalFixity, [AddEpAnn])
-&gt; P (GenLocated SrcSpanAnnN RdrName,
      [HsArg
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))],
      LexicalFixity, [AddEpAnn])
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790184"><span class="hs-identifier hs-var">ltc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; HsArg
     (GenLocated SrcSpanAnnA (HsType GhcPs))
     (GenLocated SrcSpanAnnA (HsType GhcPs))
forall tm ty. tm -&gt; HsArg tm ty
</span><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790183"><span class="hs-identifier hs-var">t1</span></a></span><span class="annot"><span class="annottext">HsArg
  (GenLocated SrcSpanAnnA (HsType GhcPs))
  (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; HsArg
     (GenLocated SrcSpanAnnA (HsType GhcPs))
     (GenLocated SrcSpanAnnA (HsType GhcPs))
forall tm ty. tm -&gt; HsArg tm ty
</span><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790186"><span class="hs-identifier hs-var">t2</span></a></span><span class="annot"><span class="annottext">HsArg
  (GenLocated SrcSpanAnnA (HsType GhcPs))
  (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790187"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#reverse/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790188"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790189"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1019"></span><span>    </span><span class="annot"><a href="#local-6989586621681790160"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681790191"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790191"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-type">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">XParTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790192"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790192"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>    </span><span id="local-6989586621681790193"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790193"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681790194"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790194"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790195"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790195"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681790196"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790196"><span class="hs-identifier hs-var">fix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; LexicalFixity
-&gt; P (GenLocated SrcSpanAnnN RdrName,
      [HsArg
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))],
      LexicalFixity, [AddEpAnn])
</span><a href="#local-6989586621681790153"><span class="hs-identifier hs-var">goL</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790192"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790193"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681790197"><span class="hs-identifier hs-var">o</span></a></span><span class="annot"><span class="annottext">AddEpAnn -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790194"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681790198"><span class="hs-identifier hs-var">c</span></a></span><span class="annot"><span class="annottext">AddEpAnn -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790195"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790196"><span class="hs-identifier hs-var">fix</span></a></span><span>
</span><span id="line-1020"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1021"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681790197"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681790197"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681790198"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681790198"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; (AddEpAnn, AddEpAnn)
</span><a href="GHC.Parser.Lexer.html#mkParensEpAnn"><span class="hs-identifier hs-var">mkParensEpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790191"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1022"></span><span>    </span><span class="annot"><a href="#local-6989586621681790160"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsAppTy"><span class="hs-identifier hs-type">HsAppTy</span></a></span><span> </span><span class="annot"><span class="annottext">XAppTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790200"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790200"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681790201"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790201"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790202"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790202"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681790203"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790203"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790204"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790204"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681790205"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790205"><span class="hs-identifier hs-var">fix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; LexicalFixity
-&gt; P (GenLocated SrcSpanAnnN RdrName,
      [HsArg
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))],
      LexicalFixity, [AddEpAnn])
</span><a href="#local-6989586621681790153"><span class="hs-identifier hs-var">goL</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790200"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; HsArg
     (GenLocated SrcSpanAnnA (HsType GhcPs))
     (GenLocated SrcSpanAnnA (HsType GhcPs))
forall tm ty. tm -&gt; HsArg tm ty
</span><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790201"><span class="hs-identifier hs-var">t2</span></a></span><span class="annot"><span class="annottext">HsArg
  (GenLocated SrcSpanAnnA (HsType GhcPs))
  (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790202"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790203"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790204"><span class="hs-identifier hs-var">cps</span></a></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790205"><span class="hs-identifier hs-var">fix</span></a></span><span>
</span><span id="line-1023"></span><span>    </span><span class="annot"><a href="#local-6989586621681790160"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsAppKindTy"><span class="hs-identifier hs-type">HsAppKindTy</span></a></span><span> </span><span id="local-6989586621681790207"><span class="annot"><span class="annottext">XAppKindTy GhcPs
</span><a href="#local-6989586621681790207"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790208"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790208"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681790209"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790209"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790210"><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790210"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621681790211"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790211"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790212"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790212"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681790213"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790213"><span class="hs-identifier hs-var">fix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; LexicalFixity
-&gt; P (GenLocated SrcSpanAnnN RdrName,
      [HsArg
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))],
      LexicalFixity, [AddEpAnn])
</span><a href="#local-6989586621681790153"><span class="hs-identifier hs-var">goL</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790208"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; HsArg
     (GenLocated SrcSpanAnnA (HsType GhcPs))
     (GenLocated SrcSpanAnnA (HsType GhcPs))
forall tm ty. SrcSpan -&gt; ty -&gt; HsArg tm ty
</span><a href="Language.Haskell.Syntax.Type.html#HsTypeArg"><span class="hs-identifier hs-var">HsTypeArg</span></a></span><span> </span><span class="annot"><span class="annottext">XAppKindTy GhcPs
SrcSpan
</span><a href="#local-6989586621681790207"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790209"><span class="hs-identifier hs-var">ki</span></a></span><span class="annot"><span class="annottext">HsArg
  (GenLocated SrcSpanAnnA (HsType GhcPs))
  (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><a href="#local-6989586621681790210"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790211"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790212"><span class="hs-identifier hs-var">cps</span></a></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790213"><span class="hs-identifier hs-var">fix</span></a></span><span>
</span><span id="line-1024"></span><span>    </span><span class="annot"><a href="#local-6989586621681790160"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681790214"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790214"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTupleTy"><span class="hs-identifier hs-type">HsTupleTy</span></a></span><span> </span><span class="annot"><span class="annottext">XTupleTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsTupleSort
</span><a href="Language.Haskell.Syntax.Type.html#HsBoxedOrConstraintTuple"><span class="hs-identifier hs-var">HsBoxedOrConstraintTuple</span></a></span><span> </span><span id="local-6989586621681790217"><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621681790217"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621681790218"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790218"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790219"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790219"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span id="local-6989586621681790220"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790220"><span class="hs-identifier hs-var">fix</span></a></span></span><span>
</span><span id="line-1025"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN RdrName,
 [HsArg
    (GenLocated SrcSpanAnnA (HsType GhcPs))
    (GenLocated SrcSpanAnnA (HsType GhcPs))],
 LexicalFixity, [AddEpAnn])
-&gt; P (GenLocated SrcSpanAnnN RdrName,
      [HsArg
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))],
      LexicalFixity, [AddEpAnn])
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnN
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790214"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#nameRdrName"><span class="hs-identifier hs-var">nameRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621681790222"><span class="hs-identifier hs-var">tup_name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1026"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsType GhcPs)
 -&gt; HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs)))
-&gt; [GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; [HsArg
      (GenLocated SrcSpanAnnA (HsType GhcPs))
      (GenLocated SrcSpanAnnA (HsType GhcPs))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; HsArg
     (GenLocated SrcSpanAnnA (HsType GhcPs))
     (GenLocated SrcSpanAnnA (HsType GhcPs))
forall tm ty. tm -&gt; HsArg tm ty
</span><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621681790217"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790220"><span class="hs-identifier hs-var">fix</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#reverse/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790218"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790219"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1027"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1028"></span><span>        </span><span id="local-6989586621681790223"><span class="annot"><span class="annottext">arity :: Int
</span><a href="#local-6989586621681790223"><span class="hs-identifier hs-var hs-var">arity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#length/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621681790217"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-1029"></span><span>        </span><span id="local-6989586621681790222"><span class="annot"><span class="annottext">tup_name :: Name
</span><a href="#local-6989586621681790222"><span class="hs-identifier hs-var hs-var">tup_name</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790151"><span class="hs-identifier hs-var">is_cls</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Name
</span><a href="GHC.Builtin.Types.html#cTupleTyConName"><span class="hs-identifier hs-var">cTupleTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681790223"><span class="hs-identifier hs-var">arity</span></a></span><span>
</span><span id="line-1030"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Boxity -&gt; Int -&gt; TyCon
</span><a href="GHC.Builtin.Types.html#tupleTyCon"><span class="hs-identifier hs-var">tupleTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681790223"><span class="hs-identifier hs-var">arity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1031"></span><span>          </span><span class="hs-comment">-- See Note [Unit tuples] in GHC.Hs.Type  (TODO: is this still relevant?)</span><span>
</span><span id="line-1032"></span><span>    </span><span class="annot"><a href="#local-6989586621681790160"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681790226"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790226"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[HsArg
   (GenLocated SrcSpanAnnA (HsType GhcPs))
   (GenLocated SrcSpanAnnA (HsType GhcPs))]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-1033"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage
-&gt; P (GenLocated SrcSpanAnnN RdrName,
      [HsArg
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))],
      LexicalFixity, [AddEpAnn])
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage
 -&gt; P (GenLocated SrcSpanAnnN RdrName,
       [HsArg
          (GenLocated SrcSpanAnnA (HsType GhcPs))
          (GenLocated SrcSpanAnnA (HsType GhcPs))],
       LexicalFixity, [AddEpAnn]))
-&gt; MsgEnvelope PsMessage
-&gt; P (GenLocated SrcSpanAnnN RdrName,
      [HsArg
         (GenLocated SrcSpanAnnA (HsType GhcPs))
         (GenLocated SrcSpanAnnA (HsType GhcPs))],
      LexicalFixity, [AddEpAnn])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790226"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1034"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrMalformedTyOrClDecl"><span class="hs-identifier hs-var">PsErrMalformedTyOrClDecl</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790152"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1035"></span><span>
</span><span id="line-1036"></span><span>    </span><span class="hs-comment">-- Combine the annotations from the HsParTy and HsStarTy into a</span><span>
</span><span id="line-1037"></span><span>    </span><span class="hs-comment">-- new one for the LocatedN RdrName</span><span>
</span><span id="line-1038"></span><span>    </span><span class="annot"><a href="#local-6989586621681790174"><span class="hs-identifier hs-type">newAnns</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnParen"><span class="hs-identifier hs-type">AnnParen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnN"><span class="hs-identifier hs-type">SrcSpanAnnN</span></a></span><span>
</span><span id="line-1039"></span><span>    </span><span id="local-6989586621681790174"><span class="annot"><span class="annottext">newAnns :: SrcSpanAnnA -&gt; EpAnn AnnParen -&gt; SrcSpanAnnN
</span><a href="#local-6989586621681790174"><span class="hs-identifier hs-var hs-var">newAnns</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-type">SrcSpanAnn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><a href="GHC.Parser.Annotation.html#EpAnnNotUsed"><span class="hs-identifier hs-var">EpAnnNotUsed</span></a></span><span> </span><span id="local-6989586621681790228"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790228"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span id="local-6989586621681790229"><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681790229"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnParen"><span class="hs-identifier hs-type">AnnParen</span></a></span><span> </span><span class="annot"><span class="annottext">ParenType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790231"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790231"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681790232"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790232"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790233"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790233"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1040"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-1041"></span><span>        </span><span id="local-6989586621681790234"><span class="annot"><span class="annottext">lr :: RealSrcSpan
</span><a href="#local-6989586621681790234"><span class="hs-identifier hs-var hs-var">lr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; RealSrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineRealSrcSpans"><span class="hs-identifier hs-var">combineRealSrcSpans</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790228"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#anchor"><span class="hs-identifier hs-var">anchor</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681790229"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1042"></span><span>        </span><span id="local-6989586621681790236"><span class="annot"><span class="annottext">an :: EpAnn NameAnn
</span><a href="#local-6989586621681790236"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; NameAnn -&gt; EpAnnComments -&gt; EpAnn NameAnn
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; AnchorOperation -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-var">Anchor</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681790234"><span class="hs-identifier hs-var">lr</span></a></span><span> </span><span class="annot"><span class="annottext">AnchorOperation
</span><a href="GHC.Parser.Annotation.html#UnchangedAnchor"><span class="hs-identifier hs-var">UnchangedAnchor</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameAdornment
-&gt; EpaLocation
-&gt; EpaLocation
-&gt; EpaLocation
-&gt; [TrailingAnn]
-&gt; NameAnn
</span><a href="GHC.Parser.Annotation.html#NameAnn"><span class="hs-identifier hs-var">NameAnn</span></a></span><span> </span><span class="annot"><span class="annottext">NameAdornment
</span><a href="GHC.Parser.Annotation.html#NameParens"><span class="hs-identifier hs-var">NameParens</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790231"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; EpaLocation
</span><a href="GHC.Parser.Annotation.html#srcSpan2e"><span class="hs-identifier hs-var">srcSpan2e</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790228"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790232"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790233"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1043"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">EpAnn NameAnn -&gt; SrcSpan -&gt; SrcSpanAnnN
forall a. a -&gt; SrcSpan -&gt; SrcSpanAnn' a
</span><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-var">SrcSpanAnn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn NameAnn
</span><a href="#local-6989586621681790236"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Maybe BufSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-var">RealSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681790234"><span class="hs-identifier hs-var">lr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
forall a. Maybe a
</span><a href="GHC.Data.Strict.html#Nothing"><span class="hs-identifier hs-var">Strict.Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1044"></span><span>    </span><span class="annot"><a href="#local-6989586621681790174"><span class="hs-identifier hs-var">newAnns</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnParen
</span><a href="GHC.Parser.Annotation.html#EpAnnNotUsed"><span class="hs-identifier hs-var">EpAnnNotUsed</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SrcSpanAnnN
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;missing AnnParen&quot;</span></span><span>
</span><span id="line-1045"></span><span>    </span><span class="annot"><a href="#local-6989586621681790174"><span class="hs-identifier hs-var">newAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-type">SrcSpanAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span id="local-6989586621681790242"><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681790242"><span class="hs-identifier hs-var">ap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnListItem"><span class="hs-identifier hs-type">AnnListItem</span></a></span><span> </span><span id="local-6989586621681790244"><span class="annot"><span class="annottext">[TrailingAnn]
</span><a href="#local-6989586621681790244"><span class="hs-identifier hs-var">ta</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790245"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790245"><span class="hs-identifier hs-var">csp</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790246"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790246"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span id="local-6989586621681790247"><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681790247"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnParen"><span class="hs-identifier hs-type">AnnParen</span></a></span><span> </span><span class="annot"><span class="annottext">ParenType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790248"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790248"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681790249"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790249"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790250"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790250"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1046"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-1047"></span><span>        </span><span id="local-6989586621681790251"><span class="annot"><span class="annottext">lr :: RealSrcSpan
</span><a href="#local-6989586621681790251"><span class="hs-identifier hs-var hs-var">lr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; RealSrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineRealSrcSpans"><span class="hs-identifier hs-var">combineRealSrcSpans</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#anchor"><span class="hs-identifier hs-var">anchor</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681790242"><span class="hs-identifier hs-var">ap</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#anchor"><span class="hs-identifier hs-var">anchor</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681790247"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1048"></span><span>        </span><span id="local-6989586621681790252"><span class="annot"><span class="annottext">an :: EpAnn NameAnn
</span><a href="#local-6989586621681790252"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; NameAnn -&gt; EpAnnComments -&gt; EpAnn NameAnn
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; AnchorOperation -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#Anchor"><span class="hs-identifier hs-var">Anchor</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681790251"><span class="hs-identifier hs-var">lr</span></a></span><span> </span><span class="annot"><span class="annottext">AnchorOperation
</span><a href="GHC.Parser.Annotation.html#UnchangedAnchor"><span class="hs-identifier hs-var">UnchangedAnchor</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameAdornment
-&gt; EpaLocation
-&gt; EpaLocation
-&gt; EpaLocation
-&gt; [TrailingAnn]
-&gt; NameAnn
</span><a href="GHC.Parser.Annotation.html#NameAnn"><span class="hs-identifier hs-var">NameAnn</span></a></span><span> </span><span class="annot"><span class="annottext">NameAdornment
</span><a href="GHC.Parser.Annotation.html#NameParens"><span class="hs-identifier hs-var">NameParens</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790248"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; EpaLocation
</span><a href="GHC.Parser.Annotation.html#srcSpan2e"><span class="hs-identifier hs-var">srcSpan2e</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790246"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790249"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[TrailingAnn]
</span><a href="#local-6989586621681790244"><span class="hs-identifier hs-var">ta</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790245"><span class="hs-identifier hs-var">csp</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnnComments -&gt; EpAnnComments
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790250"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1049"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">EpAnn NameAnn -&gt; SrcSpan -&gt; SrcSpanAnnN
forall a. a -&gt; SrcSpan -&gt; SrcSpanAnn' a
</span><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-var">SrcSpanAnn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn NameAnn
</span><a href="#local-6989586621681790252"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Maybe BufSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-var">RealSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681790251"><span class="hs-identifier hs-var">lr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
forall a. Maybe a
</span><a href="GHC.Data.Strict.html#Nothing"><span class="hs-identifier hs-var">Strict.Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1050"></span><span>
</span><span id="line-1051"></span><span class="hs-comment">-- | Yield a parse error if we have a function applied directly to a do block</span><span>
</span><span id="line-1052"></span><span class="hs-comment">-- etc. and BlockArguments is not enabled.</span><span>
</span><span id="line-1053"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-type">checkExpBlockArguments</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1054"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkCmdBlockArguments"><span class="hs-identifier hs-type">checkCmdBlockArguments</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1055"></span><span class="hs-special">(</span><span id="checkExpBlockArguments"><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span></span><span class="hs-special">,</span><span> </span><span id="checkCmdBlockArguments"><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV ()
GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkCmdBlockArguments"><span class="hs-identifier hs-var">checkCmdBlockArguments</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PV ()
</span><a href="#local-6989586621681790269"><span class="hs-identifier hs-var">checkExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV ()
GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PV ()
</span><a href="#local-6989586621681790270"><span class="hs-identifier hs-var">checkCmd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1056"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1057"></span><span>    </span><span class="annot"><a href="#local-6989586621681790269"><span class="hs-identifier hs-type">checkExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1058"></span><span>    </span><span id="local-6989586621681790269"><span class="annot"><span class="annottext">checkExpr :: LHsExpr GhcPs -&gt; PV ()
</span><a href="#local-6989586621681790269"><span class="hs-identifier hs-var hs-var">checkExpr</span></a></span></span><span> </span><span id="local-6989586621681790271"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681790271"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; HsExpr GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681790271"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1059"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsDo"><span class="hs-identifier hs-type">HsDo</span></a></span><span> </span><span class="annot"><span class="annottext">XDo GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#DoExpr"><span class="hs-identifier hs-type">DoExpr</span></a></span><span> </span><span id="local-6989586621681790274"><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621681790274"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs [ExprLStmt GhcPs]
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PV ()
forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ModuleName -&gt; LHsExpr GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrDoInFunAppExpr"><span class="hs-identifier hs-var">PsErrDoInFunAppExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621681790274"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>                  </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681790271"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-1060"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsDo"><span class="hs-identifier hs-type">HsDo</span></a></span><span> </span><span class="annot"><span class="annottext">XDo GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MDoExpr"><span class="hs-identifier hs-type">MDoExpr</span></a></span><span> </span><span id="local-6989586621681790278"><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621681790278"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs [ExprLStmt GhcPs]
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PV ()
forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ModuleName -&gt; LHsExpr GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrMDoInFunAppExpr"><span class="hs-identifier hs-var">PsErrMDoInFunAppExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621681790278"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>                 </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681790271"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-1061"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLam"><span class="hs-identifier hs-type">HsLam</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PV ()
forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsMessage
GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrLambdaInFunAppExpr"><span class="hs-identifier hs-var">PsErrLambdaInFunAppExpr</span></a></span><span>                  </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681790271"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-1062"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCase"><span class="hs-identifier hs-type">HsCase</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PV ()
forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsMessage
GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrCaseInFunAppExpr"><span class="hs-identifier hs-var">PsErrCaseInFunAppExpr</span></a></span><span>                    </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681790271"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-1063"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLamCase"><span class="hs-identifier hs-type">HsLamCase</span></a></span><span> </span><span class="annot"><span class="annottext">XLamCase GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790285"><span class="annot"><span class="annottext">LamCaseVariant
</span><a href="#local-6989586621681790285"><span class="hs-identifier hs-var">lc_variant</span></a></span></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PV ()
forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LamCaseVariant -&gt; LHsExpr GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrLambdaCaseInFunAppExpr"><span class="hs-identifier hs-var">PsErrLambdaCaseInFunAppExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LamCaseVariant
</span><a href="#local-6989586621681790285"><span class="hs-identifier hs-var">lc_variant</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681790271"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-1064"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLet"><span class="hs-identifier hs-type">HsLet</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PV ()
forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsMessage
GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrLetInFunAppExpr"><span class="hs-identifier hs-var">PsErrLetInFunAppExpr</span></a></span><span>                     </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681790271"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-1065"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsIf"><span class="hs-identifier hs-type">HsIf</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PV ()
forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsMessage
GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIfInFunAppExpr"><span class="hs-identifier hs-var">PsErrIfInFunAppExpr</span></a></span><span>                      </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681790271"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-1066"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsProc"><span class="hs-identifier hs-type">HsProc</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PV ()
forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsMessage
GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrProcInFunAppExpr"><span class="hs-identifier hs-var">PsErrProcInFunAppExpr</span></a></span><span>                    </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681790271"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-1067"></span><span>      </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1068"></span><span>
</span><span id="line-1069"></span><span>    </span><span class="annot"><a href="#local-6989586621681790270"><span class="hs-identifier hs-type">checkCmd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1070"></span><span>    </span><span id="local-6989586621681790270"><span class="annot"><span class="annottext">checkCmd :: LHsCmd GhcPs -&gt; PV ()
</span><a href="#local-6989586621681790270"><span class="hs-identifier hs-var hs-var">checkCmd</span></a></span></span><span> </span><span id="local-6989586621681790293"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621681790293"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; HsCmd GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790293"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1071"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdLam"><span class="hs-identifier hs-type">HsCmdLam</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PV ()
forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PsMessage
GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrLambdaCmdInFunAppCmd"><span class="hs-identifier hs-var">PsErrLambdaCmdInFunAppCmd</span></a></span><span>                  </span><span class="annot"><span class="annottext">LHsCmd GhcPs
GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790293"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1072"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdCase"><span class="hs-identifier hs-type">HsCmdCase</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PV ()
forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PsMessage
GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrCaseCmdInFunAppCmd"><span class="hs-identifier hs-var">PsErrCaseCmdInFunAppCmd</span></a></span><span>                    </span><span class="annot"><span class="annottext">LHsCmd GhcPs
GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790293"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1073"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdLamCase"><span class="hs-identifier hs-type">HsCmdLamCase</span></a></span><span> </span><span class="annot"><span class="annottext">XCmdLamCase GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790299"><span class="annot"><span class="annottext">LamCaseVariant
</span><a href="#local-6989586621681790299"><span class="hs-identifier hs-var">lc_variant</span></a></span></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsCmd GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PV ()
forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LamCaseVariant -&gt; LHsCmd GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrLambdaCaseCmdInFunAppCmd"><span class="hs-identifier hs-var">PsErrLambdaCaseCmdInFunAppCmd</span></a></span><span> </span><span class="annot"><span class="annottext">LamCaseVariant
</span><a href="#local-6989586621681790299"><span class="hs-identifier hs-var">lc_variant</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790293"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1074"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdIf"><span class="hs-identifier hs-type">HsCmdIf</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PV ()
forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PsMessage
GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIfCmdInFunAppCmd"><span class="hs-identifier hs-var">PsErrIfCmdInFunAppCmd</span></a></span><span>                      </span><span class="annot"><span class="annottext">LHsCmd GhcPs
GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790293"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1075"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdLet"><span class="hs-identifier hs-type">HsCmdLet</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PV ()
forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PsMessage
GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrLetCmdInFunAppCmd"><span class="hs-identifier hs-var">PsErrLetCmdInFunAppCmd</span></a></span><span>                     </span><span class="annot"><span class="annottext">LHsCmd GhcPs
GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790293"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1076"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdDo"><span class="hs-identifier hs-type">HsCmdDo</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PV ()
forall {m :: * -&gt; *} {a} {e}.
MonadP m =&gt;
(GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PsMessage
GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrDoCmdInFunAppCmd"><span class="hs-identifier hs-var">PsErrDoCmdInFunAppCmd</span></a></span><span>                      </span><span class="annot"><span class="annottext">LHsCmd GhcPs
GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790293"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1077"></span><span>      </span><span class="annot"><span class="annottext">HsCmd GhcPs
</span><span class="hs-identifier">_</span></span><span>                           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1078"></span><span>
</span><span id="line-1079"></span><span>    </span><span id="local-6989586621681790275"><span class="annot"><span class="annottext">check :: (GenLocated (SrcSpanAnn' a) e -&gt; PsMessage)
-&gt; GenLocated (SrcSpanAnn' a) e -&gt; m ()
</span><a href="#local-6989586621681790275"><span class="hs-identifier hs-var hs-var">check</span></a></span></span><span> </span><span id="local-6989586621681790322"><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) e -&gt; PsMessage
</span><a href="#local-6989586621681790322"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span id="local-6989586621681790323"><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) e
</span><a href="#local-6989586621681790323"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1080"></span><span>      </span><span id="local-6989586621681790324"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790324"><span class="hs-identifier hs-var">blockArguments</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; m Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#BlockArgumentsBit"><span class="hs-identifier hs-var">BlockArgumentsBit</span></a></span><span>
</span><span id="line-1081"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/Control.Monad.html#unless/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790324"><span class="hs-identifier hs-var">blockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1082"></span><span>        </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; m ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; m ()) -&gt; MsgEnvelope PsMessage -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) e
</span><a href="#local-6989586621681790323"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) e -&gt; PsMessage
</span><a href="#local-6989586621681790322"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) e
</span><a href="#local-6989586621681790323"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1083"></span><span>
</span><span id="line-1084"></span><span class="hs-comment">-- | Validate the context constraints and break up a context into a list</span><span>
</span><span id="line-1085"></span><span class="hs-comment">-- of predicates.</span><span>
</span><span id="line-1086"></span><span class="hs-comment">--</span><span>
</span><span id="line-1087"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1088"></span><span class="hs-comment">--     (Eq a, Ord b)        --&gt;  [Eq a, Ord b]</span><span>
</span><span id="line-1089"></span><span class="hs-comment">--     Eq a                 --&gt;  [Eq a]</span><span>
</span><span id="line-1090"></span><span class="hs-comment">--     (Eq a)               --&gt;  [Eq a]</span><span>
</span><span id="line-1091"></span><span class="hs-comment">--     (((Eq a)))           --&gt;  [Eq a]</span><span>
</span><span id="line-1092"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1093"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkContext"><span class="hs-identifier hs-type">checkContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1094"></span><span id="checkContext"><span class="annot"><span class="annottext">checkContext :: LHsType GhcPs -&gt; P (LHsContext GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkContext"><span class="hs-identifier hs-var hs-var">checkContext</span></a></span></span><span> </span><span id="local-6989586621681790326"><span class="annot"><span class="annottext">orig_t :: LHsType GhcPs
</span><a href="#local-6989586621681790326"><span class="hs-identifier hs-var">orig_t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-type">SrcSpanAnn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790327"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790327"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790328"><span class="annot"><span class="annottext">HsType GhcPs
</span><a href="#local-6989586621681790328"><span class="hs-identifier hs-var">_orig_t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1095"></span><span>  </span><span class="annot"><span class="annottext">([EpaLocation], [EpaLocation], EpAnnComments)
-&gt; LHsType GhcPs -&gt; P (LHsContext GhcPs)
</span><a href="#local-6989586621681790329"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790326"><span class="hs-identifier hs-var">orig_t</span></a></span><span>
</span><span id="line-1096"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1097"></span><span>  </span><span class="annot"><a href="#local-6989586621681790329"><span class="hs-identifier hs-type">check</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaLocation"><span class="hs-identifier hs-type">EpaLocation</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaLocation"><span class="hs-identifier hs-type">EpaLocation</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1098"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1099"></span><span>  </span><span id="local-6989586621681790329"><span class="annot"><span class="annottext">check :: ([EpaLocation], [EpaLocation], EpAnnComments)
-&gt; LHsType GhcPs -&gt; P (LHsContext GhcPs)
</span><a href="#local-6989586621681790329"><span class="hs-identifier hs-var hs-var">check</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681790330"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790330"><span class="hs-identifier hs-var">oparens</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681790331"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790331"><span class="hs-identifier hs-var">cparens</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681790332"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790332"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790333"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790333"><span class="hs-identifier hs-var">_l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTupleTy"><span class="hs-identifier hs-type">HsTupleTy</span></a></span><span> </span><span id="local-6989586621681790334"><span class="annot"><span class="annottext">XTupleTy GhcPs
</span><a href="#local-6989586621681790334"><span class="hs-identifier hs-var">ann'</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsTupleSort
</span><a href="Language.Haskell.Syntax.Type.html#HsBoxedOrConstraintTuple"><span class="hs-identifier hs-var">HsBoxedOrConstraintTuple</span></a></span><span> </span><span id="local-6989586621681790335"><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621681790335"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1100"></span><span>    </span><span class="hs-comment">-- (Eq a, Ord b) shows up as a tuple type. Only boxed tuples can</span><span>
</span><span id="line-1101"></span><span>    </span><span class="hs-comment">-- be used as context constraints.</span><span>
</span><span id="line-1102"></span><span>    </span><span class="hs-comment">-- Ditto ()</span><span>
</span><span id="line-1103"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1104"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681790336"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790336"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681790337"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790337"><span class="hs-identifier hs-var">cp</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681790338"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790338"><span class="hs-identifier hs-var">cs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">XTupleTy GhcPs
</span><a href="#local-6989586621681790334"><span class="hs-identifier hs-var">ann'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1105"></span><span>              </span><span class="annot"><span class="annottext">XTupleTy GhcPs
EpAnn AnnParen
</span><a href="GHC.Parser.Annotation.html#EpAnnNotUsed"><span class="hs-identifier hs-var">EpAnnNotUsed</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1106"></span><span>              </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnParen"><span class="hs-identifier hs-type">AnnParen</span></a></span><span> </span><span class="annot"><span class="annottext">ParenType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790339"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790339"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681790340"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790340"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790341"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790341"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790339"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790340"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790341"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1107"></span><span>        </span><span class="annot"><span class="annottext">GenLocated
  (SrcSpanAnn' (EpAnn AnnContext))
  [GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; P (GenLocated
        (SrcSpanAnn' (EpAnn AnnContext))
        [GenLocated SrcSpanAnnA (HsType GhcPs)])
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnn' (EpAnn AnnContext)
-&gt; [GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; GenLocated
     (SrcSpanAnn' (EpAnn AnnContext))
     [GenLocated SrcSpanAnnA (HsType GhcPs)]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn AnnContext -&gt; SrcSpan -&gt; SrcSpanAnn' (EpAnn AnnContext)
forall a. a -&gt; SrcSpan -&gt; SrcSpanAnn' a
</span><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-var">SrcSpanAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; AnnContext -&gt; EpAnnComments -&gt; EpAnn AnnContext
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790327"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1108"></span><span>                              </span><span class="hs-comment">-- Append parens so that the original order in the source is maintained</span><span>
</span><span id="line-1109"></span><span>                               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (IsUnicodeSyntax, EpaLocation)
-&gt; [EpaLocation] -&gt; [EpaLocation] -&gt; AnnContext
</span><a href="GHC.Parser.Annotation.html#AnnContext"><span class="hs-identifier hs-var">AnnContext</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (IsUnicodeSyntax, EpaLocation)
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790330"><span class="hs-identifier hs-var">oparens</span></a></span><span> </span><span class="annot"><span class="annottext">[EpaLocation] -&gt; [EpaLocation] -&gt; [EpaLocation]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790336"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790337"><span class="hs-identifier hs-var">cp</span></a></span><span> </span><span class="annot"><span class="annottext">[EpaLocation] -&gt; [EpaLocation] -&gt; [EpaLocation]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790331"><span class="hs-identifier hs-var">cparens</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790332"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnnComments -&gt; EpAnnComments
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790338"><span class="hs-identifier hs-var">cs'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790327"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621681790335"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1110"></span><span>
</span><span id="line-1111"></span><span>  </span><span class="annot"><a href="#local-6989586621681790329"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681790343"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790343"><span class="hs-identifier hs-var">opi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681790344"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790344"><span class="hs-identifier hs-var">cpi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681790345"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790345"><span class="hs-identifier hs-var">csi</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790346"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790346"><span class="hs-identifier hs-var">_lp1</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-type">HsParTy</span></a></span><span> </span><span id="local-6989586621681790347"><span class="annot"><span class="annottext">XParTy GhcPs
</span><a href="#local-6989586621681790347"><span class="hs-identifier hs-var">ann'</span></a></span></span><span> </span><span id="local-6989586621681790348"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790348"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1112"></span><span>                                  </span><span class="hs-comment">-- to be sure HsParTy doesn't get into the way</span><span>
</span><span id="line-1113"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1114"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681790349"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790349"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681790350"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790350"><span class="hs-identifier hs-var">cp</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681790351"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790351"><span class="hs-identifier hs-var">cs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">XParTy GhcPs
</span><a href="#local-6989586621681790347"><span class="hs-identifier hs-var">ann'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1115"></span><span>                    </span><span class="annot"><span class="annottext">XParTy GhcPs
EpAnn AnnParen
</span><a href="GHC.Parser.Annotation.html#EpAnnNotUsed"><span class="hs-identifier hs-var">EpAnnNotUsed</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1116"></span><span>                    </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnParen"><span class="hs-identifier hs-type">AnnParen</span></a></span><span> </span><span class="annot"><span class="annottext">ParenType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790352"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790352"><span class="hs-identifier hs-var">open</span></a></span></span><span> </span><span id="local-6989586621681790353"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790353"><span class="hs-identifier hs-var">close</span></a></span></span><span> </span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790354"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790354"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790352"><span class="hs-identifier hs-var">open</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790353"><span class="hs-identifier hs-var">close</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790354"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1117"></span><span>        </span><span class="annot"><span class="annottext">([EpaLocation], [EpaLocation], EpAnnComments)
-&gt; LHsType GhcPs -&gt; P (LHsContext GhcPs)
</span><a href="#local-6989586621681790329"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790349"><span class="hs-identifier hs-var">op</span></a></span><span class="annot"><span class="annottext">[EpaLocation] -&gt; [EpaLocation] -&gt; [EpaLocation]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790343"><span class="hs-identifier hs-var">opi</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790350"><span class="hs-identifier hs-var">cp</span></a></span><span class="annot"><span class="annottext">[EpaLocation] -&gt; [EpaLocation] -&gt; [EpaLocation]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790344"><span class="hs-identifier hs-var">cpi</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790351"><span class="hs-identifier hs-var">cs'</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnnComments -&gt; EpAnnComments
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3C%3E/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">Semi.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790345"><span class="hs-identifier hs-var">csi</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790348"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1118"></span><span>
</span><span id="line-1119"></span><span>  </span><span class="hs-comment">-- No need for anns, returning original</span><span>
</span><span id="line-1120"></span><span>  </span><span class="annot"><a href="#local-6989586621681790329"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681790355"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790355"><span class="hs-identifier hs-var">_opi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681790356"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681790356"><span class="hs-identifier hs-var">_cpi</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681790357"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790357"><span class="hs-identifier hs-var">_csi</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790358"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790358"><span class="hs-identifier hs-var">_t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1121"></span><span>                 </span><span class="annot"><span class="annottext">GenLocated
  (SrcSpanAnn' (EpAnn AnnContext))
  [GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; P (GenLocated
        (SrcSpanAnn' (EpAnn AnnContext))
        [GenLocated SrcSpanAnnA (HsType GhcPs)])
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnn' (EpAnn AnnContext)
-&gt; [GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; GenLocated
     (SrcSpanAnn' (EpAnn AnnContext))
     [GenLocated SrcSpanAnnA (HsType GhcPs)]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn AnnContext -&gt; SrcSpan -&gt; SrcSpanAnn' (EpAnn AnnContext)
forall a. a -&gt; SrcSpan -&gt; SrcSpanAnn' a
</span><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-var">SrcSpanAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; AnnContext -&gt; EpAnnComments -&gt; EpAnn AnnContext
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790327"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (IsUnicodeSyntax, EpaLocation)
-&gt; [EpaLocation] -&gt; [EpaLocation] -&gt; AnnContext
</span><a href="GHC.Parser.Annotation.html#AnnContext"><span class="hs-identifier hs-var">AnnContext</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (IsUnicodeSyntax, EpaLocation)
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790327"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790326"><span class="hs-identifier hs-var">orig_t</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1122"></span><span>
</span><span id="line-1123"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkImportDecl"><span class="hs-identifier hs-type">checkImportDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaLocation"><span class="hs-identifier hs-type">EpaLocation</span></a></span><span>
</span><span id="line-1124"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaLocation"><span class="hs-identifier hs-type">EpaLocation</span></a></span><span>
</span><span id="line-1125"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1126"></span><span id="checkImportDecl"><span class="annot"><span class="annottext">checkImportDecl :: Maybe EpaLocation -&gt; Maybe EpaLocation -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkImportDecl"><span class="hs-identifier hs-var hs-var">checkImportDecl</span></a></span></span><span> </span><span id="local-6989586621681790359"><span class="annot"><span class="annottext">Maybe EpaLocation
</span><a href="#local-6989586621681790359"><span class="hs-identifier hs-var">mPre</span></a></span></span><span> </span><span id="local-6989586621681790360"><span class="annot"><span class="annottext">Maybe EpaLocation
</span><a href="#local-6989586621681790360"><span class="hs-identifier hs-var">mPost</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1127"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681790365"><span class="annot"><span class="annottext">whenJust :: Maybe a -&gt; (a -&gt; f ()) -&gt; f ()
</span><a href="#local-6989586621681790365"><span class="hs-identifier hs-var hs-var">whenJust</span></a></span></span><span> </span><span id="local-6989586621681790366"><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621681790366"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span id="local-6989586621681790367"><span class="annot"><span class="annottext">a -&gt; f ()
</span><a href="#local-6989586621681790367"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f () -&gt; (a -&gt; f ()) -&gt; Maybe a -&gt; f ()
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../base-4.18.3.0/src/Data.Maybe.html#maybe/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; f ()
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; f ()
</span><a href="#local-6989586621681790367"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621681790366"><span class="hs-identifier hs-var">mg</span></a></span><span>
</span><span id="line-1128"></span><span>
</span><span id="line-1129"></span><span>  </span><span id="local-6989586621681790369"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790369"><span class="hs-identifier hs-var">importQualifiedPostEnabled</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; P Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#ImportQualifiedPostBit"><span class="hs-identifier hs-var">ImportQualifiedPostBit</span></a></span><span>
</span><span id="line-1130"></span><span>
</span><span id="line-1131"></span><span>  </span><span class="hs-comment">-- Error if 'qualified' found in postpositive position and</span><span>
</span><span id="line-1132"></span><span>  </span><span class="hs-comment">-- 'ImportQualifiedPost' is not in effect.</span><span>
</span><span id="line-1133"></span><span>  </span><span class="annot"><span class="annottext">Maybe EpaLocation -&gt; (EpaLocation -&gt; P ()) -&gt; P ()
forall {f :: * -&gt; *} {a}.
Applicative f =&gt;
Maybe a -&gt; (a -&gt; f ()) -&gt; f ()
</span><a href="#local-6989586621681790365"><span class="hs-identifier hs-var">whenJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe EpaLocation
</span><a href="#local-6989586621681790360"><span class="hs-identifier hs-var">mPost</span></a></span><span> </span><span class="annot"><span class="annottext">((EpaLocation -&gt; P ()) -&gt; P ()) -&gt; (EpaLocation -&gt; P ()) -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681790371"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790371"><span class="hs-identifier hs-var">post</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1134"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; P () -&gt; P ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#when/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790369"><span class="hs-identifier hs-var">importQualifiedPostEnabled</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(P () -&gt; P ()) -&gt; P () -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1135"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#failNotEnabledImportQualifiedPost"><span class="hs-identifier hs-var">failNotEnabledImportQualifiedPost</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Maybe BufSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-var">RealSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpaLocation -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#epaLocationRealSrcSpan"><span class="hs-identifier hs-var">epaLocationRealSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790371"><span class="hs-identifier hs-var">post</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
forall a. Maybe a
</span><a href="GHC.Data.Strict.html#Nothing"><span class="hs-identifier hs-var">Strict.Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1136"></span><span>
</span><span id="line-1137"></span><span>  </span><span class="hs-comment">-- Error if 'qualified' occurs in both pre and postpositive</span><span>
</span><span id="line-1138"></span><span>  </span><span class="hs-comment">-- positions.</span><span>
</span><span id="line-1139"></span><span>  </span><span class="annot"><span class="annottext">Maybe EpaLocation -&gt; (EpaLocation -&gt; P ()) -&gt; P ()
forall {f :: * -&gt; *} {a}.
Applicative f =&gt;
Maybe a -&gt; (a -&gt; f ()) -&gt; f ()
</span><a href="#local-6989586621681790365"><span class="hs-identifier hs-var">whenJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe EpaLocation
</span><a href="#local-6989586621681790360"><span class="hs-identifier hs-var">mPost</span></a></span><span> </span><span class="annot"><span class="annottext">((EpaLocation -&gt; P ()) -&gt; P ()) -&gt; (EpaLocation -&gt; P ()) -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681790373"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790373"><span class="hs-identifier hs-var">post</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1140"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; P () -&gt; P ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#when/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe EpaLocation -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Maybe.html#isJust/Data.Maybe.html#isJust"><span class="hs-identifier hs-var">isJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe EpaLocation
</span><a href="#local-6989586621681790359"><span class="hs-identifier hs-var">mPre</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(P () -&gt; P ()) -&gt; P () -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1141"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#failImportQualifiedTwice"><span class="hs-identifier hs-var">failImportQualifiedTwice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Maybe BufSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-var">RealSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpaLocation -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#epaLocationRealSrcSpan"><span class="hs-identifier hs-var">epaLocationRealSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790373"><span class="hs-identifier hs-var">post</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
forall a. Maybe a
</span><a href="GHC.Data.Strict.html#Nothing"><span class="hs-identifier hs-var">Strict.Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1142"></span><span>
</span><span id="line-1143"></span><span>  </span><span class="hs-comment">-- Warn if 'qualified' found in prepositive position and</span><span>
</span><span id="line-1144"></span><span>  </span><span class="hs-comment">-- 'Opt_WarnPrepositiveQualifiedModule' is enabled.</span><span>
</span><span id="line-1145"></span><span>  </span><span class="annot"><span class="annottext">Maybe EpaLocation -&gt; (EpaLocation -&gt; P ()) -&gt; P ()
forall {f :: * -&gt; *} {a}.
Applicative f =&gt;
Maybe a -&gt; (a -&gt; f ()) -&gt; f ()
</span><a href="#local-6989586621681790365"><span class="hs-identifier hs-var">whenJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe EpaLocation
</span><a href="#local-6989586621681790359"><span class="hs-identifier hs-var">mPre</span></a></span><span> </span><span class="annot"><span class="annottext">((EpaLocation -&gt; P ()) -&gt; P ()) -&gt; (EpaLocation -&gt; P ()) -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681790374"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790374"><span class="hs-identifier hs-var">pre</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1146"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#warnPrepositiveQualifiedModule"><span class="hs-identifier hs-var">warnPrepositiveQualifiedModule</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Maybe BufSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-var">RealSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpaLocation -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#epaLocationRealSrcSpan"><span class="hs-identifier hs-var">epaLocationRealSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681790374"><span class="hs-identifier hs-var">pre</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
forall a. Maybe a
</span><a href="GHC.Data.Strict.html#Nothing"><span class="hs-identifier hs-var">Strict.Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1147"></span><span>
</span><span id="line-1148"></span><span class="hs-comment">-- -------------------------------------------------------------------------</span><span>
</span><span id="line-1149"></span><span class="hs-comment">-- Checking Patterns.</span><span>
</span><span id="line-1150"></span><span>
</span><span id="line-1151"></span><span class="hs-comment">-- We parse patterns as expressions and check for valid patterns below,</span><span>
</span><span id="line-1152"></span><span class="hs-comment">-- converting the expression into a pattern at the same time.</span><span>
</span><span id="line-1153"></span><span>
</span><span id="line-1154"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPattern"><span class="hs-identifier hs-type">checkPattern</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1155"></span><span id="checkPattern"><span class="annot"><span class="annottext">checkPattern :: LocatedA (PatBuilder GhcPs) -&gt; P (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPattern"><span class="hs-identifier hs-var hs-var">checkPattern</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (GenLocated SrcSpanAnnA (Pat GhcPs))
-&gt; P (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a. PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier hs-var">runPV</span></a></span><span> </span><span class="annot"><span class="annottext">(PV (GenLocated SrcSpanAnnA (Pat GhcPs))
 -&gt; P (GenLocated SrcSpanAnnA (Pat GhcPs)))
-&gt; (LocatedA (PatBuilder GhcPs)
    -&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs)))
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; P (GenLocated SrcSpanAnnA (Pat GhcPs))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
LocatedA (PatBuilder GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span>
</span><span id="line-1156"></span><span>
</span><span id="line-1157"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPattern_details"><span class="hs-identifier hs-type">checkPattern_details</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Errors.Types.html#ParseContext"><span class="hs-identifier hs-type">ParseContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1158"></span><span id="checkPattern_details"><span class="annot"><span class="annottext">checkPattern_details :: ParseContext -&gt; PV (LocatedA (PatBuilder GhcPs)) -&gt; P (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPattern_details"><span class="hs-identifier hs-var hs-var">checkPattern_details</span></a></span></span><span> </span><span id="local-6989586621681790376"><span class="annot"><span class="annottext">ParseContext
</span><a href="#local-6989586621681790376"><span class="hs-identifier hs-var">extraDetails</span></a></span></span><span> </span><span id="local-6989586621681790377"><span class="annot"><span class="annottext">PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681790377"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParseContext
-&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
-&gt; P (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a. ParseContext -&gt; PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV_details"><span class="hs-identifier hs-var">runPV_details</span></a></span><span> </span><span class="annot"><span class="annottext">ParseContext
</span><a href="#local-6989586621681790376"><span class="hs-identifier hs-var">extraDetails</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681790377"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">PV (LocatedA (PatBuilder GhcPs))
-&gt; (LocatedA (PatBuilder GhcPs)
    -&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a b. PV a -&gt; (a -&gt; PV b) -&gt; PV b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E%3D/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
LocatedA (PatBuilder GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1159"></span><span>
</span><span id="line-1160"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-type">checkLPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1161"></span><span id="checkLPat"><span class="annot"><span class="annottext">checkLPat :: LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var hs-var">checkLPat</span></a></span></span><span> </span><span id="local-6989586621681790379"><span class="annot"><span class="annottext">e :: LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790379"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790380"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790380"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [HsConPatTyArg GhcPs]
-&gt; [LPat GhcPs]
-&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790380"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790379"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1162"></span><span>
</span><span id="line-1163"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-type">checkPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsConPatTyArg"><span class="hs-identifier hs-type">HsConPatTyArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1164"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1165"></span><span id="checkPat"><span class="annot"><span class="annottext">checkPat :: SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [HsConPatTyArg GhcPs]
-&gt; [LPat GhcPs]
-&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var hs-var">checkPat</span></a></span></span><span> </span><span id="local-6989586621681790382"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790382"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790383"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790383"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790384"><span class="annot"><span class="annottext">e :: PatBuilder GhcPs
</span><a href="#local-6989586621681790384"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790386"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790386"><span class="hs-identifier hs-var">ln</span></a></span></span><span> </span><span id="local-6989586621681790387"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790387"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790388"><span class="annot"><span class="annottext">[HsConPatTyArg GhcPs]
</span><a href="#local-6989586621681790388"><span class="hs-identifier hs-var">tyargs</span></a></span></span><span> </span><span id="local-6989586621681790389"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681790389"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-1166"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790387"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs) -&gt; PV (LPat GhcPs)
GenLocated SrcSpanAnnA (Pat GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (Pat GhcPs) -&gt; PV (LPat GhcPs))
-&gt; (Pat GhcPs -&gt; GenLocated SrcSpanAnnA (Pat GhcPs))
-&gt; Pat GhcPs
-&gt; PV (LPat GhcPs)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; Pat GhcPs -&gt; GenLocated SrcSpanAnnA (Pat GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790382"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(Pat GhcPs -&gt; PV (LPat GhcPs)) -&gt; Pat GhcPs -&gt; PV (LPat GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span>
</span><span id="line-1167"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_con_ext :: XConPat GhcPs
</span><a href="Language.Haskell.Syntax.Pat.html#pat_con_ext"><span class="hs-identifier hs-var">pat_con_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XConPat GhcPs
EpAnn [AddEpAnn]
forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="hs-comment">-- AZ: where should this come from?</span><span>
</span><span id="line-1168"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_con :: XRec GhcPs (ConLikeP GhcPs)
</span><a href="Language.Haskell.Syntax.Pat.html#pat_con"><span class="hs-identifier hs-var">pat_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790386"><span class="hs-identifier hs-var">ln</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790387"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1169"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_args :: HsConPatDetails GhcPs
</span><a href="Language.Haskell.Syntax.Pat.html#pat_args"><span class="hs-identifier hs-var">pat_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[HsConPatTyArg GhcPs]
-&gt; [GenLocated SrcSpanAnnA (Pat GhcPs)]
-&gt; HsConDetails
     (HsConPatTyArg GhcPs)
     (GenLocated SrcSpanAnnA (Pat GhcPs))
     (HsRecFields GhcPs (GenLocated SrcSpanAnnA (Pat GhcPs)))
forall tyarg arg rec.
[tyarg] -&gt; [arg] -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[HsConPatTyArg GhcPs]
</span><a href="#local-6989586621681790388"><span class="hs-identifier hs-var">tyargs</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681790389"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1170"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-1171"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[HsConPatTyArg GhcPs] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[HsConPatTyArg GhcPs]
</span><a href="#local-6989586621681790388"><span class="hs-identifier hs-var">tyargs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1172"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a. SrcSpan -&gt; PsMessage -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790383"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; PV (LPat GhcPs))
-&gt; (PsErrInPatDetails -&gt; PsMessage)
-&gt; PsErrInPatDetails
-&gt; PV (LPat GhcPs)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; PsErrInPatDetails -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrInPat"><span class="hs-identifier hs-var">PsErrInPat</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681790384"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">(PsErrInPatDetails -&gt; PV (LPat GhcPs))
-&gt; PsErrInPatDetails -&gt; PV (LPat GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[HsConPatTyArg GhcPs] -&gt; PsErrInPatDetails
</span><a href="GHC.Parser.Errors.Types.html#PEIP_TypeArgs"><span class="hs-identifier hs-var">PEIP_TypeArgs</span></a></span><span> </span><span class="annot"><span class="annottext">[HsConPatTyArg GhcPs]
</span><a href="#local-6989586621681790388"><span class="hs-identifier hs-var">tyargs</span></a></span><span>
</span><span id="line-1173"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681790389"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#patIsRec"><span class="hs-identifier hs-var">patIsRec</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790387"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1174"></span><span>      </span><span id="local-6989586621681790398"><span class="annot"><span class="annottext">ParseContext
</span><a href="#local-6989586621681790398"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PV ParseContext
</span><a href="GHC.Parser.PostProcess.html#askParseContext"><span class="hs-identifier hs-var">askParseContext</span></a></span><span>
</span><span id="line-1175"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a. SrcSpan -&gt; PsMessage -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790383"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs)))
-&gt; (PsErrInPatDetails -&gt; PsMessage)
-&gt; PsErrInPatDetails
-&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; PsErrInPatDetails -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrInPat"><span class="hs-identifier hs-var">PsErrInPat</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681790384"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">(PsErrInPatDetails -&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs)))
-&gt; PsErrInPatDetails -&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs] -&gt; PatIsRecursive -&gt; ParseContext -&gt; PsErrInPatDetails
</span><a href="GHC.Parser.Errors.Types.html#PEIP_RecPattern"><span class="hs-identifier hs-var">PEIP_RecPattern</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681790389"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">PatIsRecursive
</span><a href="GHC.Parser.Errors.Types.html#YesPatIsRecursive"><span class="hs-identifier hs-var">YesPatIsRecursive</span></a></span><span> </span><span class="annot"><span class="annottext">ParseContext
</span><a href="#local-6989586621681790398"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-1176"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span id="local-6989586621681790402"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790402"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderAppType"><span class="hs-identifier hs-type">PatBuilderAppType</span></a></span><span> </span><span id="local-6989586621681790404"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790404"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681790405"><span class="annot"><span class="annottext">LHsToken &quot;@&quot; GhcPs
</span><a href="#local-6989586621681790405"><span class="hs-identifier hs-var">at</span></a></span></span><span> </span><span id="local-6989586621681790406"><span class="annot"><span class="annottext">HsPatSigType GhcPs
</span><a href="#local-6989586621681790406"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790407"><span class="annot"><span class="annottext">[HsConPatTyArg GhcPs]
</span><a href="#local-6989586621681790407"><span class="hs-identifier hs-var">tyargs</span></a></span></span><span> </span><span id="local-6989586621681790408"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681790408"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1177"></span><span>  </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [HsConPatTyArg GhcPs]
-&gt; [LPat GhcPs]
-&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790402"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790404"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsToken &quot;@&quot; GhcPs -&gt; HsPatSigType GhcPs -&gt; HsConPatTyArg GhcPs
forall p. LHsToken &quot;@&quot; p -&gt; HsPatSigType p -&gt; HsConPatTyArg p
</span><a href="Language.Haskell.Syntax.Pat.html#HsConPatTyArg"><span class="hs-identifier hs-var">HsConPatTyArg</span></a></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;@&quot; GhcPs
</span><a href="#local-6989586621681790405"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="annot"><span class="annottext">HsPatSigType GhcPs
</span><a href="#local-6989586621681790406"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">HsConPatTyArg GhcPs
-&gt; [HsConPatTyArg GhcPs] -&gt; [HsConPatTyArg GhcPs]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[HsConPatTyArg GhcPs]
</span><a href="#local-6989586621681790407"><span class="hs-identifier hs-var">tyargs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681790408"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1178"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span id="local-6989586621681790410"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790410"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderApp"><span class="hs-identifier hs-type">PatBuilderApp</span></a></span><span> </span><span id="local-6989586621681790412"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790412"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681790413"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790413"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621681790414"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621681790414"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1179"></span><span>  </span><span id="local-6989586621681790415"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681790415"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790413"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1180"></span><span>  </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [HsConPatTyArg GhcPs]
-&gt; [LPat GhcPs]
-&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790410"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790412"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681790415"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
-&gt; [GenLocated SrcSpanAnnA (Pat GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (Pat GhcPs)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681790414"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1181"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span id="local-6989586621681790416"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790416"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790417"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790417"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790418"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681790418"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1182"></span><span>  </span><span id="local-6989586621681790419"><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681790419"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; PV (Pat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkAPat"><span class="hs-identifier hs-var">checkAPat</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790416"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681790418"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1183"></span><span>  </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; Pat GhcPs -&gt; GenLocated SrcSpanAnnA (Pat GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790417"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681790419"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1184"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span id="local-6989586621681790421"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790421"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681790422"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790422"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="annottext">[HsConPatTyArg GhcPs]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1185"></span><span>  </span><span id="local-6989586621681790423"><span class="annot"><span class="annottext">PsErrInPatDetails
</span><a href="#local-6989586621681790423"><span class="hs-identifier hs-var">details</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ParseContext -&gt; PsErrInPatDetails
</span><a href="GHC.Parser.Errors.Types.html#fromParseContext"><span class="hs-identifier hs-var">fromParseContext</span></a></span><span> </span><span class="annot"><span class="annottext">(ParseContext -&gt; PsErrInPatDetails)
-&gt; PV ParseContext -&gt; PV PsErrInPatDetails
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PV ParseContext
</span><a href="GHC.Parser.PostProcess.html#askParseContext"><span class="hs-identifier hs-var">askParseContext</span></a></span><span>
</span><span id="line-1186"></span><span>  </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a. SrcSpan -&gt; PsMessage -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790421"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; PsErrInPatDetails -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrInPat"><span class="hs-identifier hs-var">PsErrInPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PatBuilder GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790422"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PsErrInPatDetails
</span><a href="#local-6989586621681790423"><span class="hs-identifier hs-var">details</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1187"></span><span>
</span><span id="line-1188"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkAPat"><span class="hs-identifier hs-type">checkAPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1189"></span><span id="checkAPat"><span class="annot"><span class="annottext">checkAPat :: SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; PV (Pat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkAPat"><span class="hs-identifier hs-var hs-var">checkAPat</span></a></span></span><span> </span><span id="local-6989586621681790425"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790425"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681790426"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681790426"><span class="hs-identifier hs-var">e0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1190"></span><span> </span><span id="local-6989586621681790427"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790427"><span class="hs-identifier hs-var">nPlusKPatterns</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; PV Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#NPlusKPatternsBit"><span class="hs-identifier hs-var">NPlusKPatternsBit</span></a></span><span>
</span><span id="line-1191"></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681790426"><span class="hs-identifier hs-var">e0</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1192"></span><span>   </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-type">PatBuilderPat</span></a></span><span> </span><span id="local-6989586621681790430"><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681790430"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PV (Pat GhcPs)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681790430"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-1193"></span><span>   </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span id="local-6989586621681790431"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790431"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PV (Pat GhcPs)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XVarPat GhcPs -&gt; XRec GhcPs (IdP GhcPs) -&gt; Pat GhcPs
forall p. XVarPat p -&gt; LIdP p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#VarPat"><span class="hs-identifier hs-var">VarPat</span></a></span><span> </span><span class="annot"><span class="annottext">XVarPat GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790431"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1194"></span><span>
</span><span id="line-1195"></span><span>   </span><span class="hs-comment">-- Overloaded numeric patterns (e.g. f 0 x = x)</span><span>
</span><span id="line-1196"></span><span>   </span><span class="hs-comment">-- Negation is recorded separately, so that the literal is zero or +ve</span><span>
</span><span id="line-1197"></span><span>   </span><span class="hs-comment">-- NB. Negative *primitive* literals are already handled by the lexer</span><span>
</span><span id="line-1198"></span><span>   </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderOverLit"><span class="hs-identifier hs-type">PatBuilderOverLit</span></a></span><span> </span><span id="local-6989586621681790434"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681790434"><span class="hs-identifier hs-var">pos_lit</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PV (Pat GhcPs)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedAn NoEpAnns (HsOverLit GhcPs)
-&gt; Maybe (SyntaxExpr GhcPs) -&gt; EpAnn [AddEpAnn] -&gt; Pat GhcPs
</span><a href="GHC.Hs.Utils.html#mkNPat"><span class="hs-identifier hs-var">mkNPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcAnn NoEpAnns
-&gt; HsOverLit GhcPs -&gt; LocatedAn NoEpAnns (HsOverLit GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcAnn NoEpAnns
forall a ann. SrcSpanAnn' a -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790425"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681790434"><span class="hs-identifier hs-var">pos_lit</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe NoExtField
Maybe (SyntaxExpr GhcPs)
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1199"></span><span>
</span><span id="line-1200"></span><span>   </span><span class="hs-comment">-- n+k patterns</span><span>
</span><span id="line-1201"></span><span>   </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderOpApp"><span class="hs-identifier hs-type">PatBuilderOpApp</span></a></span><span>
</span><span id="line-1202"></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790437"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790437"><span class="hs-identifier hs-var">nloc</span></a></span></span><span> </span><span id="local-6989586621681790438"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790438"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1203"></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790439"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790439"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790440"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790440"><span class="hs-identifier hs-var">plus</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1204"></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790441"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790441"><span class="hs-identifier hs-var">lloc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderOverLit"><span class="hs-identifier hs-type">PatBuilderOverLit</span></a></span><span> </span><span id="local-6989586621681790442"><span class="annot"><span class="annottext">lit :: HsOverLit GhcPs
</span><a href="#local-6989586621681790442"><span class="hs-identifier hs-var">lit</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#OverLit"><span class="hs-identifier hs-type">OverLit</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">ol_val :: forall p. HsOverLit p -&gt; OverLitVal
</span><a href="Language.Haskell.Syntax.Lit.html#ol_val"><span class="hs-identifier hs-var">ol_val</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsIntegral"><span class="hs-identifier hs-type">HsIntegral</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1205"></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span id="local-6989586621681790446"><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681790446"><span class="hs-identifier hs-var">anc</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790447"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790447"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1206"></span><span>                     </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790427"><span class="hs-identifier hs-var">nPlusKPatterns</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790440"><span class="hs-identifier hs-var">plus</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Parser.PostProcess.html#plus_RDR"><span class="hs-identifier hs-var">plus_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1207"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PV (Pat GhcPs)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; LocatedAn NoEpAnns (HsOverLit GhcPs)
-&gt; EpAnn EpaLocation
-&gt; Pat GhcPs
</span><a href="GHC.Hs.Utils.html#mkNPlusKPat"><span class="hs-identifier hs-var">mkNPlusKPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790437"><span class="hs-identifier hs-var">nloc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790438"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcAnn NoEpAnns
-&gt; HsOverLit GhcPs -&gt; LocatedAn NoEpAnns (HsOverLit GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcAnn NoEpAnns
forall a ann. SrcSpanAnn' a -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790441"><span class="hs-identifier hs-var">lloc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681790442"><span class="hs-identifier hs-var">lit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1208"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; EpaLocation -&gt; EpAnnComments -&gt; EpAnn EpaLocation
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681790446"><span class="hs-identifier hs-var">anc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; EpaLocation
forall ann. SrcAnn ann -&gt; EpaLocation
</span><a href="GHC.Parser.Annotation.html#epaLocationFromSrcAnn"><span class="hs-identifier hs-var">epaLocationFromSrcAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790439"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790447"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1209"></span><span>
</span><span id="line-1210"></span><span>   </span><span class="hs-comment">-- Improve error messages for the @-operator when the user meant an @-pattern</span><span>
</span><span id="line-1211"></span><span>   </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderOpApp"><span class="hs-identifier hs-type">PatBuilderOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790451"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790451"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#opIsAt"><span class="hs-identifier hs-var">opIsAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790451"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1212"></span><span>     </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV ()) -&gt; MsgEnvelope PsMessage -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; SrcSpan
forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790451"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrAtInPatPos"><span class="hs-identifier hs-var">PsErrAtInPatPos</span></a></span><span>
</span><span id="line-1213"></span><span>     </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PV (Pat GhcPs)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XWildPat GhcPs -&gt; Pat GhcPs
forall p. XWildPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#WildPat"><span class="hs-identifier hs-var">WildPat</span></a></span><span> </span><span class="annot"><span class="annottext">XWildPat GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1214"></span><span>
</span><span id="line-1215"></span><span>   </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderOpApp"><span class="hs-identifier hs-type">PatBuilderOpApp</span></a></span><span> </span><span id="local-6989586621681790455"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790455"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790456"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790456"><span class="hs-identifier hs-var">cl</span></a></span></span><span> </span><span id="local-6989586621681790457"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790457"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790458"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790458"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681790459"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790459"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-1216"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790457"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1217"></span><span>         </span><span id="local-6989586621681790460"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681790460"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790455"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1218"></span><span>         </span><span id="local-6989586621681790461"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681790461"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790458"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-1219"></span><span>         </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PV (Pat GhcPs)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Pat GhcPs -&gt; PV (Pat GhcPs)) -&gt; Pat GhcPs -&gt; PV (Pat GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span>
</span><span id="line-1220"></span><span>           </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_con_ext :: XConPat GhcPs
</span><a href="Language.Haskell.Syntax.Pat.html#pat_con_ext"><span class="hs-identifier hs-var">pat_con_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XConPat GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790459"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-1221"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_con :: XRec GhcPs (ConLikeP GhcPs)
</span><a href="Language.Haskell.Syntax.Pat.html#pat_con"><span class="hs-identifier hs-var">pat_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790456"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790457"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1222"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_args :: HsConPatDetails GhcPs
</span><a href="Language.Haskell.Syntax.Pat.html#pat_args"><span class="hs-identifier hs-var">pat_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
-&gt; GenLocated SrcSpanAnnA (Pat GhcPs)
-&gt; HsConDetails
     (HsConPatTyArg GhcPs)
     (GenLocated SrcSpanAnnA (Pat GhcPs))
     (HsRecFields GhcPs (GenLocated SrcSpanAnnA (Pat GhcPs)))
forall tyarg arg rec. arg -&gt; arg -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-var">InfixCon</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681790460"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681790461"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-1223"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-1224"></span><span>
</span><span id="line-1225"></span><span>   </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderPar"><span class="hs-identifier hs-type">PatBuilderPar</span></a></span><span> </span><span id="local-6989586621681790463"><span class="annot"><span class="annottext">LHsToken &quot;(&quot; GhcPs
</span><a href="#local-6989586621681790463"><span class="hs-identifier hs-var">lpar</span></a></span></span><span> </span><span id="local-6989586621681790464"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790464"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681790465"><span class="annot"><span class="annottext">LHsToken &quot;)&quot; GhcPs
</span><a href="#local-6989586621681790465"><span class="hs-identifier hs-var">rpar</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1226"></span><span>     </span><span id="local-6989586621681790466"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681790466"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790464"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1227"></span><span>     </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PV (Pat GhcPs)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XParPat GhcPs
-&gt; LHsToken &quot;(&quot; GhcPs
-&gt; LPat GhcPs
-&gt; LHsToken &quot;)&quot; GhcPs
-&gt; Pat GhcPs
forall p.
XParPat p -&gt; LHsToken &quot;(&quot; p -&gt; LPat p -&gt; LHsToken &quot;)&quot; p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#ParPat"><span class="hs-identifier hs-var">ParPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; NoEpAnns -&gt; EpAnnComments -&gt; EpAnn NoEpAnns
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790425"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NoEpAnns
</span><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-var">NoEpAnns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="GHC.Parser.Annotation.html#emptyComments"><span class="hs-identifier hs-var">emptyComments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;(&quot; GhcPs
</span><a href="#local-6989586621681790463"><span class="hs-identifier hs-var">lpar</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681790466"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;)&quot; GhcPs
</span><a href="#local-6989586621681790465"><span class="hs-identifier hs-var">rpar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1228"></span><span>
</span><span id="line-1229"></span><span>   </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1230"></span><span>     </span><span id="local-6989586621681790469"><span class="annot"><span class="annottext">PsErrInPatDetails
</span><a href="#local-6989586621681790469"><span class="hs-identifier hs-var">details</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ParseContext -&gt; PsErrInPatDetails
</span><a href="GHC.Parser.Errors.Types.html#fromParseContext"><span class="hs-identifier hs-var">fromParseContext</span></a></span><span> </span><span class="annot"><span class="annottext">(ParseContext -&gt; PsErrInPatDetails)
-&gt; PV ParseContext -&gt; PV PsErrInPatDetails
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PV ParseContext
</span><a href="GHC.Parser.PostProcess.html#askParseContext"><span class="hs-identifier hs-var">askParseContext</span></a></span><span>
</span><span id="line-1231"></span><span>     </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; PV (Pat GhcPs)
forall a. SrcSpan -&gt; PsMessage -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790425"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; PsErrInPatDetails -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrInPat"><span class="hs-identifier hs-var">PsErrInPat</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681790426"><span class="hs-identifier hs-var">e0</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrInPatDetails
</span><a href="#local-6989586621681790469"><span class="hs-identifier hs-var">details</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1232"></span><span>
</span><span id="line-1233"></span><span id="local-6989586621681788438"><span class="annot"><a href="GHC.Parser.PostProcess.html#placeHolderPunRhs"><span class="hs-identifier hs-type">placeHolderPunRhs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788438"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788438"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1234"></span><span class="hs-comment">-- The RHS of a punned record field will be filled in by the renamer</span><span>
</span><span id="line-1235"></span><span class="hs-comment">-- It's better not to make it an error, in case we want to print it when</span><span>
</span><span id="line-1236"></span><span class="hs-comment">-- debugging</span><span>
</span><span id="line-1237"></span><span id="placeHolderPunRhs"><span class="annot"><span class="annottext">placeHolderPunRhs :: forall b. DisambECP b =&gt; PV (LocatedA b)
</span><a href="GHC.Parser.PostProcess.html#placeHolderPunRhs"><span class="hs-identifier hs-var hs-var">placeHolderPunRhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; PV (LocatedA b)
forall b.
DisambECP b =&gt;
GenLocated SrcSpanAnnN RdrName -&gt; PV (LocatedA b)
</span><a href="GHC.Parser.PostProcess.html#mkHsVarPV"><span class="hs-identifier hs-var">mkHsVarPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall a an. a -&gt; LocatedAn an a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Parser.PostProcess.html#pun_RDR"><span class="hs-identifier hs-var">pun_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1238"></span><span>
</span><span id="line-1239"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#plus_RDR"><span class="hs-identifier hs-type">plus_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#pun_RDR"><span class="hs-identifier hs-type">pun_RDR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-1240"></span><span id="plus_RDR"><span class="annot"><span class="annottext">plus_RDR :: RdrName
</span><a href="GHC.Parser.PostProcess.html#plus_RDR"><span class="hs-identifier hs-var hs-var">plus_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-var">mkUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;+&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Hack</span><span>
</span><span id="line-1241"></span><span id="pun_RDR"><span class="annot"><span class="annottext">pun_RDR :: RdrName
</span><a href="GHC.Parser.PostProcess.html#pun_RDR"><span class="hs-identifier hs-var hs-var">pun_RDR</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-var">mkUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;pun-right-hand-side&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1242"></span><span>
</span><span id="line-1243"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPatField"><span class="hs-identifier hs-type">checkPatField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1244"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1245"></span><span id="checkPatField"><span class="annot"><span class="annottext">checkPatField :: LHsRecField GhcPs (LocatedA (PatBuilder GhcPs))
-&gt; PV (LHsRecField GhcPs (LPat GhcPs))
</span><a href="GHC.Parser.PostProcess.html#checkPatField"><span class="hs-identifier hs-var hs-var">checkPatField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790482"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790482"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790483"><span class="annot"><span class="annottext">HsFieldBind
  (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
  (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681790483"><span class="hs-identifier hs-var">fld</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681790484"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681790484"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsFieldBind
  (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
  (LocatedA (PatBuilder GhcPs))
-&gt; LocatedA (PatBuilder GhcPs)
forall lhs rhs. HsFieldBind lhs rhs -&gt; rhs
</span><a href="Language.Haskell.Syntax.Pat.html#hfbRHS"><span class="hs-identifier hs-var">hfbRHS</span></a></span><span> </span><span class="annot"><span class="annottext">HsFieldBind
  (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
  (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681790483"><span class="hs-identifier hs-var">fld</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1246"></span><span>                             </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (HsFieldBind
     (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
     (GenLocated SrcSpanAnnA (Pat GhcPs)))
-&gt; PV
     (GenLocated
        SrcSpanAnnA
        (HsFieldBind
           (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
           (GenLocated SrcSpanAnnA (Pat GhcPs))))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsFieldBind
     (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
     (GenLocated SrcSpanAnnA (Pat GhcPs))
-&gt; GenLocated
     SrcSpanAnnA
     (HsFieldBind
        (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
        (GenLocated SrcSpanAnnA (Pat GhcPs)))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790482"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsFieldBind
  (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
  (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681790483"><span class="hs-identifier hs-var">fld</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#hfbRHS"><span class="hs-identifier hs-var">hfbRHS</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681790484"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1247"></span><span>
</span><span id="line-1248"></span><span id="local-6989586621681788424"><span class="annot"><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-type">patFail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Errors.Types.html#PsMessage"><span class="hs-identifier hs-type">PsMessage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788424"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1249"></span><span id="patFail"><span class="annot"><span class="annottext">patFail :: forall a. SrcSpan -&gt; PsMessage -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var hs-var">patFail</span></a></span></span><span> </span><span id="local-6989586621681790488"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790488"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681790489"><span class="annot"><span class="annottext">PsMessage
</span><a href="#local-6989586621681790489"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV a
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV a) -&gt; MsgEnvelope PsMessage -&gt; PV a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790488"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="#local-6989586621681790489"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-1250"></span><span>
</span><span id="line-1251"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#patIsRec"><span class="hs-identifier hs-type">patIsRec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1252"></span><span id="patIsRec"><span class="annot"><span class="annottext">patIsRec :: RdrName -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#patIsRec"><span class="hs-identifier hs-var hs-var">patIsRec</span></a></span></span><span> </span><span id="local-6989586621681790490"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790490"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790490"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-var">mkUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rec&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1253"></span><span>
</span><span id="line-1254"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-1255"></span><span class="hs-comment">-- Check Equation Syntax</span><span>
</span><span id="line-1256"></span><span>
</span><span id="line-1257"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValDef"><span class="hs-identifier hs-type">checkValDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1258"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1259"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1260"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1261"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1262"></span><span>
</span><span id="line-1263"></span><span id="checkValDef"><span class="annot"><span class="annottext">checkValDef :: SrcSpan
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; Maybe (AddEpAnn, LHsType GhcPs)
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P (HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkValDef"><span class="hs-identifier hs-var hs-var">checkValDef</span></a></span></span><span> </span><span id="local-6989586621681790491"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790491"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681790492"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790492"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681790493"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681790493"><span class="hs-identifier hs-var">sigAnn</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681790494"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790494"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790495"><span class="annot"><span class="annottext">Located (GRHSs GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621681790495"><span class="hs-identifier hs-var">grhss</span></a></span></span><span>
</span><span id="line-1264"></span><span>        </span><span class="hs-comment">-- x :: ty = rhs  parses as a *pattern* binding</span><span>
</span><span id="line-1265"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681790496"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681790496"><span class="hs-identifier hs-var">lhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PV (GenLocated SrcSpanAnnA (Pat GhcPs))
-&gt; P (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a. PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier hs-var">runPV</span></a></span><span> </span><span class="annot"><span class="annottext">(PV (GenLocated SrcSpanAnnA (Pat GhcPs))
 -&gt; P (GenLocated SrcSpanAnnA (Pat GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
-&gt; P (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; LHsType GhcPs
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
forall b.
DisambECP b =&gt;
SrcSpanAnnA
-&gt; LocatedA b -&gt; LHsType GhcPs -&gt; [AddEpAnn] -&gt; PV (LocatedA b)
</span><a href="GHC.Parser.PostProcess.html#mkHsTySigPV"><span class="hs-identifier hs-var">mkHsTySigPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
-&gt; GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; SrcSpanAnnA
forall a e1 e2.
Semigroup a =&gt;
GenLocated (SrcAnn a) e1 -&gt; GenLocated (SrcAnn a) e2 -&gt; SrcAnn a
</span><a href="GHC.Parser.Annotation.html#combineLocsA"><span class="hs-identifier hs-var">combineLocsA</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790492"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790494"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790492"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790494"><span class="hs-identifier hs-var">sig</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681790493"><span class="hs-identifier hs-var">sigAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1266"></span><span>                        </span><span class="annot"><span class="annottext">PV (LocatedA (PatBuilder GhcPs))
-&gt; (LocatedA (PatBuilder GhcPs)
    -&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
forall a b. PV a -&gt; (a -&gt; PV b) -&gt; PV b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E%3D/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
LocatedA (PatBuilder GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span>
</span><span id="line-1267"></span><span>       </span><span class="annot"><span class="annottext">SrcSpan
-&gt; [AddEpAnn]
-&gt; LPat GhcPs
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P (HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-var">checkPatBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790491"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681790496"><span class="hs-identifier hs-var">lhs'</span></a></span><span> </span><span class="annot"><span class="annottext">Located (GRHSs GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621681790495"><span class="hs-identifier hs-var">grhss</span></a></span><span>
</span><span id="line-1268"></span><span>
</span><span id="line-1269"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValDef"><span class="hs-identifier hs-var">checkValDef</span></a></span><span> </span><span id="local-6989586621681790500"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790500"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681790501"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790501"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (AddEpAnn, LHsType GhcPs)
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span id="local-6989586621681790502"><span class="annot"><span class="annottext">Located (GRHSs GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621681790502"><span class="hs-identifier hs-var">g</span></a></span></span><span>
</span><span id="line-1270"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681790503"><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder GhcPs)], [AddEpAnn])
</span><a href="#local-6989586621681790503"><span class="hs-identifier hs-var">mb_fun</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
-&gt; P (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder GhcPs)], [AddEpAnn]))
</span><a href="GHC.Parser.PostProcess.html#isFunLhs"><span class="hs-identifier hs-var">isFunLhs</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790501"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-1271"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder GhcPs)], [AddEpAnn])
</span><a href="#local-6989586621681790503"><span class="hs-identifier hs-var">mb_fun</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1272"></span><span>            </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681790505"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790505"><span class="hs-identifier hs-var">fun</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681790506"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790506"><span class="hs-identifier hs-var">is_infix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681790507"><span class="annot"><span class="annottext">[LocatedA (PatBuilder GhcPs)]
</span><a href="#local-6989586621681790507"><span class="hs-identifier hs-var">pats</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681790508"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790508"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1273"></span><span>              </span><span class="annot"><span class="annottext">SrcStrictness
-&gt; SrcSpan
-&gt; [AddEpAnn]
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LexicalFixity
-&gt; [LocatedA (PatBuilder GhcPs)]
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P (HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkFunBind"><span class="hs-identifier hs-var">checkFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790500"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790508"><span class="hs-identifier hs-var">ann</span></a></span><span>
</span><span id="line-1274"></span><span>                           </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790505"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790506"><span class="hs-identifier hs-var">is_infix</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder GhcPs)]
</span><a href="#local-6989586621681790507"><span class="hs-identifier hs-var">pats</span></a></span><span> </span><span class="annot"><span class="annottext">Located (GRHSs GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621681790502"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-1275"></span><span>            </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder GhcPs)], [AddEpAnn])
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1276"></span><span>              </span><span id="local-6989586621681790510"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681790510"><span class="hs-identifier hs-var">lhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; P (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPattern"><span class="hs-identifier hs-var">checkPattern</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790501"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-1277"></span><span>              </span><span class="annot"><span class="annottext">SrcSpan
-&gt; [AddEpAnn]
-&gt; LPat GhcPs
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P (HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-var">checkPatBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790500"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681790510"><span class="hs-identifier hs-var">lhs'</span></a></span><span> </span><span class="annot"><span class="annottext">Located (GRHSs GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621681790502"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1278"></span><span>
</span><span id="line-1279"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkFunBind"><span class="hs-identifier hs-type">checkFunBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#SrcStrictness"><span class="hs-identifier hs-type">SrcStrictness</span></a></span><span>
</span><span id="line-1280"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1281"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1282"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-1283"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Fixity.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a></span><span>
</span><span id="line-1284"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1285"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1286"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1287"></span><span id="checkFunBind"><span class="annot"><span class="annottext">checkFunBind :: SrcStrictness
-&gt; SrcSpan
-&gt; [AddEpAnn]
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LexicalFixity
-&gt; [LocatedA (PatBuilder GhcPs)]
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P (HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkFunBind"><span class="hs-identifier hs-var hs-var">checkFunBind</span></a></span></span><span> </span><span id="local-6989586621681790511"><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621681790511"><span class="hs-identifier hs-var">strictness</span></a></span></span><span> </span><span id="local-6989586621681790512"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790512"><span class="hs-identifier hs-var">locF</span></a></span></span><span> </span><span id="local-6989586621681790513"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790513"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681790514"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790514"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621681790515"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790515"><span class="hs-identifier hs-var">is_infix</span></a></span></span><span> </span><span id="local-6989586621681790516"><span class="annot"><span class="annottext">[LocatedA (PatBuilder GhcPs)]
</span><a href="#local-6989586621681790516"><span class="hs-identifier hs-var">pats</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790517"><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681790517"><span class="hs-identifier hs-var">grhss</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1288"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span id="local-6989586621681790518"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681790518"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ParseContext
-&gt; PV [GenLocated SrcSpanAnnA (Pat GhcPs)]
-&gt; P [GenLocated SrcSpanAnnA (Pat GhcPs)]
forall a. ParseContext -&gt; PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV_details"><span class="hs-identifier hs-var">runPV_details</span></a></span><span> </span><span class="annot"><span class="annottext">ParseContext
</span><a href="#local-6989586621681790519"><span class="hs-identifier hs-var">extraDetails</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs)))
-&gt; [LocatedA (PatBuilder GhcPs)]
-&gt; PV [GenLocated SrcSpanAnnA (Pat GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="../../base-4.18.3.0/src/Data.Traversable.html#mapM/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
LocatedA (PatBuilder GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder GhcPs)]
</span><a href="#local-6989586621681790516"><span class="hs-identifier hs-var">pats</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1289"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681790520"><span class="annot"><span class="annottext">match_span :: SrcSpanAnnA
</span><a href="#local-6989586621681790520"><span class="hs-identifier hs-var hs-var">match_span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; SrcSpanAnnA) -&gt; SrcSpan -&gt; SrcSpanAnnA
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790512"><span class="hs-identifier hs-var">locF</span></a></span><span>
</span><span id="line-1290"></span><span>        </span><span id="local-6989586621681790521"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790521"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790512"><span class="hs-identifier hs-var">locF</span></a></span><span>
</span><span id="line-1291"></span><span>        </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs -&gt; P (HsBindLR GhcPs GhcPs)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; LocatedL [LMatch GhcPs (LHsExpr GhcPs)] -&gt; HsBindLR GhcPs GhcPs
</span><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-var">makeFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790514"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnL
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; GenLocated
     SrcSpanAnnL
     [GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnL
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; SrcSpanAnnL) -&gt; SrcSpan -&gt; SrcSpanAnnL
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790520"><span class="hs-identifier hs-var">match_span</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1292"></span><span>                 </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; GenLocated
     SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790520"><span class="hs-identifier hs-var">match_span</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_ext :: XCMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_ext"><span class="hs-identifier hs-var">m_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790512"><span class="hs-identifier hs-var">locF</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790513"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790521"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-1293"></span><span>                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: HsMatchContext GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span>
</span><span id="line-1294"></span><span>                                          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: LIdP (NoGhcTc GhcPs)
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LIdP (NoGhcTc GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790514"><span class="hs-identifier hs-var">fun</span></a></span><span>
</span><span id="line-1295"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_fixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fixity"><span class="hs-identifier hs-var">mc_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790515"><span class="hs-identifier hs-var">is_infix</span></a></span><span>
</span><span id="line-1296"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_strictness :: SrcStrictness
</span><a href="Language.Haskell.Syntax.Expr.html#mc_strictness"><span class="hs-identifier hs-var">mc_strictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621681790511"><span class="hs-identifier hs-var">strictness</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1297"></span><span>                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_pats :: [LPat GhcPs]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681790518"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-1298"></span><span>                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: GRHSs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
GRHSs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681790517"><span class="hs-identifier hs-var">grhss</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1299"></span><span>        </span><span class="hs-comment">-- The span of the match covers the entire equation.</span><span>
</span><span id="line-1300"></span><span>        </span><span class="hs-comment">-- That isn't quite right, but it'll do for now.</span><span>
</span><span id="line-1301"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1302"></span><span>    </span><span id="local-6989586621681790519"><span class="annot"><span class="annottext">extraDetails :: ParseContext
</span><a href="#local-6989586621681790519"><span class="hs-identifier hs-var hs-var">extraDetails</span></a></span></span><span>
</span><span id="line-1303"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621681790515"><span class="hs-identifier hs-var">is_infix</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe RdrName -&gt; PatIncompleteDoBlock -&gt; ParseContext
</span><a href="GHC.Parser.Errors.Types.html#ParseContext"><span class="hs-identifier hs-var">ParseContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; Maybe RdrName
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; Maybe RdrName) -&gt; RdrName -&gt; Maybe RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790514"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PatIncompleteDoBlock
</span><a href="GHC.Parser.Errors.Types.html#NoIncompleteDoBlock"><span class="hs-identifier hs-var">NoIncompleteDoBlock</span></a></span><span>
</span><span id="line-1304"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParseContext
</span><a href="GHC.Parser.Errors.Types.html#noParseContext"><span class="hs-identifier hs-var">noParseContext</span></a></span><span>
</span><span id="line-1305"></span><span>
</span><span id="line-1306"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-type">makeFunBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1307"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1308"></span><span class="hs-comment">-- Like GHC.Hs.Utils.mkFunBind, but we need to be able to set the fixity too</span><span>
</span><span id="line-1309"></span><span id="makeFunBind"><span class="annot"><span class="annottext">makeFunBind :: GenLocated SrcSpanAnnN RdrName
-&gt; LocatedL [LMatch GhcPs (LHsExpr GhcPs)] -&gt; HsBindLR GhcPs GhcPs
</span><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-var hs-var">makeFunBind</span></a></span></span><span> </span><span id="local-6989586621681790525"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790525"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621681790526"><span class="annot"><span class="annottext">LocatedL [LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681790526"><span class="hs-identifier hs-var">ms</span></a></span></span><span>
</span><span id="line-1310"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_ext :: XFunBind GhcPs GhcPs
</span><a href="Language.Haskell.Syntax.Binds.html#fun_ext"><span class="hs-identifier hs-var">fun_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XFunBind GhcPs GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1311"></span><span>              </span><span class="annot"><span class="annottext">fun_id :: XRec GhcPs (IdP GhcPs)
</span><a href="Language.Haskell.Syntax.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790525"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1312"></span><span>              </span><span class="annot"><span class="annottext">fun_matches :: MatchGroup GhcPs (LHsExpr GhcPs)
</span><a href="Language.Haskell.Syntax.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Origin
-&gt; GenLocated
     SrcSpanAnnL
     [GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall (p :: Pass) (body :: * -&gt; *).
AnnoBody p body =&gt;
Origin
-&gt; LocatedL
     [LocatedA (Match (GhcPass p) (LocatedA (body (GhcPass p))))]
-&gt; MatchGroup (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-var">mkMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="GHC.Types.Basic.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedL [LMatch GhcPs (LHsExpr GhcPs)]
GenLocated
  SrcSpanAnnL
  [GenLocated
     SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681790526"><span class="hs-identifier hs-var">ms</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1313"></span><span>
</span><span id="line-1314"></span><span class="hs-comment">-- See Note [FunBind vs PatBind]</span><span>
</span><span id="line-1315"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-type">checkPatBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1316"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1317"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1318"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1319"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1320"></span><span id="checkPatBind"><span class="annot"><span class="annottext">checkPatBind :: SrcSpan
-&gt; [AddEpAnn]
-&gt; LPat GhcPs
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P (HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-var hs-var">checkPatBind</span></a></span></span><span> </span><span id="local-6989586621681790528"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790528"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681790529"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790529"><span class="hs-identifier hs-var">annsIn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#BangPat"><span class="hs-identifier hs-type">BangPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790531"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790531"><span class="hs-identifier hs-var">ans</span></a></span></span><span> </span><span id="local-6989586621681790532"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790532"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#VarPat"><span class="hs-identifier hs-type">VarPat</span></a></span><span> </span><span class="annot"><span class="annottext">XVarPat GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790533"><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
</span><a href="#local-6989586621681790533"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1321"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790534"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790534"><span class="hs-identifier hs-var">_match_span</span></a></span></span><span> </span><span id="local-6989586621681790535"><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681790535"><span class="hs-identifier hs-var">grhss</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1322"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs -&gt; P (HsBindLR GhcPs GhcPs)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; LocatedL [LMatch GhcPs (LHsExpr GhcPs)] -&gt; HsBindLR GhcPs GhcPs
</span><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-var">makeFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790533"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnL
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; GenLocated
     SrcSpanAnnL
     [GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnL
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790528"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1323"></span><span>                </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; GenLocated
     SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790528"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681790536"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790528"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790531"><span class="hs-identifier hs-var">ans</span></a></span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790529"><span class="hs-identifier hs-var">annsIn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790532"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790533"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1324"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1325"></span><span>    </span><span id="local-6989586621681790536"><span class="annot"><span class="annottext">m :: EpAnn [AddEpAnn]
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681790536"><span class="hs-identifier hs-var hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681790537"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790537"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681790538"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790538"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_ext :: XCMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_ext"><span class="hs-identifier hs-var">m_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790537"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1326"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: HsMatchContext GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: LIdP (NoGhcTc GhcPs)
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LIdP (NoGhcTc GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790538"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1327"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_fixity :: LexicalFixity
</span><a href="Language.Haskell.Syntax.Expr.html#mc_fixity"><span class="hs-identifier hs-var">mc_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a></span><span>
</span><span id="line-1328"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_strictness :: SrcStrictness
</span><a href="Language.Haskell.Syntax.Expr.html#mc_strictness"><span class="hs-identifier hs-var">mc_strictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#SrcStrict"><span class="hs-identifier hs-var">SrcStrict</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1329"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_pats :: [LPat GhcPs]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1330"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: GRHSs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
GRHSs GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681790535"><span class="hs-identifier hs-var">grhss</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1331"></span><span>
</span><span id="line-1332"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-var">checkPatBind</span></a></span><span> </span><span id="local-6989586621681790540"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790540"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681790541"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790541"><span class="hs-identifier hs-var">annsIn</span></a></span></span><span> </span><span id="local-6989586621681790542"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681790542"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790543"><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681790543"><span class="hs-identifier hs-var">grhss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1333"></span><span>  </span><span id="local-6989586621681790544"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790544"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790540"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-1334"></span><span>  </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs -&gt; P (HsBindLR GhcPs GhcPs)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XPatBind GhcPs GhcPs
-&gt; LPat GhcPs
-&gt; GRHSs GhcPs (LHsExpr GhcPs)
-&gt; HsBindLR GhcPs GhcPs
forall idL idR.
XPatBind idL idR
-&gt; LPat idL -&gt; GRHSs idR (LHsExpr idR) -&gt; HsBindLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#PatBind"><span class="hs-identifier hs-var">PatBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790540"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790541"><span class="hs-identifier hs-var">annsIn</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790544"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621681790542"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681790543"><span class="hs-identifier hs-var">grhss</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1335"></span><span>
</span><span id="line-1336"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValSigLhs"><span class="hs-identifier hs-type">checkValSigLhs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1337"></span><span id="checkValSigLhs"><span class="annot"><span class="annottext">checkValSigLhs :: LHsExpr GhcPs -&gt; P (GenLocated SrcSpanAnnN RdrName)
</span><a href="GHC.Parser.PostProcess.html#checkValSigLhs"><span class="hs-identifier hs-var hs-var">checkValSigLhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-type">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790546"><span class="annot"><span class="annottext">lrdr :: XRec GhcPs (IdP GhcPs)
</span><a href="#local-6989586621681790546"><span class="hs-identifier hs-var">lrdr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790547"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790547"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1338"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isUnqual"><span class="hs-identifier hs-var">isUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790547"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1339"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataOcc"><span class="hs-identifier hs-var">isDataOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790547"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1340"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; P (GenLocated SrcSpanAnnN RdrName)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790546"><span class="hs-identifier hs-var">lrdr</span></a></span><span>
</span><span id="line-1341"></span><span>
</span><span id="line-1342"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValSigLhs"><span class="hs-identifier hs-var">checkValSigLhs</span></a></span><span> </span><span id="local-6989586621681790549"><span class="annot"><span class="annottext">lhs :: LHsExpr GhcPs
</span><a href="#local-6989586621681790549"><span class="hs-identifier hs-var">lhs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790550"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790550"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-1343"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P (GenLocated SrcSpanAnnN RdrName)
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P (GenLocated SrcSpanAnnN RdrName))
-&gt; MsgEnvelope PsMessage -&gt; P (GenLocated SrcSpanAnnN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790550"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrInvalidTypeSignature"><span class="hs-identifier hs-var">PsErrInvalidTypeSignature</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681790549"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-1344"></span><span>
</span><span id="line-1345"></span><span id="local-6989586621681788459"><span id="local-6989586621681788460"><span id="local-6989586621681788461"><span class="annot"><a href="GHC.Parser.PostProcess.html#checkDoAndIfThenElse"><span class="hs-identifier hs-type">checkDoAndIfThenElse</span></a></span><span>
</span><span id="line-1346"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788459"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788460"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788461"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1347"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681788459"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788460"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788461"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Errors.Types.html#PsMessage"><span class="hs-identifier hs-type">PsMessage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1348"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788459"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788460"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788461"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1349"></span><span id="checkDoAndIfThenElse"><span class="annot"><span class="annottext">checkDoAndIfThenElse :: forall a b c.
(Outputable a, Outputable b, Outputable c) =&gt;
(a -&gt; Bool -&gt; b -&gt; Bool -&gt; c -&gt; PsMessage)
-&gt; LocatedA a -&gt; Bool -&gt; LocatedA b -&gt; Bool -&gt; LocatedA c -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkDoAndIfThenElse"><span class="hs-identifier hs-var hs-var">checkDoAndIfThenElse</span></a></span></span><span> </span><span id="local-6989586621681790562"><span class="annot"><span class="annottext">a -&gt; Bool -&gt; b -&gt; Bool -&gt; c -&gt; PsMessage
</span><a href="#local-6989586621681790562"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span id="local-6989586621681790563"><span class="annot"><span class="annottext">LocatedA a
</span><a href="#local-6989586621681790563"><span class="hs-identifier hs-var">guardExpr</span></a></span></span><span> </span><span id="local-6989586621681790564"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790564"><span class="hs-identifier hs-var">semiThen</span></a></span></span><span> </span><span id="local-6989586621681790565"><span class="annot"><span class="annottext">LocatedA b
</span><a href="#local-6989586621681790565"><span class="hs-identifier hs-var">thenExpr</span></a></span></span><span> </span><span id="local-6989586621681790566"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790566"><span class="hs-identifier hs-var">semiElse</span></a></span></span><span> </span><span id="local-6989586621681790567"><span class="annot"><span class="annottext">LocatedA c
</span><a href="#local-6989586621681790567"><span class="hs-identifier hs-var">elseExpr</span></a></span></span><span>
</span><span id="line-1350"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790564"><span class="hs-identifier hs-var">semiThen</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790566"><span class="hs-identifier hs-var">semiElse</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1351"></span><span>      </span><span id="local-6989586621681790569"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790569"><span class="hs-identifier hs-var">doAndIfThenElse</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; PV Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#DoAndIfThenElseBit"><span class="hs-identifier hs-var">DoAndIfThenElseBit</span></a></span><span>
</span><span id="line-1352"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681790571"><span class="annot"><span class="annottext">e :: PsMessage
</span><a href="#local-6989586621681790571"><span class="hs-identifier hs-var hs-var">e</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool -&gt; b -&gt; Bool -&gt; c -&gt; PsMessage
</span><a href="#local-6989586621681790562"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA a -&gt; a
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA a
</span><a href="#local-6989586621681790563"><span class="hs-identifier hs-var">guardExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1353"></span><span>                    </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790564"><span class="hs-identifier hs-var">semiThen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA b -&gt; b
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA b
</span><a href="#local-6989586621681790565"><span class="hs-identifier hs-var">thenExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1354"></span><span>                    </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790566"><span class="hs-identifier hs-var">semiElse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA c -&gt; c
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA c
</span><a href="#local-6989586621681790567"><span class="hs-identifier hs-var">elseExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1355"></span><span>          </span><span id="local-6989586621681790572"><span class="annot"><span class="annottext">loc :: SrcSpan
</span><a href="#local-6989586621681790572"><span class="hs-identifier hs-var hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located a -&gt; Located c -&gt; SrcSpan
forall a b. Located a -&gt; Located b -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineLocs"><span class="hs-identifier hs-var">combineLocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA a -&gt; Located a
forall a e. LocatedAn a e -&gt; Located e
</span><a href="GHC.Parser.Annotation.html#reLoc"><span class="hs-identifier hs-var">reLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA a
</span><a href="#local-6989586621681790563"><span class="hs-identifier hs-var">guardExpr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA c -&gt; Located c
forall a e. LocatedAn a e -&gt; Located e
</span><a href="GHC.Parser.Annotation.html#reLoc"><span class="hs-identifier hs-var">reLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA c
</span><a href="#local-6989586621681790567"><span class="hs-identifier hs-var">elseExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1356"></span><span>
</span><span id="line-1357"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; PV () -&gt; PV ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/Control.Monad.html#unless/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790569"><span class="hs-identifier hs-var">doAndIfThenElse</span></a></span><span> </span><span class="annot"><span class="annottext">(PV () -&gt; PV ()) -&gt; PV () -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790572"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="#local-6989586621681790571"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1358"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1359"></span><span>
</span><span id="line-1360"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#isFunLhs"><span class="hs-identifier hs-type">isFunLhs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1361"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Fixity.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1362"></span><span>                   </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1363"></span><span class="hs-comment">-- A variable binding is parsed as a FunBind.</span><span>
</span><span id="line-1364"></span><span class="hs-comment">-- Just (fun, is_infix, arg_pats) if e is a function LHS</span><span>
</span><span id="line-1365"></span><span id="isFunLhs"><span class="annot"><span class="annottext">isFunLhs :: LocatedA (PatBuilder GhcPs)
-&gt; P (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder GhcPs)], [AddEpAnn]))
</span><a href="GHC.Parser.PostProcess.html#isFunLhs"><span class="hs-identifier hs-var hs-var">isFunLhs</span></a></span></span><span> </span><span id="local-6989586621681790575"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790575"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
-&gt; [LocatedA (PatBuilder GhcPs)]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; P (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder GhcPs)], [AddEpAnn]))
forall {m :: * -&gt; *} {p}.
Monad m =&gt;
LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
</span><a href="#local-6989586621681790576"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681790575"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1366"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1367"></span><span>   </span><span id="local-6989586621681790576"><span class="annot"><span class="annottext">go :: LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
</span><a href="#local-6989586621681790576"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790588"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790588"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681790589"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790589"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790590"><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681790590"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span id="local-6989586621681790591"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790591"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790592"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790592"><span class="hs-identifier hs-var">cps</span></a></span></span><span>
</span><span id="line-1368"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790589"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder p)], [AddEpAnn])
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN RdrName, LexicalFixity,
 [LocatedA (PatBuilder p)], [AddEpAnn])
-&gt; Maybe
     (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
      [LocatedA (PatBuilder p)], [AddEpAnn])
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790588"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790589"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681790590"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#reverse/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790591"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790592"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1369"></span><span>   </span><span class="annot"><a href="#local-6989586621681790576"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderApp"><span class="hs-identifier hs-type">PatBuilderApp</span></a></span><span> </span><span id="local-6989586621681790593"><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790593"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681790594"><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790594"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790595"><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681790595"><span class="hs-identifier hs-var">es</span></a></span></span><span>       </span><span id="local-6989586621681790596"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790596"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790597"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790597"><span class="hs-identifier hs-var">cps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
</span><a href="#local-6989586621681790576"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790593"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790594"><span class="hs-identifier hs-var">e</span></a></span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)] -&gt; [LocatedA (PatBuilder p)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681790595"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790596"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790597"><span class="hs-identifier hs-var">cps</span></a></span><span>
</span><span id="line-1370"></span><span>   </span><span class="annot"><a href="#local-6989586621681790576"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790598"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790598"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderPar"><span class="hs-identifier hs-type">PatBuilderPar</span></a></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;(&quot; p
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790599"><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790599"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;)&quot; p
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790600"><span class="annot"><span class="annottext">es :: [LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681790600"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790601"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790601"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790602"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790602"><span class="hs-identifier hs-var">cps</span></a></span></span><span>
</span><span id="line-1371"></span><span>                                      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-1372"></span><span>                                          </span><span class="hs-special">(</span><span id="local-6989586621681790603"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681790603"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681790604"><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681790604"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; (AddEpAnn, AddEpAnn)
</span><a href="GHC.Parser.Lexer.html#mkParensEpAnn"><span class="hs-identifier hs-var">mkParensEpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; RealSrcSpan) -&gt; SrcSpan -&gt; RealSrcSpan
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790598"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1373"></span><span>                                        </span><span class="hs-keyword">in</span><span>
</span><span id="line-1374"></span><span>                                          </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
</span><a href="#local-6989586621681790576"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790599"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681790600"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681790603"><span class="hs-identifier hs-var">o</span></a></span><span class="annot"><span class="annottext">AddEpAnn -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790601"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AddEpAnn
</span><a href="#local-6989586621681790604"><span class="hs-identifier hs-var">c</span></a></span><span class="annot"><span class="annottext">AddEpAnn -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790602"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1375"></span><span>   </span><span class="annot"><a href="#local-6989586621681790576"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790605"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790605"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderOpApp"><span class="hs-identifier hs-type">PatBuilderOpApp</span></a></span><span> </span><span id="local-6989586621681790606"><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790606"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790607"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790607"><span class="hs-identifier hs-var">loc'</span></a></span></span><span> </span><span id="local-6989586621681790608"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790608"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790609"><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790609"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span id="local-6989586621681790610"><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681790610"><span class="hs-identifier hs-var">loca</span></a></span></span><span> </span><span id="local-6989586621681790611"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790611"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span id="local-6989586621681790612"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790612"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790613"><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681790613"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span id="local-6989586621681790614"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790614"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621681790615"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790615"><span class="hs-identifier hs-var">cps</span></a></span></span><span>
</span><span id="line-1376"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790608"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-comment">-- We have found the function!</span><span>
</span><span id="line-1377"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder p)], [AddEpAnn])
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN RdrName, LexicalFixity,
 [LocatedA (PatBuilder p)], [AddEpAnn])
-&gt; Maybe
     (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
      [LocatedA (PatBuilder p)], [AddEpAnn])
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790607"><span class="hs-identifier hs-var">loc'</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790608"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790606"><span class="hs-identifier hs-var">l</span></a></span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)] -&gt; [LocatedA (PatBuilder p)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790609"><span class="hs-identifier hs-var">r</span></a></span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)] -&gt; [LocatedA (PatBuilder p)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681790613"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790611"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#reverse/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790614"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790615"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1378"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                     </span><span class="hs-comment">-- Infix data con; keep going</span><span>
</span><span id="line-1379"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681790616"><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder p)], [AddEpAnn])
</span><a href="#local-6989586621681790616"><span class="hs-identifier hs-var">mb_l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)]
-&gt; [AddEpAnn]
-&gt; [AddEpAnn]
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
</span><a href="#local-6989586621681790576"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790606"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681790613"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790614"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790615"><span class="hs-identifier hs-var">cps</span></a></span><span>
</span><span id="line-1380"></span><span>             </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder p)], [AddEpAnn])
</span><a href="#local-6989586621681790616"><span class="hs-identifier hs-var">mb_l</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1381"></span><span>                 </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681790617"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790617"><span class="hs-identifier hs-var">op'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681790618"><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790618"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681790619"><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790619"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681790620"><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681790620"><span class="hs-identifier hs-var">es'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681790621"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790621"><span class="hs-identifier hs-var">anns'</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1382"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder p)], [AddEpAnn])
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN RdrName, LexicalFixity,
 [LocatedA (PatBuilder p)], [AddEpAnn])
-&gt; Maybe
     (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
      [LocatedA (PatBuilder p)], [AddEpAnn])
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790617"><span class="hs-identifier hs-var">op'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790618"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)] -&gt; [LocatedA (PatBuilder p)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790622"><span class="hs-identifier hs-var">op_app</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
-&gt; [LocatedA (PatBuilder p)] -&gt; [LocatedA (PatBuilder p)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><a href="#local-6989586621681790620"><span class="hs-identifier hs-var">es'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790621"><span class="hs-identifier hs-var">anns'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1383"></span><span>                   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1384"></span><span>                     </span><span id="local-6989586621681790622"><span class="annot"><span class="annottext">op_app :: LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790622"><span class="hs-identifier hs-var hs-var">op_app</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder p -&gt; LocatedA (PatBuilder p)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790605"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LocatedA (PatBuilder p)
-&gt; EpAnn [AddEpAnn]
-&gt; PatBuilder p
forall p.
LocatedA (PatBuilder p)
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LocatedA (PatBuilder p)
-&gt; EpAnn [AddEpAnn]
-&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderOpApp"><span class="hs-identifier hs-var">PatBuilderOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790619"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-1385"></span><span>                               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790607"><span class="hs-identifier hs-var">loc'</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790608"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><a href="#local-6989586621681790609"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">Anchor
</span><a href="#local-6989586621681790610"><span class="hs-identifier hs-var">loca</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#reverse/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790614"><span class="hs-identifier hs-var">ops</span></a></span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [AddEpAnn] -&gt; [AddEpAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790615"><span class="hs-identifier hs-var">cps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790612"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1386"></span><span>                 </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder p)], [AddEpAnn])
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder p)], [AddEpAnn])
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder p)], [AddEpAnn])
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1387"></span><span>   </span><span class="annot"><a href="#local-6989586621681790576"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder p)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder p)], [AddEpAnn])
-&gt; m (Maybe
        (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
         [LocatedA (PatBuilder p)], [AddEpAnn]))
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe
  (GenLocated SrcSpanAnnN RdrName, LexicalFixity,
   [LocatedA (PatBuilder p)], [AddEpAnn])
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1388"></span><span>
</span><span id="line-1389"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkBangTy"><span class="hs-identifier hs-type">mkBangTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#SrcStrictness"><span class="hs-identifier hs-type">SrcStrictness</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1390"></span><span id="mkBangTy"><span class="annot"><span class="annottext">mkBangTy :: EpAnn [AddEpAnn] -&gt; SrcStrictness -&gt; LHsType GhcPs -&gt; HsType GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkBangTy"><span class="hs-identifier hs-var hs-var">mkBangTy</span></a></span></span><span> </span><span id="local-6989586621681790623"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790623"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span id="local-6989586621681790624"><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621681790624"><span class="hs-identifier hs-var">strictness</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1391"></span><span>  </span><span class="annot"><span class="annottext">XBangTy GhcPs -&gt; HsSrcBang -&gt; LHsType GhcPs -&gt; HsType GhcPs
forall pass.
XBangTy pass -&gt; HsSrcBang -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a></span><span> </span><span class="annot"><span class="annottext">XBangTy GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790623"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; SrcUnpackedness -&gt; SrcStrictness -&gt; HsSrcBang
</span><a href="GHC.Core.DataCon.html#HsSrcBang"><span class="hs-identifier hs-var">HsSrcBang</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="Language.Haskell.Syntax.Basic.html#NoSrcUnpack"><span class="hs-identifier hs-var">NoSrcUnpack</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621681790624"><span class="hs-identifier hs-var">strictness</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1392"></span><span>
</span><span id="line-1393"></span><span class="annot"><span class="hs-comment">-- | Result of parsing @{-\# UNPACK \#-}@ or @{-\# NOUNPACK \#-}@.</span></span><span>
</span><span id="line-1394"></span><span class="hs-keyword">data</span><span> </span><span id="UnpackednessPragma"><span class="annot"><a href="GHC.Parser.PostProcess.html#UnpackednessPragma"><span class="hs-identifier hs-var">UnpackednessPragma</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1395"></span><span>  </span><span id="UnpackednessPragma"><span class="annot"><a href="GHC.Parser.PostProcess.html#UnpackednessPragma"><span class="hs-identifier hs-var">UnpackednessPragma</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#SrcUnpackedness"><span class="hs-identifier hs-type">SrcUnpackedness</span></a></span><span>
</span><span id="line-1396"></span><span>
</span><span id="line-1397"></span><span class="annot"><span class="hs-comment">-- | Annotate a type with either an @{-\# UNPACK \#-}@ or a @{-\# NOUNPACK \#-}@ pragma.</span></span><span>
</span><span id="line-1398"></span><span id="local-6989586621681788477"><span class="annot"><a href="GHC.Parser.PostProcess.html#addUnpackednessP"><span class="hs-identifier hs-type">addUnpackednessP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#MonadP"><span class="hs-identifier hs-type">MonadP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788477"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#UnpackednessPragma"><span class="hs-identifier hs-type">UnpackednessPragma</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788477"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1399"></span><span id="addUnpackednessP"><span class="annot"><span class="annottext">addUnpackednessP :: forall (m :: * -&gt; *).
MonadP m =&gt;
Located UnpackednessPragma -&gt; LHsType GhcPs -&gt; m (LHsType GhcPs)
</span><a href="GHC.Parser.PostProcess.html#addUnpackednessP"><span class="hs-identifier hs-var hs-var">addUnpackednessP</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790635"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790635"><span class="hs-identifier hs-var">lprag</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#UnpackednessPragma"><span class="hs-identifier hs-type">UnpackednessPragma</span></a></span><span> </span><span id="local-6989586621681790636"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790636"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span id="local-6989586621681790637"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681790637"><span class="hs-identifier hs-var">prag</span></a></span></span><span> </span><span id="local-6989586621681790638"><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621681790638"><span class="hs-identifier hs-var">unpk</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790639"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790639"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1400"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681790640"><span class="annot"><span class="annottext">l' :: SrcSpan
</span><a href="#local-6989586621681790640"><span class="hs-identifier hs-var hs-var">l'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-identifier hs-var">combineSrcSpans</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790635"><span class="hs-identifier hs-var">lprag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; SrcSpan
forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790639"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1401"></span><span>    </span><span id="local-6989586621681790642"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790642"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; m EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790640"><span class="hs-identifier hs-var">l'</span></a></span><span>
</span><span id="line-1402"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681790643"><span class="annot"><span class="annottext">an :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790643"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790640"><span class="hs-identifier hs-var">l'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790636"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790642"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-1403"></span><span>        </span><span id="local-6989586621681790644"><span class="annot"><span class="annottext">t' :: HsType GhcPs
</span><a href="#local-6989586621681790644"><span class="hs-identifier hs-var hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
-&gt; GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; HsType GhcPs
</span><a href="#local-6989586621681790645"><span class="hs-identifier hs-var">addUnpackedness</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790643"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790639"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1404"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; m (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsType GhcPs -&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790640"><span class="hs-identifier hs-var">l'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><a href="#local-6989586621681790644"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1405"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1406"></span><span>    </span><span class="hs-comment">-- If we have a HsBangTy that only has a strictness annotation,</span><span>
</span><span id="line-1407"></span><span>    </span><span class="hs-comment">-- such as ~T or !T, then add the pragma to the existing HsBangTy.</span><span>
</span><span id="line-1408"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-1409"></span><span>    </span><span class="hs-comment">-- Otherwise, wrap the type in a new HsBangTy constructor.</span><span>
</span><span id="line-1410"></span><span>    </span><span id="local-6989586621681790645"><span class="annot"><span class="annottext">addUnpackedness :: EpAnn [AddEpAnn]
-&gt; GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; HsType GhcPs
</span><a href="#local-6989586621681790645"><span class="hs-identifier hs-var hs-var">addUnpackedness</span></a></span></span><span> </span><span id="local-6989586621681790646"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790646"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBangTy"><span class="hs-identifier hs-type">HsBangTy</span></a></span><span> </span><span id="local-6989586621681790647"><span class="annot"><span class="annottext">XBangTy GhcPs
</span><a href="#local-6989586621681790647"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681790648"><span class="annot"><span class="annottext">HsSrcBang
</span><a href="#local-6989586621681790648"><span class="hs-identifier hs-var">bang</span></a></span></span><span> </span><span id="local-6989586621681790649"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790649"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1411"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#HsSrcBang"><span class="hs-identifier hs-type">HsSrcBang</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="Language.Haskell.Syntax.Basic.html#NoSrcUnpack"><span class="hs-identifier hs-var">NoSrcUnpack</span></a></span><span> </span><span id="local-6989586621681790650"><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621681790650"><span class="hs-identifier hs-var">strictness</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsSrcBang
</span><a href="#local-6989586621681790648"><span class="hs-identifier hs-var">bang</span></a></span><span>
</span><span id="line-1412"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XBangTy GhcPs -&gt; HsSrcBang -&gt; LHsType GhcPs -&gt; HsType GhcPs
forall pass.
XBangTy pass -&gt; HsSrcBang -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#addAnns"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790646"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; [AddEpAnn]
</span><a href="GHC.Parser.Annotation.html#epAnnAnns"><span class="hs-identifier hs-var">epAnnAnns</span></a></span><span> </span><span class="annot"><span class="annottext">XBangTy GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790647"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn [AddEpAnn] -&gt; EpAnnComments
forall ann. EpAnn ann -&gt; EpAnnComments
</span><a href="GHC.Parser.Annotation.html#epAnnComments"><span class="hs-identifier hs-var">epAnnComments</span></a></span><span> </span><span class="annot"><span class="annottext">XBangTy GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790647"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; SrcUnpackedness -&gt; SrcStrictness -&gt; HsSrcBang
</span><a href="GHC.Core.DataCon.html#HsSrcBang"><span class="hs-identifier hs-var">HsSrcBang</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681790637"><span class="hs-identifier hs-var">prag</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621681790638"><span class="hs-identifier hs-var">unpk</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621681790650"><span class="hs-identifier hs-var">strictness</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790649"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1413"></span><span>    </span><span class="annot"><a href="#local-6989586621681790645"><span class="hs-identifier hs-var">addUnpackedness</span></a></span><span> </span><span id="local-6989586621681790652"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790652"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span id="local-6989586621681790653"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790653"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-1414"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XBangTy GhcPs -&gt; HsSrcBang -&gt; LHsType GhcPs -&gt; HsType GhcPs
forall pass.
XBangTy pass -&gt; HsSrcBang -&gt; LHsType pass -&gt; HsType pass
</span><a href="Language.Haskell.Syntax.Type.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a></span><span> </span><span class="annot"><span class="annottext">XBangTy GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681790652"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; SrcUnpackedness -&gt; SrcStrictness -&gt; HsSrcBang
</span><a href="GHC.Core.DataCon.html#HsSrcBang"><span class="hs-identifier hs-var">HsSrcBang</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681790637"><span class="hs-identifier hs-var">prag</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621681790638"><span class="hs-identifier hs-var">unpk</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790653"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1415"></span><span>
</span><span id="line-1416"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-1417"></span><span class="hs-comment">-- | Check for monad comprehensions</span><span>
</span><span id="line-1418"></span><span class="hs-comment">--</span><span>
</span><span id="line-1419"></span><span class="hs-comment">-- If the flag MonadComprehensions is set, return a 'MonadComp' context,</span><span>
</span><span id="line-1420"></span><span class="hs-comment">-- otherwise use the usual 'ListComp' context</span><span>
</span><span id="line-1421"></span><span>
</span><span id="line-1422"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkMonadComp"><span class="hs-identifier hs-type">checkMonadComp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsDoFlavour"><span class="hs-identifier hs-type">HsDoFlavour</span></a></span><span>
</span><span id="line-1423"></span><span id="checkMonadComp"><span class="annot"><span class="annottext">checkMonadComp :: PV HsDoFlavour
</span><a href="GHC.Parser.PostProcess.html#checkMonadComp"><span class="hs-identifier hs-var hs-var">checkMonadComp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1424"></span><span>    </span><span id="local-6989586621681790656"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790656"><span class="hs-identifier hs-var">monadComprehensions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; PV Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#MonadComprehensionsBit"><span class="hs-identifier hs-var">MonadComprehensionsBit</span></a></span><span>
</span><span id="line-1425"></span><span>    </span><span class="annot"><span class="annottext">HsDoFlavour -&gt; PV HsDoFlavour
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDoFlavour -&gt; PV HsDoFlavour) -&gt; HsDoFlavour -&gt; PV HsDoFlavour
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790656"><span class="hs-identifier hs-var">monadComprehensions</span></a></span><span>
</span><span id="line-1426"></span><span>                </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="Language.Haskell.Syntax.Expr.html#MonadComp"><span class="hs-identifier hs-var">MonadComp</span></a></span><span>
</span><span id="line-1427"></span><span>                </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="Language.Haskell.Syntax.Expr.html#ListComp"><span class="hs-identifier hs-var">ListComp</span></a></span><span>
</span><span id="line-1428"></span><span>
</span><span id="line-1429"></span><span class="hs-comment">-- -------------------------------------------------------------------------</span><span>
</span><span id="line-1430"></span><span class="hs-comment">-- Expression/command/pattern ambiguity.</span><span>
</span><span id="line-1431"></span><span class="hs-comment">-- See Note [Ambiguous syntactic categories]</span><span>
</span><span id="line-1432"></span><span class="hs-comment">--</span><span>
</span><span id="line-1433"></span><span>
</span><span id="line-1434"></span><span class="hs-comment">-- See Note [Ambiguous syntactic categories]</span><span>
</span><span id="line-1435"></span><span class="hs-comment">--</span><span>
</span><span id="line-1436"></span><span class="hs-comment">-- This newtype is required to avoid impredicative types in monadic</span><span>
</span><span id="line-1437"></span><span class="hs-comment">-- productions. That is, in a production that looks like</span><span>
</span><span id="line-1438"></span><span class="hs-comment">--</span><span>
</span><span id="line-1439"></span><span class="hs-comment">--    | ... {% return (ECP ...) }</span><span>
</span><span id="line-1440"></span><span class="hs-comment">--</span><span>
</span><span id="line-1441"></span><span class="hs-comment">-- we are dealing with</span><span>
</span><span id="line-1442"></span><span class="hs-comment">--    P ECP</span><span>
</span><span id="line-1443"></span><span class="hs-comment">-- whereas without a newtype we would be dealing with</span><span>
</span><span id="line-1444"></span><span class="hs-comment">--    P (forall b. DisambECP b =&gt; PV (Located b))</span><span>
</span><span id="line-1445"></span><span class="hs-comment">--</span><span>
</span><span id="line-1446"></span><span class="hs-keyword">newtype</span><span> </span><span id="ECP"><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-var">ECP</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1447"></span><span>  </span><span id="ECP"><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-var">ECP</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unECP"><span class="annot"><span class="annottext">ECP -&gt; forall b. DisambECP b =&gt; PV (LocatedA b)
</span><a href="GHC.Parser.PostProcess.html#unECP"><span class="hs-identifier hs-var hs-var">unECP</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681790663"><span class="annot"><a href="#local-6989586621681790663"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681790663"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681790663"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1448"></span><span>
</span><span id="line-1449"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromExp"><span class="hs-identifier hs-type">ecpFromExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-type">ECP</span></a></span><span>
</span><span id="line-1450"></span><span id="ecpFromExp"><span class="annot"><span class="annottext">ecpFromExp :: LHsExpr GhcPs -&gt; ECP
</span><a href="GHC.Parser.PostProcess.html#ecpFromExp"><span class="hs-identifier hs-var hs-var">ecpFromExp</span></a></span></span><span> </span><span id="local-6989586621681790664"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681790664"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall b. DisambECP b =&gt; PV (LocatedA b)) -&gt; ECP
</span><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-var">ECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LocatedA b)
forall b. DisambECP b =&gt; LHsExpr GhcPs -&gt; PV (LocatedA b)
</span><a href="GHC.Parser.PostProcess.html#ecpFromExp%27"><span class="hs-identifier hs-var">ecpFromExp'</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681790664"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1451"></span><span>
</span><span id="line-1452"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromCmd"><span class="hs-identifier hs-type">ecpFromCmd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-type">ECP</span></a></span><span>
</span><span id="line-1453"></span><span id="ecpFromCmd"><span class="annot"><span class="annottext">ecpFromCmd :: LHsCmd GhcPs -&gt; ECP
</span><a href="GHC.Parser.PostProcess.html#ecpFromCmd"><span class="hs-identifier hs-var hs-var">ecpFromCmd</span></a></span></span><span> </span><span id="local-6989586621681790671"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621681790671"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall b. DisambECP b =&gt; PV (LocatedA b)) -&gt; ECP
</span><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-var">ECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV (LocatedA b)
forall b. DisambECP b =&gt; LHsCmd GhcPs -&gt; PV (LocatedA b)
</span><a href="GHC.Parser.PostProcess.html#ecpFromCmd%27"><span class="hs-identifier hs-var">ecpFromCmd'</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621681790671"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1454"></span><span>
</span><span id="line-1455"></span><span class="hs-comment">-- The 'fbinds' parser rule produces values of this type. See Note</span><span>
</span><span id="line-1456"></span><span class="hs-comment">-- [RecordDotSyntax field updates].</span><span>
</span><span id="line-1457"></span><span class="hs-keyword">type</span><span> </span><span id="Fbind"><span class="annot"><a href="GHC.Parser.PostProcess.html#Fbind"><span class="hs-identifier hs-var">Fbind</span></a></span></span><span> </span><span id="local-6989586621681790678"><span class="annot"><a href="#local-6989586621681790678"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Either.html#Either/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681790678"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsRecProj"><span class="hs-identifier hs-type">LHsRecProj</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681790678"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1458"></span><span>
</span><span id="line-1459"></span><span class="hs-comment">-- | Disambiguate infix operators.</span><span>
</span><span id="line-1460"></span><span class="hs-comment">-- See Note [Ambiguous syntactic categories]</span><span>
</span><span id="line-1461"></span><span class="hs-keyword">class</span><span> </span><span id="DisambInfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier hs-var">DisambInfixOp</span></a></span></span><span> </span><span id="local-6989586621681788487"><span class="annot"><a href="#local-6989586621681788487"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1462"></span><span>  </span><span id="mkHsVarOpPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsVarOpPV"><span class="hs-identifier hs-type">mkHsVarOpPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788487"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1463"></span><span>  </span><span id="mkHsConOpPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsConOpPV"><span class="hs-identifier hs-type">mkHsConOpPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788487"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1464"></span><span>  </span><span id="mkHsInfixHolePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsInfixHolePV"><span class="hs-identifier hs-type">mkHsInfixHolePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#EpAnnUnboundVar"><span class="hs-identifier hs-type">EpAnnUnboundVar</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788487"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1465"></span><span>
</span><span id="line-1466"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier hs-type">DisambInfixOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1467"></span><span>  </span><span id="local-6989586621681790688"><span class="annot"><span class="annottext">mkHsVarOpPV :: GenLocated SrcSpanAnnN RdrName -&gt; PV (LocatedN (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsVarOpPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarOpPV</span></a></span></span><span> </span><span id="local-6989586621681790689"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790689"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedN (HsExpr GhcPs) -&gt; PV (LocatedN (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedN (HsExpr GhcPs) -&gt; PV (LocatedN (HsExpr GhcPs)))
-&gt; LocatedN (HsExpr GhcPs) -&gt; PV (LocatedN (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; HsExpr GhcPs -&gt; LocatedN (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; SrcSpanAnnN
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790689"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XVar GhcPs -&gt; XRec GhcPs (IdP GhcPs) -&gt; HsExpr GhcPs
forall p. XVar p -&gt; LIdP p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790689"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1468"></span><span>  </span><span id="local-6989586621681790691"><span class="annot"><span class="annottext">mkHsConOpPV :: GenLocated SrcSpanAnnN RdrName -&gt; PV (LocatedN (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsConOpPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsConOpPV</span></a></span></span><span> </span><span id="local-6989586621681790692"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790692"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedN (HsExpr GhcPs) -&gt; PV (LocatedN (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedN (HsExpr GhcPs) -&gt; PV (LocatedN (HsExpr GhcPs)))
-&gt; LocatedN (HsExpr GhcPs) -&gt; PV (LocatedN (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; HsExpr GhcPs -&gt; LocatedN (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; SrcSpanAnnN
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790692"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XVar GhcPs -&gt; XRec GhcPs (IdP GhcPs) -&gt; HsExpr GhcPs
forall p. XVar p -&gt; LIdP p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681790692"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1469"></span><span>  </span><span id="local-6989586621681790696"><span class="annot"><span class="annottext">mkHsInfixHolePV :: SrcSpan
-&gt; (EpAnnComments -&gt; EpAnn EpAnnUnboundVar)
-&gt; PV (Located (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsInfixHolePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsInfixHolePV</span></a></span></span><span> </span><span id="local-6989586621681790697"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790697"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790698"><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnn EpAnnUnboundVar
</span><a href="#local-6989586621681790698"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1470"></span><span>    </span><span id="local-6989586621681790699"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790699"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790697"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1471"></span><span>    </span><span class="annot"><span class="annottext">Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs)))
-&gt; Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; Located (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790697"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnn EpAnnUnboundVar
</span><a href="#local-6989586621681790698"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790699"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1472"></span><span>
</span><span id="line-1473"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier hs-type">DisambInfixOp</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1474"></span><span>  </span><span id="local-6989586621681790706"><span class="annot"><span class="annottext">mkHsConOpPV :: GenLocated SrcSpanAnnN RdrName
-&gt; PV (GenLocated SrcSpanAnnN RdrName)
</span><a href="GHC.Parser.PostProcess.html#mkHsConOpPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsConOpPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790707"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790707"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790708"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790708"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; PV (GenLocated SrcSpanAnnN RdrName)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN RdrName
 -&gt; PV (GenLocated SrcSpanAnnN RdrName))
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; PV (GenLocated SrcSpanAnnN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790707"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790708"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1475"></span><span>  </span><span id="local-6989586621681790710"><span class="annot"><span class="annottext">mkHsVarOpPV :: GenLocated SrcSpanAnnN RdrName
-&gt; PV (GenLocated SrcSpanAnnN RdrName)
</span><a href="GHC.Parser.PostProcess.html#mkHsVarOpPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarOpPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790711"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790711"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790712"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790712"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; PV (GenLocated SrcSpanAnnN RdrName)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN RdrName
 -&gt; PV (GenLocated SrcSpanAnnN RdrName))
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; PV (GenLocated SrcSpanAnnN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790711"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790712"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1476"></span><span>  </span><span id="local-6989586621681790715"><span class="annot"><span class="annottext">mkHsInfixHolePV :: SrcSpan
-&gt; (EpAnnComments -&gt; EpAnn EpAnnUnboundVar) -&gt; PV (Located RdrName)
</span><a href="GHC.Parser.PostProcess.html#mkHsInfixHolePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsInfixHolePV</span></a></span></span><span> </span><span id="local-6989586621681790716"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790716"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">EpAnnComments -&gt; EpAnn EpAnnUnboundVar
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (Located RdrName)
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (Located RdrName))
-&gt; MsgEnvelope PsMessage -&gt; PV (Located RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790716"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrInvalidInfixHole"><span class="hs-identifier hs-var">PsErrInvalidInfixHole</span></a></span><span>
</span><span id="line-1477"></span><span>
</span><span id="line-1478"></span><span class="hs-keyword">type</span><span> </span><span id="AnnoBody"><span class="annot"><a href="GHC.Parser.PostProcess.html#AnnoBody"><span class="hs-identifier hs-var">AnnoBody</span></a></span></span><span> </span><span id="local-6989586621681790718"><span class="annot"><a href="#local-6989586621681790718"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-1479"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681790718"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcAnn"><span class="hs-identifier hs-type">SrcAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-type">NoEpAnns</span></a></span><span>
</span><span id="line-1480"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681790718"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnL"><span class="hs-identifier hs-type">SrcSpanAnnL</span></a></span><span>
</span><span id="line-1481"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681790718"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span>
</span><span id="line-1482"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#StmtLR"><span class="hs-identifier hs-type">StmtLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681790718"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span>
</span><span id="line-1483"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#StmtLR"><span class="hs-identifier hs-type">StmtLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1484"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681790718"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnL"><span class="hs-identifier hs-type">SrcSpanAnnL</span></a></span><span>
</span><span id="line-1485"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1486"></span><span>
</span><span id="line-1487"></span><span class="hs-comment">-- | Disambiguate constructs that may appear when we do not know ahead of time whether we are</span><span>
</span><span id="line-1488"></span><span class="hs-comment">-- parsing an expression, a command, or a pattern.</span><span>
</span><span id="line-1489"></span><span class="hs-comment">-- See Note [Ambiguous syntactic categories]</span><span>
</span><span id="line-1490"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#AnnoBody"><span class="hs-identifier hs-type">AnnoBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="DisambECP"><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-var">DisambECP</span></a></span></span><span> </span><span id="local-6989586621681788441"><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1491"></span><span>  </span><span class="hs-comment">-- | See Note [Body in DisambECP]</span><span>
</span><span id="line-1492"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Body"><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-var">Body</span></a></span></span><span> </span><span id="local-6989586621681788441"><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-1493"></span><span>  </span><span class="hs-comment">-- | Return a command without ambiguity, or fail in a non-command context.</span><span>
</span><span id="line-1494"></span><span>  </span><span id="ecpFromCmd%27"><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromCmd%27"><span class="hs-identifier hs-type">ecpFromCmd'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1495"></span><span>  </span><span class="hs-comment">-- | Return an expression without ambiguity, or fail in a non-expression context.</span><span>
</span><span id="line-1496"></span><span>  </span><span id="ecpFromExp%27"><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromExp%27"><span class="hs-identifier hs-type">ecpFromExp'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1497"></span><span>  </span><span id="mkHsProjUpdatePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsProjUpdatePV"><span class="hs-identifier hs-type">mkHsProjUpdatePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedAn"><span class="hs-identifier hs-type">LocatedAn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-type">NoEpAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#DotFieldOcc"><span class="hs-identifier hs-type">DotFieldOcc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1498"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsRecProj"><span class="hs-identifier hs-type">LHsRecProj</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1499"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;\... -&gt; ...&quot; (lambda)</span><span>
</span><span id="line-1500"></span><span>  </span><span id="mkHsLamPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLamPV"><span class="hs-identifier hs-type">mkHsLamPV</span></a></span></span><span>
</span><span id="line-1501"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnComments"><span class="hs-identifier hs-type">EpAnnComments</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1502"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;let ... in ...&quot;</span><span>
</span><span id="line-1503"></span><span>  </span><span id="mkHsLetPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLetPV"><span class="hs-identifier hs-type">mkHsLetPV</span></a></span></span><span>
</span><span id="line-1504"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1505"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Concrete.html#LHsToken"><span class="hs-identifier hs-type">LHsToken</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;let&quot;</span></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1506"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1507"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Concrete.html#LHsToken"><span class="hs-identifier hs-type">LHsToken</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;in&quot;</span></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1508"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1509"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1510"></span><span>  </span><span class="hs-comment">-- | Infix operator representation</span><span>
</span><span id="line-1511"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="InfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-var">InfixOp</span></a></span></span><span> </span><span id="local-6989586621681788441"><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-1512"></span><span>  </span><span class="hs-comment">-- | Bring superclass constraints on InfixOp into scope.</span><span>
</span><span id="line-1513"></span><span>  </span><span class="hs-comment">-- See Note [UndecidableSuperClasses for associated types]</span><span>
</span><span id="line-1514"></span><span>  </span><span id="superInfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#superInfixOp"><span class="hs-identifier hs-type">superInfixOp</span></a></span></span><span>
</span><span id="line-1515"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier hs-type">DisambInfixOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-type">InfixOp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1516"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;f # x&quot; (infix operator)</span><span>
</span><span id="line-1517"></span><span>  </span><span id="mkHsOpAppPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsOpAppPV"><span class="hs-identifier hs-type">mkHsOpAppPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-type">InfixOp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1518"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1519"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;case ... of ...&quot;</span><span>
</span><span id="line-1520"></span><span>  </span><span id="mkHsCasePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsCasePV"><span class="hs-identifier hs-type">mkHsCasePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1521"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#EpAnnHsCase"><span class="hs-identifier hs-type">EpAnnHsCase</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1522"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;\case&quot; and &quot;\cases&quot;</span><span>
</span><span id="line-1523"></span><span>  </span><span id="mkHsLamCasePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLamCasePV"><span class="hs-identifier hs-type">mkHsLamCasePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LamCaseVariant"><span class="hs-identifier hs-type">LamCaseVariant</span></a></span><span>
</span><span id="line-1524"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1525"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1526"></span><span>  </span><span class="hs-comment">-- | Function argument representation</span><span>
</span><span id="line-1527"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="FunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-var">FunArg</span></a></span></span><span> </span><span id="local-6989586621681788441"><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-1528"></span><span>  </span><span class="hs-comment">-- | Bring superclass constraints on FunArg into scope.</span><span>
</span><span id="line-1529"></span><span>  </span><span class="hs-comment">-- See Note [UndecidableSuperClasses for associated types]</span><span>
</span><span id="line-1530"></span><span>  </span><span id="superFunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#superFunArg"><span class="hs-identifier hs-type">superFunArg</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-type">FunArg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1531"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;f x&quot; (function application)</span><span>
</span><span id="line-1532"></span><span>  </span><span id="mkHsAppPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAppPV"><span class="hs-identifier hs-type">mkHsAppPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-type">FunArg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1533"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;f @t&quot; (visible type application)</span><span>
</span><span id="line-1534"></span><span>  </span><span id="mkHsAppTypePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAppTypePV"><span class="hs-identifier hs-type">mkHsAppTypePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Concrete.html#LHsToken"><span class="hs-identifier hs-type">LHsToken</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1535"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;if ... then ... else ...&quot;</span><span>
</span><span id="line-1536"></span><span>  </span><span id="mkHsIfPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsIfPV"><span class="hs-identifier hs-type">mkHsIfPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1537"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1538"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>  </span><span class="hs-comment">-- semicolon?</span><span>
</span><span id="line-1539"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1540"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>  </span><span class="hs-comment">-- semicolon?</span><span>
</span><span id="line-1541"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1542"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#AnnsIf"><span class="hs-identifier hs-type">AnnsIf</span></a></span><span>
</span><span id="line-1543"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1544"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;do { ... }&quot; (do notation)</span><span>
</span><span id="line-1545"></span><span>  </span><span id="mkHsDoPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsDoPV"><span class="hs-identifier hs-type">mkHsDoPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1546"></span><span>    </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1547"></span><span>    </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1548"></span><span>    </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1549"></span><span>    </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-type">AnnList</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1550"></span><span>    </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1551"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;( ... )&quot; (parentheses)</span><span>
</span><span id="line-1552"></span><span>  </span><span id="mkHsParPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsParPV"><span class="hs-identifier hs-type">mkHsParPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Concrete.html#LHsToken"><span class="hs-identifier hs-type">LHsToken</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;(&quot;</span></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Concrete.html#LHsToken"><span class="hs-identifier hs-type">LHsToken</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1553"></span><span>  </span><span class="hs-comment">-- | Disambiguate a variable &quot;f&quot; or a data constructor &quot;MkF&quot;.</span><span>
</span><span id="line-1554"></span><span>  </span><span id="mkHsVarPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsVarPV"><span class="hs-identifier hs-type">mkHsVarPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1555"></span><span>  </span><span class="hs-comment">-- | Disambiguate a monomorphic literal</span><span>
</span><span id="line-1556"></span><span>  </span><span id="mkHsLitPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLitPV"><span class="hs-identifier hs-type">mkHsLitPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1557"></span><span>  </span><span class="hs-comment">-- | Disambiguate an overloaded literal</span><span>
</span><span id="line-1558"></span><span>  </span><span id="mkHsOverLitPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsOverLitPV"><span class="hs-identifier hs-type">mkHsOverLitPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621681788499"><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedAn"><span class="hs-identifier hs-type">LocatedAn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788499"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsOverLit"><span class="hs-identifier hs-type">HsOverLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedAn"><span class="hs-identifier hs-type">LocatedAn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788499"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1559"></span><span>  </span><span class="hs-comment">-- | Disambiguate a wildcard</span><span>
</span><span id="line-1560"></span><span>  </span><span id="mkHsWildCardPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsWildCardPV"><span class="hs-identifier hs-type">mkHsWildCardPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1561"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;a :: t&quot; (type annotation)</span><span>
</span><span id="line-1562"></span><span>  </span><span id="mkHsTySigPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsTySigPV"><span class="hs-identifier hs-type">mkHsTySigPV</span></a></span></span><span>
</span><span id="line-1563"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1564"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;[a,b,c]&quot; (list syntax)</span><span>
</span><span id="line-1565"></span><span>  </span><span id="mkHsExplicitListPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsExplicitListPV"><span class="hs-identifier hs-type">mkHsExplicitListPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-type">AnnList</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1566"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;$(...)&quot; and &quot;[quasi|...|]&quot; (TH splices)</span><span>
</span><span id="line-1567"></span><span>  </span><span id="mkHsSplicePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsSplicePV"><span class="hs-identifier hs-type">mkHsSplicePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsUntypedSplice"><span class="hs-identifier hs-type">HsUntypedSplice</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1568"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;f { a = b, ... }&quot; syntax (record construction and record updates)</span><span>
</span><span id="line-1569"></span><span>  </span><span id="mkHsRecordPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsRecordPV"><span class="hs-identifier hs-type">mkHsRecordPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1570"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-comment">-- Is OverloadedRecordUpdate in effect?</span><span>
</span><span id="line-1571"></span><span>    </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1572"></span><span>    </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1573"></span><span>    </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1574"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Fbind"><span class="hs-identifier hs-type">Fbind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1575"></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1576"></span><span>    </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1577"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;-a&quot; (negation)</span><span>
</span><span id="line-1578"></span><span>  </span><span id="mkHsNegAppPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsNegAppPV"><span class="hs-identifier hs-type">mkHsNegAppPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1579"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;(# a)&quot; (right operator section)</span><span>
</span><span id="line-1580"></span><span>  </span><span id="mkHsSectionR_PV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsSectionR_PV"><span class="hs-identifier hs-type">mkHsSectionR_PV</span></a></span></span><span>
</span><span id="line-1581"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-type">InfixOp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1582"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;(a -&gt; b)&quot; (view pattern)</span><span>
</span><span id="line-1583"></span><span>  </span><span id="mkHsViewPatPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsViewPatPV"><span class="hs-identifier hs-type">mkHsViewPatPV</span></a></span></span><span>
</span><span id="line-1584"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1585"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;a@b&quot; (as-pattern)</span><span>
</span><span id="line-1586"></span><span>  </span><span id="mkHsAsPatPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAsPatPV"><span class="hs-identifier hs-type">mkHsAsPatPV</span></a></span></span><span>
</span><span id="line-1587"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Concrete.html#LHsToken"><span class="hs-identifier hs-type">LHsToken</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1588"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;~a&quot; (lazy pattern)</span><span>
</span><span id="line-1589"></span><span>  </span><span id="mkHsLazyPatPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLazyPatPV"><span class="hs-identifier hs-type">mkHsLazyPatPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1590"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;!a&quot; (bang pattern)</span><span>
</span><span id="line-1591"></span><span>  </span><span id="mkHsBangPatPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsBangPatPV"><span class="hs-identifier hs-type">mkHsBangPatPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1592"></span><span>  </span><span class="hs-comment">-- | Disambiguate tuple sections and unboxed sums</span><span>
</span><span id="line-1593"></span><span>  </span><span id="mkSumOrTuplePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePV"><span class="hs-identifier hs-type">mkSumOrTuplePV</span></a></span></span><span>
</span><span id="line-1594"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#SumOrTuple"><span class="hs-identifier hs-type">SumOrTuple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1595"></span><span>  </span><span class="hs-comment">-- | Validate infixexp LHS to reject unwanted {-# SCC ... #-} pragmas</span><span>
</span><span id="line-1596"></span><span>  </span><span id="rejectPragmaPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-type">rejectPragmaPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788441"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1597"></span><span>
</span><span id="line-1598"></span><span class="hs-comment">{- Note [UndecidableSuperClasses for associated types]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
(This Note is about the code in GHC, not about the user code that we are parsing)

Assume we have a class C with an associated type T:

  class C a where
    type T a
    ...

If we want to add 'C (T a)' as a superclass, we need -XUndecidableSuperClasses:

  {-# LANGUAGE UndecidableSuperClasses #-}
  class C (T a) =&gt; C a where
    type T a
    ...

Unfortunately, -XUndecidableSuperClasses don't work all that well, sometimes
making GHC loop. The workaround is to bring this constraint into scope
manually with a helper method:

  class C a where
    type T a
    superT :: (C (T a) =&gt; r) -&gt; r

In order to avoid ambiguous types, 'r' must mention 'a'.

For consistency, we use this approach for all constraints on associated types,
even when -XUndecidableSuperClasses are not required.
-}</span><span>
</span><span id="line-1628"></span><span>
</span><span id="line-1629"></span><span class="hs-comment">{- Note [Body in DisambECP]
~~~~~~~~~~~~~~~~~~~~~~~~~~~
There are helper functions (mkBodyStmt, mkBindStmt, unguardedRHS, etc) that
require their argument to take a form of (body GhcPs) for some (body :: Type -&gt;
*). To satisfy this requirement, we say that (b ~ Body b GhcPs) in the
superclass constraints of DisambECP.

The alternative is to change mkBodyStmt, mkBindStmt, unguardedRHS, etc, to drop
this requirement. It is possible and would allow removing the type index of
PatBuilder, but leads to worse type inference, breaking some code in the
typechecker.
-}</span><span>
</span><span id="line-1641"></span><span>
</span><span id="line-1642"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1643"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Body"><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-var">Body</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span>
</span><span id="line-1644"></span><span>  </span><span id="local-6989586621681790794"><span class="annot"><span class="annottext">ecpFromCmd' :: LHsCmd GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#ecpFromCmd%27"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromCmd'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span>
</span><span id="line-1645"></span><span>  </span><span id="local-6989586621681790813"><span class="annot"><span class="annottext">ecpFromExp' :: LHsExpr GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#ecpFromExp%27"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromExp'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790814"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790814"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790815"><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681790815"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790814"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681790815"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1646"></span><span>  </span><span id="local-6989586621681790819"><span class="annot"><span class="annottext">mkHsProjUpdatePV :: SrcSpan
-&gt; Located [LocatedAn NoEpAnns (DotFieldOcc GhcPs)]
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; Bool
-&gt; [AddEpAnn]
-&gt; PV (LHsRecProj GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
</span><a href="GHC.Parser.PostProcess.html#mkHsProjUpdatePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsProjUpdatePV</span></a></span></span><span> </span><span id="local-6989586621681790820"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790820"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Located [LocatedAn NoEpAnns (DotFieldOcc GhcPs)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage
-&gt; PV (LHsRecProj GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage
 -&gt; PV (LHsRecProj GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))))
-&gt; MsgEnvelope PsMessage
-&gt; PV (LHsRecProj GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790820"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1647"></span><span>                                                 </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrOverloadedRecordDotInvalid"><span class="hs-identifier hs-var">PsErrOverloadedRecordDotInvalid</span></a></span><span>
</span><span id="line-1648"></span><span>  </span><span id="local-6989586621681790825"><span class="annot"><span class="annottext">mkHsLamPV :: SrcSpan
-&gt; (EpAnnComments
    -&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLamPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamPV</span></a></span></span><span> </span><span id="local-6989586621681790826"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790826"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790827"><span class="annot"><span class="annottext">EpAnnComments
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681790827"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1649"></span><span>    </span><span id="local-6989586621681790828"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790828"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790826"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1650"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; HsCmd GhcPs -&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790826"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdLam GhcPs -&gt; MatchGroup GhcPs (LHsCmd GhcPs) -&gt; HsCmd GhcPs
forall id. XCmdLam id -&gt; MatchGroup id (LHsCmd id) -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdLam"><span class="hs-identifier hs-var">HsCmdLam</span></a></span><span> </span><span class="annot"><span class="annottext">XCmdLam GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#NoExtField"><span class="hs-identifier hs-var">NoExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnnComments
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681790827"><span class="hs-identifier hs-var">mg</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790828"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1651"></span><span>  </span><span id="local-6989586621681790833"><span class="annot"><span class="annottext">mkHsLetPV :: SrcSpan
-&gt; LHsToken &quot;let&quot; GhcPs
-&gt; HsLocalBinds GhcPs
-&gt; LHsToken &quot;in&quot; GhcPs
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLetPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLetPV</span></a></span></span><span> </span><span id="local-6989586621681790834"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790834"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790835"><span class="annot"><span class="annottext">LHsToken &quot;let&quot; GhcPs
</span><a href="#local-6989586621681790835"><span class="hs-identifier hs-var">tkLet</span></a></span></span><span> </span><span id="local-6989586621681790836"><span class="annot"><span class="annottext">HsLocalBinds GhcPs
</span><a href="#local-6989586621681790836"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621681790837"><span class="annot"><span class="annottext">LHsToken &quot;in&quot; GhcPs
</span><a href="#local-6989586621681790837"><span class="hs-identifier hs-var">tkIn</span></a></span></span><span> </span><span id="local-6989586621681790838"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790838"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1652"></span><span>    </span><span id="local-6989586621681790839"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790839"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790834"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1653"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; HsCmd GhcPs -&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790834"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdLet GhcPs
-&gt; LHsToken &quot;let&quot; GhcPs
-&gt; HsLocalBinds GhcPs
-&gt; LHsToken &quot;in&quot; GhcPs
-&gt; LHsCmd GhcPs
-&gt; HsCmd GhcPs
forall id.
XCmdLet id
-&gt; LHsToken &quot;let&quot; id
-&gt; HsLocalBinds id
-&gt; LHsToken &quot;in&quot; id
-&gt; LHsCmd id
-&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdLet"><span class="hs-identifier hs-var">HsCmdLet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; NoEpAnns -&gt; EpAnnComments -&gt; EpAnn NoEpAnns
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790834"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NoEpAnns
</span><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-var">NoEpAnns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790839"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;let&quot; GhcPs
</span><a href="#local-6989586621681790835"><span class="hs-identifier hs-var">tkLet</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcPs
</span><a href="#local-6989586621681790836"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;in&quot; GhcPs
</span><a href="#local-6989586621681790837"><span class="hs-identifier hs-var">tkIn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790838"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1654"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="InfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-var">InfixOp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1655"></span><span>  </span><span id="local-6989586621681790842"><span class="annot"><span class="annottext">superInfixOp :: (DisambInfixOp (InfixOp (HsCmd GhcPs)) =&gt;
 PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#superInfixOp"><span class="hs-identifier hs-var hs-var hs-var hs-var">superInfixOp</span></a></span></span><span> </span><span id="local-6989586621681790843"><span class="annot"><span class="annottext">DisambInfixOp (InfixOp (HsCmd GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681790843"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
DisambInfixOp (InfixOp (HsCmd GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681790843"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1656"></span><span>  </span><span id="local-6989586621681790855"><span class="annot"><span class="annottext">mkHsOpAppPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; LocatedN (InfixOp (HsCmd GhcPs))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsOpAppPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOpAppPV</span></a></span></span><span> </span><span id="local-6989586621681790856"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790856"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790857"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790857"><span class="hs-identifier hs-var">c1</span></a></span></span><span> </span><span id="local-6989586621681790858"><span class="annot"><span class="annottext">LocatedN (InfixOp (HsCmd GhcPs))
</span><a href="#local-6989586621681790858"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681790859"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790859"><span class="hs-identifier hs-var">c2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1657"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681790864"><span class="annot"><span class="annottext">cmdArg :: GenLocated (SrcSpanAnn' a) (HsCmd p)
-&gt; GenLocated (SrcAnn ann) (HsCmdTop p)
</span><a href="#local-6989586621681790864"><span class="hs-identifier hs-var hs-var">cmdArg</span></a></span></span><span> </span><span id="local-6989586621681790865"><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) (HsCmd p)
</span><a href="#local-6989586621681790865"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcAnn ann -&gt; HsCmdTop p -&gt; GenLocated (SrcAnn ann) (HsCmdTop p)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnn' a -&gt; SrcAnn ann
forall a ann. SrcSpanAnn' a -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpanAnn' a -&gt; SrcAnn ann) -&gt; SrcSpanAnn' a -&gt; SrcAnn ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) (HsCmd p) -&gt; SrcSpanAnn' a
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcSpanAnn' a) (HsCmd p)
</span><a href="#local-6989586621681790865"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(HsCmdTop p -&gt; GenLocated (SrcAnn ann) (HsCmdTop p))
-&gt; HsCmdTop p -&gt; GenLocated (SrcAnn ann) (HsCmdTop p)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XCmdTop p -&gt; XRec p (HsCmd p) -&gt; HsCmdTop p
forall p. XCmdTop p -&gt; LHsCmd p -&gt; HsCmdTop p
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdTop"><span class="hs-identifier hs-var">HsCmdTop</span></a></span><span> </span><span class="annot"><span class="annottext">XCmdTop p
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">XRec p (HsCmd p)
GenLocated (SrcSpanAnn' a) (HsCmd p)
</span><a href="#local-6989586621681790865"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1658"></span><span>    </span><span id="local-6989586621681790867"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790867"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790856"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1659"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; HsCmd GhcPs -&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790856"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(HsCmd GhcPs -&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs))
-&gt; HsCmd GhcPs -&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XCmdArrForm GhcPs
-&gt; LHsExpr GhcPs
-&gt; LexicalFixity
-&gt; Maybe Fixity
-&gt; [LHsCmdTop GhcPs]
-&gt; HsCmd GhcPs
forall id.
XCmdArrForm id
-&gt; LHsExpr id
-&gt; LexicalFixity
-&gt; Maybe Fixity
-&gt; [LHsCmdTop id]
-&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdArrForm"><span class="hs-identifier hs-var">HsCmdArrForm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790856"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Anchor
-&gt; Maybe AddEpAnn
-&gt; Maybe AddEpAnn
-&gt; [AddEpAnn]
-&gt; [TrailingAnn]
-&gt; AnnList
</span><a href="GHC.Parser.Annotation.html#AnnList"><span class="hs-identifier hs-var">AnnList</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Anchor
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe AddEpAnn
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe AddEpAnn
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790867"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedN (HsExpr GhcPs) -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall e. LocatedN e -&gt; LocatedA e
</span><a href="GHC.Parser.Annotation.html#reLocL"><span class="hs-identifier hs-var">reLocL</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedN (HsExpr GhcPs)
LocatedN (InfixOp (HsCmd GhcPs))
</span><a href="#local-6989586621681790858"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Fixity.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Fixity
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; GenLocated (SrcAnn NoEpAnns) (HsCmdTop GhcPs)
forall {p} {a} {ann}.
(XCmdTop p ~ NoExtField,
 XRec p (HsCmd p) ~ GenLocated (SrcSpanAnn' a) (HsCmd p)) =&gt;
GenLocated (SrcSpanAnn' a) (HsCmd p)
-&gt; GenLocated (SrcAnn ann) (HsCmdTop p)
</span><a href="#local-6989586621681790864"><span class="hs-identifier hs-var">cmdArg</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790857"><span class="hs-identifier hs-var">c1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; GenLocated (SrcAnn NoEpAnns) (HsCmdTop GhcPs)
forall {p} {a} {ann}.
(XCmdTop p ~ NoExtField,
 XRec p (HsCmd p) ~ GenLocated (SrcSpanAnn' a) (HsCmd p)) =&gt;
GenLocated (SrcSpanAnn' a) (HsCmd p)
-&gt; GenLocated (SrcAnn ann) (HsCmdTop p)
</span><a href="#local-6989586621681790864"><span class="hs-identifier hs-var">cmdArg</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790859"><span class="hs-identifier hs-var">c2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1660"></span><span>  </span><span id="local-6989586621681790874"><span class="annot"><span class="annottext">mkHsCasePV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; LocatedL [LMatch GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
-&gt; EpAnnHsCase
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsCasePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsCasePV</span></a></span></span><span> </span><span id="local-6989586621681790875"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790875"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790876"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681790876"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790877"><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681790877"><span class="hs-identifier hs-var">lm</span></a></span></span><span> </span><span id="local-6989586621681790878"><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
</span><a href="#local-6989586621681790878"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790879"><span class="annot"><span class="annottext">EpAnnHsCase
</span><a href="#local-6989586621681790879"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1661"></span><span>    </span><span id="local-6989586621681790880"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790880"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790875"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1662"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681790881"><span class="annot"><span class="annottext">mg :: MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681790881"><span class="hs-identifier hs-var hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Origin
-&gt; LocatedL
     [LocatedA (Match GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall (p :: Pass) (body :: * -&gt; *).
AnnoBody p body =&gt;
Origin
-&gt; LocatedL
     [LocatedA (Match (GhcPass p) (LocatedA (body (GhcPass p))))]
-&gt; MatchGroup (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-var">mkMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="GHC.Types.Basic.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnL
-&gt; [LocatedA (Match GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
-&gt; LocatedL
     [LocatedA (Match GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681790877"><span class="hs-identifier hs-var">lm</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
[LocatedA (Match GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
</span><a href="#local-6989586621681790878"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1663"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; HsCmd GhcPs -&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790875"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdCase GhcPs
-&gt; LHsExpr GhcPs -&gt; MatchGroup GhcPs (LHsCmd GhcPs) -&gt; HsCmd GhcPs
forall id.
XCmdCase id -&gt; LHsExpr id -&gt; MatchGroup id (LHsCmd id) -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdCase"><span class="hs-identifier hs-var">HsCmdCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; EpAnnHsCase -&gt; EpAnnComments -&gt; EpAnn EpAnnHsCase
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790875"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnHsCase
</span><a href="#local-6989586621681790879"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790880"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681790876"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsCmd GhcPs)
MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681790881"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1664"></span><span>  </span><span id="local-6989586621681790886"><span class="annot"><span class="annottext">mkHsLamCasePV :: SrcSpan
-&gt; LamCaseVariant
-&gt; LocatedL [LMatch GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLamCasePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamCasePV</span></a></span></span><span> </span><span id="local-6989586621681790887"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790887"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790888"><span class="annot"><span class="annottext">LamCaseVariant
</span><a href="#local-6989586621681790888"><span class="hs-identifier hs-var">lc_variant</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790889"><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681790889"><span class="hs-identifier hs-var">lm</span></a></span></span><span> </span><span id="local-6989586621681790890"><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
</span><a href="#local-6989586621681790890"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681790891"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790891"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1665"></span><span>    </span><span id="local-6989586621681790892"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790892"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790887"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1666"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681790893"><span class="annot"><span class="annottext">mg :: MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681790893"><span class="hs-identifier hs-var hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Origin
-&gt; LamCaseVariant
-&gt; LocatedL
     [LocatedA (Match GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall (p :: Pass) (body :: * -&gt; *).
AnnoBody p body =&gt;
Origin
-&gt; LamCaseVariant
-&gt; LocatedL
     [LocatedA (Match (GhcPass p) (LocatedA (body (GhcPass p))))]
-&gt; MatchGroup (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkLamCaseMatchGroup"><span class="hs-identifier hs-var">mkLamCaseMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="GHC.Types.Basic.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a></span><span> </span><span class="annot"><span class="annottext">LamCaseVariant
</span><a href="#local-6989586621681790888"><span class="hs-identifier hs-var">lc_variant</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnL
-&gt; [LocatedA (Match GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
-&gt; LocatedL
     [LocatedA (Match GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681790889"><span class="hs-identifier hs-var">lm</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
[LocatedA (Match GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
</span><a href="#local-6989586621681790890"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1667"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; HsCmd GhcPs -&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790887"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdLamCase GhcPs
-&gt; LamCaseVariant -&gt; MatchGroup GhcPs (LHsCmd GhcPs) -&gt; HsCmd GhcPs
forall id.
XCmdLamCase id
-&gt; LamCaseVariant -&gt; MatchGroup id (LHsCmd id) -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdLamCase"><span class="hs-identifier hs-var">HsCmdLamCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790887"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681790891"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790892"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LamCaseVariant
</span><a href="#local-6989586621681790888"><span class="hs-identifier hs-var">lc_variant</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsCmd GhcPs)
MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681790893"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1668"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="FunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-var">FunArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1669"></span><span>  </span><span id="local-6989586621681790898"><span class="annot"><span class="annottext">superFunArg :: (DisambECP (FunArg (HsCmd GhcPs)) =&gt;
 PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#superFunArg"><span class="hs-identifier hs-var hs-var hs-var hs-var">superFunArg</span></a></span></span><span> </span><span id="local-6989586621681790899"><span class="annot"><span class="annottext">DisambECP (FunArg (HsCmd GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681790899"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
DisambECP (FunArg (HsCmd GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="#local-6989586621681790899"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1670"></span><span>  </span><span id="local-6989586621681790905"><span class="annot"><span class="annottext">mkHsAppPV :: SrcSpanAnnA
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; LocatedA (FunArg (HsCmd GhcPs))
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsAppPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppPV</span></a></span></span><span> </span><span id="local-6989586621681790906"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790906"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790907"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790907"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681790908"><span class="annot"><span class="annottext">LocatedA (FunArg (HsCmd GhcPs))
</span><a href="#local-6989586621681790908"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1671"></span><span>    </span><span id="local-6989586621681790909"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790909"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790906"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1672"></span><span>    </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkCmdBlockArguments"><span class="hs-identifier hs-var">checkCmdBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790907"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1673"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
LocatedA (FunArg (HsCmd GhcPs))
</span><a href="#local-6989586621681790908"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1674"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; HsCmd GhcPs -&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790906"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdApp GhcPs -&gt; LHsCmd GhcPs -&gt; LHsExpr GhcPs -&gt; HsCmd GhcPs
forall id. XCmdApp id -&gt; LHsCmd id -&gt; LHsExpr id -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdApp"><span class="hs-identifier hs-var">HsCmdApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpAnnComments -&gt; EpAnn NoEpAnns
</span><a href="GHC.Parser.Annotation.html#comment"><span class="hs-identifier hs-var">comment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; RealSrcSpan) -&gt; SrcSpan -&gt; RealSrcSpan
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790906"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790909"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790907"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
LocatedA (FunArg (HsCmd GhcPs))
</span><a href="#local-6989586621681790908"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1675"></span><span>  </span><span id="local-6989586621681790935"><span class="annot"><span class="annottext">mkHsAppTypePV :: SrcSpanAnnA
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; LHsToken &quot;@&quot; GhcPs
-&gt; LHsType GhcPs
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsAppTypePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTypePV</span></a></span></span><span> </span><span id="local-6989586621681790936"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790936"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790937"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790937"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;@&quot; GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681790938"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681790938"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681790936"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790937"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681790938"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1676"></span><span>  </span><span id="local-6989586621681790958"><span class="annot"><span class="annottext">mkHsIfPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; Bool
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; AnnsIf
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsIfPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsIfPV</span></a></span></span><span> </span><span id="local-6989586621681790959"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790959"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790960"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681790960"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681790961"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790961"><span class="hs-identifier hs-var">semi1</span></a></span></span><span> </span><span id="local-6989586621681790962"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790962"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681790963"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790963"><span class="hs-identifier hs-var">semi2</span></a></span></span><span> </span><span id="local-6989586621681790964"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790964"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681790965"><span class="annot"><span class="annottext">AnnsIf
</span><a href="#local-6989586621681790965"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1677"></span><span>    </span><span class="annot"><span class="annottext">(HsExpr GhcPs
 -&gt; Bool -&gt; HsCmd GhcPs -&gt; Bool -&gt; HsCmd GhcPs -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; Bool
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; Bool
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV ()
forall a b c.
(Outputable a, Outputable b, Outputable c) =&gt;
(a -&gt; Bool -&gt; b -&gt; Bool -&gt; c -&gt; PsMessage)
-&gt; LocatedA a -&gt; Bool -&gt; LocatedA b -&gt; Bool -&gt; LocatedA c -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkDoAndIfThenElse"><span class="hs-identifier hs-var">checkDoAndIfThenElse</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
-&gt; Bool -&gt; HsCmd GhcPs -&gt; Bool -&gt; HsCmd GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrSemiColonsInCondCmd"><span class="hs-identifier hs-var">PsErrSemiColonsInCondCmd</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681790960"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790961"><span class="hs-identifier hs-var">semi1</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790962"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681790963"><span class="hs-identifier hs-var">semi2</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790964"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1678"></span><span>    </span><span id="local-6989586621681790967"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790967"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790959"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1679"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; HsCmd GhcPs -&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790959"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs
-&gt; LHsCmd GhcPs -&gt; LHsCmd GhcPs -&gt; EpAnn AnnsIf -&gt; HsCmd GhcPs
</span><a href="GHC.Hs.Utils.html#mkHsCmdIf"><span class="hs-identifier hs-var">mkHsCmdIf</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681790960"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790962"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790964"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; AnnsIf -&gt; EpAnnComments -&gt; EpAnn AnnsIf
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790959"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnsIf
</span><a href="#local-6989586621681790965"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790967"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1680"></span><span>  </span><span id="local-6989586621681790974"><span class="annot"><span class="annottext">mkHsDoPV :: SrcSpan
-&gt; Maybe ModuleName
-&gt; LocatedL [LStmt GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
-&gt; AnnList
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsDoPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsDoPV</span></a></span></span><span> </span><span id="local-6989586621681790975"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790975"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span id="local-6989586621681790976"><span class="annot"><span class="annottext">LocatedL [LStmt GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
</span><a href="#local-6989586621681790976"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span id="local-6989586621681790977"><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681790977"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1681"></span><span>    </span><span id="local-6989586621681790978"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790978"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790975"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1682"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; HsCmd GhcPs -&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790975"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdDo GhcPs -&gt; XRec GhcPs [CmdLStmt GhcPs] -&gt; HsCmd GhcPs
forall id. XCmdDo id -&gt; XRec id [CmdLStmt id] -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdDo"><span class="hs-identifier hs-var">HsCmdDo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790975"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681790977"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790978"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs [CmdLStmt GhcPs]
LocatedL [LStmt GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
</span><a href="#local-6989586621681790976"><span class="hs-identifier hs-var">stmts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1683"></span><span>  </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsDoPV"><span class="hs-identifier hs-var">mkHsDoPV</span></a></span><span> </span><span id="local-6989586621681790979"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790979"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681790980"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621681790980"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="annot"><span class="annottext">LocatedL [LStmt GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AnnList
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage
 -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; MsgEnvelope PsMessage
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790979"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrQualifiedDoInCmd"><span class="hs-identifier hs-var">PsErrQualifiedDoInCmd</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621681790980"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1684"></span><span>  </span><span id="local-6989586621681790985"><span class="annot"><span class="annottext">mkHsParPV :: SrcSpan
-&gt; LHsToken &quot;(&quot; GhcPs
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; LHsToken &quot;)&quot; GhcPs
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsParPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsParPV</span></a></span></span><span> </span><span id="local-6989586621681790986"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790986"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790987"><span class="annot"><span class="annottext">LHsToken &quot;(&quot; GhcPs
</span><a href="#local-6989586621681790987"><span class="hs-identifier hs-var">lpar</span></a></span></span><span> </span><span id="local-6989586621681790988"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790988"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681790989"><span class="annot"><span class="annottext">LHsToken &quot;)&quot; GhcPs
</span><a href="#local-6989586621681790989"><span class="hs-identifier hs-var">rpar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1685"></span><span>    </span><span id="local-6989586621681790990"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790990"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790986"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1686"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; HsCmd GhcPs -&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790986"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdPar GhcPs
-&gt; LHsToken &quot;(&quot; GhcPs
-&gt; LHsCmd GhcPs
-&gt; LHsToken &quot;)&quot; GhcPs
-&gt; HsCmd GhcPs
forall id.
XCmdPar id
-&gt; LHsToken &quot;(&quot; id -&gt; LHsCmd id -&gt; LHsToken &quot;)&quot; id -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdPar"><span class="hs-identifier hs-var">HsCmdPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; NoEpAnns -&gt; EpAnnComments -&gt; EpAnn NoEpAnns
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790986"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NoEpAnns
</span><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-var">NoEpAnns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681790990"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;(&quot; GhcPs
</span><a href="#local-6989586621681790987"><span class="hs-identifier hs-var">lpar</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681790988"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;)&quot; GhcPs
</span><a href="#local-6989586621681790989"><span class="hs-identifier hs-var">rpar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1687"></span><span>  </span><span id="local-6989586621681790993"><span class="annot"><span class="annottext">mkHsVarPV :: GenLocated SrcSpanAnnN RdrName
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsVarPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790994"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790994"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681790995"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790995"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681790994"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681790995"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1688"></span><span>  </span><span id="local-6989586621681790998"><span class="annot"><span class="annottext">mkHsLitPV :: Located (HsLit GhcPs) -&gt; PV (Located (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLitPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681790999"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790999"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791000"><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681791000"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681790999"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681791000"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1689"></span><span>  </span><span id="local-6989586621681791013"><span class="annot"><span class="annottext">mkHsOverLitPV :: forall a.
LocatedAn a (HsOverLit GhcPs) -&gt; PV (LocatedAn a (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsOverLitPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOverLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791014"><span class="annot"><span class="annottext">SrcAnn a
</span><a href="#local-6989586621681791014"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791015"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681791015"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LocatedAn a (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcAnn a -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcAnn a
</span><a href="#local-6989586621681791014"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsOverLit GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681791015"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1690"></span><span>  </span><span id="local-6989586621681791017"><span class="annot"><span class="annottext">mkHsWildCardPV :: SrcSpan -&gt; PV (Located (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsWildCardPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsWildCardPV</span></a></span></span><span> </span><span id="local-6989586621681791018"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791018"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791018"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1691"></span><span>  </span><span id="local-6989586621681791039"><span class="annot"><span class="annottext">mkHsTySigPV :: SrcSpanAnnA
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; LHsType GhcPs
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsTySigPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsTySigPV</span></a></span></span><span> </span><span id="local-6989586621681791040"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791040"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791041"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791041"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681791042"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791042"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791040"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791041"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;::&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791042"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1692"></span><span>  </span><span id="local-6989586621681791058"><span class="annot"><span class="annottext">mkHsExplicitListPV :: SrcSpan
-&gt; [GenLocated SrcSpanAnnA (HsCmd GhcPs)]
-&gt; AnnList
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsExplicitListPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsExplicitListPV</span></a></span></span><span> </span><span id="local-6989586621681791059"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791059"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791060"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsCmd GhcPs)]
</span><a href="#local-6989586621681791060"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="annot"><span class="annottext">AnnList
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791059"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1693"></span><span>    </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; SDoc)
-&gt; [GenLocated SrcSpanAnnA (HsCmd GhcPs)] -&gt; SDoc
forall a. (a -&gt; SDoc) -&gt; [a] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprWithCommas"><span class="hs-identifier hs-var">pprWithCommas</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsCmd GhcPs)]
</span><a href="#local-6989586621681791060"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1694"></span><span>  </span><span id="local-6989586621681791073"><span class="annot"><span class="annottext">mkHsSplicePV :: Located (HsUntypedSplice GhcPs) -&gt; PV (Located (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsSplicePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSplicePV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791074"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791074"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791075"><span class="annot"><span class="annottext">HsUntypedSplice GhcPs
</span><a href="#local-6989586621681791075"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791074"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Maybe Name -&gt; HsUntypedSplice GhcPs -&gt; SDoc
forall (p :: Pass).
OutputableBndrId p =&gt;
Bool -&gt; Maybe Name -&gt; HsUntypedSplice (GhcPass p) -&gt; SDoc
</span><a href="GHC.Hs.Expr.html#pprUntypedSplice"><span class="hs-identifier hs-var">pprUntypedSplice</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">Maybe Name
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">HsUntypedSplice GhcPs
</span><a href="#local-6989586621681791075"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1695"></span><span>  </span><span id="local-6989586621681791118"><span class="annot"><span class="annottext">mkHsRecordPV :: Bool
-&gt; SrcSpan
-&gt; SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; ([Fbind (HsCmd GhcPs)], Maybe SrcSpan)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsRecordPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsRecordPV</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681791119"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791119"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681791120"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791120"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681791121"><span class="annot"><span class="annottext">[Fbind (HsCmd GhcPs)]
</span><a href="#local-6989586621681791121"><span class="hs-identifier hs-var">fbinds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681791122"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681791122"><span class="hs-identifier hs-var">ddLoc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1696"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681791123"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
      (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
</span><a href="#local-6989586621681791123"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681791124"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
      (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
</span><a href="#local-6989586621681791124"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Either
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
         (GenLocated SrcSpanAnnA (HsCmd GhcPs))))
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
         (GenLocated SrcSpanAnnA (HsCmd GhcPs))))]
-&gt; ([GenLocated
       SrcSpanAnnA
       (HsFieldBind
          (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
          (GenLocated SrcSpanAnnA (HsCmd GhcPs)))],
    [GenLocated
       SrcSpanAnnA
       (HsFieldBind
          (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
          (GenLocated SrcSpanAnnA (HsCmd GhcPs)))])
forall a b. [Either a b] -&gt; ([a], [b])
</span><a href="../../base-4.18.3.0/src/Data.Either.html#partitionEithers/Data.Either.html#partitionEithers"><span class="hs-identifier hs-var">partitionEithers</span></a></span><span> </span><span class="annot"><span class="annottext">[Fbind (HsCmd GhcPs)]
[Either
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
         (GenLocated SrcSpanAnnA (HsCmd GhcPs))))
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
         (GenLocated SrcSpanAnnA (HsCmd GhcPs))))]
</span><a href="#local-6989586621681791121"><span class="hs-identifier hs-var">fbinds</span></a></span><span>
</span><span id="line-1697"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
      (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
-&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
      (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
</span><a href="#local-6989586621681791124"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1698"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage
 -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; MsgEnvelope PsMessage
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791119"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrOverloadedRecordDotInvalid"><span class="hs-identifier hs-var">PsErrOverloadedRecordDotInvalid</span></a></span><span>
</span><span id="line-1699"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791119"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791120"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HsRecFields GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LocatedA
   (HsRecField GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
-&gt; Maybe SrcSpan
-&gt; HsRecFields GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall (p :: Pass) arg.
[LocatedA (HsRecField (GhcPass p) arg)]
-&gt; Maybe SrcSpan -&gt; HsRecFields (GhcPass p) arg
</span><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var">mk_rec_fields</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA
   (HsRecField GhcPs (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
      (GenLocated SrcSpanAnnA (HsCmd GhcPs)))]
</span><a href="#local-6989586621681791123"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681791122"><span class="hs-identifier hs-var">ddLoc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1700"></span><span>  </span><span id="local-6989586621681791143"><span class="annot"><span class="annottext">mkHsNegAppPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsNegAppPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsNegAppPV</span></a></span></span><span> </span><span id="local-6989586621681791144"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791144"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791145"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791145"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791144"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791145"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1701"></span><span>  </span><span id="local-6989586621681791164"><span class="annot"><span class="annottext">mkHsSectionR_PV :: SrcSpan
-&gt; LocatedA (InfixOp (HsCmd GhcPs))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (Located (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsSectionR_PV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSectionR_PV</span></a></span></span><span> </span><span id="local-6989586621681791165"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791165"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791166"><span class="annot"><span class="annottext">LocatedA (InfixOp (HsCmd GhcPs))
</span><a href="#local-6989586621681791166"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681791167"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791167"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791165"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (Located (HsCmd GhcPs)))
-&gt; SDoc -&gt; PV (Located (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1702"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681791168"><span class="annot"><span class="annottext">pp_op :: SDoc
</span><a href="#local-6989586621681791168"><span class="hs-identifier hs-var hs-var">pp_op</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Maybe SDoc -&gt; SDoc
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../base-4.18.3.0/src/Data.Maybe.html#fromMaybe/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cannot print infix operator&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1703"></span><span>                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; Maybe SDoc
forall (p :: Pass).
OutputableBndrId p =&gt;
HsExpr (GhcPass p) -&gt; Maybe SDoc
</span><a href="GHC.Hs.Expr.html#ppr_infix_expr"><span class="hs-identifier hs-var">ppr_infix_expr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; HsExpr GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
LocatedA (InfixOp (HsCmd GhcPs))
</span><a href="#local-6989586621681791166"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1704"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681791168"><span class="hs-identifier hs-var">pp_op</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791167"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1705"></span><span>  </span><span id="local-6989586621681791191"><span class="annot"><span class="annottext">mkHsViewPatPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsViewPatPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsViewPatPV</span></a></span></span><span> </span><span id="local-6989586621681791192"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791192"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791193"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681791193"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681791194"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791194"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791192"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1706"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791193"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&gt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791194"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1707"></span><span>  </span><span id="local-6989586621681791211"><span class="annot"><span class="annottext">mkHsAsPatPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LHsToken &quot;@&quot; GhcPs
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsAsPatPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAsPatPV</span></a></span></span><span> </span><span id="local-6989586621681791212"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791212"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791213"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791213"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;@&quot; GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681791214"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791214"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791212"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1708"></span><span>    </span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. OutputableBndr a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791213"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791214"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1709"></span><span>  </span><span id="local-6989586621681791232"><span class="annot"><span class="annottext">mkHsLazyPatPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLazyPatPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLazyPatPV</span></a></span></span><span> </span><span id="local-6989586621681791233"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791233"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791234"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791234"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791233"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1710"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;~&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791234"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1711"></span><span>  </span><span id="local-6989586621681791251"><span class="annot"><span class="annottext">mkHsBangPatPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsBangPatPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsBangPatPV</span></a></span></span><span> </span><span id="local-6989586621681791252"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791252"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791253"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791253"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791252"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs)))
-&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1712"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;!&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><a href="#local-6989586621681791253"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1713"></span><span>  </span><span id="local-6989586621681791265"><span class="annot"><span class="annottext">mkSumOrTuplePV :: SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (HsCmd GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkSumOrTuplePV</span></a></span></span><span> </span><span id="local-6989586621681791266"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791266"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791267"><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621681791267"><span class="hs-identifier hs-var">boxity</span></a></span></span><span> </span><span id="local-6989586621681791268"><span class="annot"><span class="annottext">SumOrTuple (HsCmd GhcPs)
</span><a href="#local-6989586621681791268"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (GenLocated SrcSpanAnnA (HsCmd GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791266"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Boxity -&gt; SumOrTuple (HsCmd GhcPs) -&gt; SDoc
forall b. Outputable b =&gt; Boxity -&gt; SumOrTuple b -&gt; SDoc
</span><a href="GHC.Parser.Types.html#pprSumOrTuple"><span class="hs-identifier hs-var">pprSumOrTuple</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621681791267"><span class="hs-identifier hs-var">boxity</span></a></span><span> </span><span class="annot"><span class="annottext">SumOrTuple (HsCmd GhcPs)
</span><a href="#local-6989586621681791268"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1714"></span><span>  </span><span id="local-6989586621681791271"><span class="annot"><span class="annottext">rejectPragmaPV :: GenLocated SrcSpanAnnA (HsCmd GhcPs) -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">rejectPragmaPV</span></a></span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsCmd GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1715"></span><span>
</span><span id="line-1716"></span><span id="local-6989586621681788510"><span class="annot"><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-type">cmdFail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788510"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1717"></span><span id="cmdFail"><span class="annot"><span class="annottext">cmdFail :: forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var hs-var">cmdFail</span></a></span></span><span> </span><span id="local-6989586621681791274"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791274"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681791275"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681791275"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV a
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV a) -&gt; MsgEnvelope PsMessage -&gt; PV a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791274"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrParseErrorInCmd"><span class="hs-identifier hs-var">PsErrParseErrorInCmd</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681791275"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1718"></span><span>
</span><span id="line-1719"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkLamMatchGroup"><span class="hs-identifier hs-type">checkLamMatchGroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1720"></span><span id="checkLamMatchGroup"><span class="annot"><span class="annottext">checkLamMatchGroup :: SrcSpan -&gt; MatchGroup GhcPs (LHsExpr GhcPs) -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkLamMatchGroup"><span class="hs-identifier hs-var hs-var">checkLamMatchGroup</span></a></span></span><span> </span><span id="local-6989586621681791278"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791278"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681791279"><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621681791279"><span class="hs-identifier hs-var">matches</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1721"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; PV () -&gt; PV ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#when/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; [LPat GhcPs]
forall (id :: Pass) body.
LMatch (GhcPass id) body -&gt; [LPat (GhcPass id)]
</span><a href="GHC.Hs.Expr.html#hsLMatchPats"><span class="hs-identifier hs-var">hsLMatchPats</span></a></span><span> </span><span class="annot"><span class="annottext">LMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
GenLocated
  SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621681791279"><span class="hs-identifier hs-var">matches</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PV () -&gt; PV ()) -&gt; PV () -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV ()) -&gt; MsgEnvelope PsMessage -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791278"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrEmptyLambda"><span class="hs-identifier hs-var">PsErrEmptyLambda</span></a></span><span>
</span><span id="line-1722"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkLamMatchGroup"><span class="hs-identifier hs-var">checkLamMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1723"></span><span>
</span><span id="line-1724"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1725"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Body"><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-var">Body</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span>
</span><span id="line-1726"></span><span>  </span><span id="local-6989586621681791328"><span class="annot"><span class="annottext">ecpFromCmd' :: LHsCmd GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#ecpFromCmd%27"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromCmd'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791329"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791329"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791330"><span class="annot"><span class="annottext">HsCmd GhcPs
</span><a href="#local-6989586621681791330"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1727"></span><span>    </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV ()) -&gt; MsgEnvelope PsMessage -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791329"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HsCmd GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrArrowCmdInExpr"><span class="hs-identifier hs-var">PsErrArrowCmdInExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsCmd GhcPs
</span><a href="#local-6989586621681791330"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1728"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791329"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar
forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1729"></span><span>  </span><span id="local-6989586621681791333"><span class="annot"><span class="annottext">ecpFromExp' :: LHsExpr GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#ecpFromExp%27"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromExp'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span>
</span><span id="line-1730"></span><span>  </span><span id="local-6989586621681791337"><span class="annot"><span class="annottext">mkHsProjUpdatePV :: SrcSpan
-&gt; Located [LocatedAn NoEpAnns (DotFieldOcc GhcPs)]
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; Bool
-&gt; [AddEpAnn]
-&gt; PV (LHsRecProj GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="GHC.Parser.PostProcess.html#mkHsProjUpdatePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsProjUpdatePV</span></a></span></span><span> </span><span id="local-6989586621681791338"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791338"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791339"><span class="annot"><span class="annottext">Located [LocatedAn NoEpAnns (DotFieldOcc GhcPs)]
</span><a href="#local-6989586621681791339"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span id="local-6989586621681791340"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791340"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681791341"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681791341"><span class="hs-identifier hs-var">isPun</span></a></span></span><span> </span><span id="local-6989586621681791342"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791342"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1731"></span><span>    </span><span id="local-6989586621681791343"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791343"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791338"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1732"></span><span>    </span><span class="annot"><span class="annottext">LHsRecProj GhcPs (LHsExpr GhcPs)
-&gt; PV (LHsRecProj GhcPs (LHsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsRecProj GhcPs (LHsExpr GhcPs)
 -&gt; PV (LHsRecProj GhcPs (LHsExpr GhcPs)))
-&gt; LHsRecProj GhcPs (LHsExpr GhcPs)
-&gt; PV (LHsRecProj GhcPs (LHsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Located [LocatedAn NoEpAnns (DotFieldOcc GhcPs)]
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; EpAnn [AddEpAnn]
-&gt; LHsRecProj GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRdrProjUpdate"><span class="hs-identifier hs-var">mkRdrProjUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791338"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Located [LocatedAn NoEpAnns (DotFieldOcc GhcPs)]
</span><a href="#local-6989586621681791339"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791340"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681791341"><span class="hs-identifier hs-var">isPun</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791338"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791342"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791343"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1733"></span><span>  </span><span id="local-6989586621681791349"><span class="annot"><span class="annottext">mkHsLamPV :: SrcSpan
-&gt; (EpAnnComments
    -&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLamPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamPV</span></a></span></span><span> </span><span id="local-6989586621681791350"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791350"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791351"><span class="annot"><span class="annottext">EpAnnComments
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681791351"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1734"></span><span>    </span><span id="local-6989586621681791352"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791352"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791350"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1735"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681791353"><span class="annot"><span class="annottext">mg' :: MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681791353"><span class="hs-identifier hs-var hs-var">mg'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681791351"><span class="hs-identifier hs-var">mg</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791352"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-1736"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; MatchGroup GhcPs (LHsExpr GhcPs) -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkLamMatchGroup"><span class="hs-identifier hs-var">checkLamMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791350"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681791353"><span class="hs-identifier hs-var">mg'</span></a></span><span>
</span><span id="line-1737"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791350"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLam GhcPs -&gt; MatchGroup GhcPs (LHsExpr GhcPs) -&gt; HsExpr GhcPs
forall p. XLam p -&gt; MatchGroup p (LHsExpr p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsLam"><span class="hs-identifier hs-var">HsLam</span></a></span><span> </span><span class="annot"><span class="annottext">XLam GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#NoExtField"><span class="hs-identifier hs-var">NoExtField</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681791353"><span class="hs-identifier hs-var">mg'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1738"></span><span>  </span><span id="local-6989586621681791357"><span class="annot"><span class="annottext">mkHsLetPV :: SrcSpan
-&gt; LHsToken &quot;let&quot; GhcPs
-&gt; HsLocalBinds GhcPs
-&gt; LHsToken &quot;in&quot; GhcPs
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLetPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLetPV</span></a></span></span><span> </span><span id="local-6989586621681791358"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791358"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791359"><span class="annot"><span class="annottext">LHsToken &quot;let&quot; GhcPs
</span><a href="#local-6989586621681791359"><span class="hs-identifier hs-var">tkLet</span></a></span></span><span> </span><span id="local-6989586621681791360"><span class="annot"><span class="annottext">HsLocalBinds GhcPs
</span><a href="#local-6989586621681791360"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621681791361"><span class="annot"><span class="annottext">LHsToken &quot;in&quot; GhcPs
</span><a href="#local-6989586621681791361"><span class="hs-identifier hs-var">tkIn</span></a></span></span><span> </span><span id="local-6989586621681791362"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791362"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1739"></span><span>    </span><span id="local-6989586621681791363"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791363"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791358"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1740"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791358"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLet GhcPs
-&gt; LHsToken &quot;let&quot; GhcPs
-&gt; HsLocalBinds GhcPs
-&gt; LHsToken &quot;in&quot; GhcPs
-&gt; LHsExpr GhcPs
-&gt; HsExpr GhcPs
forall p.
XLet p
-&gt; LHsToken &quot;let&quot; p
-&gt; HsLocalBinds p
-&gt; LHsToken &quot;in&quot; p
-&gt; LHsExpr p
-&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsLet"><span class="hs-identifier hs-var">HsLet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; NoEpAnns -&gt; EpAnnComments -&gt; EpAnn NoEpAnns
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791358"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NoEpAnns
</span><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-var">NoEpAnns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791363"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;let&quot; GhcPs
</span><a href="#local-6989586621681791359"><span class="hs-identifier hs-var">tkLet</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcPs
</span><a href="#local-6989586621681791360"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;in&quot; GhcPs
</span><a href="#local-6989586621681791361"><span class="hs-identifier hs-var">tkIn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791362"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1741"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="InfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-var">InfixOp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1742"></span><span>  </span><span id="local-6989586621681791366"><span class="annot"><span class="annottext">superInfixOp :: (DisambInfixOp (InfixOp (HsExpr GhcPs)) =&gt;
 PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#superInfixOp"><span class="hs-identifier hs-var hs-var hs-var hs-var">superInfixOp</span></a></span></span><span> </span><span id="local-6989586621681791367"><span class="annot"><span class="annottext">DisambInfixOp (InfixOp (HsExpr GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681791367"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
DisambInfixOp (InfixOp (HsExpr GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681791367"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1743"></span><span>  </span><span id="local-6989586621681791371"><span class="annot"><span class="annottext">mkHsOpAppPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; LocatedN (InfixOp (HsExpr GhcPs))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsOpAppPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOpAppPV</span></a></span></span><span> </span><span id="local-6989586621681791372"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791372"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791373"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791373"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621681791374"><span class="annot"><span class="annottext">LocatedN (InfixOp (HsExpr GhcPs))
</span><a href="#local-6989586621681791374"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681791375"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791375"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1744"></span><span>    </span><span id="local-6989586621681791376"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791376"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791372"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1745"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791372"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XOpApp GhcPs
-&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; HsExpr GhcPs
forall p.
XOpApp p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#OpApp"><span class="hs-identifier hs-var">OpApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791372"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791376"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791373"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedN (HsExpr GhcPs) -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall e. LocatedN e -&gt; LocatedA e
</span><a href="GHC.Parser.Annotation.html#reLocL"><span class="hs-identifier hs-var">reLocL</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedN (HsExpr GhcPs)
LocatedN (InfixOp (HsExpr GhcPs))
</span><a href="#local-6989586621681791374"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791375"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-1746"></span><span>  </span><span id="local-6989586621681791382"><span class="annot"><span class="annottext">mkHsCasePV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; LocatedL [LMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
-&gt; EpAnnHsCase
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsCasePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsCasePV</span></a></span></span><span> </span><span id="local-6989586621681791383"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791383"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791384"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681791384"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791385"><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681791385"><span class="hs-identifier hs-var">lm</span></a></span></span><span> </span><span id="local-6989586621681791386"><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
</span><a href="#local-6989586621681791386"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681791387"><span class="annot"><span class="annottext">EpAnnHsCase
</span><a href="#local-6989586621681791387"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1747"></span><span>    </span><span id="local-6989586621681791388"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791388"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791383"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1748"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681791389"><span class="annot"><span class="annottext">mg :: MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681791389"><span class="hs-identifier hs-var hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Origin
-&gt; GenLocated
     SrcSpanAnnL
     [GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall (p :: Pass) (body :: * -&gt; *).
AnnoBody p body =&gt;
Origin
-&gt; LocatedL
     [LocatedA (Match (GhcPass p) (LocatedA (body (GhcPass p))))]
-&gt; MatchGroup (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-var">mkMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="GHC.Types.Basic.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnL
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; GenLocated
     SrcSpanAnnL
     [GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681791385"><span class="hs-identifier hs-var">lm</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681791386"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1749"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791383"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCase GhcPs
-&gt; LHsExpr GhcPs
-&gt; MatchGroup GhcPs (LHsExpr GhcPs)
-&gt; HsExpr GhcPs
forall p.
XCase p -&gt; LHsExpr p -&gt; MatchGroup p (LHsExpr p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsCase"><span class="hs-identifier hs-var">HsCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; EpAnnHsCase -&gt; EpAnnComments -&gt; EpAnn EpAnnHsCase
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791383"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnHsCase
</span><a href="#local-6989586621681791387"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791388"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681791384"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681791389"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1750"></span><span>  </span><span id="local-6989586621681791394"><span class="annot"><span class="annottext">mkHsLamCasePV :: SrcSpan
-&gt; LamCaseVariant
-&gt; LocatedL [LMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLamCasePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamCasePV</span></a></span></span><span> </span><span id="local-6989586621681791395"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791395"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791396"><span class="annot"><span class="annottext">LamCaseVariant
</span><a href="#local-6989586621681791396"><span class="hs-identifier hs-var">lc_variant</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791397"><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681791397"><span class="hs-identifier hs-var">lm</span></a></span></span><span> </span><span id="local-6989586621681791398"><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
</span><a href="#local-6989586621681791398"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681791399"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791399"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1751"></span><span>    </span><span id="local-6989586621681791400"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791400"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791395"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1752"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681791401"><span class="annot"><span class="annottext">mg :: MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681791401"><span class="hs-identifier hs-var hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Origin
-&gt; LamCaseVariant
-&gt; GenLocated
     SrcSpanAnnL
     [GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall (p :: Pass) (body :: * -&gt; *).
AnnoBody p body =&gt;
Origin
-&gt; LamCaseVariant
-&gt; LocatedL
     [LocatedA (Match (GhcPass p) (LocatedA (body (GhcPass p))))]
-&gt; MatchGroup (GhcPass p) (LocatedA (body (GhcPass p)))
</span><a href="GHC.Hs.Utils.html#mkLamCaseMatchGroup"><span class="hs-identifier hs-var">mkLamCaseMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="GHC.Types.Basic.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a></span><span> </span><span class="annot"><span class="annottext">LamCaseVariant
</span><a href="#local-6989586621681791396"><span class="hs-identifier hs-var">lc_variant</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnL
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; GenLocated
     SrcSpanAnnL
     [GenLocated
        SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><a href="#local-6989586621681791397"><span class="hs-identifier hs-var">lm</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
[GenLocated
   SrcSpanAnnA (Match GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681791398"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1753"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791395"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLamCase GhcPs
-&gt; LamCaseVariant
-&gt; MatchGroup GhcPs (LHsExpr GhcPs)
-&gt; HsExpr GhcPs
forall p.
XLamCase p
-&gt; LamCaseVariant -&gt; MatchGroup p (LHsExpr p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsLamCase"><span class="hs-identifier hs-var">HsLamCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791395"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791399"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791400"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LamCaseVariant
</span><a href="#local-6989586621681791396"><span class="hs-identifier hs-var">lc_variant</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
MatchGroup GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681791401"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1754"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="FunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-var">FunArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1755"></span><span>  </span><span id="local-6989586621681791404"><span class="annot"><span class="annottext">superFunArg :: (DisambECP (FunArg (HsExpr GhcPs)) =&gt;
 PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#superFunArg"><span class="hs-identifier hs-var hs-var hs-var hs-var">superFunArg</span></a></span></span><span> </span><span id="local-6989586621681791405"><span class="annot"><span class="annottext">DisambECP (FunArg (HsExpr GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681791405"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
DisambECP (FunArg (HsExpr GhcPs)) =&gt;
PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="#local-6989586621681791405"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1756"></span><span>  </span><span id="local-6989586621681791411"><span class="annot"><span class="annottext">mkHsAppPV :: SrcSpanAnnA
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; LocatedA (FunArg (HsExpr GhcPs))
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsAppPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppPV</span></a></span></span><span> </span><span id="local-6989586621681791412"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791412"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791413"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791413"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621681791414"><span class="annot"><span class="annottext">LocatedA (FunArg (HsExpr GhcPs))
</span><a href="#local-6989586621681791414"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1757"></span><span>    </span><span id="local-6989586621681791415"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791415"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791412"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1758"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791413"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-1759"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
LocatedA (FunArg (HsExpr GhcPs))
</span><a href="#local-6989586621681791414"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-1760"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791412"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XApp GhcPs -&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; HsExpr GhcPs
forall p. XApp p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsApp"><span class="hs-identifier hs-var">HsApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpAnnComments -&gt; EpAnn NoEpAnns
</span><a href="GHC.Parser.Annotation.html#comment"><span class="hs-identifier hs-var">comment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; RealSrcSpan) -&gt; SrcSpan -&gt; RealSrcSpan
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791412"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791415"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791413"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
LocatedA (FunArg (HsExpr GhcPs))
</span><a href="#local-6989586621681791414"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1761"></span><span>  </span><span id="local-6989586621681791419"><span class="annot"><span class="annottext">mkHsAppTypePV :: SrcSpanAnnA
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; LHsToken &quot;@&quot; GhcPs
-&gt; LHsType GhcPs
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsAppTypePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTypePV</span></a></span></span><span> </span><span id="local-6989586621681791420"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791420"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791421"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791421"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681791422"><span class="annot"><span class="annottext">LHsToken &quot;@&quot; GhcPs
</span><a href="#local-6989586621681791422"><span class="hs-identifier hs-var">at</span></a></span></span><span> </span><span id="local-6989586621681791423"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791423"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1762"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791421"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1763"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791420"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XAppTypeE GhcPs
-&gt; LHsExpr GhcPs
-&gt; LHsToken &quot;@&quot; GhcPs
-&gt; LHsWcType (NoGhcTc GhcPs)
-&gt; HsExpr GhcPs
forall p.
XAppTypeE p
-&gt; LHsExpr p -&gt; LHsToken &quot;@&quot; p -&gt; LHsWcType (NoGhcTc p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsAppType"><span class="hs-identifier hs-var">HsAppType</span></a></span><span> </span><span class="annot"><span class="annottext">XAppTypeE GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791421"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;@&quot; GhcPs
</span><a href="#local-6989586621681791422"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; HsWildCardBndrs GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))
forall thing. thing -&gt; HsWildCardBndrs GhcPs thing
</span><a href="GHC.Hs.Type.html#mkHsWildCardBndrs"><span class="hs-identifier hs-var">mkHsWildCardBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791423"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1764"></span><span>  </span><span id="local-6989586621681791443"><span class="annot"><span class="annottext">mkHsIfPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; Bool
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; AnnsIf
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsIfPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsIfPV</span></a></span></span><span> </span><span id="local-6989586621681791444"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791444"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791445"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681791445"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681791446"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681791446"><span class="hs-identifier hs-var">semi1</span></a></span></span><span> </span><span id="local-6989586621681791447"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791447"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681791448"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681791448"><span class="hs-identifier hs-var">semi2</span></a></span></span><span> </span><span id="local-6989586621681791449"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791449"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681791450"><span class="annot"><span class="annottext">AnnsIf
</span><a href="#local-6989586621681791450"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1765"></span><span>    </span><span class="annot"><span class="annottext">(HsExpr GhcPs
 -&gt; Bool -&gt; HsExpr GhcPs -&gt; Bool -&gt; HsExpr GhcPs -&gt; PsMessage)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; Bool
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; Bool
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV ()
forall a b c.
(Outputable a, Outputable b, Outputable c) =&gt;
(a -&gt; Bool -&gt; b -&gt; Bool -&gt; c -&gt; PsMessage)
-&gt; LocatedA a -&gt; Bool -&gt; LocatedA b -&gt; Bool -&gt; LocatedA c -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkDoAndIfThenElse"><span class="hs-identifier hs-var">checkDoAndIfThenElse</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
-&gt; Bool -&gt; HsExpr GhcPs -&gt; Bool -&gt; HsExpr GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrSemiColonsInCondExpr"><span class="hs-identifier hs-var">PsErrSemiColonsInCondExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791445"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681791446"><span class="hs-identifier hs-var">semi1</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791447"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681791448"><span class="hs-identifier hs-var">semi2</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791449"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1766"></span><span>    </span><span id="local-6989586621681791452"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791452"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791444"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1767"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791444"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs
-&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; EpAnn AnnsIf -&gt; HsExpr GhcPs
</span><a href="GHC.Hs.Utils.html#mkHsIf"><span class="hs-identifier hs-var">mkHsIf</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681791445"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791447"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791449"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; AnnsIf -&gt; EpAnnComments -&gt; EpAnn AnnsIf
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791444"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnsIf
</span><a href="#local-6989586621681791450"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791452"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1768"></span><span>  </span><span id="local-6989586621681791457"><span class="annot"><span class="annottext">mkHsDoPV :: SrcSpan
-&gt; Maybe ModuleName
-&gt; LocatedL [LStmt GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
-&gt; AnnList
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsDoPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsDoPV</span></a></span></span><span> </span><span id="local-6989586621681791458"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791458"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791459"><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621681791459"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621681791460"><span class="annot"><span class="annottext">LocatedL [LStmt GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
</span><a href="#local-6989586621681791460"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span id="local-6989586621681791461"><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681791461"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1769"></span><span>    </span><span id="local-6989586621681791462"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791462"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791458"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1770"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791458"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XDo GhcPs
-&gt; HsDoFlavour -&gt; XRec GhcPs [ExprLStmt GhcPs] -&gt; HsExpr GhcPs
forall p. XDo p -&gt; HsDoFlavour -&gt; XRec p [ExprLStmt p] -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsDo"><span class="hs-identifier hs-var">HsDo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791458"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681791461"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791462"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ModuleName -&gt; HsDoFlavour
</span><a href="Language.Haskell.Syntax.Expr.html#DoExpr"><span class="hs-identifier hs-var">DoExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621681791459"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs [ExprLStmt GhcPs]
LocatedL [LStmt GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
</span><a href="#local-6989586621681791460"><span class="hs-identifier hs-var">stmts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1771"></span><span>  </span><span id="local-6989586621681791466"><span class="annot"><span class="annottext">mkHsParPV :: SrcSpan
-&gt; LHsToken &quot;(&quot; GhcPs
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; LHsToken &quot;)&quot; GhcPs
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsParPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsParPV</span></a></span></span><span> </span><span id="local-6989586621681791467"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791467"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791468"><span class="annot"><span class="annottext">LHsToken &quot;(&quot; GhcPs
</span><a href="#local-6989586621681791468"><span class="hs-identifier hs-var">lpar</span></a></span></span><span> </span><span id="local-6989586621681791469"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791469"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681791470"><span class="annot"><span class="annottext">LHsToken &quot;)&quot; GhcPs
</span><a href="#local-6989586621681791470"><span class="hs-identifier hs-var">rpar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1772"></span><span>    </span><span id="local-6989586621681791471"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791471"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791467"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1773"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791467"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XPar GhcPs
-&gt; LHsToken &quot;(&quot; GhcPs
-&gt; LHsExpr GhcPs
-&gt; LHsToken &quot;)&quot; GhcPs
-&gt; HsExpr GhcPs
forall p.
XPar p -&gt; LHsToken &quot;(&quot; p -&gt; LHsExpr p -&gt; LHsToken &quot;)&quot; p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsPar"><span class="hs-identifier hs-var">HsPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; NoEpAnns -&gt; EpAnnComments -&gt; EpAnn NoEpAnns
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791467"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NoEpAnns
</span><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-var">NoEpAnns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791471"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;(&quot; GhcPs
</span><a href="#local-6989586621681791468"><span class="hs-identifier hs-var">lpar</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791469"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;)&quot; GhcPs
</span><a href="#local-6989586621681791470"><span class="hs-identifier hs-var">rpar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1774"></span><span>  </span><span id="local-6989586621681791474"><span class="annot"><span class="annottext">mkHsVarPV :: GenLocated SrcSpanAnnN RdrName
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsVarPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarPV</span></a></span></span><span> </span><span id="local-6989586621681791475"><span class="annot"><span class="annottext">v :: GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791475"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791476"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681791476"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; SrcSpanAnnA
forall a ann. SrcSpanAnn' a -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#na2la"><span class="hs-identifier hs-var">na2la</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681791476"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XVar GhcPs -&gt; XRec GhcPs (IdP GhcPs) -&gt; HsExpr GhcPs
forall p. XVar p -&gt; LIdP p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791475"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1775"></span><span>  </span><span id="local-6989586621681791481"><span class="annot"><span class="annottext">mkHsLitPV :: Located (HsLit GhcPs) -&gt; PV (Located (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLitPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791482"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791482"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791483"><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681791483"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1776"></span><span>    </span><span id="local-6989586621681791484"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791484"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791482"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1777"></span><span>    </span><span class="annot"><span class="annottext">Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs)))
-&gt; Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; Located (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791482"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLitE GhcPs -&gt; HsLit GhcPs -&gt; HsExpr GhcPs
forall p. XLitE p -&gt; HsLit p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsLit"><span class="hs-identifier hs-var">HsLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpAnnComments -&gt; EpAnn NoEpAnns
</span><a href="GHC.Parser.Annotation.html#comment"><span class="hs-identifier hs-var">comment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791482"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791484"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681791483"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1778"></span><span>  </span><span id="local-6989586621681791489"><span class="annot"><span class="annottext">mkHsOverLitPV :: forall a.
LocatedAn a (HsOverLit GhcPs) -&gt; PV (LocatedAn a (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsOverLitPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOverLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791490"><span class="annot"><span class="annottext">SrcAnn a
</span><a href="#local-6989586621681791490"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791491"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681791491"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1779"></span><span>    </span><span id="local-6989586621681791492"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791492"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcAnn a -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcAnn a
</span><a href="#local-6989586621681791490"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1780"></span><span>    </span><span class="annot"><span class="annottext">LocatedAn a (HsExpr GhcPs) -&gt; PV (LocatedAn a (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedAn a (HsExpr GhcPs) -&gt; PV (LocatedAn a (HsExpr GhcPs)))
-&gt; LocatedAn a (HsExpr GhcPs) -&gt; PV (LocatedAn a (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcAnn a -&gt; HsExpr GhcPs -&gt; LocatedAn a (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcAnn a
</span><a href="#local-6989586621681791490"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XOverLitE GhcPs -&gt; HsOverLit GhcPs -&gt; HsExpr GhcPs
forall p. XOverLitE p -&gt; HsOverLit p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsOverLit"><span class="hs-identifier hs-var">HsOverLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpAnnComments -&gt; EpAnn NoEpAnns
</span><a href="GHC.Parser.Annotation.html#comment"><span class="hs-identifier hs-var">comment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcAnn a -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcAnn a
</span><a href="#local-6989586621681791490"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791492"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681791491"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1781"></span><span>  </span><span id="local-6989586621681791495"><span class="annot"><span class="annottext">mkHsWildCardPV :: SrcSpan -&gt; PV (Located (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsWildCardPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsWildCardPV</span></a></span></span><span> </span><span id="local-6989586621681791496"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791496"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs)))
-&gt; Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; Located (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791496"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar
forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1782"></span><span>  </span><span id="local-6989586621681791500"><span class="annot"><span class="annottext">mkHsTySigPV :: SrcSpanAnnA
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; LHsType GhcPs
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsTySigPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsTySigPV</span></a></span></span><span> </span><span id="local-6989586621681791501"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791501"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791502"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791502"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681791503"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791503"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span id="local-6989586621681791504"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791504"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1783"></span><span>    </span><span id="local-6989586621681791505"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791505"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791501"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1784"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791501"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XExprWithTySig GhcPs
-&gt; LHsExpr GhcPs -&gt; LHsSigWcType (NoGhcTc GhcPs) -&gt; HsExpr GhcPs
forall p.
XExprWithTySig p
-&gt; LHsExpr p -&gt; LHsSigWcType (NoGhcTc p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#ExprWithTySig"><span class="hs-identifier hs-var">ExprWithTySig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; Anchor) -&gt; SrcSpan -&gt; Anchor
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791501"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791504"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791505"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791502"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsSigWcType GhcPs
</span><a href="GHC.Hs.Utils.html#hsTypeToHsSigWcType"><span class="hs-identifier hs-var">hsTypeToHsSigWcType</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791503"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1785"></span><span>  </span><span id="local-6989586621681791511"><span class="annot"><span class="annottext">mkHsExplicitListPV :: SrcSpan
-&gt; [GenLocated SrcSpanAnnA (HsExpr GhcPs)]
-&gt; AnnList
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsExplicitListPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsExplicitListPV</span></a></span></span><span> </span><span id="local-6989586621681791512"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791512"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791513"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsExpr GhcPs)]
</span><a href="#local-6989586621681791513"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621681791514"><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681791514"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1786"></span><span>    </span><span id="local-6989586621681791515"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791515"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791512"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1787"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791512"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XExplicitList GhcPs -&gt; [LHsExpr GhcPs] -&gt; HsExpr GhcPs
forall p. XExplicitList p -&gt; [LHsExpr p] -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#ExplicitList"><span class="hs-identifier hs-var">ExplicitList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791512"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681791514"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791515"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsExpr GhcPs]
[GenLocated SrcSpanAnnA (HsExpr GhcPs)]
</span><a href="#local-6989586621681791513"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1788"></span><span>  </span><span id="local-6989586621681791521"><span class="annot"><span class="annottext">mkHsSplicePV :: Located (HsUntypedSplice GhcPs) -&gt; PV (Located (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsSplicePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSplicePV</span></a></span></span><span> </span><span id="local-6989586621681791522"><span class="annot"><span class="annottext">sp :: Located (HsUntypedSplice GhcPs)
</span><a href="#local-6989586621681791522"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791523"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791523"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsUntypedSplice GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1789"></span><span>    </span><span id="local-6989586621681791524"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791524"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791523"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1790"></span><span>    </span><span class="annot"><span class="annottext">Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs)))
-&gt; Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(HsUntypedSplice GhcPs -&gt; HsExpr GhcPs)
-&gt; Located (HsUntypedSplice GhcPs) -&gt; Located (HsExpr GhcPs)
forall a b.
(a -&gt; b) -&gt; GenLocated SrcSpan a -&gt; GenLocated SrcSpan b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XUntypedSplice GhcPs -&gt; HsUntypedSplice GhcPs -&gt; HsExpr GhcPs
forall p. XUntypedSplice p -&gt; HsUntypedSplice p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsUntypedSplice"><span class="hs-identifier hs-var">HsUntypedSplice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; NoEpAnns -&gt; EpAnnComments -&gt; EpAnn NoEpAnns
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791523"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NoEpAnns
</span><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-var">NoEpAnns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791524"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Located (HsUntypedSplice GhcPs)
</span><a href="#local-6989586621681791522"><span class="hs-identifier hs-var">sp</span></a></span><span>
</span><span id="line-1791"></span><span>  </span><span id="local-6989586621681791540"><span class="annot"><span class="annottext">mkHsRecordPV :: Bool
-&gt; SrcSpan
-&gt; SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; ([Fbind (HsExpr GhcPs)], Maybe SrcSpan)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsRecordPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsRecordPV</span></a></span></span><span> </span><span id="local-6989586621681791541"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681791541"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621681791542"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791542"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791543"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791543"><span class="hs-identifier hs-var">lrec</span></a></span></span><span> </span><span id="local-6989586621681791544"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791544"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681791545"><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681791545"><span class="hs-identifier hs-var">fbinds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681791546"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681791546"><span class="hs-identifier hs-var">ddLoc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681791547"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791547"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1792"></span><span>    </span><span id="local-6989586621681791548"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791548"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791542"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1793"></span><span>    </span><span id="local-6989586621681791549"><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681791549"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsExpr GhcPs
-&gt; SrcSpan
-&gt; ([Fbind (HsExpr GhcPs)], Maybe SrcSpan)
-&gt; EpAnn [AddEpAnn]
-&gt; PV (HsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier hs-var">mkRecConstrOrUpdate</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681791541"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791544"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791543"><span class="hs-identifier hs-var">lrec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681791545"><span class="hs-identifier hs-var">fbinds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681791546"><span class="hs-identifier hs-var">ddLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791542"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791547"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791548"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1794"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall (m :: * -&gt; *) a.
(MonadP m, Outputable a) =&gt;
LocatedA a -&gt; m (LocatedA a)
</span><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier hs-var">checkRecordSyntax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791542"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681791549"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1795"></span><span>  </span><span id="local-6989586621681791554"><span class="annot"><span class="annottext">mkHsNegAppPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsNegAppPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsNegAppPV</span></a></span></span><span> </span><span id="local-6989586621681791555"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791555"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791556"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791556"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681791557"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791557"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1796"></span><span>    </span><span id="local-6989586621681791558"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791558"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791555"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1797"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791555"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XNegApp GhcPs -&gt; LHsExpr GhcPs -&gt; SyntaxExpr GhcPs -&gt; HsExpr GhcPs
forall p. XNegApp p -&gt; LHsExpr p -&gt; SyntaxExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#NegApp"><span class="hs-identifier hs-var">NegApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791555"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791557"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791558"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791556"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcPs
forall (p :: Pass). IsPass p =&gt; SyntaxExpr (GhcPass p)
</span><a href="GHC.Hs.Expr.html#noSyntaxExpr"><span class="hs-identifier hs-var">noSyntaxExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1798"></span><span>  </span><span id="local-6989586621681791564"><span class="annot"><span class="annottext">mkHsSectionR_PV :: SrcSpan
-&gt; LocatedA (InfixOp (HsExpr GhcPs))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (Located (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsSectionR_PV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSectionR_PV</span></a></span></span><span> </span><span id="local-6989586621681791565"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791565"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791566"><span class="annot"><span class="annottext">LocatedA (InfixOp (HsExpr GhcPs))
</span><a href="#local-6989586621681791566"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681791567"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791567"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1799"></span><span>    </span><span id="local-6989586621681791568"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791568"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791565"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1800"></span><span>    </span><span class="annot"><span class="annottext">Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs)))
-&gt; Located (HsExpr GhcPs) -&gt; PV (Located (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; Located (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791565"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSectionR GhcPs -&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; HsExpr GhcPs
forall p. XSectionR p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#SectionR"><span class="hs-identifier hs-var">SectionR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; EpAnnComments -&gt; EpAnn NoEpAnns
</span><a href="GHC.Parser.Annotation.html#comment"><span class="hs-identifier hs-var">comment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Parser.Annotation.html#realSrcSpan"><span class="hs-identifier hs-var">realSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791565"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791568"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
LocatedA (InfixOp (HsExpr GhcPs))
</span><a href="#local-6989586621681791566"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791567"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1801"></span><span>  </span><span id="local-6989586621681791574"><span class="annot"><span class="annottext">mkHsViewPatPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsViewPatPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsViewPatPV</span></a></span></span><span> </span><span id="local-6989586621681791575"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791575"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791576"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681791576"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681791577"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791577"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791575"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrViewPatInExpr"><span class="hs-identifier hs-var">PsErrViewPatInExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681791576"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791577"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1802"></span><span>                          </span><span class="annot"><span class="annottext">PV ()
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. PV a -&gt; PV b -&gt; PV b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791575"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar
forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1803"></span><span>  </span><span id="local-6989586621681791583"><span class="annot"><span class="annottext">mkHsAsPatPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LHsToken &quot;@&quot; GhcPs
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsAsPatPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAsPatPV</span></a></span></span><span> </span><span id="local-6989586621681791584"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791584"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791585"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791585"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;@&quot; GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681791586"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791586"><span class="hs-identifier hs-var">e</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791584"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; LHsExpr GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrTypeAppWithoutSpace"><span class="hs-identifier hs-var">PsErrTypeAppWithoutSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791585"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791586"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1804"></span><span>                          </span><span class="annot"><span class="annottext">PV ()
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. PV a -&gt; PV b -&gt; PV b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791584"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar
forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1805"></span><span>  </span><span id="local-6989586621681791592"><span class="annot"><span class="annottext">mkHsLazyPatPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLazyPatPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLazyPatPV</span></a></span></span><span> </span><span id="local-6989586621681791593"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791593"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791594"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791594"><span class="hs-identifier hs-var">e</span></a></span></span><span>   </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791593"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrLazyPatWithoutSpace"><span class="hs-identifier hs-var">PsErrLazyPatWithoutSpace</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791594"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1806"></span><span>                          </span><span class="annot"><span class="annottext">PV ()
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. PV a -&gt; PV b -&gt; PV b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791593"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar
forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1807"></span><span>  </span><span id="local-6989586621681791600"><span class="annot"><span class="annottext">mkHsBangPatPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsBangPatPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsBangPatPV</span></a></span></span><span> </span><span id="local-6989586621681791601"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791601"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791602"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791602"><span class="hs-identifier hs-var">e</span></a></span></span><span>   </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791601"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrBangPatWithoutSpace"><span class="hs-identifier hs-var">PsErrBangPatWithoutSpace</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791602"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1808"></span><span>                          </span><span class="annot"><span class="annottext">PV ()
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. PV a -&gt; PV b -&gt; PV b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791601"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar
forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1809"></span><span>  </span><span id="local-6989586621681791604"><span class="annot"><span class="annottext">mkSumOrTuplePV :: SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkSumOrTuplePV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LHsExpr GhcPs)
SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-var">mkSumOrTupleExpr</span></a></span><span>
</span><span id="line-1810"></span><span>  </span><span id="local-6989586621681791610"><span class="annot"><span class="annottext">rejectPragmaPV :: GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">rejectPragmaPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#OpApp"><span class="hs-identifier hs-type">OpApp</span></a></span><span> </span><span class="annot"><span class="annottext">XOpApp GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681791611"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681791611"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1811"></span><span>    </span><span class="hs-comment">-- assuming left-associative parsing of operators</span><span>
</span><span id="line-1812"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs) -&gt; PV ()
forall b. DisambECP b =&gt; LocatedA b -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-var">rejectPragmaPV</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681791611"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1813"></span><span>  </span><span class="annot"><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-var">rejectPragmaPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791612"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791612"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsPragE"><span class="hs-identifier hs-type">HsPragE</span></a></span><span> </span><span class="annot"><span class="annottext">XPragE GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681791614"><span class="annot"><span class="annottext">HsPragE GhcPs
</span><a href="#local-6989586621681791614"><span class="hs-identifier hs-var">prag</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV ()) -&gt; MsgEnvelope PsMessage -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791612"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1814"></span><span>                                                         </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsPragE GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrUnallowedPragma"><span class="hs-identifier hs-var">PsErrUnallowedPragma</span></a></span><span> </span><span class="annot"><span class="annottext">HsPragE GhcPs
</span><a href="#local-6989586621681791614"><span class="hs-identifier hs-var">prag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1815"></span><span>  </span><span class="annot"><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-var">rejectPragmaPV</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><span class="hs-identifier">_</span></span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1816"></span><span>
</span><span id="line-1817"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-type">hsHoleExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#EpAnnUnboundVar"><span class="hs-identifier hs-type">EpAnnUnboundVar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1818"></span><span id="hsHoleExpr"><span class="annot"><span class="annottext">hsHoleExpr :: EpAnn EpAnnUnboundVar -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var hs-var">hsHoleExpr</span></a></span></span><span> </span><span id="local-6989586621681791616"><span class="annot"><span class="annottext">EpAnn EpAnnUnboundVar
</span><a href="#local-6989586621681791616"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XUnboundVar GhcPs -&gt; RdrName -&gt; HsExpr GhcPs
forall p. XUnboundVar p -&gt; RdrName -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsUnboundVar"><span class="hs-identifier hs-var">HsUnboundVar</span></a></span><span> </span><span class="annot"><span class="annottext">XUnboundVar GhcPs
EpAnn EpAnnUnboundVar
</span><a href="#local-6989586621681791616"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkRdrUnqual"><span class="hs-identifier hs-var">mkRdrUnqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkVarOccFS"><span class="hs-identifier hs-var">mkVarOccFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1819"></span><span>
</span><span id="line-1820"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Anno"><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-var">Anno</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcAnn"><span class="hs-identifier hs-type">SrcAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-type">NoEpAnns</span></a></span><span>
</span><span id="line-1821"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Anno"><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-var">Anno</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnL"><span class="hs-identifier hs-type">SrcSpanAnnL</span></a></span><span>
</span><span id="line-1822"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Anno"><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-var">Anno</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span>
</span><span id="line-1823"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Anno"><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-var">Anno</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#StmtLR"><span class="hs-identifier hs-type">StmtLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span>
</span><span id="line-1824"></span><span>
</span><span id="line-1825"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1826"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Body"><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-var">Body</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span>
</span><span id="line-1827"></span><span>  </span><span id="local-6989586621681791664"><span class="annot"><span class="annottext">ecpFromCmd' :: LHsCmd GhcPs -&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#ecpFromCmd%27"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromCmd'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791665"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791665"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791666"><span class="annot"><span class="annottext">HsCmd GhcPs
</span><a href="#local-6989586621681791666"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791665"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HsCmd GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrArrowCmdInPat"><span class="hs-identifier hs-var">PsErrArrowCmdInPat</span></a></span><span> </span><span class="annot"><span class="annottext">HsCmd GhcPs
</span><a href="#local-6989586621681791666"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1828"></span><span>  </span><span id="local-6989586621681791670"><span class="annot"><span class="annottext">ecpFromExp' :: LHsExpr GhcPs -&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#ecpFromExp%27"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromExp'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791671"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791671"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791672"><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681791672"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791671"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrArrowExprInPat"><span class="hs-identifier hs-var">PsErrArrowExprInPat</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621681791672"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1829"></span><span>  </span><span id="local-6989586621681791676"><span class="annot"><span class="annottext">mkHsLamPV :: SrcSpan
-&gt; (EpAnnComments
    -&gt; MatchGroup GhcPs (LocatedA (PatBuilder GhcPs)))
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLamPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamPV</span></a></span></span><span> </span><span id="local-6989586621681791677"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791677"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">EpAnnComments -&gt; MatchGroup GhcPs (LocatedA (PatBuilder GhcPs))
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791677"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrLambdaInPat"><span class="hs-identifier hs-var">PsErrLambdaInPat</span></a></span><span>
</span><span id="line-1830"></span><span>  </span><span id="local-6989586621681791681"><span class="annot"><span class="annottext">mkHsLetPV :: SrcSpan
-&gt; LHsToken &quot;let&quot; GhcPs
-&gt; HsLocalBinds GhcPs
-&gt; LHsToken &quot;in&quot; GhcPs
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLetPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLetPV</span></a></span></span><span> </span><span id="local-6989586621681791682"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791682"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;let&quot; GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;in&quot; GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791682"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrLetInPat"><span class="hs-identifier hs-var">PsErrLetInPat</span></a></span><span>
</span><span id="line-1831"></span><span>  </span><span id="local-6989586621681791686"><span class="annot"><span class="annottext">mkHsProjUpdatePV :: SrcSpan
-&gt; Located [LocatedAn NoEpAnns (DotFieldOcc GhcPs)]
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; Bool
-&gt; [AddEpAnn]
-&gt; PV (LHsRecProj GhcPs (LocatedA (PatBuilder GhcPs)))
</span><a href="GHC.Parser.PostProcess.html#mkHsProjUpdatePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsProjUpdatePV</span></a></span></span><span> </span><span id="local-6989586621681791687"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791687"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Located [LocatedAn NoEpAnns (DotFieldOcc GhcPs)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage
-&gt; PV (LHsRecProj GhcPs (LocatedA (PatBuilder GhcPs)))
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage
 -&gt; PV (LHsRecProj GhcPs (LocatedA (PatBuilder GhcPs))))
-&gt; MsgEnvelope PsMessage
-&gt; PV (LHsRecProj GhcPs (LocatedA (PatBuilder GhcPs)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791687"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrOverloadedRecordDotInvalid"><span class="hs-identifier hs-var">PsErrOverloadedRecordDotInvalid</span></a></span><span>
</span><span id="line-1832"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="InfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-var">InfixOp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-1833"></span><span>  </span><span id="local-6989586621681791690"><span class="annot"><span class="annottext">superInfixOp :: (DisambInfixOp (InfixOp (PatBuilder GhcPs)) =&gt;
 PV (LocatedA (PatBuilder GhcPs)))
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#superInfixOp"><span class="hs-identifier hs-var hs-var hs-var hs-var">superInfixOp</span></a></span></span><span> </span><span id="local-6989586621681791691"><span class="annot"><span class="annottext">DisambInfixOp (InfixOp (PatBuilder GhcPs)) =&gt;
PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681791691"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (LocatedA (PatBuilder GhcPs))
DisambInfixOp (InfixOp (PatBuilder GhcPs)) =&gt;
PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681791691"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1834"></span><span>  </span><span id="local-6989586621681791695"><span class="annot"><span class="annottext">mkHsOpAppPV :: SrcSpan
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; LocatedN (InfixOp (PatBuilder GhcPs))
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsOpAppPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOpAppPV</span></a></span></span><span> </span><span id="local-6989586621681791696"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791696"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791697"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791697"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621681791698"><span class="annot"><span class="annottext">LocatedN (InfixOp (PatBuilder GhcPs))
</span><a href="#local-6989586621681791698"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681791699"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791699"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1835"></span><span>    </span><span id="local-6989586621681791700"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791700"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791696"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1836"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681791701"><span class="annot"><span class="annottext">anns :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681791701"><span class="hs-identifier hs-var hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791696"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791700"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-1837"></span><span>    </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791696"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs))
-&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; EpAnn [AddEpAnn]
-&gt; PatBuilder GhcPs
forall p.
LocatedA (PatBuilder p)
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LocatedA (PatBuilder p)
-&gt; EpAnn [AddEpAnn]
-&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderOpApp"><span class="hs-identifier hs-var">PatBuilderOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791697"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
LocatedN (InfixOp (PatBuilder GhcPs))
</span><a href="#local-6989586621681791698"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791699"><span class="hs-identifier hs-var">p2</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681791701"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-1838"></span><span>  </span><span id="local-6989586621681791704"><span class="annot"><span class="annottext">mkHsCasePV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; LocatedL [LMatch GhcPs (LocatedA (PatBuilder GhcPs))]
-&gt; EpAnnHsCase
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsCasePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsCasePV</span></a></span></span><span> </span><span id="local-6989586621681791705"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791705"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LocatedL [LMatch GhcPs (LocatedA (PatBuilder GhcPs))]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnnHsCase
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791705"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrCaseInPat"><span class="hs-identifier hs-var">PsErrCaseInPat</span></a></span><span>
</span><span id="line-1839"></span><span>  </span><span id="local-6989586621681791709"><span class="annot"><span class="annottext">mkHsLamCasePV :: SrcSpan
-&gt; LamCaseVariant
-&gt; LocatedL [LMatch GhcPs (LocatedA (PatBuilder GhcPs))]
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLamCasePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamCasePV</span></a></span></span><span> </span><span id="local-6989586621681791710"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791710"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791711"><span class="annot"><span class="annottext">LamCaseVariant
</span><a href="#local-6989586621681791711"><span class="hs-identifier hs-var">lc_variant</span></a></span></span><span> </span><span class="annot"><span class="annottext">LocatedL [LMatch GhcPs (LocatedA (PatBuilder GhcPs))]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791710"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LamCaseVariant -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrLambdaCaseInPat"><span class="hs-identifier hs-var">PsErrLambdaCaseInPat</span></a></span><span> </span><span class="annot"><span class="annottext">LamCaseVariant
</span><a href="#local-6989586621681791711"><span class="hs-identifier hs-var">lc_variant</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1840"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="FunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-var">FunArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1841"></span><span>  </span><span id="local-6989586621681791714"><span class="annot"><span class="annottext">superFunArg :: (DisambECP (FunArg (PatBuilder GhcPs)) =&gt;
 PV (LocatedA (PatBuilder GhcPs)))
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#superFunArg"><span class="hs-identifier hs-var hs-var hs-var hs-var">superFunArg</span></a></span></span><span> </span><span id="local-6989586621681791715"><span class="annot"><span class="annottext">DisambECP (FunArg (PatBuilder GhcPs)) =&gt;
PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681791715"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (LocatedA (PatBuilder GhcPs))
DisambECP (FunArg (PatBuilder GhcPs)) =&gt;
PV (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681791715"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1842"></span><span>  </span><span id="local-6989586621681791717"><span class="annot"><span class="annottext">mkHsAppPV :: SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; LocatedA (FunArg (PatBuilder GhcPs))
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsAppPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppPV</span></a></span></span><span> </span><span id="local-6989586621681791718"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791718"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791719"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791719"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621681791720"><span class="annot"><span class="annottext">LocatedA (FunArg (PatBuilder GhcPs))
</span><a href="#local-6989586621681791720"><span class="hs-identifier hs-var">p2</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791718"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
-&gt; LocatedA (PatBuilder GhcPs) -&gt; PatBuilder GhcPs
forall p.
LocatedA (PatBuilder p) -&gt; LocatedA (PatBuilder p) -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderApp"><span class="hs-identifier hs-var">PatBuilderApp</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791719"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
LocatedA (FunArg (PatBuilder GhcPs))
</span><a href="#local-6989586621681791720"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1843"></span><span>  </span><span id="local-6989586621681791724"><span class="annot"><span class="annottext">mkHsAppTypePV :: SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; LHsToken &quot;@&quot; GhcPs
-&gt; LHsType GhcPs
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsAppTypePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTypePV</span></a></span></span><span> </span><span id="local-6989586621681791725"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791725"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791726"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791726"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621681791727"><span class="annot"><span class="annottext">LHsToken &quot;@&quot; GhcPs
</span><a href="#local-6989586621681791727"><span class="hs-identifier hs-var">at</span></a></span></span><span> </span><span id="local-6989586621681791728"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791728"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1844"></span><span>    </span><span id="local-6989586621681791729"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791729"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791725"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1845"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681791730"><span class="annot"><span class="annottext">anns :: EpAnn NoEpAnns
</span><a href="#local-6989586621681791730"><span class="hs-identifier hs-var hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Anchor -&gt; NoEpAnns -&gt; EpAnnComments -&gt; EpAnn NoEpAnns
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; SrcSpan
forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791728"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NoEpAnns
</span><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-var">NoEpAnns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791729"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-1846"></span><span>    </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791725"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
-&gt; LHsToken &quot;@&quot; GhcPs -&gt; HsPatSigType GhcPs -&gt; PatBuilder GhcPs
forall p.
LocatedA (PatBuilder p)
-&gt; LHsToken &quot;@&quot; p -&gt; HsPatSigType GhcPs -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderAppType"><span class="hs-identifier hs-var">PatBuilderAppType</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791726"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;@&quot; GhcPs
</span><a href="#local-6989586621681791727"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn NoEpAnns -&gt; LHsType GhcPs -&gt; HsPatSigType GhcPs
</span><a href="GHC.Hs.Type.html#mkHsPatSigType"><span class="hs-identifier hs-var">mkHsPatSigType</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn NoEpAnns
</span><a href="#local-6989586621681791730"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791728"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1847"></span><span>  </span><span id="local-6989586621681791733"><span class="annot"><span class="annottext">mkHsIfPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; Bool
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; AnnsIf
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsIfPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsIfPV</span></a></span></span><span> </span><span id="local-6989586621681791734"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791734"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AnnsIf
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791734"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIfThenElseInPat"><span class="hs-identifier hs-var">PsErrIfThenElseInPat</span></a></span><span>
</span><span id="line-1848"></span><span>  </span><span id="local-6989586621681791738"><span class="annot"><span class="annottext">mkHsDoPV :: SrcSpan
-&gt; Maybe ModuleName
-&gt; LocatedL [LStmt GhcPs (LocatedA (PatBuilder GhcPs))]
-&gt; AnnList
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsDoPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsDoPV</span></a></span></span><span> </span><span id="local-6989586621681791739"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791739"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LocatedL [LStmt GhcPs (LocatedA (PatBuilder GhcPs))]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AnnList
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791739"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrDoNotationInPat"><span class="hs-identifier hs-var">PsErrDoNotationInPat</span></a></span><span>
</span><span id="line-1849"></span><span>  </span><span id="local-6989586621681791742"><span class="annot"><span class="annottext">mkHsParPV :: SrcSpan
-&gt; LHsToken &quot;(&quot; GhcPs
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; LHsToken &quot;)&quot; GhcPs
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsParPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsParPV</span></a></span></span><span> </span><span id="local-6989586621681791743"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791743"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791744"><span class="annot"><span class="annottext">LHsToken &quot;(&quot; GhcPs
</span><a href="#local-6989586621681791744"><span class="hs-identifier hs-var">lpar</span></a></span></span><span> </span><span id="local-6989586621681791745"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791745"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621681791746"><span class="annot"><span class="annottext">LHsToken &quot;)&quot; GhcPs
</span><a href="#local-6989586621681791746"><span class="hs-identifier hs-var">rpar</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791743"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsToken &quot;(&quot; GhcPs
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; LHsToken &quot;)&quot; GhcPs
-&gt; PatBuilder GhcPs
forall p.
LHsToken &quot;(&quot; p
-&gt; LocatedA (PatBuilder p) -&gt; LHsToken &quot;)&quot; p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPar"><span class="hs-identifier hs-var">PatBuilderPar</span></a></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;(&quot; GhcPs
</span><a href="#local-6989586621681791744"><span class="hs-identifier hs-var">lpar</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791745"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;)&quot; GhcPs
</span><a href="#local-6989586621681791746"><span class="hs-identifier hs-var">rpar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1850"></span><span>  </span><span id="local-6989586621681791748"><span class="annot"><span class="annottext">mkHsVarPV :: GenLocated SrcSpanAnnN RdrName -&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsVarPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarPV</span></a></span></span><span> </span><span id="local-6989586621681791749"><span class="annot"><span class="annottext">v :: GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791749"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; SrcSpanAnnN
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621681791750"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681791750"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; SrcSpanAnnA
forall a ann. SrcSpanAnn' a -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#na2la"><span class="hs-identifier hs-var">na2la</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681791750"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; PatBuilder GhcPs
forall p. GenLocated SrcSpanAnnN RdrName -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderVar"><span class="hs-identifier hs-var">PatBuilderVar</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791749"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1851"></span><span>  </span><span id="local-6989586621681791753"><span class="annot"><span class="annottext">mkHsLitPV :: Located (HsLit GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLitPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLitPV</span></a></span></span><span> </span><span id="local-6989586621681791754"><span class="annot"><span class="annottext">lit :: Located (HsLit GhcPs)
</span><a href="#local-6989586621681791754"><span class="hs-identifier hs-var">lit</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791755"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791755"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791756"><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681791756"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1852"></span><span>    </span><span class="annot"><span class="annottext">Located (HsLit GhcPs) -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkUnboxedLitPat"><span class="hs-identifier hs-var">checkUnboxedLitPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (HsLit GhcPs)
</span><a href="#local-6989586621681791754"><span class="hs-identifier hs-var">lit</span></a></span><span>
</span><span id="line-1853"></span><span>    </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791755"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLitPat GhcPs -&gt; HsLit GhcPs -&gt; Pat GhcPs
forall p. XLitPat p -&gt; HsLit p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#LitPat"><span class="hs-identifier hs-var">LitPat</span></a></span><span> </span><span class="annot"><span class="annottext">XLitPat GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681791756"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1854"></span><span>  </span><span id="local-6989586621681791760"><span class="annot"><span class="annottext">mkHsOverLitPV :: forall a.
LocatedAn a (HsOverLit GhcPs)
-&gt; PV (LocatedAn a (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsOverLitPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOverLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791761"><span class="annot"><span class="annottext">SrcAnn a
</span><a href="#local-6989586621681791761"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791762"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681791762"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocatedAn a (PatBuilder GhcPs)
-&gt; PV (LocatedAn a (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedAn a (PatBuilder GhcPs)
 -&gt; PV (LocatedAn a (PatBuilder GhcPs)))
-&gt; LocatedAn a (PatBuilder GhcPs)
-&gt; PV (LocatedAn a (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcAnn a -&gt; PatBuilder GhcPs -&gt; LocatedAn a (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcAnn a
</span><a href="#local-6989586621681791761"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsOverLit GhcPs -&gt; PatBuilder GhcPs
forall p. HsOverLit GhcPs -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderOverLit"><span class="hs-identifier hs-var">PatBuilderOverLit</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681791762"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1855"></span><span>  </span><span id="local-6989586621681791764"><span class="annot"><span class="annottext">mkHsWildCardPV :: SrcSpan -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsWildCardPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsWildCardPV</span></a></span></span><span> </span><span id="local-6989586621681791765"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791765"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791765"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XWildPat GhcPs -&gt; Pat GhcPs
forall p. XWildPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#WildPat"><span class="hs-identifier hs-var">WildPat</span></a></span><span> </span><span class="annot"><span class="annottext">XWildPat GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1856"></span><span>  </span><span id="local-6989586621681791770"><span class="annot"><span class="annottext">mkHsTySigPV :: SrcSpanAnnA
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; LHsType GhcPs
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsTySigPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsTySigPV</span></a></span></span><span> </span><span id="local-6989586621681791771"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791771"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791772"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791772"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681791773"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791773"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span id="local-6989586621681791774"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791774"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1857"></span><span>    </span><span id="local-6989586621681791775"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681791775"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791772"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1858"></span><span>    </span><span id="local-6989586621681791776"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791776"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791771"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1859"></span><span>    </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791771"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSigPat GhcPs
-&gt; LPat GhcPs -&gt; HsPatSigType (NoGhcTc GhcPs) -&gt; Pat GhcPs
forall p. XSigPat p -&gt; LPat p -&gt; HsPatSigType (NoGhcTc p) -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#SigPat"><span class="hs-identifier hs-var">SigPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; Anchor) -&gt; SrcSpan -&gt; Anchor
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791771"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791774"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791776"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681791775"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn NoEpAnns -&gt; LHsType GhcPs -&gt; HsPatSigType GhcPs
</span><a href="GHC.Hs.Type.html#mkHsPatSigType"><span class="hs-identifier hs-var">mkHsPatSigType</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn NoEpAnns
forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791773"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1860"></span><span>  </span><span id="local-6989586621681791784"><span class="annot"><span class="annottext">mkHsExplicitListPV :: SrcSpan
-&gt; [LocatedA (PatBuilder GhcPs)]
-&gt; AnnList
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsExplicitListPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsExplicitListPV</span></a></span></span><span> </span><span id="local-6989586621681791785"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791785"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791786"><span class="annot"><span class="annottext">[LocatedA (PatBuilder GhcPs)]
</span><a href="#local-6989586621681791786"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621681791787"><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681791787"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1861"></span><span>    </span><span id="local-6989586621681791788"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681791788"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs)))
-&gt; [LocatedA (PatBuilder GhcPs)]
-&gt; PV [GenLocated SrcSpanAnnA (Pat GhcPs)]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><a href="../../base-4.18.3.0/src/Data.Traversable.html#traverse/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
LocatedA (PatBuilder GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (PatBuilder GhcPs)]
</span><a href="#local-6989586621681791786"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1862"></span><span>    </span><span id="local-6989586621681791790"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791790"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791785"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1863"></span><span>    </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791785"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XListPat GhcPs -&gt; [LPat GhcPs] -&gt; Pat GhcPs
forall p. XListPat p -&gt; [LPat p] -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#ListPat"><span class="hs-identifier hs-var">ListPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; AnnList -&gt; EpAnnComments -&gt; EpAnn AnnList
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791785"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnList
</span><a href="#local-6989586621681791787"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791790"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681791788"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1864"></span><span>  </span><span id="local-6989586621681791793"><span class="annot"><span class="annottext">mkHsSplicePV :: Located (HsUntypedSplice GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsSplicePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSplicePV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791794"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791794"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791795"><span class="annot"><span class="annottext">HsUntypedSplice GhcPs
</span><a href="#local-6989586621681791795"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791794"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSplicePat GhcPs -&gt; HsUntypedSplice GhcPs -&gt; Pat GhcPs
forall p. XSplicePat p -&gt; HsUntypedSplice p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#SplicePat"><span class="hs-identifier hs-var">SplicePat</span></a></span><span> </span><span class="annot"><span class="annottext">XSplicePat GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">HsUntypedSplice GhcPs
</span><a href="#local-6989586621681791795"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1865"></span><span>  </span><span id="local-6989586621681791806"><span class="annot"><span class="annottext">mkHsRecordPV :: Bool
-&gt; SrcSpan
-&gt; SrcSpan
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; ([Fbind (PatBuilder GhcPs)], Maybe SrcSpan)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsRecordPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsRecordPV</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681791807"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791807"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681791808"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791808"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681791809"><span class="annot"><span class="annottext">[Fbind (PatBuilder GhcPs)]
</span><a href="#local-6989586621681791809"><span class="hs-identifier hs-var">fbinds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681791810"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681791810"><span class="hs-identifier hs-var">ddLoc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681791811"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791811"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1866"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681791812"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
      (LocatedA (PatBuilder GhcPs)))]
</span><a href="#local-6989586621681791812"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681791813"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
      (LocatedA (PatBuilder GhcPs)))]
</span><a href="#local-6989586621681791813"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Either
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
         (LocatedA (PatBuilder GhcPs))))
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
         (LocatedA (PatBuilder GhcPs))))]
-&gt; ([GenLocated
       SrcSpanAnnA
       (HsFieldBind
          (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
          (LocatedA (PatBuilder GhcPs)))],
    [GenLocated
       SrcSpanAnnA
       (HsFieldBind
          (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
          (LocatedA (PatBuilder GhcPs)))])
forall a b. [Either a b] -&gt; ([a], [b])
</span><a href="../../base-4.18.3.0/src/Data.Either.html#partitionEithers/Data.Either.html#partitionEithers"><span class="hs-identifier hs-var">partitionEithers</span></a></span><span> </span><span class="annot"><span class="annottext">[Fbind (PatBuilder GhcPs)]
[Either
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
         (LocatedA (PatBuilder GhcPs))))
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
         (LocatedA (PatBuilder GhcPs))))]
</span><a href="#local-6989586621681791809"><span class="hs-identifier hs-var">fbinds</span></a></span><span>
</span><span id="line-1867"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
      (LocatedA (PatBuilder GhcPs)))]
-&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
      (LocatedA (PatBuilder GhcPs)))]
</span><a href="#local-6989586621681791813"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1868"></span><span>     </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791807"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrOverloadedRecordDotInvalid"><span class="hs-identifier hs-var">PsErrOverloadedRecordDotInvalid</span></a></span><span>
</span><span id="line-1869"></span><span>     </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1870"></span><span>       </span><span id="local-6989586621681791814"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791814"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791807"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1871"></span><span>       </span><span id="local-6989586621681791815"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681791815"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
-&gt; HsRecFields GhcPs (LocatedA (PatBuilder GhcPs))
-&gt; EpAnn [AddEpAnn]
-&gt; PV (PatBuilder GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkPatRec"><span class="hs-identifier hs-var">mkPatRec</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791808"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LocatedA (HsRecField GhcPs (LocatedA (PatBuilder GhcPs)))]
-&gt; Maybe SrcSpan -&gt; HsRecFields GhcPs (LocatedA (PatBuilder GhcPs))
forall (p :: Pass) arg.
[LocatedA (HsRecField (GhcPass p) arg)]
-&gt; Maybe SrcSpan -&gt; HsRecFields (GhcPass p) arg
</span><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var">mk_rec_fields</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (HsRecField GhcPs (LocatedA (PatBuilder GhcPs)))]
[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
      (LocatedA (PatBuilder GhcPs)))]
</span><a href="#local-6989586621681791812"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681791810"><span class="hs-identifier hs-var">ddLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791807"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791811"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791814"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1872"></span><span>       </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall (m :: * -&gt; *) a.
(MonadP m, Outputable a) =&gt;
LocatedA a -&gt; m (LocatedA a)
</span><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier hs-var">checkRecordSyntax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791807"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681791815"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1873"></span><span>  </span><span id="local-6989586621681791823"><span class="annot"><span class="annottext">mkHsNegAppPV :: SrcSpan
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsNegAppPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsNegAppPV</span></a></span></span><span> </span><span id="local-6989586621681791824"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791824"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791825"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791825"><span class="hs-identifier hs-var">lp</span></a></span></span><span> </span><span id="local-6989586621681791826"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681791826"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681791827"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791827"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1874"></span><span>    </span><span id="local-6989586621681791828"><span class="annot"><span class="annottext">LocatedAn NoEpAnns (HsOverLit GhcPs)
</span><a href="#local-6989586621681791828"><span class="hs-identifier hs-var">lit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681791826"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1875"></span><span>      </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderOverLit"><span class="hs-identifier hs-type">PatBuilderOverLit</span></a></span><span> </span><span id="local-6989586621681791829"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681791829"><span class="hs-identifier hs-var">pos_lit</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LocatedAn NoEpAnns (HsOverLit GhcPs)
-&gt; PV (LocatedAn NoEpAnns (HsOverLit GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcAnn NoEpAnns
-&gt; HsOverLit GhcPs -&gt; LocatedAn NoEpAnns (HsOverLit GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcAnn NoEpAnns
forall a ann. SrcSpanAnn' a -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791825"><span class="hs-identifier hs-var">lp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621681791829"><span class="hs-identifier hs-var">pos_lit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1876"></span><span>      </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; PV (LocatedAn NoEpAnns (HsOverLit GhcPs))
forall a. SrcSpan -&gt; PsMessage -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791824"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; PV (LocatedAn NoEpAnns (HsOverLit GhcPs)))
-&gt; PsMessage -&gt; PV (LocatedAn NoEpAnns (HsOverLit GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; PsErrInPatDetails -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrInPat"><span class="hs-identifier hs-var">PsErrInPat</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621681791826"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">PsErrInPatDetails
</span><a href="GHC.Parser.Errors.Types.html#PEIP_NegApp"><span class="hs-identifier hs-var">PEIP_NegApp</span></a></span><span>
</span><span id="line-1877"></span><span>    </span><span id="local-6989586621681791831"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791831"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791824"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1878"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681791832"><span class="annot"><span class="annottext">an :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681791832"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791824"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791827"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791831"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-1879"></span><span>    </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791824"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedAn NoEpAnns (HsOverLit GhcPs)
-&gt; Maybe (SyntaxExpr GhcPs) -&gt; EpAnn [AddEpAnn] -&gt; Pat GhcPs
</span><a href="GHC.Hs.Utils.html#mkNPat"><span class="hs-identifier hs-var">mkNPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedAn NoEpAnns (HsOverLit GhcPs)
</span><a href="#local-6989586621681791828"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NoExtField -&gt; Maybe NoExtField
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
SyntaxExpr GhcPs
forall (p :: Pass). IsPass p =&gt; SyntaxExpr (GhcPass p)
</span><a href="GHC.Hs.Expr.html#noSyntaxExpr"><span class="hs-identifier hs-var">noSyntaxExpr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681791832"><span class="hs-identifier hs-var">an</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1880"></span><span>  </span><span id="local-6989586621681791833"><span class="annot"><span class="annottext">mkHsSectionR_PV :: SrcSpan
-&gt; LocatedA (InfixOp (PatBuilder GhcPs))
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsSectionR_PV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSectionR_PV</span></a></span></span><span> </span><span id="local-6989586621681791834"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791834"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791835"><span class="annot"><span class="annottext">LocatedA (InfixOp (PatBuilder GhcPs))
</span><a href="#local-6989586621681791835"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681791836"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791836"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; PV (Located (PatBuilder GhcPs))
forall a. SrcSpan -&gt; PsMessage -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791834"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; PatBuilder GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrParseRightOpSectionInPat"><span class="hs-identifier hs-var">PsErrParseRightOpSectionInPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA RdrName
LocatedA (InfixOp (PatBuilder GhcPs))
</span><a href="#local-6989586621681791835"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PatBuilder GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791836"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1881"></span><span>  </span><span id="local-6989586621681791842"><span class="annot"><span class="annottext">mkHsViewPatPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsViewPatPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsViewPatPV</span></a></span></span><span> </span><span id="local-6989586621681791843"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791843"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791844"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681791844"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681791845"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791845"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681791846"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791846"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1882"></span><span>    </span><span id="local-6989586621681791847"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681791847"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791845"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1883"></span><span>    </span><span id="local-6989586621681791848"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791848"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791843"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1884"></span><span>    </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791843"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XViewPat GhcPs -&gt; LHsExpr GhcPs -&gt; LPat GhcPs -&gt; Pat GhcPs
forall p. XViewPat p -&gt; LHsExpr p -&gt; LPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#ViewPat"><span class="hs-identifier hs-var">ViewPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791843"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791846"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791848"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681791844"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681791847"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1885"></span><span>  </span><span id="local-6989586621681791854"><span class="annot"><span class="annottext">mkHsAsPatPV :: SrcSpan
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LHsToken &quot;@&quot; GhcPs
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsAsPatPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAsPatPV</span></a></span></span><span> </span><span id="local-6989586621681791855"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791855"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791856"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791856"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621681791857"><span class="annot"><span class="annottext">LHsToken &quot;@&quot; GhcPs
</span><a href="#local-6989586621681791857"><span class="hs-identifier hs-var">at</span></a></span></span><span> </span><span id="local-6989586621681791858"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791858"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1886"></span><span>    </span><span id="local-6989586621681791859"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681791859"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791858"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1887"></span><span>    </span><span id="local-6989586621681791860"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791860"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791855"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1888"></span><span>    </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791855"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XAsPat GhcPs
-&gt; XRec GhcPs (IdP GhcPs)
-&gt; LHsToken &quot;@&quot; GhcPs
-&gt; LPat GhcPs
-&gt; Pat GhcPs
forall p. XAsPat p -&gt; LIdP p -&gt; LHsToken &quot;@&quot; p -&gt; LPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#AsPat"><span class="hs-identifier hs-var">AsPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; NoEpAnns -&gt; EpAnnComments -&gt; EpAnn NoEpAnns
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791855"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NoEpAnns
</span><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-var">NoEpAnns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791860"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791856"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;@&quot; GhcPs
</span><a href="#local-6989586621681791857"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681791859"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1889"></span><span>  </span><span id="local-6989586621681791866"><span class="annot"><span class="annottext">mkHsLazyPatPV :: SrcSpan
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsLazyPatPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLazyPatPV</span></a></span></span><span> </span><span id="local-6989586621681791867"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791867"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791868"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791868"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681791869"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791869"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1890"></span><span>    </span><span id="local-6989586621681791870"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681791870"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791868"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1891"></span><span>    </span><span id="local-6989586621681791871"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791871"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791867"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1892"></span><span>    </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791867"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLazyPat GhcPs -&gt; LPat GhcPs -&gt; Pat GhcPs
forall p. XLazyPat p -&gt; LPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#LazyPat"><span class="hs-identifier hs-var">LazyPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791867"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791869"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791871"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681791870"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1893"></span><span>  </span><span id="local-6989586621681791878"><span class="annot"><span class="annottext">mkHsBangPatPV :: SrcSpan
-&gt; LocatedA (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsBangPatPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsBangPatPV</span></a></span></span><span> </span><span id="local-6989586621681791879"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791879"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681791880"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791880"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681791881"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791881"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1894"></span><span>    </span><span id="local-6989586621681791882"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681791882"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791880"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1895"></span><span>    </span><span id="local-6989586621681791883"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791883"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791879"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1896"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681791884"><span class="annot"><span class="annottext">pb :: Pat GhcPs
</span><a href="#local-6989586621681791884"><span class="hs-identifier hs-var hs-var">pb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XBangPat GhcPs -&gt; LPat GhcPs -&gt; Pat GhcPs
forall p. XBangPat p -&gt; LPat p -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#BangPat"><span class="hs-identifier hs-var">BangPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791879"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681791881"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681791883"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681791882"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-1897"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; Pat GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#hintBangPat"><span class="hs-identifier hs-var">hintBangPat</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791879"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681791884"><span class="hs-identifier hs-var">pb</span></a></span><span>
</span><span id="line-1898"></span><span>    </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791879"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681791884"><span class="hs-identifier hs-var">pb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1899"></span><span>  </span><span id="local-6989586621681791885"><span class="annot"><span class="annottext">mkSumOrTuplePV :: SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkSumOrTuplePV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-var">mkSumOrTuplePat</span></a></span><span>
</span><span id="line-1900"></span><span>  </span><span id="local-6989586621681791888"><span class="annot"><span class="annottext">rejectPragmaPV :: LocatedA (PatBuilder GhcPs) -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">rejectPragmaPV</span></a></span></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1901"></span><span>
</span><span id="line-1902"></span><span class="annot"><span class="hs-comment">-- | Ensure that a literal pattern isn't of type Addr#, Float#, Double#.</span></span><span>
</span><span id="line-1903"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkUnboxedLitPat"><span class="hs-identifier hs-type">checkUnboxedLitPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1904"></span><span id="checkUnboxedLitPat"><span class="annot"><span class="annottext">checkUnboxedLitPat :: Located (HsLit GhcPs) -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkUnboxedLitPat"><span class="hs-identifier hs-var hs-var">checkUnboxedLitPat</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791889"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791889"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681791890"><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681791890"><span class="hs-identifier hs-var">lit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1905"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681791890"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1906"></span><span>    </span><span class="hs-comment">-- Don't allow primitive string literal patterns.</span><span>
</span><span id="line-1907"></span><span>    </span><span class="hs-comment">-- See #13260.</span><span>
</span><span id="line-1908"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsStringPrim"><span class="hs-identifier hs-type">HsStringPrim</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-1909"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV ()) -&gt; MsgEnvelope PsMessage -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791889"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1910"></span><span>                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIllegalUnboxedStringInPat"><span class="hs-identifier hs-var">PsErrIllegalUnboxedStringInPat</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681791890"><span class="hs-identifier hs-var">lit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1911"></span><span>
</span><span id="line-1912"></span><span>   </span><span class="hs-comment">-- Don't allow Float#/Double# literal patterns.</span><span>
</span><span id="line-1913"></span><span>   </span><span class="hs-comment">-- See #9238 and Note [Rules for floating-point comparisons]</span><span>
</span><span id="line-1914"></span><span>   </span><span class="hs-comment">-- in GHC.Core.Opt.ConstantFold.</span><span>
</span><span id="line-1915"></span><span>    </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; Bool
</span><a href="#local-6989586621681791893"><span class="hs-identifier hs-var">is_floating_lit</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681791890"><span class="hs-identifier hs-var">lit</span></a></span><span>
</span><span id="line-1916"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV ()) -&gt; MsgEnvelope PsMessage -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791889"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1917"></span><span>                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIllegalUnboxedFloatingLitInPat"><span class="hs-identifier hs-var">PsErrIllegalUnboxedFloatingLitInPat</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621681791890"><span class="hs-identifier hs-var">lit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1918"></span><span>
</span><span id="line-1919"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-1920"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1921"></span><span>
</span><span id="line-1922"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1923"></span><span>    </span><span class="annot"><a href="#local-6989586621681791893"><span class="hs-identifier hs-type">is_floating_lit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1924"></span><span>    </span><span id="local-6989586621681791893"><span class="annot"><span class="annottext">is_floating_lit :: HsLit GhcPs -&gt; Bool
</span><a href="#local-6989586621681791893"><span class="hs-identifier hs-var hs-var">is_floating_lit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsFloatPrim"><span class="hs-identifier hs-type">HsFloatPrim</span></a></span><span>  </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1925"></span><span>    </span><span class="annot"><a href="#local-6989586621681791893"><span class="hs-identifier hs-var">is_floating_lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsDoublePrim"><span class="hs-identifier hs-type">HsDoublePrim</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1926"></span><span>    </span><span class="annot"><a href="#local-6989586621681791893"><span class="hs-identifier hs-var">is_floating_lit</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><span class="hs-identifier">_</span></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1927"></span><span>
</span><span id="line-1928"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkPatRec"><span class="hs-identifier hs-type">mkPatRec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1929"></span><span>  </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1930"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1931"></span><span>  </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1932"></span><span>  </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1933"></span><span id="mkPatRec"><span class="annot"><span class="annottext">mkPatRec :: LocatedA (PatBuilder GhcPs)
-&gt; HsRecFields GhcPs (LocatedA (PatBuilder GhcPs))
-&gt; EpAnn [AddEpAnn]
-&gt; PV (PatBuilder GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkPatRec"><span class="hs-identifier hs-var hs-var">mkPatRec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PatBuilder GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span id="local-6989586621681791897"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791897"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span id="local-6989586621681791899"><span class="annot"><span class="annottext">[LHsRecField GhcPs (LocatedA (PatBuilder GhcPs))]
</span><a href="#local-6989586621681791899"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span id="local-6989586621681791900"><span class="annot"><span class="annottext">Maybe (XRec GhcPs RecFieldsDotDot)
</span><a href="#local-6989586621681791900"><span class="hs-identifier hs-var">dd</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681791901"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681791901"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-1934"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791897"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1935"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681791902"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
      (GenLocated SrcSpanAnnA (Pat GhcPs)))]
</span><a href="#local-6989586621681791902"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
      (LocatedA (PatBuilder GhcPs)))
 -&gt; PV
      (GenLocated
         SrcSpanAnnA
         (HsFieldBind
            (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
            (GenLocated SrcSpanAnnA (Pat GhcPs)))))
-&gt; [GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
         (LocatedA (PatBuilder GhcPs)))]
-&gt; PV
     [GenLocated
        SrcSpanAnnA
        (HsFieldBind
           (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
           (GenLocated SrcSpanAnnA (Pat GhcPs)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="../../base-4.18.3.0/src/Data.Traversable.html#mapM/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">LHsRecField GhcPs (LocatedA (PatBuilder GhcPs))
-&gt; PV (LHsRecField GhcPs (LPat GhcPs))
GenLocated
  SrcSpanAnnA
  (HsFieldBind
     (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
     (LocatedA (PatBuilder GhcPs)))
-&gt; PV
     (GenLocated
        SrcSpanAnnA
        (HsFieldBind
           (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
           (GenLocated SrcSpanAnnA (Pat GhcPs))))
</span><a href="GHC.Parser.PostProcess.html#checkPatField"><span class="hs-identifier hs-var">checkPatField</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsRecField GhcPs (LocatedA (PatBuilder GhcPs))]
[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
      (LocatedA (PatBuilder GhcPs)))]
</span><a href="#local-6989586621681791899"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-1936"></span><span>       </span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; PV (PatBuilder GhcPs)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(PatBuilder GhcPs -&gt; PV (PatBuilder GhcPs))
-&gt; PatBuilder GhcPs -&gt; PV (PatBuilder GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="annot"><span class="annottext">(Pat GhcPs -&gt; PatBuilder GhcPs) -&gt; Pat GhcPs -&gt; PatBuilder GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span>
</span><span id="line-1937"></span><span>         </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_con_ext :: XConPat GhcPs
</span><a href="Language.Haskell.Syntax.Pat.html#pat_con_ext"><span class="hs-identifier hs-var">pat_con_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XConPat GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681791901"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-1938"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_con :: XRec GhcPs (ConLikeP GhcPs)
</span><a href="Language.Haskell.Syntax.Pat.html#pat_con"><span class="hs-identifier hs-var">pat_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (ConLikeP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791897"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1939"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_args :: HsConPatDetails GhcPs
</span><a href="Language.Haskell.Syntax.Pat.html#pat_args"><span class="hs-identifier hs-var">pat_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsRecFields GhcPs (GenLocated SrcSpanAnnA (Pat GhcPs))
-&gt; HsConDetails
     (HsConPatTyArg GhcPs)
     (GenLocated SrcSpanAnnA (Pat GhcPs))
     (HsRecFields GhcPs (GenLocated SrcSpanAnnA (Pat GhcPs)))
forall tyarg arg rec. rec -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-var">RecCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsRecField GhcPs (GenLocated SrcSpanAnnA (Pat GhcPs))]
-&gt; Maybe (XRec GhcPs RecFieldsDotDot)
-&gt; HsRecFields GhcPs (GenLocated SrcSpanAnnA (Pat GhcPs))
forall p arg.
[LHsRecField p arg]
-&gt; Maybe (XRec p RecFieldsDotDot) -&gt; HsRecFields p arg
</span><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-var">HsRecFields</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsRecField GhcPs (GenLocated SrcSpanAnnA (Pat GhcPs))]
[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
      (GenLocated SrcSpanAnnA (Pat GhcPs)))]
</span><a href="#local-6989586621681791902"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (XRec GhcPs RecFieldsDotDot)
</span><a href="#local-6989586621681791900"><span class="hs-identifier hs-var">dd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1940"></span><span>         </span><span class="hs-special">}</span><span>
</span><span id="line-1941"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkPatRec"><span class="hs-identifier hs-var">mkPatRec</span></a></span><span> </span><span id="local-6989586621681791903"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791903"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsRecFields GhcPs (LocatedA (PatBuilder GhcPs))
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1942"></span><span>  </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (PatBuilder GhcPs)
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (PatBuilder GhcPs))
-&gt; MsgEnvelope PsMessage -&gt; PV (PatBuilder GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; SrcSpan
forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791903"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1943"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrInvalidRecordCon"><span class="hs-identifier hs-var">PsErrInvalidRecordCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PatBuilder GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681791903"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1944"></span><span>
</span><span id="line-1945"></span><span class="hs-comment">-- | Disambiguate constructs that may appear when we do not know</span><span>
</span><span id="line-1946"></span><span class="hs-comment">-- ahead of time whether we are parsing a type or a newtype/data constructor.</span><span>
</span><span id="line-1947"></span><span class="hs-comment">--</span><span>
</span><span id="line-1948"></span><span class="hs-comment">-- See Note [Ambiguous syntactic categories] for the general idea.</span><span>
</span><span id="line-1949"></span><span class="hs-comment">--</span><span>
</span><span id="line-1950"></span><span class="hs-comment">-- See Note [Parsing data constructors is hard] for the specific issue this</span><span>
</span><span id="line-1951"></span><span class="hs-comment">-- particular class is solving.</span><span>
</span><span id="line-1952"></span><span class="hs-comment">--</span><span>
</span><span id="line-1953"></span><span class="hs-keyword">class</span><span> </span><span id="DisambTD"><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambTD"><span class="hs-identifier hs-var">DisambTD</span></a></span></span><span> </span><span id="local-6989586621681788599"><span class="annot"><a href="#local-6989586621681788599"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1954"></span><span>  </span><span class="hs-comment">-- | Process the head of a type-level function/constructor application,</span><span>
</span><span id="line-1955"></span><span>  </span><span class="hs-comment">-- i.e. the @H@ in @H a b c@.</span><span>
</span><span id="line-1956"></span><span>  </span><span id="mkHsAppTyHeadPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAppTyHeadPV"><span class="hs-identifier hs-type">mkHsAppTyHeadPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788599"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1957"></span><span>  </span><span class="hs-comment">-- | Disambiguate @f x@ (function application or prefix data constructor).</span><span>
</span><span id="line-1958"></span><span>  </span><span id="mkHsAppTyPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAppTyPV"><span class="hs-identifier hs-type">mkHsAppTyPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788599"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788599"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1959"></span><span>  </span><span class="hs-comment">-- | Disambiguate @f \@t@ (visible kind application)</span><span>
</span><span id="line-1960"></span><span>  </span><span id="mkHsAppKindTyPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAppKindTyPV"><span class="hs-identifier hs-type">mkHsAppKindTyPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788599"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788599"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1961"></span><span>  </span><span class="hs-comment">-- | Disambiguate @f \# x@ (infix operator)</span><span>
</span><span id="line-1962"></span><span>  </span><span id="mkHsOpTyPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsOpTyPV"><span class="hs-identifier hs-type">mkHsOpTyPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PromotionFlag"><span class="hs-identifier hs-type">PromotionFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788599"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1963"></span><span>  </span><span class="hs-comment">-- | Disambiguate @{-\# UNPACK \#-} t@ (unpack/nounpack pragma)</span><span>
</span><span id="line-1964"></span><span>  </span><span id="mkUnpackednessPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkUnpackednessPV"><span class="hs-identifier hs-type">mkUnpackednessPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#UnpackednessPragma"><span class="hs-identifier hs-type">UnpackednessPragma</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788599"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788599"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1965"></span><span>
</span><span id="line-1966"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambTD"><span class="hs-identifier hs-type">DisambTD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1967"></span><span>  </span><span id="local-6989586621681791918"><span class="annot"><span class="annottext">mkHsAppTyHeadPV :: LHsType GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsAppTyHeadPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTyHeadPV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span>
</span><span id="line-1968"></span><span>  </span><span id="local-6989586621681791920"><span class="annot"><span class="annottext">mkHsAppTyPV :: GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; LHsType GhcPs -&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsAppTyPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTyPV</span></a></span></span><span> </span><span id="local-6989586621681791921"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791921"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681791922"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791922"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
LHsType (GhcPass p) -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#mkHsAppTy"><span class="hs-identifier hs-var">mkHsAppTy</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791921"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791922"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1969"></span><span>  </span><span id="local-6989586621681791925"><span class="annot"><span class="annottext">mkHsAppKindTyPV :: GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; SrcSpan
-&gt; LHsType GhcPs
-&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsAppKindTyPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppKindTyPV</span></a></span></span><span> </span><span id="local-6989586621681791926"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791926"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681791927"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791927"><span class="hs-identifier hs-var">l_at</span></a></span></span><span> </span><span id="local-6989586621681791928"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791928"><span class="hs-identifier hs-var">ki</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XAppKindTy GhcPs -&gt; LHsType GhcPs -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
XAppKindTy (GhcPass p)
-&gt; LHsType (GhcPass p)
-&gt; LHsType (GhcPass p)
-&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#mkHsAppKindTy"><span class="hs-identifier hs-var">mkHsAppKindTy</span></a></span><span> </span><span class="annot"><span class="annottext">XAppKindTy GhcPs
SrcSpan
</span><a href="#local-6989586621681791927"><span class="hs-identifier hs-var">l_at</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791926"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791928"><span class="hs-identifier hs-var">ki</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1970"></span><span>  </span><span id="local-6989586621681791931"><span class="annot"><span class="annottext">mkHsOpTyPV :: PromotionFlag
-&gt; LHsType GhcPs
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LHsType GhcPs
-&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkHsOpTyPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOpTyPV</span></a></span></span><span> </span><span id="local-6989586621681791932"><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621681791932"><span class="hs-identifier hs-var">prom</span></a></span></span><span> </span><span id="local-6989586621681791933"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791933"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621681791934"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791934"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681791935"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791935"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PromotionFlag
-&gt; LHsType GhcPs
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LHsType GhcPs
-&gt; LHsType GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkLHsOpTy"><span class="hs-identifier hs-var">mkLHsOpTy</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621681791932"><span class="hs-identifier hs-var">prom</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791933"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791934"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791935"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1971"></span><span>  </span><span id="local-6989586621681791938"><span class="annot"><span class="annottext">mkUnpackednessPV :: Located UnpackednessPragma
-&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkUnpackednessPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkUnpackednessPV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located UnpackednessPragma -&gt; LHsType GhcPs -&gt; PV (LHsType GhcPs)
Located UnpackednessPragma
-&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsType GhcPs))
forall (m :: * -&gt; *).
MonadP m =&gt;
Located UnpackednessPragma -&gt; LHsType GhcPs -&gt; m (LHsType GhcPs)
</span><a href="GHC.Parser.PostProcess.html#addUnpackednessP"><span class="hs-identifier hs-var">addUnpackednessP</span></a></span><span>
</span><span id="line-1972"></span><span>
</span><span id="line-1973"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#dataConBuilderCon"><span class="hs-identifier hs-type">dataConBuilderCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#DataConBuilder"><span class="hs-identifier hs-type">DataConBuilder</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-1974"></span><span id="dataConBuilderCon"><span class="annot"><span class="annottext">dataConBuilderCon :: DataConBuilder -&gt; GenLocated SrcSpanAnnN RdrName
</span><a href="GHC.Parser.PostProcess.html#dataConBuilderCon"><span class="hs-identifier hs-var hs-var">dataConBuilderCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PrefixDataConBuilder"><span class="hs-identifier hs-type">PrefixDataConBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681791940"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791940"><span class="hs-identifier hs-var">dc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791940"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-1975"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#dataConBuilderCon"><span class="hs-identifier hs-var">dataConBuilderCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#InfixDataConBuilder"><span class="hs-identifier hs-type">InfixDataConBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681791942"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791942"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791942"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-1976"></span><span>
</span><span id="line-1977"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#dataConBuilderDetails"><span class="hs-identifier hs-type">dataConBuilderDetails</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#DataConBuilder"><span class="hs-identifier hs-type">DataConBuilder</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsConDeclH98Details"><span class="hs-identifier hs-type">HsConDeclH98Details</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1978"></span><span>
</span><span id="line-1979"></span><span class="hs-comment">-- Detect when the record syntax is used:</span><span>
</span><span id="line-1980"></span><span class="hs-comment">--   data T = MkT { ... }</span><span>
</span><span id="line-1981"></span><span id="dataConBuilderDetails"><span class="annot"><span class="annottext">dataConBuilderDetails :: DataConBuilder -&gt; HsConDeclH98Details GhcPs
</span><a href="GHC.Parser.PostProcess.html#dataConBuilderDetails"><span class="hs-identifier hs-var hs-var">dataConBuilderDetails</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PrefixDataConBuilder"><span class="hs-identifier hs-type">PrefixDataConBuilder</span></a></span><span> </span><span id="local-6989586621681791943"><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
</span><a href="#local-6989586621681791943"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-1982"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791944"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791944"><span class="hs-identifier hs-var">l_t</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsRecTy"><span class="hs-identifier hs-type">HsRecTy</span></a></span><span> </span><span id="local-6989586621681791945"><span class="annot"><span class="annottext">XRecTy GhcPs
</span><a href="#local-6989586621681791945"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span id="local-6989586621681791946"><span class="annot"><span class="annottext">[LConDeclField GhcPs]
</span><a href="#local-6989586621681791946"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OrdList (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; [GenLocated SrcSpanAnnA (HsType GhcPs)]
forall a. OrdList a -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#toList/Data.Foldable.html#toList"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
OrdList (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="#local-6989586621681791943"><span class="hs-identifier hs-var">flds</span></a></span><span>
</span><span id="line-1983"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnL [GenLocated SrcSpanAnnA (ConDeclField GhcPs)]
-&gt; HsConDetails
     Void
     (HsScaled GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs)))
     (GenLocated
        SrcSpanAnnL [GenLocated SrcSpanAnnA (ConDeclField GhcPs)])
forall tyarg arg rec. rec -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-var">RecCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnL
-&gt; [GenLocated SrcSpanAnnA (ConDeclField GhcPs)]
-&gt; GenLocated
     SrcSpanAnnL [GenLocated SrcSpanAnnA (ConDeclField GhcPs)]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn AnnList -&gt; SrcSpan -&gt; SrcSpanAnnL
forall a. a -&gt; SrcSpan -&gt; SrcSpanAnn' a
</span><a href="GHC.Parser.Annotation.html#SrcSpanAnn"><span class="hs-identifier hs-var">SrcSpanAnn</span></a></span><span> </span><span class="annot"><span class="annottext">XRecTy GhcPs
EpAnn AnnList
</span><a href="#local-6989586621681791945"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791944"><span class="hs-identifier hs-var">l_t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LConDeclField GhcPs]
[GenLocated SrcSpanAnnA (ConDeclField GhcPs)]
</span><a href="#local-6989586621681791946"><span class="hs-identifier hs-var">fields</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1984"></span><span>
</span><span id="line-1985"></span><span class="hs-comment">-- Normal prefix constructor, e.g.  data T = MkT A B C</span><span>
</span><span id="line-1986"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#dataConBuilderDetails"><span class="hs-identifier hs-var">dataConBuilderDetails</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PrefixDataConBuilder"><span class="hs-identifier hs-type">PrefixDataConBuilder</span></a></span><span> </span><span id="local-6989586621681791948"><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
</span><a href="#local-6989586621681791948"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-1987"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Void]
-&gt; [HsScaled GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))]
-&gt; HsConDetails
     Void
     (HsScaled GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs)))
     (GenLocated
        SrcSpanAnnL [GenLocated SrcSpanAnnA (ConDeclField GhcPs)])
forall tyarg arg rec.
[tyarg] -&gt; [arg] -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[Void]
</span><a href="Language.Haskell.Syntax.Type.html#noTypeArgs"><span class="hs-identifier hs-var">noTypeArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsType GhcPs)
 -&gt; HsScaled GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs)))
-&gt; [GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; [HsScaled GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; HsScaled GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a (p :: Pass). a -&gt; HsScaled (GhcPass p) a
</span><a href="GHC.Hs.Type.html#hsLinear"><span class="hs-identifier hs-var">hsLinear</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; [GenLocated SrcSpanAnnA (HsType GhcPs)]
forall a. OrdList a -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#toList/Data.Foldable.html#toList"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
OrdList (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="#local-6989586621681791948"><span class="hs-identifier hs-var">flds</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1988"></span><span>
</span><span id="line-1989"></span><span class="hs-comment">-- Infix constructor, e.g. data T = Int :! Bool</span><span>
</span><span id="line-1990"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#dataConBuilderDetails"><span class="hs-identifier hs-var">dataConBuilderDetails</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#InfixDataConBuilder"><span class="hs-identifier hs-type">InfixDataConBuilder</span></a></span><span> </span><span id="local-6989586621681791951"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791951"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681791952"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791952"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1991"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsScaled GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; HsScaled GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; HsConDetails
     Void
     (HsScaled GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs)))
     (GenLocated
        SrcSpanAnnL [GenLocated SrcSpanAnnA (ConDeclField GhcPs)])
forall tyarg arg rec. arg -&gt; arg -&gt; HsConDetails tyarg arg rec
</span><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-var">InfixCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; HsScaled GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a (p :: Pass). a -&gt; HsScaled (GhcPass p) a
</span><a href="GHC.Hs.Type.html#hsLinear"><span class="hs-identifier hs-var">hsLinear</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791951"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; HsScaled GhcPs (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a (p :: Pass). a -&gt; HsScaled (GhcPass p) a
</span><a href="GHC.Hs.Type.html#hsLinear"><span class="hs-identifier hs-var">hsLinear</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791952"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1992"></span><span>
</span><span id="line-1993"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambTD"><span class="hs-identifier hs-type">DisambTD</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#DataConBuilder"><span class="hs-identifier hs-type">DataConBuilder</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1994"></span><span>  </span><span id="local-6989586621681791959"><span class="annot"><span class="annottext">mkHsAppTyHeadPV :: LHsType GhcPs -&gt; PV (LocatedA DataConBuilder)
</span><a href="GHC.Parser.PostProcess.html#mkHsAppTyHeadPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTyHeadPV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; PV (LocatedA DataConBuilder)
</span><a href="GHC.Parser.PostProcess.html#tyToDataConBuilder"><span class="hs-identifier hs-var">tyToDataConBuilder</span></a></span><span>
</span><span id="line-1995"></span><span>
</span><span id="line-1996"></span><span>  </span><span id="local-6989586621681791964"><span class="annot"><span class="annottext">mkHsAppTyPV :: LocatedA DataConBuilder
-&gt; LHsType GhcPs -&gt; PV (LocatedA DataConBuilder)
</span><a href="GHC.Parser.PostProcess.html#mkHsAppTyPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTyPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681791965"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791965"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PrefixDataConBuilder"><span class="hs-identifier hs-type">PrefixDataConBuilder</span></a></span><span> </span><span id="local-6989586621681791966"><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
</span><a href="#local-6989586621681791966"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span id="local-6989586621681791967"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791967"><span class="hs-identifier hs-var">fn</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681791968"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791968"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1997"></span><span>    </span><span class="annot"><span class="annottext">LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder))
-&gt; LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1998"></span><span>      </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; DataConBuilder -&gt; LocatedA DataConBuilder
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; SrcSpanAnnA) -&gt; SrcSpan -&gt; SrcSpanAnnA
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-identifier hs-var">combineSrcSpans</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791965"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; SrcSpan
forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791968"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1999"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
-&gt; GenLocated SrcSpanAnnN RdrName -&gt; DataConBuilder
</span><a href="GHC.Parser.Types.html#PrefixDataConBuilder"><span class="hs-identifier hs-var">PrefixDataConBuilder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
OrdList (GenLocated SrcSpanAnnA (HsType GhcPs))
</span><a href="#local-6989586621681791966"><span class="hs-identifier hs-var">flds</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (GenLocated SrcSpanAnnA (HsType GhcPs))
-&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; OrdList (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a. OrdList a -&gt; a -&gt; OrdList a
</span><a href="GHC.Data.OrdList.html#snocOL"><span class="hs-operator hs-var">`snocOL`</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791968"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791967"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2000"></span><span>  </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAppTyPV"><span class="hs-identifier hs-var">mkHsAppTyPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#InfixDataConBuilder"><span class="hs-identifier hs-type">InfixDataConBuilder</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2001"></span><span>    </span><span class="hs-comment">-- This case is impossible because of the way</span><span>
</span><span id="line-2002"></span><span>    </span><span class="hs-comment">-- the grammar in Parser.y is written (see infixtype/ftype).</span><span>
</span><span id="line-2003"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; PV (LocatedA DataConBuilder)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkHsAppTyPV: InfixDataConBuilder&quot;</span></span><span>
</span><span id="line-2004"></span><span>
</span><span id="line-2005"></span><span>  </span><span id="local-6989586621681791972"><span class="annot"><span class="annottext">mkHsAppKindTyPV :: LocatedA DataConBuilder
-&gt; SrcSpan -&gt; LHsType GhcPs -&gt; PV (LocatedA DataConBuilder)
</span><a href="GHC.Parser.PostProcess.html#mkHsAppKindTyPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppKindTyPV</span></a></span></span><span> </span><span id="local-6989586621681791973"><span class="annot"><span class="annottext">LocatedA DataConBuilder
</span><a href="#local-6989586621681791973"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621681791974"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791974"><span class="hs-identifier hs-var">l_at</span></a></span></span><span> </span><span id="local-6989586621681791975"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791975"><span class="hs-identifier hs-var">ki</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2006"></span><span>    </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (LocatedA DataConBuilder)
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (LocatedA DataConBuilder))
-&gt; MsgEnvelope PsMessage -&gt; PV (LocatedA DataConBuilder)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681791974"><span class="hs-identifier hs-var">l_at</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2007"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataConBuilder -&gt; HsType GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrUnexpectedKindAppInDataCon"><span class="hs-identifier hs-var">PsErrUnexpectedKindAppInDataCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocatedA DataConBuilder -&gt; DataConBuilder
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA DataConBuilder
</span><a href="#local-6989586621681791973"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; HsType GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791975"><span class="hs-identifier hs-var">ki</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2008"></span><span>
</span><span id="line-2009"></span><span>  </span><span id="local-6989586621681791986"><span class="annot"><span class="annottext">mkHsOpTyPV :: PromotionFlag
-&gt; LHsType GhcPs
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LHsType GhcPs
-&gt; PV (LocatedA DataConBuilder)
</span><a href="GHC.Parser.PostProcess.html#mkHsOpTyPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOpTyPV</span></a></span></span><span> </span><span id="local-6989586621681791987"><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621681791987"><span class="hs-identifier hs-var">prom</span></a></span></span><span> </span><span id="local-6989586621681791988"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791988"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621681791989"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791989"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621681791990"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791990"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2010"></span><span>      </span><span class="annot"><span class="annottext">HsType GhcPs -&gt; PV ()
</span><a href="#local-6989586621681791991"><span class="hs-identifier hs-var">check_no_ops</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; HsType GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791990"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- check the RHS because parsing type operators is right-associative</span><span>
</span><span id="line-2011"></span><span>      </span><span id="local-6989586621681791992"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791992"><span class="hs-identifier hs-var">data_con</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either (MsgEnvelope PsMessage) (GenLocated SrcSpanAnnN RdrName)
-&gt; PV (GenLocated SrcSpanAnnN RdrName)
forall (m :: * -&gt; *) a.
MonadP m =&gt;
Either (MsgEnvelope PsMessage) a -&gt; m a
</span><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-var">eitherToP</span></a></span><span> </span><span class="annot"><span class="annottext">(Either (MsgEnvelope PsMessage) (GenLocated SrcSpanAnnN RdrName)
 -&gt; PV (GenLocated SrcSpanAnnN RdrName))
-&gt; Either (MsgEnvelope PsMessage) (GenLocated SrcSpanAnnN RdrName)
-&gt; PV (GenLocated SrcSpanAnnN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; Either (MsgEnvelope PsMessage) (GenLocated SrcSpanAnnN RdrName)
</span><a href="GHC.Parser.PostProcess.html#tyConToDataCon"><span class="hs-identifier hs-var">tyConToDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791989"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-2012"></span><span>      </span><span class="annot"><span class="annottext">PromotionFlag -&gt; GenLocated SrcSpanAnnN RdrName -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkNotPromotedDataCon"><span class="hs-identifier hs-var">checkNotPromotedDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621681791987"><span class="hs-identifier hs-var">prom</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791992"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-2013"></span><span>      </span><span class="annot"><span class="annottext">LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder))
-&gt; LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; DataConBuilder -&gt; LocatedA DataConBuilder
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791994"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LHsType GhcPs
-&gt; DataConBuilder
</span><a href="GHC.Parser.Types.html#InfixDataConBuilder"><span class="hs-identifier hs-var">InfixDataConBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791988"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791992"><span class="hs-identifier hs-var">data_con</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791990"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2014"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-2015"></span><span>      </span><span id="local-6989586621681791994"><span class="annot"><span class="annottext">l :: SrcSpanAnnA
</span><a href="#local-6989586621681791994"><span class="hs-identifier hs-var hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
-&gt; GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; SrcSpanAnnA
forall a e1 e2.
Semigroup a =&gt;
GenLocated (SrcAnn a) e1 -&gt; GenLocated (SrcAnn a) e2 -&gt; SrcAnn a
</span><a href="GHC.Parser.Annotation.html#combineLocsA"><span class="hs-identifier hs-var">combineLocsA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791988"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791990"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-2016"></span><span>      </span><span id="local-6989586621681791991"><span class="annot"><span class="annottext">check_no_ops :: HsType GhcPs -&gt; PV ()
</span><a href="#local-6989586621681791991"><span class="hs-identifier hs-var hs-var">check_no_ops</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBangTy"><span class="hs-identifier hs-type">HsBangTy</span></a></span><span> </span><span class="annot"><span class="annottext">XBangTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsSrcBang
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681791995"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681791995"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsType GhcPs -&gt; PV ()
</span><a href="#local-6989586621681791991"><span class="hs-identifier hs-var">check_no_ops</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; HsType GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791995"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2017"></span><span>      </span><span class="annot"><a href="#local-6989586621681791991"><span class="hs-identifier hs-var">check_no_ops</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOpTy"><span class="hs-identifier hs-type">HsOpTy</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2018"></span><span>        </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV ()) -&gt; MsgEnvelope PsMessage -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681791994"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2019"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsType GhcPs -&gt; RdrName -&gt; HsType GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrInvalidInfixDataCon"><span class="hs-identifier hs-var">PsErrInvalidInfixDataCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; HsType GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791988"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681791989"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; HsType GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681791990"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2020"></span><span>      </span><span class="annot"><a href="#local-6989586621681791991"><span class="hs-identifier hs-var">check_no_ops</span></a></span><span> </span><span class="annot"><span class="annottext">HsType GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2021"></span><span>
</span><span id="line-2022"></span><span>  </span><span id="local-6989586621681792005"><span class="annot"><span class="annottext">mkUnpackednessPV :: Located UnpackednessPragma
-&gt; LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder)
</span><a href="GHC.Parser.PostProcess.html#mkUnpackednessPV"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkUnpackednessPV</span></a></span></span><span> </span><span id="local-6989586621681792006"><span class="annot"><span class="annottext">Located UnpackednessPragma
</span><a href="#local-6989586621681792006"><span class="hs-identifier hs-var">unpk</span></a></span></span><span> </span><span id="local-6989586621681792007"><span class="annot"><span class="annottext">LocatedA DataConBuilder
</span><a href="#local-6989586621681792007"><span class="hs-identifier hs-var">constr_stuff</span></a></span></span><span>
</span><span id="line-2023"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#InfixDataConBuilder"><span class="hs-identifier hs-type">InfixDataConBuilder</span></a></span><span> </span><span id="local-6989586621681792008"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681792008"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621681792009"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792009"><span class="hs-identifier hs-var">data_con</span></a></span></span><span> </span><span id="local-6989586621681792010"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681792010"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA DataConBuilder
</span><a href="#local-6989586621681792007"><span class="hs-identifier hs-var">constr_stuff</span></a></span><span>
</span><span id="line-2024"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- When the user writes  data T = {-# UNPACK #-} Int :+ Bool</span><span>
</span><span id="line-2025"></span><span>      </span><span class="hs-comment">--   we apply {-# UNPACK #-} to the LHS</span><span>
</span><span id="line-2026"></span><span>      </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681792011"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681792011"><span class="hs-identifier hs-var">lhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located UnpackednessPragma -&gt; LHsType GhcPs -&gt; PV (LHsType GhcPs)
forall (m :: * -&gt; *).
MonadP m =&gt;
Located UnpackednessPragma -&gt; LHsType GhcPs -&gt; m (LHsType GhcPs)
</span><a href="GHC.Parser.PostProcess.html#addUnpackednessP"><span class="hs-identifier hs-var">addUnpackednessP</span></a></span><span> </span><span class="annot"><span class="annottext">Located UnpackednessPragma
</span><a href="#local-6989586621681792006"><span class="hs-identifier hs-var">unpk</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681792008"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-2027"></span><span>         </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681792012"><span class="annot"><span class="annottext">l :: SrcSpanAnnA
</span><a href="#local-6989586621681792012"><span class="hs-identifier hs-var hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA UnpackednessPragma
-&gt; LocatedA DataConBuilder -&gt; SrcSpanAnnA
forall a e1 e2.
Semigroup a =&gt;
GenLocated (SrcAnn a) e1 -&gt; GenLocated (SrcAnn a) e2 -&gt; SrcAnn a
</span><a href="GHC.Parser.Annotation.html#combineLocsA"><span class="hs-identifier hs-var">combineLocsA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located UnpackednessPragma
-&gt; GenLocated SrcSpanAnnA UnpackednessPragma
forall e ann. Located e -&gt; LocatedAn ann e
</span><a href="GHC.Parser.Annotation.html#reLocA"><span class="hs-identifier hs-var">reLocA</span></a></span><span> </span><span class="annot"><span class="annottext">Located UnpackednessPragma
</span><a href="#local-6989586621681792006"><span class="hs-identifier hs-var">unpk</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LocatedA DataConBuilder
</span><a href="#local-6989586621681792007"><span class="hs-identifier hs-var">constr_stuff</span></a></span><span>
</span><span id="line-2028"></span><span>         </span><span class="annot"><span class="annottext">LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder))
-&gt; LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; DataConBuilder -&gt; LocatedA DataConBuilder
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792012"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LHsType GhcPs
-&gt; DataConBuilder
</span><a href="GHC.Parser.Types.html#InfixDataConBuilder"><span class="hs-identifier hs-var">InfixDataConBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681792011"><span class="hs-identifier hs-var">lhs'</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792009"><span class="hs-identifier hs-var">data_con</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681792010"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2029"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2030"></span><span>      </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV ()) -&gt; MsgEnvelope PsMessage -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located UnpackednessPragma -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located UnpackednessPragma
</span><a href="#local-6989586621681792006"><span class="hs-identifier hs-var">unpk</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrUnpackDataCon"><span class="hs-identifier hs-var">PsErrUnpackDataCon</span></a></span><span>
</span><span id="line-2031"></span><span>         </span><span class="annot"><span class="annottext">LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA DataConBuilder
</span><a href="#local-6989586621681792007"><span class="hs-identifier hs-var">constr_stuff</span></a></span><span>
</span><span id="line-2032"></span><span>
</span><span id="line-2033"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#tyToDataConBuilder"><span class="hs-identifier hs-type">tyToDataConBuilder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#DataConBuilder"><span class="hs-identifier hs-type">DataConBuilder</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2034"></span><span id="tyToDataConBuilder"><span class="annot"><span class="annottext">tyToDataConBuilder :: LHsType GhcPs -&gt; PV (LocatedA DataConBuilder)
</span><a href="GHC.Parser.PostProcess.html#tyToDataConBuilder"><span class="hs-identifier hs-var hs-var">tyToDataConBuilder</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792015"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792015"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681792016"><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621681792016"><span class="hs-identifier hs-var">prom</span></a></span></span><span> </span><span id="local-6989586621681792017"><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
</span><a href="#local-6989586621681792017"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2035"></span><span>  </span><span id="local-6989586621681792018"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792018"><span class="hs-identifier hs-var">data_con</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either (MsgEnvelope PsMessage) (GenLocated SrcSpanAnnN RdrName)
-&gt; PV (GenLocated SrcSpanAnnN RdrName)
forall (m :: * -&gt; *) a.
MonadP m =&gt;
Either (MsgEnvelope PsMessage) a -&gt; m a
</span><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-var">eitherToP</span></a></span><span> </span><span class="annot"><span class="annottext">(Either (MsgEnvelope PsMessage) (GenLocated SrcSpanAnnN RdrName)
 -&gt; PV (GenLocated SrcSpanAnnN RdrName))
-&gt; Either (MsgEnvelope PsMessage) (GenLocated SrcSpanAnnN RdrName)
-&gt; PV (GenLocated SrcSpanAnnN RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; Either (MsgEnvelope PsMessage) (GenLocated SrcSpanAnnN RdrName)
</span><a href="GHC.Parser.PostProcess.html#tyConToDataCon"><span class="hs-identifier hs-var">tyConToDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792017"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-2036"></span><span>  </span><span class="annot"><span class="annottext">PromotionFlag -&gt; GenLocated SrcSpanAnnN RdrName -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkNotPromotedDataCon"><span class="hs-identifier hs-var">checkNotPromotedDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621681792016"><span class="hs-identifier hs-var">prom</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792018"><span class="hs-identifier hs-var">data_con</span></a></span><span>
</span><span id="line-2037"></span><span>  </span><span class="annot"><span class="annottext">LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder))
-&gt; LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; DataConBuilder -&gt; LocatedA DataConBuilder
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792015"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
-&gt; GenLocated SrcSpanAnnN RdrName -&gt; DataConBuilder
</span><a href="GHC.Parser.Types.html#PrefixDataConBuilder"><span class="hs-identifier hs-var">PrefixDataConBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
OrdList (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a. OrdList a
</span><a href="GHC.Data.OrdList.html#nilOL"><span class="hs-identifier hs-var">nilOL</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792018"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2038"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#tyToDataConBuilder"><span class="hs-identifier hs-var">tyToDataConBuilder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792020"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792020"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTupleTy"><span class="hs-identifier hs-type">HsTupleTy</span></a></span><span> </span><span class="annot"><span class="annottext">XTupleTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsTupleSort
</span><a href="Language.Haskell.Syntax.Type.html#HsBoxedOrConstraintTuple"><span class="hs-identifier hs-var">HsBoxedOrConstraintTuple</span></a></span><span> </span><span id="local-6989586621681792021"><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621681792021"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2039"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681792022"><span class="annot"><span class="annottext">data_con :: GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792022"><span class="hs-identifier hs-var hs-var">data_con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpanAnnN
forall a ann. SrcSpanAnn' a -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792020"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Boxity -&gt; Int -&gt; DataCon
</span><a href="GHC.Builtin.Types.html#tupleDataCon"><span class="hs-identifier hs-var">tupleDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#length/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621681792021"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2040"></span><span>  </span><span class="annot"><span class="annottext">LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder))
-&gt; LocatedA DataConBuilder -&gt; PV (LocatedA DataConBuilder)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; DataConBuilder -&gt; LocatedA DataConBuilder
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792020"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (LHsType GhcPs)
-&gt; GenLocated SrcSpanAnnN RdrName -&gt; DataConBuilder
</span><a href="GHC.Parser.Types.html#PrefixDataConBuilder"><span class="hs-identifier hs-var">PrefixDataConBuilder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcPs)]
-&gt; OrdList (GenLocated SrcSpanAnnA (HsType GhcPs))
forall a. [a] -&gt; OrdList a
</span><a href="GHC.Data.OrdList.html#toOL"><span class="hs-identifier hs-var">toOL</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
[GenLocated SrcSpanAnnA (HsType GhcPs)]
</span><a href="#local-6989586621681792021"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792022"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2041"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#tyToDataConBuilder"><span class="hs-identifier hs-var">tyToDataConBuilder</span></a></span><span> </span><span id="local-6989586621681792025"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681792025"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2042"></span><span>  </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (LocatedA DataConBuilder)
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (LocatedA DataConBuilder))
-&gt; MsgEnvelope PsMessage -&gt; PV (LocatedA DataConBuilder)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; SrcSpan
forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681792025"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2043"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsType GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrInvalidDataCon"><span class="hs-identifier hs-var">PsErrInvalidDataCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; HsType GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681792025"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2044"></span><span>
</span><span id="line-2045"></span><span class="annot"><span class="hs-comment">-- | Rejects declarations such as @data T = 'MkT@ (note the leading tick).</span></span><span>
</span><span id="line-2046"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkNotPromotedDataCon"><span class="hs-identifier hs-type">checkNotPromotedDataCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PromotionFlag"><span class="hs-identifier hs-type">PromotionFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2047"></span><span id="checkNotPromotedDataCon"><span class="annot"><span class="annottext">checkNotPromotedDataCon :: PromotionFlag -&gt; GenLocated SrcSpanAnnN RdrName -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkNotPromotedDataCon"><span class="hs-identifier hs-var hs-var">checkNotPromotedDataCon</span></a></span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="Language.Haskell.Syntax.Type.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2048"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkNotPromotedDataCon"><span class="hs-identifier hs-var">checkNotPromotedDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="Language.Haskell.Syntax.Type.html#IsPromoted"><span class="hs-identifier hs-var">IsPromoted</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792029"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681792029"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681792030"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792030"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2049"></span><span>  </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV ()) -&gt; MsgEnvelope PsMessage -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681792029"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2050"></span><span>    </span><span class="annot"><span class="annottext">RdrName -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIllegalPromotionQuoteDataCon"><span class="hs-identifier hs-var">PsErrIllegalPromotionQuoteDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792030"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-2051"></span><span>
</span><span id="line-2052"></span><span class="hs-comment">{- Note [Ambiguous syntactic categories]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
There are places in the grammar where we do not know whether we are parsing an
expression or a pattern without unlimited lookahead (which we do not have in
'happy'):

View patterns:

    f (Con a b     ) = ...  -- 'Con a b' is a pattern
    f (Con a b -&gt; x) = ...  -- 'Con a b' is an expression

do-notation:

    do { Con a b &lt;- x } -- 'Con a b' is a pattern
    do { Con a b }      -- 'Con a b' is an expression

Guards:

    x | True &lt;- p &amp;&amp; q = ...  -- 'True' is a pattern
    x | True           = ...  -- 'True' is an expression

Top-level value/function declarations (FunBind/PatBind):

    f ! a         -- TH splice
    f ! a = ...   -- function declaration

    Until we encounter the = sign, we don't know if it's a top-level
    TemplateHaskell splice where ! is used, or if it's a function declaration
    where ! is bound.

There are also places in the grammar where we do not know whether we are
parsing an expression or a command:

    proc x -&gt; do { (stuff) -&lt; x }   -- 'stuff' is an expression
    proc x -&gt; do { (stuff) }        -- 'stuff' is a command

    Until we encounter arrow syntax (-&lt;) we don't know whether to parse 'stuff'
    as an expression or a command.

In fact, do-notation is subject to both ambiguities:

    proc x -&gt; do { (stuff) -&lt; x }        -- 'stuff' is an expression
    proc x -&gt; do { (stuff) &lt;- f -&lt; x }   -- 'stuff' is a pattern
    proc x -&gt; do { (stuff) }             -- 'stuff' is a command

There are many possible solutions to this problem. For an overview of the ones
we decided against, see Note [Resolving parsing ambiguities: non-taken alternatives]

The solution that keeps basic definitions (such as HsExpr) clean, keeps the
concerns local to the parser, and does not require duplication of hsSyn types,
or an extra pass over the entire AST, is to parse into an overloaded
parser-validator (a so-called tagless final encoding):

    class DisambECP b where ...
    instance DisambECP (HsCmd GhcPs) where ...
    instance DisambECP (HsExp GhcPs) where ...
    instance DisambECP (PatBuilder GhcPs) where ...

The 'DisambECP' class contains functions to build and validate 'b'. For example,
to add parentheses we have:

  mkHsParPV :: DisambECP b =&gt; SrcSpan -&gt; Located b -&gt; PV (Located b)

'mkHsParPV' will wrap the inner value in HsCmdPar for commands, HsPar for
expressions, and 'PatBuilderPar' for patterns (later transformed into ParPat,
see Note [PatBuilder]).

Consider the 'alts' production used to parse case-of alternatives:

  alts :: { Located ([AddEpAnn],[LMatch GhcPs (LHsExpr GhcPs)]) }
    : alts1     { sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

We abstract over LHsExpr GhcPs, and it becomes:

  alts :: { forall b. DisambECP b =&gt; PV (Located ([AddEpAnn],[LMatch GhcPs (Located b)])) }
    : alts1     { $1 &gt;&gt;= \ $1 -&gt;
                  return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { $2 &gt;&gt;= \ $2 -&gt;
                  return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

Compared to the initial definition, the added bits are:

    forall b. DisambECP b =&gt; PV ( ... ) -- in the type signature
    $1 &gt;&gt;= \ $1 -&gt; return $             -- in one reduction rule
    $2 &gt;&gt;= \ $2 -&gt; return $             -- in another reduction rule

The overhead is constant relative to the size of the rest of the reduction
rule, so this approach scales well to large parser productions.

Note that we write ($1 &gt;&gt;= \ $1 -&gt; ...), so the second $1 is in a binding
position and shadows the previous $1. We can do this because internally
'happy' desugars $n to happy_var_n, and the rationale behind this idiom
is to be able to write (sLL $1 $&gt;) later on. The alternative would be to
write this as ($1 &gt;&gt;= \ fresh_name -&gt; ...), but then we couldn't refer
to the last fresh name as $&gt;.

Finally, we instantiate the polymorphic type to a concrete one, and run the
parser-validator, for example:

    stmt   :: { forall b. DisambECP b =&gt; PV (LStmt GhcPs (Located b)) }
    e_stmt :: { LStmt GhcPs (LHsExpr GhcPs) }
            : stmt {% runPV $1 }

In e_stmt, three things happen:

  1. we instantiate: b ~ HsExpr GhcPs
  2. we embed the PV computation into P by using runPV
  3. we run validation by using a monadic production, {% ... }

At this point the ambiguity is resolved.
-}</span><span>
</span><span id="line-2164"></span><span>
</span><span id="line-2165"></span><span>
</span><span id="line-2166"></span><span class="hs-comment">{- Note [Resolving parsing ambiguities: non-taken alternatives]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Alternative I, extra constructors in GHC.Hs.Expr
------------------------------------------------
We could add extra constructors to HsExpr to represent command-specific and
pattern-specific syntactic constructs. Under this scheme, we parse patterns
and commands as expressions and rejig later.  This is what GHC used to do, and
it polluted 'HsExpr' with irrelevant constructors:

  * for commands: 'HsArrForm', 'HsArrApp'
  * for patterns: 'EWildPat', 'EAsPat', 'EViewPat', 'ELazyPat'

(As of now, we still do that for patterns, but we plan to fix it).

There are several issues with this:

  * The implementation details of parsing are leaking into hsSyn definitions.

  * Code that uses HsExpr has to panic on these impossible-after-parsing cases.

  * HsExpr is arbitrarily selected as the extension basis. Why not extend
    HsCmd or HsPat with extra constructors instead?

Alternative II, extra constructors in GHC.Hs.Expr for GhcPs
-----------------------------------------------------------
We could address some of the problems with Alternative I by using Trees That
Grow and extending HsExpr only in the GhcPs pass. However, GhcPs corresponds to
the output of parsing, not to its intermediate results, so we wouldn't want
them there either.

Alternative III, extra constructors in GHC.Hs.Expr for GhcPrePs
---------------------------------------------------------------
We could introduce a new pass, GhcPrePs, to keep GhcPs pristine.
Unfortunately, creating a new pass would significantly bloat conversion code
and slow down the compiler by adding another linear-time pass over the entire
AST. For example, in order to build HsExpr GhcPrePs, we would need to build
HsLocalBinds GhcPrePs (as part of HsLet), and we never want HsLocalBinds
GhcPrePs.


Alternative IV, sum type and bottom-up data flow
------------------------------------------------
Expressions and commands are disjoint. There are no user inputs that could be
interpreted as either an expression or a command depending on outer context:

  5        -- definitely an expression
  x -&lt; y   -- definitely a command

Even though we have both 'HsLam' and 'HsCmdLam', we can look at
the body to disambiguate:

  \p -&gt; 5        -- definitely an expression
  \p -&gt; x -&lt; y   -- definitely a command

This means we could use a bottom-up flow of information to determine
whether we are parsing an expression or a command, using a sum type
for intermediate results:

  Either (LHsExpr GhcPs) (LHsCmd GhcPs)

There are two problems with this:

  * We cannot handle the ambiguity between expressions and
    patterns, which are not disjoint.

  * Bottom-up flow of information leads to poor error messages. Consider

        if ... then 5 else (x -&lt; y)

    Do we report that '5' is not a valid command or that (x -&lt; y) is not a
    valid expression?  It depends on whether we want the entire node to be
    'HsIf' or 'HsCmdIf', and this information flows top-down, from the
    surrounding parsing context (are we in 'proc'?)

Alternative V, backtracking with parser combinators
---------------------------------------------------
One might think we could sidestep the issue entirely by using a backtracking
parser and doing something along the lines of (try pExpr &lt;|&gt; pPat).

Turns out, this wouldn't work very well, as there can be patterns inside
expressions (e.g. via 'case', 'let', 'do') and expressions inside patterns
(e.g. view patterns). To handle this, we would need to backtrack while
backtracking, and unbound levels of backtracking lead to very fragile
performance.

Alternative VI, an intermediate data type
-----------------------------------------
There are common syntactic elements of expressions, commands, and patterns
(e.g. all of them must have balanced parentheses), and we can capture this
common structure in an intermediate data type, Frame:

data Frame
  = FrameVar RdrName
    -- ^ Identifier: Just, map, BS.length
  | FrameTuple [LTupArgFrame] Boxity
    -- ^ Tuple (section): (a,b) (a,b,c) (a,,) (,a,)
  | FrameTySig LFrame (LHsSigWcType GhcPs)
    -- ^ Type signature: x :: ty
  | FramePar (SrcSpan, SrcSpan) LFrame
    -- ^ Parentheses
  | FrameIf LFrame LFrame LFrame
    -- ^ If-expression: if p then x else y
  | FrameCase LFrame [LFrameMatch]
    -- ^ Case-expression: case x of { p1 -&gt; e1; p2 -&gt; e2 }
  | FrameDo (HsStmtContext GhcRn) [LFrameStmt]
    -- ^ Do-expression: do { s1; a &lt;- s2; s3 }
  ...
  | FrameExpr (HsExpr GhcPs)   -- unambiguously an expression
  | FramePat (HsPat GhcPs)     -- unambiguously a pattern
  | FrameCommand (HsCmd GhcPs) -- unambiguously a command

To determine which constructors 'Frame' needs to have, we take the union of
intersections between HsExpr, HsCmd, and HsPat.

The intersection between HsPat and HsExpr:

  HsPat  =  VarPat   | TuplePat      | SigPat        | ParPat   | ...
  HsExpr =  HsVar    | ExplicitTuple | ExprWithTySig | HsPar    | ...
  -------------------------------------------------------------------
  Frame  =  FrameVar | FrameTuple    | FrameTySig    | FramePar | ...

The intersection between HsCmd and HsExpr:

  HsCmd  = HsCmdIf | HsCmdCase | HsCmdDo | HsCmdPar
  HsExpr = HsIf    | HsCase    | HsDo    | HsPar
  ------------------------------------------------
  Frame = FrameIf  | FrameCase | FrameDo | FramePar

The intersection between HsCmd and HsPat:

  HsPat  = ParPat   | ...
  HsCmd  = HsCmdPar | ...
  -----------------------
  Frame  = FramePar | ...

Take the union of each intersection and this yields the final 'Frame' data
type. The problem with this approach is that we end up duplicating a good
portion of hsSyn:

    Frame         for  HsExpr, HsPat, HsCmd
    TupArgFrame   for  HsTupArg
    FrameMatch    for  Match
    FrameStmt     for  StmtLR
    FrameGRHS     for  GRHS
    FrameGRHSs    for  GRHSs
    ...

Alternative VII, a product type
-------------------------------
We could avoid the intermediate representation of Alternative VI by parsing
into a product of interpretations directly:

    type ExpCmdPat = ( PV (LHsExpr GhcPs)
                     , PV (LHsCmd GhcPs)
                     , PV (LHsPat GhcPs) )

This means that in positions where we do not know whether to produce
expression, a pattern, or a command, we instead produce a parser-validator for
each possible option.

Then, as soon as we have parsed far enough to resolve the ambiguity, we pick
the appropriate component of the product, discarding the rest:

    checkExpOf3 (e, _, _) = e  -- interpret as an expression
    checkCmdOf3 (_, c, _) = c  -- interpret as a command
    checkPatOf3 (_, _, p) = p  -- interpret as a pattern

We can easily define ambiguities between arbitrary subsets of interpretations.
For example, when we know ahead of type that only an expression or a command is
possible, but not a pattern, we can use a smaller type:

    type ExpCmd = (PV (LHsExpr GhcPs), PV (LHsCmd GhcPs))

    checkExpOf2 (e, _) = e  -- interpret as an expression
    checkCmdOf2 (_, c) = c  -- interpret as a command

However, there is a slight problem with this approach, namely code duplication
in parser productions. Consider the 'alts' production used to parse case-of
alternatives:

  alts :: { Located ([AddEpAnn],[LMatch GhcPs (LHsExpr GhcPs)]) }
    : alts1     { sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

Under the new scheme, we have to completely duplicate its type signature and
each reduction rule:

  alts :: { ( PV (Located ([AddEpAnn],[LMatch GhcPs (LHsExpr GhcPs)])) -- as an expression
            , PV (Located ([AddEpAnn],[LMatch GhcPs (LHsCmd GhcPs)]))  -- as a command
            ) }
    : alts1
        { ( checkExpOf2 $1 &gt;&gt;= \ $1 -&gt;
            return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1)
          , checkCmdOf2 $1 &gt;&gt;= \ $1 -&gt;
            return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1)
          ) }
    | ';' alts
        { ( checkExpOf2 $2 &gt;&gt;= \ $2 -&gt;
            return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2)
          , checkCmdOf2 $2 &gt;&gt;= \ $2 -&gt;
            return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2)
          ) }

And the same goes for other productions: 'altslist', 'alts1', 'alt', 'alt_rhs',
'ralt', 'gdpats', 'gdpat', 'exp', ... and so on. That is a lot of code!

Alternative VIII, a function from a GADT
----------------------------------------
We could avoid code duplication of the Alternative VII by representing the product
as a function from a GADT:

    data ExpCmdG b where
      ExpG :: ExpCmdG HsExpr
      CmdG :: ExpCmdG HsCmd

    type ExpCmd = forall b. ExpCmdG b -&gt; PV (Located (b GhcPs))

    checkExp :: ExpCmd -&gt; PV (LHsExpr GhcPs)
    checkCmd :: ExpCmd -&gt; PV (LHsCmd GhcPs)
    checkExp f = f ExpG  -- interpret as an expression
    checkCmd f = f CmdG  -- interpret as a command

Consider the 'alts' production used to parse case-of alternatives:

  alts :: { Located ([AddEpAnn],[LMatch GhcPs (LHsExpr GhcPs)]) }
    : alts1     { sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

We abstract over LHsExpr, and it becomes:

  alts :: { forall b. ExpCmdG b -&gt; PV (Located ([AddEpAnn],[LMatch GhcPs (Located (b GhcPs))])) }
    : alts1
        { \tag -&gt; $1 tag &gt;&gt;= \ $1 -&gt;
                  return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts
        { \tag -&gt; $2 tag &gt;&gt;= \ $2 -&gt;
                  return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

Note that 'ExpCmdG' is a singleton type, the value is completely
determined by the type:

  when (b~HsExpr),  tag = ExpG
  when (b~HsCmd),   tag = CmdG

This is a clear indication that we can use a class to pass this value behind
the scenes:

  class    ExpCmdI b      where expCmdG :: ExpCmdG b
  instance ExpCmdI HsExpr where expCmdG = ExpG
  instance ExpCmdI HsCmd  where expCmdG = CmdG

And now the 'alts' production is simplified, as we no longer need to
thread 'tag' explicitly:

  alts :: { forall b. ExpCmdI b =&gt; PV (Located ([AddEpAnn],[LMatch GhcPs (Located (b GhcPs))])) }
    : alts1     { $1 &gt;&gt;= \ $1 -&gt;
                  return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { $2 &gt;&gt;= \ $2 -&gt;
                  return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

This encoding works well enough, but introduces an extra GADT unlike the
tagless final encoding, and there's no need for this complexity.

-}</span><span>
</span><span id="line-2431"></span><span>
</span><span id="line-2432"></span><span class="hs-comment">{- Note [PatBuilder]
~~~~~~~~~~~~~~~~~~~~
Unlike HsExpr or HsCmd, the Pat type cannot accommodate all intermediate forms,
so we introduce the notion of a PatBuilder.

Consider a pattern like this:

  Con a b c

We parse arguments to &quot;Con&quot; one at a time in the  fexp aexp  parser production,
building the result with mkHsAppPV, so the intermediate forms are:

  1. Con
  2. Con a
  3. Con a b
  4. Con a b c

In 'HsExpr', we have 'HsApp', so the intermediate forms are represented like
this (pseudocode):

  1. &quot;Con&quot;
  2. HsApp &quot;Con&quot; &quot;a&quot;
  3. HsApp (HsApp &quot;Con&quot; &quot;a&quot;) &quot;b&quot;
  3. HsApp (HsApp (HsApp &quot;Con&quot; &quot;a&quot;) &quot;b&quot;) &quot;c&quot;

Similarly, in 'HsCmd' we have 'HsCmdApp'. In 'Pat', however, what we have
instead is 'ConPatIn', which is very awkward to modify and thus unsuitable for
the intermediate forms.

We also need an intermediate representation to postpone disambiguation between
FunBind and PatBind. Consider:

  a `Con` b = ...
  a `fun` b = ...

How do we know that (a `Con` b) is a PatBind but (a `fun` b) is a FunBind? We
learn this by inspecting an intermediate representation in 'isFunLhs' and
seeing that 'Con' is a data constructor but 'f' is not. We need an intermediate
representation capable of representing both a FunBind and a PatBind, so Pat is
insufficient.

PatBuilder is an extension of Pat that is capable of representing intermediate
parsing results for patterns and function bindings:

  data PatBuilder p
    = PatBuilderPat (Pat p)
    | PatBuilderApp (LocatedA (PatBuilder p)) (LocatedA (PatBuilder p))
    | PatBuilderOpApp (LocatedA (PatBuilder p)) (LocatedA RdrName) (LocatedA (PatBuilder p))
    ...

It can represent any pattern via 'PatBuilderPat', but it also has a variety of
other constructors which were added by following a simple principle: we never
pattern match on the pattern stored inside 'PatBuilderPat'.
-}</span><span>
</span><span id="line-2486"></span><span>
</span><span id="line-2487"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-2488"></span><span class="hs-comment">-- Miscellaneous utilities</span><span>
</span><span id="line-2489"></span><span>
</span><span id="line-2490"></span><span class="hs-comment">-- | Check if a fixity is valid. We support bypassing the usual bound checks</span><span>
</span><span id="line-2491"></span><span class="hs-comment">-- for some special operators.</span><span>
</span><span id="line-2492"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPrecP"><span class="hs-identifier hs-type">checkPrecP</span></a></span><span>
</span><span id="line-2493"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>              </span><span class="annot"><span class="hs-comment">-- ^ precedence</span></span><span>
</span><span id="line-2494"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="hs-comment">-- ^ operators</span></span><span>
</span><span id="line-2495"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2496"></span><span id="checkPrecP"><span class="annot"><span class="annottext">checkPrecP :: Located (SourceText, Int)
-&gt; Located (OrdList (GenLocated SrcSpanAnnN RdrName)) -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkPrecP"><span class="hs-identifier hs-var hs-var">checkPrecP</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792032"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792032"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621681792033"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681792033"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681792034"><span class="annot"><span class="annottext">OrdList (GenLocated SrcSpanAnnN RdrName)
</span><a href="#local-6989586621681792034"><span class="hs-identifier hs-var">ol</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2497"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681792033"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681792033"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="GHC.Types.Fixity.html#maxPrecedence"><span class="hs-identifier hs-var">maxPrecedence</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; P ()
forall a. a -&gt; P a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2498"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN RdrName -&gt; Bool)
-&gt; OrdList (GenLocated SrcSpanAnnN RdrName) -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#all/Data.Foldable.html#all"><span class="hs-identifier hs-var">all</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; Bool
forall {l}. GenLocated l RdrName -&gt; Bool
</span><a href="#local-6989586621681792038"><span class="hs-identifier hs-var">specialOp</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (GenLocated SrcSpanAnnN RdrName)
</span><a href="#local-6989586621681792034"><span class="hs-identifier hs-var">ol</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; P ()
forall a. a -&gt; P a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2499"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P ()
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P ()) -&gt; MsgEnvelope PsMessage -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792032"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrPrecedenceOutOfRange"><span class="hs-identifier hs-var">PsErrPrecedenceOutOfRange</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681792033"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2500"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2501"></span><span>    </span><span class="hs-comment">-- If you change this, consider updating Note [Fixity of (-&gt;)] in GHC/Types.hs</span><span>
</span><span id="line-2502"></span><span>    </span><span id="local-6989586621681792038"><span class="annot"><span class="annottext">specialOp :: GenLocated l RdrName -&gt; Bool
</span><a href="#local-6989586621681792038"><span class="hs-identifier hs-var hs-var">specialOp</span></a></span></span><span> </span><span id="local-6989586621681792042"><span class="annot"><span class="annottext">GenLocated l RdrName
</span><a href="#local-6989586621681792042"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated l RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated l RdrName
</span><a href="#local-6989586621681792042"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="GHC.Builtin.Types.html#unrestrictedFunTyCon"><span class="hs-identifier hs-var">unrestrictedFunTyCon</span></a></span><span>
</span><span id="line-2503"></span><span>
</span><span id="line-2504"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier hs-type">mkRecConstrOrUpdate</span></a></span><span>
</span><span id="line-2505"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-2506"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2507"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-2508"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Fbind"><span class="hs-identifier hs-type">Fbind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2509"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2510"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2511"></span><span id="mkRecConstrOrUpdate"><span class="annot"><span class="annottext">mkRecConstrOrUpdate :: Bool
-&gt; LHsExpr GhcPs
-&gt; SrcSpan
-&gt; ([Fbind (HsExpr GhcPs)], Maybe SrcSpan)
-&gt; EpAnn [AddEpAnn]
-&gt; PV (HsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier hs-var hs-var">mkRecConstrOrUpdate</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-type">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792043"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681792043"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681792044"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792044"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792045"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792045"><span class="hs-identifier hs-var">_lrec</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681792046"><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681792046"><span class="hs-identifier hs-var">fbinds</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681792047"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681792047"><span class="hs-identifier hs-var">dd</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792048"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792048"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-2512"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792044"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-2513"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2514"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681792049"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681792049"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792050"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681792050"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Either
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs))))]
-&gt; ([GenLocated
       SrcSpanAnnA
       (HsFieldBind
          (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
          (GenLocated SrcSpanAnnA (HsExpr GhcPs)))],
    [GenLocated
       SrcSpanAnnA
       (HsFieldBind
          (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
          (GenLocated SrcSpanAnnA (HsExpr GhcPs)))])
forall a b. [Either a b] -&gt; ([a], [b])
</span><a href="../../base-4.18.3.0/src/Data.Either.html#partitionEithers/Data.Either.html#partitionEithers"><span class="hs-identifier hs-var">partitionEithers</span></a></span><span> </span><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
[Either
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs))))]
</span><a href="#local-6989586621681792046"><span class="hs-identifier hs-var">fbinds</span></a></span><span>
</span><span id="line-2515"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681792050"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2516"></span><span>          </span><span id="local-6989586621681792051"><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (HsFieldBind
     (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
     (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621681792051"><span class="hs-identifier hs-var">p</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (HsExpr GhcPs)
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (HsExpr GhcPs))
-&gt; MsgEnvelope PsMessage -&gt; PV (HsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (HsFieldBind
     (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
     (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; SrcSpan
forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (HsFieldBind
     (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
     (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621681792051"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2517"></span><span>              </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrOverloadedRecordDotInvalid"><span class="hs-identifier hs-var">PsErrOverloadedRecordDotInvalid</span></a></span><span>
</span><span id="line-2518"></span><span>          </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; PV (HsExpr GhcPs)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; HsRecordBinds GhcPs -&gt; EpAnn [AddEpAnn] -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkRdrRecordCon"><span class="hs-identifier hs-var">mkRdrRecordCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681792043"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792044"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LocatedA
   (HsRecField GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; Maybe SrcSpan
-&gt; HsRecFields GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall (p :: Pass) arg.
[LocatedA (HsRecField (GhcPass p) arg)]
-&gt; Maybe SrcSpan -&gt; HsRecFields (GhcPass p) arg
</span><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var">mk_rec_fields</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA
   (HsRecField GhcPs (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681792049"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681792047"><span class="hs-identifier hs-var">dd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792048"><span class="hs-identifier hs-var">anns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2519"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier hs-var">mkRecConstrOrUpdate</span></a></span><span> </span><span id="local-6989586621681792052"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792052"><span class="hs-identifier hs-var">overloaded_update</span></a></span></span><span> </span><span id="local-6989586621681792053"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681792053"><span class="hs-identifier hs-var">exp</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681792054"><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681792054"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681792055"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681792055"><span class="hs-identifier hs-var">dd</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792056"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792056"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-2520"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681792057"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792057"><span class="hs-identifier hs-var">dd_loc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621681792055"><span class="hs-identifier hs-var">dd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (HsExpr GhcPs)
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (HsExpr GhcPs))
-&gt; MsgEnvelope PsMessage -&gt; PV (HsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792057"><span class="hs-identifier hs-var">dd_loc</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2521"></span><span>                                          </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrDotsInRecordUpdate"><span class="hs-identifier hs-var">PsErrDotsInRecordUpdate</span></a></span><span>
</span><span id="line-2522"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsExpr GhcPs
-&gt; [Fbind (HsExpr GhcPs)]
-&gt; EpAnn [AddEpAnn]
-&gt; PV (HsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRdrRecordUpd"><span class="hs-identifier hs-var">mkRdrRecordUpd</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792052"><span class="hs-identifier hs-var">overloaded_update</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681792053"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681792054"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792056"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-2523"></span><span>
</span><span id="line-2524"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrRecordUpd"><span class="hs-identifier hs-type">mkRdrRecordUpd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Fbind"><span class="hs-identifier hs-type">Fbind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2525"></span><span id="mkRdrRecordUpd"><span class="annot"><span class="annottext">mkRdrRecordUpd :: Bool
-&gt; LHsExpr GhcPs
-&gt; [Fbind (HsExpr GhcPs)]
-&gt; EpAnn [AddEpAnn]
-&gt; PV (HsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRdrRecordUpd"><span class="hs-identifier hs-var hs-var">mkRdrRecordUpd</span></a></span></span><span> </span><span id="local-6989586621681792059"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792059"><span class="hs-identifier hs-var">overloaded_on</span></a></span></span><span> </span><span id="local-6989586621681792060"><span class="annot"><span class="annottext">exp :: LHsExpr GhcPs
</span><a href="#local-6989586621681792060"><span class="hs-identifier hs-var">exp</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792061"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792061"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792062"><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681792062"><span class="hs-identifier hs-var">fbinds</span></a></span></span><span> </span><span id="local-6989586621681792063"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792063"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2526"></span><span>  </span><span class="hs-comment">-- We do not need to know if OverloadedRecordDot is in effect. We do</span><span>
</span><span id="line-2527"></span><span>  </span><span class="hs-comment">-- however need to know if OverloadedRecordUpdate (passed in</span><span>
</span><span id="line-2528"></span><span>  </span><span class="hs-comment">-- overloaded_on) is in effect because it affects the Left/Right nature</span><span>
</span><span id="line-2529"></span><span>  </span><span class="hs-comment">-- of the RecordUpd value we calculate.</span><span>
</span><span id="line-2530"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681792064"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681792064"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792065"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681792065"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Either
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs))))]
-&gt; ([GenLocated
       SrcSpanAnnA
       (HsFieldBind
          (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
          (GenLocated SrcSpanAnnA (HsExpr GhcPs)))],
    [GenLocated
       SrcSpanAnnA
       (HsFieldBind
          (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
          (GenLocated SrcSpanAnnA (HsExpr GhcPs)))])
forall a b. [Either a b] -&gt; ([a], [b])
</span><a href="../../base-4.18.3.0/src/Data.Either.html#partitionEithers/Data.Either.html#partitionEithers"><span class="hs-identifier hs-var">partitionEithers</span></a></span><span> </span><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
[Either
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs))))]
</span><a href="#local-6989586621681792062"><span class="hs-identifier hs-var">fbinds</span></a></span><span>
</span><span id="line-2531"></span><span>      </span><span class="annot"><a href="#local-6989586621681792066"><span class="hs-identifier hs-type">fs'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsRecUpdField"><span class="hs-identifier hs-type">LHsRecUpdField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2532"></span><span>      </span><span id="local-6989586621681792066"><span class="annot"><span class="annottext">fs' :: [LHsRecUpdField GhcPs]
</span><a href="#local-6989586621681792066"><span class="hs-identifier hs-var hs-var">fs'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
 -&gt; GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
-&gt; [GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; [GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HsFieldBind
   (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
   (GenLocated SrcSpanAnnA (HsExpr GhcPs))
 -&gt; HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated
     SrcSpanAnnA
     (HsFieldBind
        (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
        (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated
     SrcSpanAnnA
     (HsFieldBind
        (GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs))
        (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall a b.
(a -&gt; b) -&gt; GenLocated SrcSpanAnnA a -&gt; GenLocated SrcSpanAnnA b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">HsRecField GhcPs (LHsExpr GhcPs) -&gt; HsRecUpdField GhcPs
HsFieldBind
  (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
  (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; HsFieldBind
     (GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs))
     (GenLocated SrcSpanAnnA (HsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mk_rec_upd_field"><span class="hs-identifier hs-var">mk_rec_upd_field</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681792064"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-2533"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792059"><span class="hs-identifier hs-var">overloaded_on</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2534"></span><span>    </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681792065"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2535"></span><span>      </span><span class="hs-comment">-- A '.' was found in an update and OverloadedRecordUpdate isn't on.</span><span>
</span><span id="line-2536"></span><span>      </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (HsExpr GhcPs)
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (HsExpr GhcPs))
-&gt; MsgEnvelope PsMessage -&gt; PV (HsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792061"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrOverloadedRecordUpdateNotEnabled"><span class="hs-identifier hs-var">PsErrOverloadedRecordUpdateNotEnabled</span></a></span><span>
</span><span id="line-2537"></span><span>    </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2538"></span><span>      </span><span class="hs-comment">-- This is just a regular record update.</span><span>
</span><span id="line-2539"></span><span>      </span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; PV (HsExpr GhcPs)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecordUpd"><span class="hs-identifier hs-type">RecordUpd</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-2540"></span><span>        </span><span class="annot"><span class="annottext">rupd_ext :: XRecordUpd GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_ext"><span class="hs-identifier hs-var">rupd_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRecordUpd GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792063"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-2541"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rupd_expr :: LHsExpr GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_expr"><span class="hs-identifier hs-var">rupd_expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681792060"><span class="hs-identifier hs-var">exp</span></a></span><span>
</span><span id="line-2542"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rupd_flds :: Either [LHsRecUpdField GhcPs] [LHsRecProj GhcPs (LHsExpr GhcPs)]
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_flds"><span class="hs-identifier hs-var">rupd_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; Either
     [GenLocated
        SrcSpanAnnA
        (HsFieldBind
           (GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs))
           (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
     [GenLocated
        SrcSpanAnnA
        (HsFieldBind
           (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
           (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall a b. a -&gt; Either a b
</span><a href="../../base-4.18.3.0/src/Data.Either.html#Left/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsRecUpdField GhcPs]
[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681792066"><span class="hs-identifier hs-var">fs'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2543"></span><span>    </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2544"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681792073"><span class="annot"><span class="annottext">qualifiedFields :: [GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs)]
</span><a href="#local-6989586621681792073"><span class="hs-identifier hs-var hs-var">qualifiedFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2545"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">SrcAnn NoEpAnns
-&gt; AmbiguousFieldOcc GhcPs
-&gt; GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcAnn NoEpAnns
</span><a href="#local-6989586621681792074"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">AmbiguousFieldOcc GhcPs
</span><a href="#local-6989586621681792075"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsFieldBind"><span class="hs-identifier hs-type">HsFieldBind</span></a></span><span> </span><span class="annot"><span class="annottext">XHsFieldBind
  (GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792074"><span class="annot"><span class="annottext">SrcAnn NoEpAnns
</span><a href="#local-6989586621681792074"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681792075"><span class="annot"><span class="annottext">AmbiguousFieldOcc GhcPs
</span><a href="#local-6989586621681792075"><span class="hs-identifier hs-var">lbl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LHsRecUpdField GhcPs]
[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
</span><a href="#local-6989586621681792066"><span class="hs-identifier hs-var">fs'</span></a></span><span>
</span><span id="line-2546"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isQual"><span class="hs-identifier hs-var">isQual</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; Bool)
-&gt; (AmbiguousFieldOcc GhcPs -&gt; RdrName)
-&gt; AmbiguousFieldOcc GhcPs
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AmbiguousFieldOcc GhcPs -&gt; RdrName
forall (p :: Pass). AmbiguousFieldOcc (GhcPass p) -&gt; RdrName
</span><a href="GHC.Hs.Type.html#rdrNameAmbiguousFieldOcc"><span class="hs-identifier hs-var">rdrNameAmbiguousFieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">(AmbiguousFieldOcc GhcPs -&gt; Bool)
-&gt; AmbiguousFieldOcc GhcPs -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AmbiguousFieldOcc GhcPs
</span><a href="#local-6989586621681792075"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-2547"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-2548"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs)]
</span><a href="#local-6989586621681792073"><span class="hs-identifier hs-var">qualifiedFields</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2549"></span><span>          </span><span id="local-6989586621681792079"><span class="annot"><span class="annottext">GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs)
</span><a href="#local-6989586621681792079"><span class="hs-identifier hs-var">qf</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (HsExpr GhcPs)
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (HsExpr GhcPs))
-&gt; MsgEnvelope PsMessage -&gt; PV (HsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs) -&gt; SrcSpan
forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs)
</span><a href="#local-6989586621681792079"><span class="hs-identifier hs-var">qf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2550"></span><span>            </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrOverloadedRecordUpdateNoQualifiedFields"><span class="hs-identifier hs-var">PsErrOverloadedRecordUpdateNoQualifiedFields</span></a></span><span>
</span><span id="line-2551"></span><span>          </span><span class="annot"><span class="annottext">[GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; PV (HsExpr GhcPs)
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecordUpd"><span class="hs-identifier hs-type">RecordUpd</span></a></span><span> </span><span class="hs-comment">-- This is a RecordDotSyntax update.</span><span>
</span><span id="line-2552"></span><span>             </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rupd_ext :: XRecordUpd GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_ext"><span class="hs-identifier hs-var">rupd_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRecordUpd GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792063"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-2553"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rupd_expr :: LHsExpr GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_expr"><span class="hs-identifier hs-var">rupd_expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681792060"><span class="hs-identifier hs-var">exp</span></a></span><span>
</span><span id="line-2554"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rupd_flds :: Either [LHsRecUpdField GhcPs] [LHsRecProj GhcPs (LHsExpr GhcPs)]
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_flds"><span class="hs-identifier hs-var">rupd_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
      (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
-&gt; Either
     [GenLocated
        SrcSpanAnnA
        (HsFieldBind
           (GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs))
           (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
     [GenLocated
        SrcSpanAnnA
        (HsFieldBind
           (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
           (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall a b. b -&gt; Either a b
</span><a href="../../base-4.18.3.0/src/Data.Either.html#Right/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)] -&gt; [LHsRecProj GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681792081"><span class="hs-identifier hs-var">toProjUpdates</span></a></span><span> </span><span class="annot"><span class="annottext">[Fbind (HsExpr GhcPs)]
</span><a href="#local-6989586621681792062"><span class="hs-identifier hs-var">fbinds</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2555"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2556"></span><span>    </span><span class="annot"><a href="#local-6989586621681792081"><span class="hs-identifier hs-type">toProjUpdates</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Fbind"><span class="hs-identifier hs-type">Fbind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsRecUpdProj"><span class="hs-identifier hs-type">LHsRecUpdProj</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2557"></span><span>    </span><span id="local-6989586621681792081"><span class="annot"><span class="annottext">toProjUpdates :: [Fbind (HsExpr GhcPs)] -&gt; [LHsRecProj GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621681792081"><span class="hs-identifier hs-var hs-var">toProjUpdates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Either
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
   (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
 -&gt; GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
-&gt; [Either
      (GenLocated
         SrcSpanAnnA
         (HsFieldBind
            (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
            (GenLocated SrcSpanAnnA (HsExpr GhcPs))))
      (GenLocated
         SrcSpanAnnA
         (HsFieldBind
            (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
            (GenLocated SrcSpanAnnA (HsExpr GhcPs))))]
-&gt; [GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
         (GenLocated SrcSpanAnnA (HsExpr GhcPs)))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Either.html#Right/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621681792083"><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (HsFieldBind
     (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
     (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621681792083"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (HsFieldBind
     (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
     (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621681792083"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Either.html#Left/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621681792084"><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (HsFieldBind
     (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
     (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621681792084"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LHsRecField GhcPs (LHsExpr GhcPs)
-&gt; LHsRecProj GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681792085"><span class="hs-identifier hs-var">recFieldToProjUpdate</span></a></span><span> </span><span class="annot"><span class="annottext">LHsRecField GhcPs (LHsExpr GhcPs)
GenLocated
  SrcSpanAnnA
  (HsFieldBind
     (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
     (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
</span><a href="#local-6989586621681792084"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-2558"></span><span>
</span><span id="line-2559"></span><span>    </span><span class="hs-comment">-- Convert a top-level field update like {foo=2} or {bar} (punned)</span><span>
</span><span id="line-2560"></span><span>    </span><span class="hs-comment">-- to a projection update.</span><span>
</span><span id="line-2561"></span><span>    </span><span class="annot"><a href="#local-6989586621681792085"><span class="hs-identifier hs-type">recFieldToProjUpdate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsRecUpdProj"><span class="hs-identifier hs-type">LHsRecUpdProj</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2562"></span><span>    </span><span id="local-6989586621681792085"><span class="annot"><span class="annottext">recFieldToProjUpdate :: LHsRecField GhcPs (LHsExpr GhcPs)
-&gt; LHsRecProj GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621681792085"><span class="hs-identifier hs-var hs-var">recFieldToProjUpdate</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792086"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792086"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsFieldBind"><span class="hs-identifier hs-type">HsFieldBind</span></a></span><span> </span><span id="local-6989586621681792087"><span class="annot"><span class="annottext">XHsFieldBind (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
</span><a href="#local-6989586621681792087"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcAnn NoEpAnns
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">XCFieldOcc GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792089"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681792089"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681792090"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792090"><span class="hs-identifier hs-var">rdr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792091"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681792091"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681792092"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792092"><span class="hs-identifier hs-var">pun</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2563"></span><span>        </span><span class="hs-comment">-- The idea here is to convert the label to a singleton [FastString].</span><span>
</span><span id="line-2564"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681792093"><span class="annot"><span class="annottext">f :: FastString
</span><a href="#local-6989586621681792093"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; FastString)
-&gt; (RdrName -&gt; OccName) -&gt; RdrName -&gt; FastString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; FastString) -&gt; RdrName -&gt; FastString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792090"><span class="hs-identifier hs-var">rdr</span></a></span><span>
</span><span id="line-2565"></span><span>            </span><span id="local-6989586621681792094"><span class="annot"><span class="annottext">fl :: DotFieldOcc GhcPs
</span><a href="#local-6989586621681792094"><span class="hs-identifier hs-var hs-var">fl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCDotFieldOcc GhcPs
-&gt; XRec GhcPs FieldLabelString -&gt; DotFieldOcc GhcPs
forall p.
XCDotFieldOcc p -&gt; XRec p FieldLabelString -&gt; DotFieldOcc p
</span><a href="Language.Haskell.Syntax.Expr.html#DotFieldOcc"><span class="hs-identifier hs-var">DotFieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">XCDotFieldOcc GhcPs
EpAnn AnnFieldLabel
forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN
-&gt; FieldLabelString -&gt; GenLocated SrcSpanAnnN FieldLabelString
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681792089"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; FieldLabelString
</span><a href="Language.Haskell.Syntax.Basic.html#FieldLabelString"><span class="hs-identifier hs-var">FieldLabelString</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792093"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2566"></span><span>            </span><span id="local-6989586621681792097"><span class="annot"><span class="annottext">lf :: SrcSpan
</span><a href="#local-6989586621681792097"><span class="hs-identifier hs-var hs-var">lf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681792089"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-2567"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; Located [LocatedAn NoEpAnns (DotFieldOcc GhcPs)]
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; EpAnn [AddEpAnn]
-&gt; LHsRecProj GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRdrProjUpdate"><span class="hs-identifier hs-var">mkRdrProjUpdate</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792086"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
-&gt; [LocatedAn NoEpAnns (DotFieldOcc GhcPs)]
-&gt; Located [LocatedAn NoEpAnns (DotFieldOcc GhcPs)]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792097"><span class="hs-identifier hs-var">lf</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcAnn NoEpAnns
-&gt; DotFieldOcc GhcPs -&gt; LocatedAn NoEpAnns (DotFieldOcc GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; SrcAnn NoEpAnns
forall a ann. SrcSpanAnn' a -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#l2l"><span class="hs-identifier hs-var">l2l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681792089"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DotFieldOcc GhcPs
</span><a href="#local-6989586621681792094"><span class="hs-identifier hs-var">fl</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; LHsExpr GhcPs
</span><a href="#local-6989586621681792098"><span class="hs-identifier hs-var">punnedVar</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792093"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792092"><span class="hs-identifier hs-var">pun</span></a></span><span> </span><span class="annot"><span class="annottext">XHsFieldBind (GenLocated (SrcAnn NoEpAnns) (FieldOcc GhcPs))
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792087"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-2568"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-2569"></span><span>          </span><span class="hs-comment">-- If punning, compute HsVar &quot;f&quot; otherwise just arg. This</span><span>
</span><span id="line-2570"></span><span>          </span><span class="hs-comment">-- has the effect that sentinel HsVar &quot;pun-rhs&quot; is replaced</span><span>
</span><span id="line-2571"></span><span>          </span><span class="hs-comment">-- by HsVar &quot;f&quot; here, before the update is written to a</span><span>
</span><span id="line-2572"></span><span>          </span><span class="hs-comment">-- setField expressions.</span><span>
</span><span id="line-2573"></span><span>          </span><span class="annot"><a href="#local-6989586621681792098"><span class="hs-identifier hs-type">punnedVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2574"></span><span>          </span><span id="local-6989586621681792098"><span class="annot"><span class="annottext">punnedVar :: FastString -&gt; LHsExpr GhcPs
</span><a href="#local-6989586621681792098"><span class="hs-identifier hs-var hs-var">punnedVar</span></a></span></span><span> </span><span id="local-6989586621681792099"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792099"><span class="hs-identifier hs-var">f</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792092"><span class="hs-identifier hs-var">pun</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681792091"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; LHsExpr GhcPs
HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall a an. a -&gt; LocatedAn an a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">(HsExpr GhcPs -&gt; LHsExpr GhcPs)
-&gt; (FastString -&gt; HsExpr GhcPs) -&gt; FastString -&gt; LHsExpr GhcPs
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">XVar GhcPs -&gt; XRec GhcPs (IdP GhcPs) -&gt; HsExpr GhcPs
forall p. XVar p -&gt; LIdP p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN RdrName -&gt; HsExpr GhcPs)
-&gt; (FastString -&gt; GenLocated SrcSpanAnnN RdrName)
-&gt; FastString
-&gt; HsExpr GhcPs
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall a an. a -&gt; LocatedAn an a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; GenLocated SrcSpanAnnN RdrName)
-&gt; (FastString -&gt; RdrName)
-&gt; FastString
-&gt; GenLocated SrcSpanAnnN RdrName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkRdrUnqual"><span class="hs-identifier hs-var">mkRdrUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; RdrName)
-&gt; (FastString -&gt; OccName) -&gt; FastString -&gt; RdrName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkVarOccFS"><span class="hs-identifier hs-var">mkVarOccFS</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; LHsExpr GhcPs) -&gt; FastString -&gt; LHsExpr GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792099"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-2575"></span><span>
</span><span id="line-2576"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrRecordCon"><span class="hs-identifier hs-type">mkRdrRecordCon</span></a></span><span>
</span><span id="line-2577"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsRecordBinds"><span class="hs-identifier hs-type">HsRecordBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2578"></span><span id="mkRdrRecordCon"><span class="annot"><span class="annottext">mkRdrRecordCon :: GenLocated SrcSpanAnnN RdrName
-&gt; HsRecordBinds GhcPs -&gt; EpAnn [AddEpAnn] -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkRdrRecordCon"><span class="hs-identifier hs-var hs-var">mkRdrRecordCon</span></a></span></span><span> </span><span id="local-6989586621681792100"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792100"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621681792101"><span class="annot"><span class="annottext">HsRecordBinds GhcPs
</span><a href="#local-6989586621681792101"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span id="local-6989586621681792102"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792102"><span class="hs-identifier hs-var">anns</span></a></span></span><span>
</span><span id="line-2579"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecordCon"><span class="hs-identifier hs-type">RecordCon</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rcon_ext :: XRecordCon GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#rcon_ext"><span class="hs-identifier hs-var">rcon_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRecordCon GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792102"><span class="hs-identifier hs-var">anns</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rcon_con :: XRec GhcPs (ConLikeP GhcPs)
</span><a href="Language.Haskell.Syntax.Expr.html#rcon_con"><span class="hs-identifier hs-var">rcon_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (ConLikeP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792100"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rcon_flds :: HsRecordBinds GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#rcon_flds"><span class="hs-identifier hs-var">rcon_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsRecordBinds GhcPs
</span><a href="#local-6989586621681792101"><span class="hs-identifier hs-var">flds</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2580"></span><span>
</span><span id="line-2581"></span><span id="local-6989586621681788554"><span id="local-6989586621681788555"><span class="annot"><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-type">mk_rec_fields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecField"><span class="hs-identifier hs-type">HsRecField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788554"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681788555"><span class="hs-identifier hs-type">arg</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788554"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681788555"><span class="hs-identifier hs-type">arg</span></a></span></span></span><span>
</span><span id="line-2582"></span><span id="mk_rec_fields"><span class="annot"><span class="annottext">mk_rec_fields :: forall (p :: Pass) arg.
[LocatedA (HsRecField (GhcPass p) arg)]
-&gt; Maybe SrcSpan -&gt; HsRecFields (GhcPass p) arg
</span><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var hs-var">mk_rec_fields</span></a></span></span><span> </span><span id="local-6989586621681792108"><span class="annot"><span class="annottext">[LocatedA (HsRecField (GhcPass p) arg)]
</span><a href="#local-6989586621681792108"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rec_flds :: [LHsRecField (GhcPass p) arg]
</span><a href="Language.Haskell.Syntax.Pat.html#rec_flds"><span class="hs-identifier hs-var">rec_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsRecField (GhcPass p) arg]
[LocatedA (HsRecField (GhcPass p) arg)]
</span><a href="#local-6989586621681792108"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rec_dotdot :: Maybe (XRec (GhcPass p) RecFieldsDotDot)
</span><a href="Language.Haskell.Syntax.Pat.html#rec_dotdot"><span class="hs-identifier hs-var">rec_dotdot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec (GhcPass p) RecFieldsDotDot)
Maybe (Located RecFieldsDotDot)
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2583"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var">mk_rec_fields</span></a></span><span> </span><span id="local-6989586621681792111"><span class="annot"><span class="annottext">[LocatedA (HsRecField (GhcPass p) arg)]
</span><a href="#local-6989586621681792111"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681792112"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792112"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rec_flds :: [LHsRecField (GhcPass p) arg]
</span><a href="Language.Haskell.Syntax.Pat.html#rec_flds"><span class="hs-identifier hs-var">rec_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsRecField (GhcPass p) arg]
[LocatedA (HsRecField (GhcPass p) arg)]
</span><a href="#local-6989586621681792111"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-2584"></span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rec_dotdot :: Maybe (XRec (GhcPass p) RecFieldsDotDot)
</span><a href="Language.Haskell.Syntax.Pat.html#rec_dotdot"><span class="hs-identifier hs-var">rec_dotdot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RecFieldsDotDot -&gt; Maybe (Located RecFieldsDotDot)
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RecFieldsDotDot -&gt; Located RecFieldsDotDot
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792112"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; RecFieldsDotDot
</span><a href="Language.Haskell.Syntax.Pat.html#RecFieldsDotDot"><span class="hs-identifier hs-var">RecFieldsDotDot</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; RecFieldsDotDot) -&gt; Int -&gt; RecFieldsDotDot
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc (GhcPass p))) arg)]
-&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#length/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA (HsRecField (GhcPass p) arg)]
[LocatedA
   (HsFieldBind
      (GenLocated (SrcAnn NoEpAnns) (FieldOcc (GhcPass p))) arg)]
</span><a href="#local-6989586621681792111"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2585"></span><span>
</span><span id="line-2586"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mk_rec_upd_field"><span class="hs-identifier hs-type">mk_rec_upd_field</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecField"><span class="hs-identifier hs-type">HsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecUpdField"><span class="hs-identifier hs-type">HsRecUpdField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2587"></span><span id="mk_rec_upd_field"><span class="annot"><span class="annottext">mk_rec_upd_field :: HsRecField GhcPs (LHsExpr GhcPs) -&gt; HsRecUpdField GhcPs
</span><a href="GHC.Parser.PostProcess.html#mk_rec_upd_field"><span class="hs-identifier hs-var hs-var">mk_rec_upd_field</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsFieldBind"><span class="hs-identifier hs-type">HsFieldBind</span></a></span><span> </span><span id="local-6989586621681792114"><span class="annot"><span class="annottext">XHsFieldBind (LFieldOcc GhcPs)
</span><a href="#local-6989586621681792114"><span class="hs-identifier hs-var">noAnn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792115"><span class="annot"><span class="annottext">SrcAnn NoEpAnns
</span><a href="#local-6989586621681792115"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">XCFieldOcc GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681792116"><span class="annot"><span class="annottext">XRec GhcPs RdrName
</span><a href="#local-6989586621681792116"><span class="hs-identifier hs-var">rdr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792117"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681792117"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681792118"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792118"><span class="hs-identifier hs-var">pun</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2588"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XHsFieldBind
  (GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs))
-&gt; GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; Bool
-&gt; HsFieldBind
     (GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs))
     (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall lhs rhs.
XHsFieldBind lhs -&gt; lhs -&gt; rhs -&gt; Bool -&gt; HsFieldBind lhs rhs
</span><a href="Language.Haskell.Syntax.Pat.html#HsFieldBind"><span class="hs-identifier hs-var">HsFieldBind</span></a></span><span> </span><span class="annot"><span class="annottext">XHsFieldBind (LFieldOcc GhcPs)
XHsFieldBind
  (GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs))
</span><a href="#local-6989586621681792114"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcAnn NoEpAnns
-&gt; AmbiguousFieldOcc GhcPs
-&gt; GenLocated (SrcAnn NoEpAnns) (AmbiguousFieldOcc GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcAnn NoEpAnns
</span><a href="#local-6989586621681792115"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XUnambiguous GhcPs -&gt; XRec GhcPs RdrName -&gt; AmbiguousFieldOcc GhcPs
forall pass.
XUnambiguous pass -&gt; XRec pass RdrName -&gt; AmbiguousFieldOcc pass
</span><a href="Language.Haskell.Syntax.Type.html#Unambiguous"><span class="hs-identifier hs-var">Unambiguous</span></a></span><span> </span><span class="annot"><span class="annottext">XUnambiguous GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcPs RdrName
</span><a href="#local-6989586621681792116"><span class="hs-identifier hs-var">rdr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681792117"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792118"><span class="hs-identifier hs-var">pun</span></a></span><span>
</span><span id="line-2589"></span><span>
</span><span id="line-2590"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkInlinePragma"><span class="hs-identifier hs-type">mkInlinePragma</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#InlineSpec"><span class="hs-identifier hs-type">InlineSpec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#RuleMatchInfo"><span class="hs-identifier hs-type">RuleMatchInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Activation"><span class="hs-identifier hs-type">Activation</span></a></span><span>
</span><span id="line-2591"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span>
</span><span id="line-2592"></span><span class="hs-comment">-- The (Maybe Activation) is because the user can omit</span><span>
</span><span id="line-2593"></span><span class="hs-comment">-- the activation spec (and usually does)</span><span>
</span><span id="line-2594"></span><span id="mkInlinePragma"><span class="annot"><span class="annottext">mkInlinePragma :: SourceText
-&gt; (InlineSpec, RuleMatchInfo) -&gt; Maybe Activation -&gt; InlinePragma
</span><a href="GHC.Parser.PostProcess.html#mkInlinePragma"><span class="hs-identifier hs-var hs-var">mkInlinePragma</span></a></span></span><span> </span><span id="local-6989586621681792120"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681792120"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681792121"><span class="annot"><span class="annottext">InlineSpec
</span><a href="#local-6989586621681792121"><span class="hs-identifier hs-var">inl</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792122"><span class="annot"><span class="annottext">RuleMatchInfo
</span><a href="#local-6989586621681792122"><span class="hs-identifier hs-var">match_info</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792123"><span class="annot"><span class="annottext">Maybe Activation
</span><a href="#local-6989586621681792123"><span class="hs-identifier hs-var">mb_act</span></a></span></span><span>
</span><span id="line-2595"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">inl_src :: SourceText
</span><a href="GHC.Types.Basic.html#inl_src"><span class="hs-identifier hs-var">inl_src</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681792120"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="hs-comment">-- Note [Pragma source text] in GHC.Types.SourceText</span><span>
</span><span id="line-2596"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_inline :: InlineSpec
</span><a href="GHC.Types.Basic.html#inl_inline"><span class="hs-identifier hs-var">inl_inline</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InlineSpec
</span><a href="#local-6989586621681792121"><span class="hs-identifier hs-var">inl</span></a></span><span>
</span><span id="line-2597"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_sat :: Maybe Int
</span><a href="GHC.Types.Basic.html#inl_sat"><span class="hs-identifier hs-var">inl_sat</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-2598"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_act :: Activation
</span><a href="GHC.Types.Basic.html#inl_act"><span class="hs-identifier hs-var">inl_act</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="#local-6989586621681792129"><span class="hs-identifier hs-var">act</span></a></span><span>
</span><span id="line-2599"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_rule :: RuleMatchInfo
</span><a href="GHC.Types.Basic.html#inl_rule"><span class="hs-identifier hs-var">inl_rule</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RuleMatchInfo
</span><a href="#local-6989586621681792122"><span class="hs-identifier hs-var">match_info</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2600"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2601"></span><span>    </span><span id="local-6989586621681792129"><span class="annot"><span class="annottext">act :: Activation
</span><a href="#local-6989586621681792129"><span class="hs-identifier hs-var hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Activation
</span><a href="#local-6989586621681792123"><span class="hs-identifier hs-var">mb_act</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2602"></span><span>            </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681792131"><span class="annot"><span class="annottext">Activation
</span><a href="#local-6989586621681792131"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="#local-6989586621681792131"><span class="hs-identifier hs-var">act</span></a></span><span>
</span><span id="line-2603"></span><span>            </span><span class="annot"><span class="annottext">Maybe Activation
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-comment">-- No phase specified</span><span>
</span><span id="line-2604"></span><span>                        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">InlineSpec
</span><a href="#local-6989586621681792121"><span class="hs-identifier hs-var">inl</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2605"></span><span>                          </span><span class="annot"><a href="GHC.Types.Basic.html#NoInline"><span class="hs-identifier hs-type">NoInline</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="GHC.Types.Basic.html#NeverActive"><span class="hs-identifier hs-var">NeverActive</span></a></span><span>
</span><span id="line-2606"></span><span>                          </span><span class="annot"><a href="GHC.Types.Basic.html#Opaque"><span class="hs-identifier hs-type">Opaque</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="GHC.Types.Basic.html#NeverActive"><span class="hs-identifier hs-var">NeverActive</span></a></span><span>
</span><span id="line-2607"></span><span>                          </span><span id="local-6989586621681792135"><span class="annot"><span class="annottext">InlineSpec
</span><a href="#local-6989586621681792135"><span class="hs-identifier hs-var">_other</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="GHC.Types.Basic.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a></span><span>
</span><span id="line-2608"></span><span>
</span><span id="line-2609"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkOpaquePragma"><span class="hs-identifier hs-type">mkOpaquePragma</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span>
</span><span id="line-2610"></span><span id="mkOpaquePragma"><span class="annot"><span class="annottext">mkOpaquePragma :: SourceText -&gt; InlinePragma
</span><a href="GHC.Parser.PostProcess.html#mkOpaquePragma"><span class="hs-identifier hs-var hs-var">mkOpaquePragma</span></a></span></span><span> </span><span id="local-6989586621681792137"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681792137"><span class="hs-identifier hs-var">src</span></a></span></span><span>
</span><span id="line-2611"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">inl_src :: SourceText
</span><a href="GHC.Types.Basic.html#inl_src"><span class="hs-identifier hs-var">inl_src</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681792137"><span class="hs-identifier hs-var">src</span></a></span><span>
</span><span id="line-2612"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_inline :: InlineSpec
</span><a href="GHC.Types.Basic.html#inl_inline"><span class="hs-identifier hs-var">inl_inline</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceText -&gt; InlineSpec
</span><a href="GHC.Types.Basic.html#Opaque"><span class="hs-identifier hs-var">Opaque</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681792137"><span class="hs-identifier hs-var">src</span></a></span><span>
</span><span id="line-2613"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_sat :: Maybe Int
</span><a href="GHC.Types.Basic.html#inl_sat"><span class="hs-identifier hs-var">inl_sat</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-2614"></span><span>                 </span><span class="hs-comment">-- By marking the OPAQUE pragma NeverActive we stop</span><span>
</span><span id="line-2615"></span><span>                 </span><span class="hs-comment">-- (constructor) specialisation on OPAQUE things.</span><span>
</span><span id="line-2616"></span><span>                 </span><span class="hs-comment">--</span><span>
</span><span id="line-2617"></span><span>                 </span><span class="hs-comment">-- See Note [OPAQUE pragma]</span><span>
</span><span id="line-2618"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_act :: Activation
</span><a href="GHC.Types.Basic.html#inl_act"><span class="hs-identifier hs-var">inl_act</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="GHC.Types.Basic.html#NeverActive"><span class="hs-identifier hs-var">NeverActive</span></a></span><span>
</span><span id="line-2619"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_rule :: RuleMatchInfo
</span><a href="GHC.Types.Basic.html#inl_rule"><span class="hs-identifier hs-var">inl_rule</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RuleMatchInfo
</span><a href="GHC.Types.Basic.html#FunLike"><span class="hs-identifier hs-var">FunLike</span></a></span><span>
</span><span id="line-2620"></span><span>                 </span><span class="hs-special">}</span><span>
</span><span id="line-2621"></span><span>
</span><span id="line-2622"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkNewOrData"><span class="hs-identifier hs-type">checkNewOrData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#NewOrData"><span class="hs-identifier hs-type">NewOrData</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2623"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataDefnCons"><span class="hs-identifier hs-type">DataDefnCons</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2624"></span><span id="checkNewOrData"><span class="annot"><span class="annottext">checkNewOrData :: SrcSpan
-&gt; RdrName
-&gt; Bool
-&gt; NewOrData
-&gt; [LConDecl GhcPs]
-&gt; P (DataDefnCons (LConDecl GhcPs))
</span><a href="GHC.Parser.PostProcess.html#checkNewOrData"><span class="hs-identifier hs-var hs-var">checkNewOrData</span></a></span></span><span> </span><span id="local-6989586621681792139"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792139"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span id="local-6989586621681792140"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792140"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621681792141"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792141"><span class="hs-identifier hs-var">is_type_data</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((NewOrData, [LConDecl GhcPs])
 -&gt; P (DataDefnCons (LConDecl GhcPs)))
-&gt; NewOrData
-&gt; [LConDecl GhcPs]
-&gt; P (DataDefnCons (LConDecl GhcPs))
forall a b c. ((a, b) -&gt; c) -&gt; a -&gt; b -&gt; c
</span><a href="../../base-4.18.3.0/src/Data.Tuple.html#curry/Data.Tuple.html#curry"><span class="hs-identifier hs-var">curry</span></a></span><span> </span><span class="annot"><span class="annottext">(((NewOrData, [LConDecl GhcPs])
  -&gt; P (DataDefnCons (LConDecl GhcPs)))
 -&gt; NewOrData
 -&gt; [LConDecl GhcPs]
 -&gt; P (DataDefnCons (LConDecl GhcPs)))
-&gt; ((NewOrData, [LConDecl GhcPs])
    -&gt; P (DataDefnCons (LConDecl GhcPs)))
-&gt; NewOrData
-&gt; [LConDecl GhcPs]
-&gt; P (DataDefnCons (LConDecl GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-glyph">case</span><span>
</span><span id="line-2625"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NewOrData
</span><a href="Language.Haskell.Syntax.Decls.html#NewType"><span class="hs-identifier hs-var">NewType</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681792144"><span class="annot"><span class="annottext">LConDecl GhcPs
</span><a href="#local-6989586621681792144"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataDefnCons (LConDecl GhcPs) -&gt; P (DataDefnCons (LConDecl GhcPs))
forall a. a -&gt; P a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(DataDefnCons (LConDecl GhcPs)
 -&gt; P (DataDefnCons (LConDecl GhcPs)))
-&gt; DataDefnCons (LConDecl GhcPs)
-&gt; P (DataDefnCons (LConDecl GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (ConDecl GhcPs)
-&gt; DataDefnCons (GenLocated SrcSpanAnnA (ConDecl GhcPs))
forall a. a -&gt; DataDefnCons a
</span><a href="Language.Haskell.Syntax.Decls.html#NewTypeCon"><span class="hs-identifier hs-var">NewTypeCon</span></a></span><span> </span><span class="annot"><span class="annottext">LConDecl GhcPs
GenLocated SrcSpanAnnA (ConDecl GhcPs)
</span><a href="#local-6989586621681792144"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-2626"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NewOrData
</span><a href="Language.Haskell.Syntax.Decls.html#DataType"><span class="hs-identifier hs-var">DataType</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792147"><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621681792147"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataDefnCons (LConDecl GhcPs) -&gt; P (DataDefnCons (LConDecl GhcPs))
forall a. a -&gt; P a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(DataDefnCons (LConDecl GhcPs)
 -&gt; P (DataDefnCons (LConDecl GhcPs)))
-&gt; DataDefnCons (LConDecl GhcPs)
-&gt; P (DataDefnCons (LConDecl GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; [GenLocated SrcSpanAnnA (ConDecl GhcPs)]
-&gt; DataDefnCons (GenLocated SrcSpanAnnA (ConDecl GhcPs))
forall a. Bool -&gt; [a] -&gt; DataDefnCons a
</span><a href="Language.Haskell.Syntax.Decls.html#DataTypeCons"><span class="hs-identifier hs-var">DataTypeCons</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792141"><span class="hs-identifier hs-var">is_type_data</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (ConDecl GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (ConDecl GhcPs)]
</span><a href="#local-6989586621681792149"><span class="hs-identifier hs-var">handle_type_data</span></a></span><span> </span><span class="annot"><span class="annottext">[LConDecl GhcPs]
[GenLocated SrcSpanAnnA (ConDecl GhcPs)]
</span><a href="#local-6989586621681792147"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2627"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NewOrData
</span><a href="Language.Haskell.Syntax.Decls.html#NewType"><span class="hs-identifier hs-var">NewType</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792150"><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621681792150"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P (DataDefnCons (LConDecl GhcPs))
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P (DataDefnCons (LConDecl GhcPs)))
-&gt; MsgEnvelope PsMessage -&gt; P (DataDefnCons (LConDecl GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792139"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Int -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrMultipleConForNewtype"><span class="hs-identifier hs-var">PsErrMultipleConForNewtype</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792140"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (ConDecl GhcPs)] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#length/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[LConDecl GhcPs]
[GenLocated SrcSpanAnnA (ConDecl GhcPs)]
</span><a href="#local-6989586621681792150"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2628"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2629"></span><span>    </span><span class="hs-comment">-- In a &quot;type data&quot; declaration, the constructors are in the type/class</span><span>
</span><span id="line-2630"></span><span>    </span><span class="hs-comment">-- namespace rather than the data constructor namespace.</span><span>
</span><span id="line-2631"></span><span>    </span><span class="hs-comment">-- See Note [Type data declarations] in GHC.Rename.Module.</span><span>
</span><span id="line-2632"></span><span>    </span><span id="local-6989586621681792149"><span class="annot"><span class="annottext">handle_type_data :: [GenLocated SrcSpanAnnA (ConDecl GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (ConDecl GhcPs)]
</span><a href="#local-6989586621681792149"><span class="hs-identifier hs-var hs-var">handle_type_data</span></a></span></span><span>
</span><span id="line-2633"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792141"><span class="hs-identifier hs-var">is_type_data</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (ConDecl GhcPs)
 -&gt; GenLocated SrcSpanAnnA (ConDecl GhcPs))
-&gt; [GenLocated SrcSpanAnnA (ConDecl GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (ConDecl GhcPs)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ConDecl GhcPs -&gt; ConDecl GhcPs)
-&gt; GenLocated SrcSpanAnnA (ConDecl GhcPs)
-&gt; GenLocated SrcSpanAnnA (ConDecl GhcPs)
forall a b.
(a -&gt; b) -&gt; GenLocated SrcSpanAnnA a -&gt; GenLocated SrcSpanAnnA b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">ConDecl GhcPs -&gt; ConDecl GhcPs
forall {pass} {f :: * -&gt; *}.
(XRec pass (IdP pass) ~ f RdrName, Functor f) =&gt;
ConDecl pass -&gt; ConDecl pass
</span><a href="#local-6989586621681792152"><span class="hs-identifier hs-var">promote_constructor</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2634"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (ConDecl GhcPs)]
-&gt; [GenLocated SrcSpanAnnA (ConDecl GhcPs)]
forall a. a -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#id/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-2635"></span><span>
</span><span id="line-2636"></span><span>    </span><span id="local-6989586621681792152"><span class="annot"><span class="annottext">promote_constructor :: ConDecl pass -&gt; ConDecl pass
</span><a href="#local-6989586621681792152"><span class="hs-identifier hs-var hs-var">promote_constructor</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681792161"><span class="annot"><span class="annottext">dc :: ConDecl pass
</span><a href="#local-6989586621681792161"><span class="hs-identifier hs-var">dc</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclGADT"><span class="hs-identifier hs-type">ConDeclGADT</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">con_names :: forall pass. ConDecl pass -&gt; NonEmpty (LIdP pass)
</span><a href="Language.Haskell.Syntax.Decls.html#con_names"><span class="hs-identifier hs-var">con_names</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681792162"><span class="annot"><span class="annottext">NonEmpty (XRec pass (IdP pass))
</span><a href="#local-6989586621681792162"><span class="hs-identifier hs-var">cons</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-2637"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConDecl pass
</span><a href="#local-6989586621681792161"><span class="hs-identifier hs-var">dc</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#con_names"><span class="hs-identifier hs-var">con_names</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681792163"><span class="hs-identifier hs-type">promote_name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681792162"><span class="hs-identifier hs-type">cons</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2638"></span><span>    </span><span class="annot"><a href="#local-6989586621681792152"><span class="hs-identifier hs-var">promote_constructor</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681792164"><span class="annot"><span class="annottext">dc :: ConDecl pass
</span><a href="#local-6989586621681792164"><span class="hs-identifier hs-var">dc</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclH98"><span class="hs-identifier hs-type">ConDeclH98</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">con_name :: forall pass. ConDecl pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#con_name"><span class="hs-identifier hs-var">con_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681792165"><span class="annot"><span class="annottext">XRec pass (IdP pass)
</span><a href="#local-6989586621681792165"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-2639"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConDecl pass
</span><a href="#local-6989586621681792164"><span class="hs-identifier hs-var">dc</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#con_name"><span class="hs-identifier hs-var">con_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681792163"><span class="hs-identifier hs-type">promote_name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681792165"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2640"></span><span>    </span><span class="annot"><a href="#local-6989586621681792152"><span class="hs-identifier hs-var">promote_constructor</span></a></span><span> </span><span id="local-6989586621681792166"><span class="annot"><span class="annottext">ConDecl pass
</span><a href="#local-6989586621681792166"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConDecl pass
</span><a href="#local-6989586621681792166"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-2641"></span><span>
</span><span id="line-2642"></span><span>    </span><span id="local-6989586621681792163"><span class="annot"><span class="annottext">promote_name :: RdrName -&gt; RdrName
</span><a href="#local-6989586621681792163"><span class="hs-identifier hs-var hs-var">promote_name</span></a></span></span><span> </span><span id="local-6989586621681792167"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792167"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Maybe RdrName -&gt; RdrName
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../base-4.18.3.0/src/Data.Maybe.html#fromMaybe/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792167"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; Maybe RdrName
</span><a href="GHC.Types.Name.Reader.html#promoteRdrName"><span class="hs-identifier hs-var">promoteRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792167"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2643"></span><span>
</span><span id="line-2644"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2645"></span><span class="hs-comment">-- utilities for foreign declarations</span><span>
</span><span id="line-2646"></span><span>
</span><span id="line-2647"></span><span class="hs-comment">-- construct a foreign import declaration</span><span>
</span><span id="line-2648"></span><span class="hs-comment">--</span><span>
</span><span id="line-2649"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImport"><span class="hs-identifier hs-type">mkImport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-type">CCallConv</span></a></span><span>
</span><span id="line-2650"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#Safety"><span class="hs-identifier hs-type">Safety</span></a></span><span>
</span><span id="line-2651"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2652"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2653"></span><span id="mkImport"><span class="annot"><span class="annottext">mkImport :: Located CCallConv
-&gt; Located Safety
-&gt; (Located StringLiteral, GenLocated SrcSpanAnnN RdrName,
    LHsSigType GhcPs)
-&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkImport"><span class="hs-identifier hs-var hs-var">mkImport</span></a></span></span><span> </span><span id="local-6989586621681792169"><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621681792169"><span class="hs-identifier hs-var">cconv</span></a></span></span><span> </span><span id="local-6989586621681792170"><span class="annot"><span class="annottext">Located Safety
</span><a href="#local-6989586621681792170"><span class="hs-identifier hs-var">safety</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792171"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792171"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SourceText.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a></span><span> </span><span id="local-6989586621681792173"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681792173"><span class="hs-identifier hs-var">esrc</span></a></span></span><span> </span><span id="local-6989586621681792174"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792174"><span class="hs-identifier hs-var">entity</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe RealSrcSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792175"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792175"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792176"><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681792176"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2654"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Located CCallConv -&gt; CCallConv
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621681792169"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2655"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-var">CCallConv</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignImport GhcPs -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681792178"><span class="hs-identifier hs-var">returnSpec</span></a></span><span> </span><span class="annot"><span class="annottext">(ForeignImport GhcPs -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs))
-&gt; P (ForeignImport GhcPs) -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">P (ForeignImport GhcPs)
</span><a href="#local-6989586621681792180"><span class="hs-identifier hs-var">mkCImport</span></a></span><span>
</span><span id="line-2656"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CApiConv"><span class="hs-identifier hs-var">CApiConv</span></a></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2657"></span><span>        </span><span id="local-6989586621681792182"><span class="annot"><span class="annottext">ForeignImport GhcPs
</span><a href="#local-6989586621681792182"><span class="hs-identifier hs-var">imp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">P (ForeignImport GhcPs)
</span><a href="#local-6989586621681792180"><span class="hs-identifier hs-var">mkCImport</span></a></span><span>
</span><span id="line-2658"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ForeignImport GhcPs -&gt; Bool
forall {pass}. ForeignImport pass -&gt; Bool
</span><a href="#local-6989586621681792183"><span class="hs-identifier hs-var">isCWrapperImport</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport GhcPs
</span><a href="#local-6989586621681792182"><span class="hs-identifier hs-var">imp</span></a></span><span>
</span><span id="line-2659"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs))
-&gt; MsgEnvelope PsMessage -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792171"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrInvalidCApiImport"><span class="hs-identifier hs-var">PsErrInvalidCApiImport</span></a></span><span>
</span><span id="line-2660"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ForeignImport GhcPs -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681792178"><span class="hs-identifier hs-var">returnSpec</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport GhcPs
</span><a href="#local-6989586621681792182"><span class="hs-identifier hs-var">imp</span></a></span><span>
</span><span id="line-2661"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#StdCallConv"><span class="hs-identifier hs-var">StdCallConv</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignImport GhcPs -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681792178"><span class="hs-identifier hs-var">returnSpec</span></a></span><span> </span><span class="annot"><span class="annottext">(ForeignImport GhcPs -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs))
-&gt; P (ForeignImport GhcPs) -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3D%3C%3C/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">P (ForeignImport GhcPs)
</span><a href="#local-6989586621681792180"><span class="hs-identifier hs-var">mkCImport</span></a></span><span>
</span><span id="line-2662"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#PrimCallConv"><span class="hs-identifier hs-var">PrimCallConv</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681792187"><span class="hs-identifier hs-var">mkOtherImport</span></a></span><span>
</span><span id="line-2663"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#JavaScriptCallConv"><span class="hs-identifier hs-var">JavaScriptCallConv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681792187"><span class="hs-identifier hs-var">mkOtherImport</span></a></span><span>
</span><span id="line-2664"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2665"></span><span>    </span><span class="hs-comment">-- Parse a C-like entity string of the following form:</span><span>
</span><span id="line-2666"></span><span>    </span><span class="hs-comment">--   &quot;[static] [chname] [&amp;] [cid]&quot; | &quot;dynamic&quot; | &quot;wrapper&quot;</span><span>
</span><span id="line-2667"></span><span>    </span><span class="hs-comment">-- If 'cid' is missing, the function name 'v' is used instead as symbol</span><span>
</span><span id="line-2668"></span><span>    </span><span class="hs-comment">-- name (cf section 8.5.1 in Haskell 2010 report).</span><span>
</span><span id="line-2669"></span><span>    </span><span id="local-6989586621681792180"><span class="annot"><span class="annottext">mkCImport :: P (ForeignImport GhcPs)
</span><a href="#local-6989586621681792180"><span class="hs-identifier hs-var hs-var">mkCImport</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2670"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681792189"><span class="annot"><span class="annottext">e :: String
</span><a href="#local-6989586621681792189"><span class="hs-identifier hs-var hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792174"><span class="hs-identifier hs-var">entity</span></a></span><span>
</span><span id="line-2671"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Located CCallConv
-&gt; Located Safety
-&gt; FastString
-&gt; String
-&gt; Located SourceText
-&gt; Maybe (ForeignImport GhcPs)
forall (p :: Pass).
Located CCallConv
-&gt; Located Safety
-&gt; FastString
-&gt; String
-&gt; Located SourceText
-&gt; Maybe (ForeignImport (GhcPass p))
</span><a href="GHC.Parser.PostProcess.html#parseCImport"><span class="hs-identifier hs-var">parseCImport</span></a></span><span> </span><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621681792169"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="annot"><span class="annottext">Located Safety
</span><a href="#local-6989586621681792170"><span class="hs-identifier hs-var">safety</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; FastString
</span><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-var">mkExtName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792175"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681792189"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SourceText -&gt; Located SourceText
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792171"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681792173"><span class="hs-identifier hs-var">esrc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2672"></span><span>        </span><span class="annot"><span class="annottext">Maybe (ForeignImport GhcPs)
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P (ForeignImport GhcPs)
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P (ForeignImport GhcPs))
-&gt; MsgEnvelope PsMessage -&gt; P (ForeignImport GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792171"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2673"></span><span>                             </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrMalformedEntityString"><span class="hs-identifier hs-var">PsErrMalformedEntityString</span></a></span><span>
</span><span id="line-2674"></span><span>        </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681792191"><span class="annot"><span class="annottext">ForeignImport GhcPs
</span><a href="#local-6989586621681792191"><span class="hs-identifier hs-var">importSpec</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignImport GhcPs -&gt; P (ForeignImport GhcPs)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport GhcPs
</span><a href="#local-6989586621681792191"><span class="hs-identifier hs-var">importSpec</span></a></span><span>
</span><span id="line-2675"></span><span>
</span><span id="line-2676"></span><span>    </span><span id="local-6989586621681792183"><span class="annot"><span class="annottext">isCWrapperImport :: ForeignImport pass -&gt; Bool
</span><a href="#local-6989586621681792183"><span class="hs-identifier hs-var hs-var">isCWrapperImport</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#CImport"><span class="hs-identifier hs-type">CImport</span></a></span><span> </span><span class="annot"><span class="annottext">XCImport pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec pass CCallConv
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec pass Safety
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe Header
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CImportSpec
</span><a href="Language.Haskell.Syntax.Decls.html#CWrapper"><span class="hs-identifier hs-var">CWrapper</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2677"></span><span>    </span><span class="annot"><a href="#local-6989586621681792183"><span class="hs-identifier hs-var">isCWrapperImport</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-2678"></span><span>
</span><span id="line-2679"></span><span>    </span><span class="hs-comment">-- currently, all the other import conventions only support a symbol name in</span><span>
</span><span id="line-2680"></span><span>    </span><span class="hs-comment">-- the entity string. If it is missing, we use the function name instead.</span><span>
</span><span id="line-2681"></span><span>    </span><span id="local-6989586621681792187"><span class="annot"><span class="annottext">mkOtherImport :: P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681792187"><span class="hs-identifier hs-var hs-var">mkOtherImport</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ForeignImport GhcPs -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681792178"><span class="hs-identifier hs-var">returnSpec</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport GhcPs
</span><a href="#local-6989586621681792194"><span class="hs-identifier hs-var">importSpec</span></a></span><span>
</span><span id="line-2682"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-2683"></span><span>        </span><span id="local-6989586621681792195"><span class="annot"><span class="annottext">entity' :: FastString
</span><a href="#local-6989586621681792195"><span class="hs-identifier hs-var hs-var">entity'</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Data.FastString.html#nullFS"><span class="hs-identifier hs-var">nullFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792174"><span class="hs-identifier hs-var">entity</span></a></span><span>
</span><span id="line-2684"></span><span>                        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; FastString
</span><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-var">mkExtName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792175"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2685"></span><span>                        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792174"><span class="hs-identifier hs-var">entity</span></a></span><span>
</span><span id="line-2686"></span><span>        </span><span id="local-6989586621681792197"><span class="annot"><span class="annottext">funcTarget :: CImportSpec
</span><a href="#local-6989586621681792197"><span class="hs-identifier hs-var hs-var">funcTarget</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CCallTarget -&gt; CImportSpec
</span><a href="Language.Haskell.Syntax.Decls.html#CFunction"><span class="hs-identifier hs-var">CFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; FastString -&gt; Maybe Unit -&gt; Bool -&gt; CCallTarget
</span><a href="GHC.Types.ForeignCall.html#StaticTarget"><span class="hs-identifier hs-var">StaticTarget</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681792173"><span class="hs-identifier hs-var">esrc</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792195"><span class="hs-identifier hs-var">entity'</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Unit
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-2687"></span><span>        </span><span id="local-6989586621681792194"><span class="annot"><span class="annottext">importSpec :: ForeignImport GhcPs
</span><a href="#local-6989586621681792194"><span class="hs-identifier hs-var hs-var">importSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCImport GhcPs
-&gt; XRec GhcPs CCallConv
-&gt; XRec GhcPs Safety
-&gt; Maybe Header
-&gt; CImportSpec
-&gt; ForeignImport GhcPs
forall pass.
XCImport pass
-&gt; XRec pass CCallConv
-&gt; XRec pass Safety
-&gt; Maybe Header
-&gt; CImportSpec
-&gt; ForeignImport pass
</span><a href="Language.Haskell.Syntax.Decls.html#CImport"><span class="hs-identifier hs-var">CImport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SourceText -&gt; Located SourceText
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792171"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681792173"><span class="hs-identifier hs-var">esrc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs CCallConv
Located CCallConv
</span><a href="#local-6989586621681792169"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcPs Safety
Located Safety
</span><a href="#local-6989586621681792170"><span class="hs-identifier hs-var">safety</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Header
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">CImportSpec
</span><a href="#local-6989586621681792197"><span class="hs-identifier hs-var">funcTarget</span></a></span><span>
</span><span id="line-2688"></span><span>
</span><span id="line-2689"></span><span>    </span><span id="local-6989586621681792178"><span class="annot"><span class="annottext">returnSpec :: ForeignImport GhcPs -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="#local-6989586621681792178"><span class="hs-identifier hs-var hs-var">returnSpec</span></a></span></span><span> </span><span id="local-6989586621681792200"><span class="annot"><span class="annottext">ForeignImport GhcPs
</span><a href="#local-6989586621681792200"><span class="hs-identifier hs-var">spec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
-&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">((EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
 -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs))
-&gt; (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
-&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681792201"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792201"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XForD GhcPs -&gt; ForeignDecl GhcPs -&gt; HsDecl GhcPs
forall p. XForD p -&gt; ForeignDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-var">ForD</span></a></span><span> </span><span class="annot"><span class="annottext">XForD GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">(ForeignDecl GhcPs -&gt; HsDecl GhcPs)
-&gt; ForeignDecl GhcPs -&gt; HsDecl GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a></span><span>
</span><span id="line-2690"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fd_i_ext :: XForeignImport GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fd_i_ext"><span class="hs-identifier hs-var">fd_i_ext</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XForeignImport GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792201"><span class="hs-identifier hs-var">ann</span></a></span><span>
</span><span id="line-2691"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_name :: XRec GhcPs (IdP GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#fd_name"><span class="hs-identifier hs-var">fd_name</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792175"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-2692"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_sig_ty :: LHsSigType GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fd_sig_ty"><span class="hs-identifier hs-var">fd_sig_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681792176"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2693"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_fi :: ForeignImport GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fd_fi"><span class="hs-identifier hs-var">fd_fi</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ForeignImport GhcPs
</span><a href="#local-6989586621681792200"><span class="hs-identifier hs-var">spec</span></a></span><span>
</span><span id="line-2694"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-2695"></span><span>
</span><span id="line-2696"></span><span>
</span><span id="line-2697"></span><span>
</span><span id="line-2698"></span><span class="hs-comment">-- the string &quot;foo&quot; is ambiguous: either a header or a C identifier.  The</span><span>
</span><span id="line-2699"></span><span class="hs-comment">-- C identifier case comes first in the alternatives below, so we pick</span><span>
</span><span id="line-2700"></span><span class="hs-comment">-- that one.</span><span>
</span><span id="line-2701"></span><span id="local-6989586621681788656"><span class="annot"><a href="GHC.Parser.PostProcess.html#parseCImport"><span class="hs-identifier hs-type">parseCImport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-type">CCallConv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#Safety"><span class="hs-identifier hs-type">Safety</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-2702"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span>
</span><span id="line-2703"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788656"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-2704"></span><span id="parseCImport"><span class="annot"><span class="annottext">parseCImport :: forall (p :: Pass).
Located CCallConv
-&gt; Located Safety
-&gt; FastString
-&gt; String
-&gt; Located SourceText
-&gt; Maybe (ForeignImport (GhcPass p))
</span><a href="GHC.Parser.PostProcess.html#parseCImport"><span class="hs-identifier hs-var hs-var">parseCImport</span></a></span></span><span> </span><span id="local-6989586621681792239"><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621681792239"><span class="hs-identifier hs-var">cconv</span></a></span></span><span> </span><span id="local-6989586621681792240"><span class="annot"><span class="annottext">Located Safety
</span><a href="#local-6989586621681792240"><span class="hs-identifier hs-var">safety</span></a></span></span><span> </span><span id="local-6989586621681792241"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792241"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621681792242"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681792242"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621681792243"><span class="annot"><span class="annottext">Located SourceText
</span><a href="#local-6989586621681792243"><span class="hs-identifier hs-var">sourceText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2705"></span><span> </span><span class="annot"><span class="annottext">[ForeignImport (GhcPass p)] -&gt; Maybe (ForeignImport (GhcPass p))
forall a. [a] -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/Data.Maybe.html#listToMaybe/Data.Maybe.html#listToMaybe"><span class="hs-identifier hs-var">listToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">([ForeignImport (GhcPass p)] -&gt; Maybe (ForeignImport (GhcPass p)))
-&gt; [ForeignImport (GhcPass p)] -&gt; Maybe (ForeignImport (GhcPass p))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((ForeignImport (GhcPass p), String) -&gt; ForeignImport (GhcPass p))
-&gt; [(ForeignImport (GhcPass p), String)]
-&gt; [ForeignImport (GhcPass p)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(ForeignImport (GhcPass p), String) -&gt; ForeignImport (GhcPass p)
forall a b. (a, b) -&gt; a
</span><a href="../../base-4.18.3.0/src/Data.Tuple.html#fst/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">([(ForeignImport (GhcPass p), String)]
 -&gt; [ForeignImport (GhcPass p)])
-&gt; [(ForeignImport (GhcPass p), String)]
-&gt; [ForeignImport (GhcPass p)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((ForeignImport (GhcPass p), String) -&gt; Bool)
-&gt; [(ForeignImport (GhcPass p), String)]
-&gt; [(ForeignImport (GhcPass p), String)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#filter/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#null/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span class="annot"><span class="annottext">(String -&gt; Bool)
-&gt; ((ForeignImport (GhcPass p), String) -&gt; String)
-&gt; (ForeignImport (GhcPass p), String)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span class="annot"><span class="annottext">(ForeignImport (GhcPass p), String) -&gt; String
forall a b. (a, b) -&gt; b
</span><a href="../../base-4.18.3.0/src/Data.Tuple.html#snd/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(ForeignImport (GhcPass p), String)]
 -&gt; [(ForeignImport (GhcPass p), String)])
-&gt; [(ForeignImport (GhcPass p), String)]
-&gt; [(ForeignImport (GhcPass p), String)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2706"></span><span>     </span><span class="annot"><span class="annottext">ReadP (ForeignImport (GhcPass p))
-&gt; ReadS (ForeignImport (GhcPass p))
forall a. ReadP a -&gt; ReadS a
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#readP_to_S/Text.ParserCombinators.ReadP.html#readP_to_S"><span class="hs-identifier hs-var">readP_to_S</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP (ForeignImport (GhcPass p))
</span><a href="#local-6989586621681792247"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681792242"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-2707"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2708"></span><span>   </span><span id="local-6989586621681792247"><span class="annot"><span class="annottext">parse :: ReadP (ForeignImport (GhcPass p))
</span><a href="#local-6989586621681792247"><span class="hs-identifier hs-var hs-var">parse</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2709"></span><span>       </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#skipSpaces/Text.ParserCombinators.ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span>
</span><span id="line-2710"></span><span>       </span><span id="local-6989586621681792249"><span class="annot"><span class="annottext">ForeignImport (GhcPass p)
</span><a href="#local-6989586621681792249"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ReadP (ForeignImport (GhcPass p))]
-&gt; ReadP (ForeignImport (GhcPass p))
forall a. [ReadP a] -&gt; ReadP a
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#choice/Text.ParserCombinators.ReadP.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2711"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; ReadP String
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#string/Text.ParserCombinators.ReadP.html#string"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dynamic&quot;</span></span><span> </span><span class="annot"><span class="annottext">ReadP String
-&gt; ReadP (ForeignImport (GhcPass p))
-&gt; ReadP (ForeignImport (GhcPass p))
forall a b. ReadP a -&gt; ReadP b -&gt; ReadP b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport (GhcPass p) -&gt; ReadP (ForeignImport (GhcPass p))
forall a. a -&gt; ReadP a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Header -&gt; CImportSpec -&gt; ForeignImport (GhcPass p)
</span><a href="#local-6989586621681792252"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Header
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CCallTarget -&gt; CImportSpec
</span><a href="Language.Haskell.Syntax.Decls.html#CFunction"><span class="hs-identifier hs-var">CFunction</span></a></span><span> </span><span class="annot"><span class="annottext">CCallTarget
</span><a href="GHC.Types.ForeignCall.html#DynamicTarget"><span class="hs-identifier hs-var">DynamicTarget</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2712"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; ReadP String
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#string/Text.ParserCombinators.ReadP.html#string"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;wrapper&quot;</span></span><span> </span><span class="annot"><span class="annottext">ReadP String
-&gt; ReadP (ForeignImport (GhcPass p))
-&gt; ReadP (ForeignImport (GhcPass p))
forall a b. ReadP a -&gt; ReadP b -&gt; ReadP b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport (GhcPass p) -&gt; ReadP (ForeignImport (GhcPass p))
forall a. a -&gt; ReadP a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Header -&gt; CImportSpec -&gt; ForeignImport (GhcPass p)
</span><a href="#local-6989586621681792252"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Header
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">CImportSpec
</span><a href="Language.Haskell.Syntax.Decls.html#CWrapper"><span class="hs-identifier hs-var">CWrapper</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2713"></span><span>          </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">ReadP () -&gt; ReadP ()
forall a. ReadP a -&gt; ReadP ()
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#optional/Text.ParserCombinators.ReadP.html#optional"><span class="hs-identifier hs-var">optional</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; ReadP ()
</span><a href="#local-6989586621681792255"><span class="hs-identifier hs-var">token</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;static&quot;</span></span><span> </span><span class="annot"><span class="annottext">ReadP () -&gt; ReadP () -&gt; ReadP ()
forall a b. ReadP a -&gt; ReadP b -&gt; ReadP b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#skipSpaces/Text.ParserCombinators.ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2714"></span><span>             </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Header -&gt; CImportSpec -&gt; ForeignImport (GhcPass p)
</span><a href="#local-6989586621681792252"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Header
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">(CImportSpec -&gt; ForeignImport (GhcPass p))
-&gt; ReadP CImportSpec -&gt; ReadP (ForeignImport (GhcPass p))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReadP CImportSpec
</span><a href="#local-6989586621681792256"><span class="hs-identifier hs-var">cimp</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792241"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ReadP (ForeignImport (GhcPass p))
-&gt; ReadP (ForeignImport (GhcPass p))
-&gt; ReadP (ForeignImport (GhcPass p))
forall a. ReadP a -&gt; ReadP a -&gt; ReadP a
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#%2B%2B%2B/Text.ParserCombinators.ReadP.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span>
</span><span id="line-2715"></span><span>              </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681792258"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681792258"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; ReadP String
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#munch1/Text.ParserCombinators.ReadP.html#munch1"><span class="hs-identifier hs-var">munch1</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621681792260"><span class="hs-identifier hs-var">hdr_char</span></a></span><span>
</span><span id="line-2716"></span><span>                  </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#skipSpaces/Text.ParserCombinators.ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span>
</span><span id="line-2717"></span><span>                  </span><span class="annot"><span class="annottext">Maybe Header -&gt; CImportSpec -&gt; ForeignImport (GhcPass p)
</span><a href="#local-6989586621681792252"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Header -&gt; Maybe Header
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; FastString -&gt; Header
</span><a href="GHC.Types.ForeignCall.html#Header"><span class="hs-identifier hs-var">Header</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SourceText
</span><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681792258"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681792258"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2718"></span><span>                      </span><span class="annot"><span class="annottext">(CImportSpec -&gt; ForeignImport (GhcPass p))
-&gt; ReadP CImportSpec -&gt; ReadP (ForeignImport (GhcPass p))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReadP CImportSpec
</span><a href="#local-6989586621681792256"><span class="hs-identifier hs-var">cimp</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792241"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2719"></span><span>         </span><span class="hs-special">]</span><span>
</span><span id="line-2720"></span><span>       </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#skipSpaces/Text.ParserCombinators.ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span>
</span><span id="line-2721"></span><span>       </span><span class="annot"><span class="annottext">ForeignImport (GhcPass p) -&gt; ReadP (ForeignImport (GhcPass p))
forall a. a -&gt; ReadP a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport (GhcPass p)
</span><a href="#local-6989586621681792249"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-2722"></span><span>
</span><span id="line-2723"></span><span>   </span><span id="local-6989586621681792255"><span class="annot"><span class="annottext">token :: String -&gt; ReadP ()
</span><a href="#local-6989586621681792255"><span class="hs-identifier hs-var hs-var">token</span></a></span></span><span> </span><span id="local-6989586621681792267"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681792267"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; ReadP String
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#string/Text.ParserCombinators.ReadP.html#string"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681792267"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-2724"></span><span>                  </span><span id="local-6989586621681792268"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681792268"><span class="hs-identifier hs-var">toks</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReadP String
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#look/Text.ParserCombinators.ReadP.html#look"><span class="hs-identifier hs-var">look</span></a></span><span>
</span><span id="line-2725"></span><span>                  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681792268"><span class="hs-identifier hs-var">toks</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2726"></span><span>                      </span><span id="local-6989586621681792270"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681792270"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2727"></span><span>                       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621681792271"><span class="hs-identifier hs-var">id_char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681792270"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ReadP ()
forall a. ReadP a
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#pfail/Text.ParserCombinators.ReadP.html#pfail"><span class="hs-identifier hs-var">pfail</span></a></span><span>
</span><span id="line-2728"></span><span>                      </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; ReadP ()
forall a. a -&gt; ReadP a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2729"></span><span>
</span><span id="line-2730"></span><span>   </span><span id="local-6989586621681792252"><span class="annot"><span class="annottext">mk :: Maybe Header -&gt; CImportSpec -&gt; ForeignImport (GhcPass p)
</span><a href="#local-6989586621681792252"><span class="hs-identifier hs-var hs-var">mk</span></a></span></span><span> </span><span id="local-6989586621681792273"><span class="annot"><span class="annottext">Maybe Header
</span><a href="#local-6989586621681792273"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621681792274"><span class="annot"><span class="annottext">CImportSpec
</span><a href="#local-6989586621681792274"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCImport (GhcPass p)
-&gt; XRec (GhcPass p) CCallConv
-&gt; XRec (GhcPass p) Safety
-&gt; Maybe Header
-&gt; CImportSpec
-&gt; ForeignImport (GhcPass p)
forall pass.
XCImport pass
-&gt; XRec pass CCallConv
-&gt; XRec pass Safety
-&gt; Maybe Header
-&gt; CImportSpec
-&gt; ForeignImport pass
</span><a href="Language.Haskell.Syntax.Decls.html#CImport"><span class="hs-identifier hs-var">CImport</span></a></span><span> </span><span class="annot"><span class="annottext">XCImport (GhcPass p)
Located SourceText
</span><a href="#local-6989586621681792243"><span class="hs-identifier hs-var">sourceText</span></a></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass p) CCallConv
Located CCallConv
</span><a href="#local-6989586621681792239"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass p) Safety
Located Safety
</span><a href="#local-6989586621681792240"><span class="hs-identifier hs-var">safety</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Header
</span><a href="#local-6989586621681792273"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">CImportSpec
</span><a href="#local-6989586621681792274"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-2731"></span><span>
</span><span id="line-2732"></span><span>   </span><span id="local-6989586621681792260"><span class="annot"><span class="annottext">hdr_char :: Char -&gt; Bool
</span><a href="#local-6989586621681792260"><span class="hs-identifier hs-var hs-var">hdr_char</span></a></span></span><span> </span><span id="local-6989586621681792275"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681792275"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="../../base-4.18.3.0/src/GHC.Unicode.html#isSpace/GHC.Unicode.html#isSpace"><span class="hs-identifier hs-var">isSpace</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681792275"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2733"></span><span>   </span><span class="hs-comment">-- header files are filenames, which can contain</span><span>
</span><span id="line-2734"></span><span>   </span><span class="hs-comment">-- pretty much any char (depending on the platform),</span><span>
</span><span id="line-2735"></span><span>   </span><span class="hs-comment">-- so just accept any non-space character</span><span>
</span><span id="line-2736"></span><span>   </span><span id="local-6989586621681792279"><span class="annot"><span class="annottext">id_first_char :: Char -&gt; Bool
</span><a href="#local-6989586621681792279"><span class="hs-identifier hs-var hs-var">id_first_char</span></a></span></span><span> </span><span id="local-6989586621681792280"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681792280"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="../../base-4.18.3.0/src/GHC.Unicode.html#isAlpha/GHC.Unicode.html#isAlpha"><span class="hs-identifier hs-var">isAlpha</span></a></span><span>    </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681792280"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681792280"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'_'</span></span><span>
</span><span id="line-2737"></span><span>   </span><span id="local-6989586621681792271"><span class="annot"><span class="annottext">id_char :: Char -&gt; Bool
</span><a href="#local-6989586621681792271"><span class="hs-identifier hs-var hs-var">id_char</span></a></span></span><span>       </span><span id="local-6989586621681792283"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681792283"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="../../base-4.18.3.0/src/GHC.Unicode.html#isAlphaNum/GHC.Unicode.html#isAlphaNum"><span class="hs-identifier hs-var">isAlphaNum</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681792283"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681792283"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'_'</span></span><span>
</span><span id="line-2738"></span><span>
</span><span id="line-2739"></span><span>   </span><span id="local-6989586621681792256"><span class="annot"><span class="annottext">cimp :: FastString -&gt; ReadP CImportSpec
</span><a href="#local-6989586621681792256"><span class="hs-identifier hs-var hs-var">cimp</span></a></span></span><span> </span><span id="local-6989586621681792285"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792285"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; ReadP Char
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#char/Text.ParserCombinators.ReadP.html#char"><span class="hs-identifier hs-var">ReadP.char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'&amp;'</span></span><span> </span><span class="annot"><span class="annottext">ReadP Char -&gt; ReadP () -&gt; ReadP ()
forall a b. ReadP a -&gt; ReadP b -&gt; ReadP b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#skipSpaces/Text.ParserCombinators.ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP () -&gt; ReadP CImportSpec -&gt; ReadP CImportSpec
forall a b. ReadP a -&gt; ReadP b -&gt; ReadP b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; CImportSpec
</span><a href="Language.Haskell.Syntax.Decls.html#CLabel"><span class="hs-identifier hs-var">CLabel</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; CImportSpec)
-&gt; ReadP FastString -&gt; ReadP CImportSpec
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP FastString
</span><a href="#local-6989586621681792288"><span class="hs-identifier hs-var">cid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2740"></span><span>             </span><span class="annot"><span class="annottext">ReadP CImportSpec -&gt; ReadP CImportSpec -&gt; ReadP CImportSpec
forall a. ReadP a -&gt; ReadP a -&gt; ReadP a
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#%2B%2B%2B/Text.ParserCombinators.ReadP.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681792289"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792289"><span class="hs-identifier hs-var">isFun</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Located CCallConv -&gt; CCallConv
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621681792239"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2741"></span><span>                               </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CApiConv"><span class="hs-identifier hs-var">CApiConv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2742"></span><span>                                  </span><span class="annot"><span class="annottext">Bool -&gt; ReadP Bool -&gt; ReadP Bool
forall a. a -&gt; ReadP a -&gt; ReadP a
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#option/Text.ParserCombinators.ReadP.html#option"><span class="hs-identifier hs-var">option</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2743"></span><span>                                         </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">String -&gt; ReadP ()
</span><a href="#local-6989586621681792255"><span class="hs-identifier hs-var">token</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;value&quot;</span></span><span>
</span><span id="line-2744"></span><span>                                             </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#skipSpaces/Text.ParserCombinators.ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span>
</span><span id="line-2745"></span><span>                                             </span><span class="annot"><span class="annottext">Bool -&gt; ReadP Bool
forall a. a -&gt; ReadP a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-2746"></span><span>                               </span><span class="annot"><span class="annottext">CCallConv
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; ReadP Bool
forall a. a -&gt; ReadP a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2747"></span><span>                     </span><span id="local-6989586621681792291"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792291"><span class="hs-identifier hs-var">cid'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReadP FastString
</span><a href="#local-6989586621681792288"><span class="hs-identifier hs-var">cid</span></a></span><span>
</span><span id="line-2748"></span><span>                     </span><span class="annot"><span class="annottext">CImportSpec -&gt; ReadP CImportSpec
forall a. a -&gt; ReadP a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CCallTarget -&gt; CImportSpec
</span><a href="Language.Haskell.Syntax.Decls.html#CFunction"><span class="hs-identifier hs-var">CFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; FastString -&gt; Maybe Unit -&gt; Bool -&gt; CCallTarget
</span><a href="GHC.Types.ForeignCall.html#StaticTarget"><span class="hs-identifier hs-var">StaticTarget</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792291"><span class="hs-identifier hs-var">cid'</span></a></span><span>
</span><span id="line-2749"></span><span>                                        </span><span class="annot"><span class="annottext">Maybe Unit
forall a. Maybe a
</span><a href="../../base-4.18.3.0/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792289"><span class="hs-identifier hs-var">isFun</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2750"></span><span>          </span><span class="hs-keyword">where</span><span>
</span><span id="line-2751"></span><span>            </span><span id="local-6989586621681792288"><span class="annot"><span class="annottext">cid :: ReadP FastString
</span><a href="#local-6989586621681792288"><span class="hs-identifier hs-var hs-var">cid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReadP FastString
forall a. a -&gt; ReadP a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792285"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP FastString -&gt; ReadP FastString -&gt; ReadP FastString
forall a. ReadP a -&gt; ReadP a -&gt; ReadP a
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#%2B%2B%2B/Text.ParserCombinators.ReadP.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span>
</span><span id="line-2752"></span><span>                  </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681792292"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681792292"><span class="hs-identifier hs-var">c</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; ReadP Char
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#satisfy/Text.ParserCombinators.ReadP.html#satisfy"><span class="hs-identifier hs-var">satisfy</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621681792279"><span class="hs-identifier hs-var">id_first_char</span></a></span><span>
</span><span id="line-2753"></span><span>                      </span><span id="local-6989586621681792294"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681792294"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>  </span><span class="annot"><span class="annottext">ReadP Char -&gt; ReadP String
forall a. ReadP a -&gt; ReadP [a]
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#many/Text.ParserCombinators.ReadP.html#many"><span class="hs-identifier hs-var">many</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; ReadP Char
</span><a href="../../base-4.18.3.0/src/Text.ParserCombinators.ReadP.html#satisfy/Text.ParserCombinators.ReadP.html#satisfy"><span class="hs-identifier hs-var">satisfy</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621681792271"><span class="hs-identifier hs-var">id_char</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2754"></span><span>                      </span><span class="annot"><span class="annottext">FastString -&gt; ReadP FastString
forall a. a -&gt; ReadP a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681792292"><span class="hs-identifier hs-var">c</span></a></span><span class="annot"><span class="annottext">Char -&gt; String -&gt; String
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681792294"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2755"></span><span>
</span><span id="line-2756"></span><span>
</span><span id="line-2757"></span><span class="hs-comment">-- construct a foreign export declaration</span><span>
</span><span id="line-2758"></span><span class="hs-comment">--</span><span>
</span><span id="line-2759"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkExport"><span class="hs-identifier hs-type">mkExport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-type">CCallConv</span></a></span><span>
</span><span id="line-2760"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2761"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2762"></span><span id="mkExport"><span class="annot"><span class="annottext">mkExport :: Located CCallConv
-&gt; (Located StringLiteral, GenLocated SrcSpanAnnN RdrName,
    LHsSigType GhcPs)
-&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkExport"><span class="hs-identifier hs-var hs-var">mkExport</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792296"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792296"><span class="hs-identifier hs-var">lc</span></a></span></span><span> </span><span id="local-6989586621681792297"><span class="annot"><span class="annottext">CCallConv
</span><a href="#local-6989586621681792297"><span class="hs-identifier hs-var">cconv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792298"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792298"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SourceText.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a></span><span> </span><span id="local-6989586621681792299"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681792299"><span class="hs-identifier hs-var">esrc</span></a></span></span><span> </span><span id="local-6989586621681792300"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792300"><span class="hs-identifier hs-var">entity</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe RealSrcSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792301"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792301"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792302"><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681792302"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2763"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
-&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">((EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
 -&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs))
-&gt; (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
-&gt; P (EpAnn [AddEpAnn] -&gt; HsDecl GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681792303"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792303"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XForD GhcPs -&gt; ForeignDecl GhcPs -&gt; HsDecl GhcPs
forall p. XForD p -&gt; ForeignDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-var">ForD</span></a></span><span> </span><span class="annot"><span class="annottext">XForD GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">(ForeignDecl GhcPs -&gt; HsDecl GhcPs)
-&gt; ForeignDecl GhcPs -&gt; HsDecl GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2764"></span><span>   </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignExport"><span class="hs-identifier hs-type">ForeignExport</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fd_e_ext :: XForeignExport GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fd_e_ext"><span class="hs-identifier hs-var">fd_e_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XForeignExport GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792303"><span class="hs-identifier hs-var">ann</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_name :: XRec GhcPs (IdP GhcPs)
</span><a href="Language.Haskell.Syntax.Decls.html#fd_name"><span class="hs-identifier hs-var">fd_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792301"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_sig_ty :: LHsSigType GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fd_sig_ty"><span class="hs-identifier hs-var">fd_sig_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621681792302"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2765"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_fe :: ForeignExport GhcPs
</span><a href="Language.Haskell.Syntax.Decls.html#fd_fe"><span class="hs-identifier hs-var">fd_fe</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCExport GhcPs -&gt; XRec GhcPs CExportSpec -&gt; ForeignExport GhcPs
forall pass.
XCExport pass -&gt; XRec pass CExportSpec -&gt; ForeignExport pass
</span><a href="Language.Haskell.Syntax.Decls.html#CExport"><span class="hs-identifier hs-var">CExport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SourceText -&gt; Located SourceText
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792298"><span class="hs-identifier hs-var">le</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681792299"><span class="hs-identifier hs-var">esrc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; CExportSpec -&gt; GenLocated SrcSpan CExportSpec
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792296"><span class="hs-identifier hs-var">lc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; FastString -&gt; CCallConv -&gt; CExportSpec
</span><a href="GHC.Types.ForeignCall.html#CExportStatic"><span class="hs-identifier hs-var">CExportStatic</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621681792299"><span class="hs-identifier hs-var">esrc</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792309"><span class="hs-identifier hs-var">entity'</span></a></span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="#local-6989586621681792297"><span class="hs-identifier hs-var">cconv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2766"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2767"></span><span>    </span><span id="local-6989586621681792309"><span class="annot"><span class="annottext">entity' :: FastString
</span><a href="#local-6989586621681792309"><span class="hs-identifier hs-var hs-var">entity'</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Data.FastString.html#nullFS"><span class="hs-identifier hs-var">nullFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792300"><span class="hs-identifier hs-var">entity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; FastString
</span><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-var">mkExtName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792301"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2768"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681792300"><span class="hs-identifier hs-var">entity</span></a></span><span>
</span><span id="line-2769"></span><span>
</span><span id="line-2770"></span><span class="hs-comment">-- Supplying the ext_name in a foreign decl is optional; if it</span><span>
</span><span id="line-2771"></span><span class="hs-comment">-- isn't there, the Haskell name is assumed. Note that no transformation</span><span>
</span><span id="line-2772"></span><span class="hs-comment">-- of the Haskell name is then performed, so if you foreign export (++),</span><span>
</span><span id="line-2773"></span><span class="hs-comment">-- it's external name will be &quot;++&quot;. Too bad; it's important because we don't</span><span>
</span><span id="line-2774"></span><span class="hs-comment">-- want z-encoding (e.g. names with z's in them shouldn't be doubled)</span><span>
</span><span id="line-2775"></span><span class="hs-comment">--</span><span>
</span><span id="line-2776"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-type">mkExtName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CLabelString"><span class="hs-identifier hs-type">CLabelString</span></a></span><span>
</span><span id="line-2777"></span><span id="mkExtName"><span class="annot"><span class="annottext">mkExtName :: RdrName -&gt; FastString
</span><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-var hs-var">mkExtName</span></a></span></span><span> </span><span id="local-6989586621681792311"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792311"><span class="hs-identifier hs-var">rdrNm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792311"><span class="hs-identifier hs-var">rdrNm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2778"></span><span>
</span><span id="line-2779"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-2780"></span><span class="hs-comment">-- Help with module system imports/exports</span><span>
</span><span id="line-2781"></span><span>
</span><span id="line-2782"></span><span class="hs-keyword">data</span><span> </span><span id="ImpExpSubSpec"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpSubSpec"><span class="hs-identifier hs-var">ImpExpSubSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ImpExpAbs"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpAbs"><span class="hs-identifier hs-var">ImpExpAbs</span></a></span></span><span>
</span><span id="line-2783"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpAll"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpAll"><span class="hs-identifier hs-var">ImpExpAll</span></a></span></span><span>
</span><span id="line-2784"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpList"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpList"><span class="hs-identifier hs-var">ImpExpList</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2785"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpAllWith"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpAllWith"><span class="hs-identifier hs-var">ImpExpAllWith</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2786"></span><span>
</span><span id="line-2787"></span><span class="hs-keyword">data</span><span> </span><span id="ImpExpQcSpec"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-var">ImpExpQcSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ImpExpQcName"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcName"><span class="hs-identifier hs-var">ImpExpQcName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2788"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpQcType"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcType"><span class="hs-identifier hs-var">ImpExpQcType</span></a></span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaLocation"><span class="hs-identifier hs-type">EpaLocation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2789"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpQcWildcard"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span></span><span>
</span><span id="line-2790"></span><span>
</span><span id="line-2791"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkModuleImpExp"><span class="hs-identifier hs-type">mkModuleImpExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpSubSpec"><span class="hs-identifier hs-type">ImpExpSubSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IE"><span class="hs-identifier hs-type">IE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2792"></span><span id="mkModuleImpExp"><span class="annot"><span class="annottext">mkModuleImpExp :: [AddEpAnn]
-&gt; LocatedA ImpExpQcSpec -&gt; ImpExpSubSpec -&gt; P (IE GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkModuleImpExp"><span class="hs-identifier hs-var hs-var">mkModuleImpExp</span></a></span></span><span> </span><span id="local-6989586621681792319"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681792319"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792320"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792320"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681792321"><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="#local-6989586621681792321"><span class="hs-identifier hs-var">specname</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792322"><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="#local-6989586621681792322"><span class="hs-identifier hs-var">subs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2793"></span><span>  </span><span id="local-6989586621681792323"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681792323"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792320"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- AZ: IEVar can discard comments</span><span>
</span><span id="line-2794"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681792324"><span class="annot"><span class="annottext">ann :: EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792324"><span class="hs-identifier hs-var hs-var">ann</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; Anchor) -&gt; SrcSpan -&gt; Anchor
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792320"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681792319"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681792323"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2795"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="#local-6989586621681792322"><span class="hs-identifier hs-var">subs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2796"></span><span>    </span><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpAbs"><span class="hs-identifier hs-var">ImpExpAbs</span></a></span><span>
</span><span id="line-2797"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier hs-var">isVarNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; NameSpace
</span><a href="GHC.Types.Name.Reader.html#rdrNameSpace"><span class="hs-identifier hs-var">rdrNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792327"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2798"></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IE GhcPs -&gt; P (IE GhcPs)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(IE GhcPs -&gt; P (IE GhcPs)) -&gt; IE GhcPs -&gt; P (IE GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XIEVar GhcPs -&gt; LIEWrappedName GhcPs -&gt; IE GhcPs
forall pass. XIEVar pass -&gt; LIEWrappedName pass -&gt; IE pass
</span><a href="Language.Haskell.Syntax.ImpExp.html#IEVar"><span class="hs-identifier hs-var">IEVar</span></a></span><span> </span><span class="annot"><span class="annottext">XIEVar GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; IEWrappedName GhcPs
-&gt; GenLocated SrcSpanAnnA (IEWrappedName GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792320"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; IEWrappedName GhcPs
</span><a href="#local-6989586621681792329"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="#local-6989586621681792321"><span class="hs-identifier hs-var">specname</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2799"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XIEThingAbs GhcPs -&gt; LIEWrappedName GhcPs -&gt; IE GhcPs
forall pass. XIEThingAbs pass -&gt; LIEWrappedName pass -&gt; IE pass
</span><a href="Language.Haskell.Syntax.ImpExp.html#IEThingAbs"><span class="hs-identifier hs-var">IEThingAbs</span></a></span><span> </span><span class="annot"><span class="annottext">XIEThingAbs GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792324"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (IEWrappedName GhcPs) -&gt; IE GhcPs)
-&gt; (IEWrappedName GhcPs
    -&gt; GenLocated SrcSpanAnnA (IEWrappedName GhcPs))
-&gt; IEWrappedName GhcPs
-&gt; IE GhcPs
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; IEWrappedName GhcPs
-&gt; GenLocated SrcSpanAnnA (IEWrappedName GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792320"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(IEWrappedName GhcPs -&gt; IE GhcPs)
-&gt; P (IEWrappedName GhcPs) -&gt; P (IE GhcPs)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">P (IEWrappedName GhcPs)
</span><a href="#local-6989586621681792331"><span class="hs-identifier hs-var">nameT</span></a></span><span>
</span><span id="line-2800"></span><span>    </span><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpAll"><span class="hs-identifier hs-var">ImpExpAll</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XIEThingAll GhcPs -&gt; LIEWrappedName GhcPs -&gt; IE GhcPs
forall pass. XIEThingAll pass -&gt; LIEWrappedName pass -&gt; IE pass
</span><a href="Language.Haskell.Syntax.ImpExp.html#IEThingAll"><span class="hs-identifier hs-var">IEThingAll</span></a></span><span> </span><span class="annot"><span class="annottext">XIEThingAll GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792324"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (IEWrappedName GhcPs) -&gt; IE GhcPs)
-&gt; (IEWrappedName GhcPs
    -&gt; GenLocated SrcSpanAnnA (IEWrappedName GhcPs))
-&gt; IEWrappedName GhcPs
-&gt; IE GhcPs
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; IEWrappedName GhcPs
-&gt; GenLocated SrcSpanAnnA (IEWrappedName GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792320"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(IEWrappedName GhcPs -&gt; IE GhcPs)
-&gt; P (IEWrappedName GhcPs) -&gt; P (IE GhcPs)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">P (IEWrappedName GhcPs)
</span><a href="#local-6989586621681792331"><span class="hs-identifier hs-var">nameT</span></a></span><span>
</span><span id="line-2801"></span><span>    </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpList"><span class="hs-identifier hs-type">ImpExpList</span></a></span><span> </span><span id="local-6989586621681792333"><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681792333"><span class="hs-identifier hs-var">xs</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2802"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681792334"><span class="annot"><span class="annottext">IEWrappedName GhcPs
</span><a href="#local-6989586621681792334"><span class="hs-identifier hs-var">newName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XIEThingWith GhcPs
-&gt; LIEWrappedName GhcPs
-&gt; IEWildcard
-&gt; [LIEWrappedName GhcPs]
-&gt; IE GhcPs
forall pass.
XIEThingWith pass
-&gt; LIEWrappedName pass
-&gt; IEWildcard
-&gt; [LIEWrappedName pass]
-&gt; IE pass
</span><a href="Language.Haskell.Syntax.ImpExp.html#IEThingWith"><span class="hs-identifier hs-var">IEThingWith</span></a></span><span> </span><span class="annot"><span class="annottext">XIEThingWith GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792324"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; IEWrappedName GhcPs
-&gt; GenLocated SrcSpanAnnA (IEWrappedName GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792320"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">IEWrappedName GhcPs
</span><a href="#local-6989586621681792334"><span class="hs-identifier hs-var">newName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2803"></span><span>        </span><span class="annot"><span class="annottext">IEWildcard
</span><a href="Language.Haskell.Syntax.ImpExp.html#NoIEWildcard"><span class="hs-identifier hs-var">NoIEWildcard</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
-&gt; [GenLocated SrcSpanAnnA (IEWrappedName GhcPs)]
</span><a href="#local-6989586621681792337"><span class="hs-identifier hs-var">wrapped</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681792333"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IEWrappedName GhcPs -&gt; IE GhcPs)
-&gt; P (IEWrappedName GhcPs) -&gt; P (IE GhcPs)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">P (IEWrappedName GhcPs)
</span><a href="#local-6989586621681792331"><span class="hs-identifier hs-var">nameT</span></a></span><span>
</span><span id="line-2804"></span><span>    </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpAllWith"><span class="hs-identifier hs-type">ImpExpAllWith</span></a></span><span> </span><span id="local-6989586621681792338"><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681792338"><span class="hs-identifier hs-var">xs</span></a></span></span><span>                       </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2805"></span><span>      </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681792339"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792339"><span class="hs-identifier hs-var">allowed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; P Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#PatternSynonymsBit"><span class="hs-identifier hs-var">PatternSynonymsBit</span></a></span><span>
</span><span id="line-2806"></span><span>         </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792339"><span class="hs-identifier hs-var">allowed</span></a></span><span>
</span><span id="line-2807"></span><span>          </span><span class="hs-keyword">then</span><span>
</span><span id="line-2808"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681792341"><span class="annot"><span class="annottext">withs :: [ImpExpQcSpec]
</span><a href="#local-6989586621681792341"><span class="hs-identifier hs-var hs-var">withs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LocatedA ImpExpQcSpec -&gt; ImpExpQcSpec)
-&gt; [LocatedA ImpExpQcSpec] -&gt; [ImpExpQcSpec]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA ImpExpQcSpec -&gt; ImpExpQcSpec
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681792338"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-2809"></span><span>                </span><span id="local-6989586621681792342"><span class="annot"><span class="annottext">pos :: IEWildcard
</span><a href="#local-6989586621681792342"><span class="hs-identifier hs-var hs-var">pos</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IEWildcard -&gt; (Int -&gt; IEWildcard) -&gt; Maybe Int -&gt; IEWildcard
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../base-4.18.3.0/src/Data.Maybe.html#maybe/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">IEWildcard
</span><a href="Language.Haskell.Syntax.ImpExp.html#NoIEWildcard"><span class="hs-identifier hs-var">NoIEWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IEWildcard
</span><a href="Language.Haskell.Syntax.ImpExp.html#IEWildcard"><span class="hs-identifier hs-var">IEWildcard</span></a></span><span>
</span><span id="line-2810"></span><span>                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ImpExpQcSpec -&gt; Bool) -&gt; [ImpExpQcSpec] -&gt; Maybe Int
forall a. (a -&gt; Bool) -&gt; [a] -&gt; Maybe Int
</span><a href="../../base-4.18.3.0/src/Data.OldList.html#findIndex/Data.OldList.html#findIndex"><span class="hs-identifier hs-var">findIndex</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var">isImpExpQcWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">[ImpExpQcSpec]
</span><a href="#local-6989586621681792341"><span class="hs-identifier hs-var">withs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2811"></span><span>                </span><span class="annot"><a href="#local-6989586621681792345"><span class="hs-identifier hs-type">ies</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEWrappedName"><span class="hs-identifier hs-type">IEWrappedName</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2812"></span><span>                </span><span id="local-6989586621681792345"><span class="annot"><span class="annottext">ies :: [GenLocated SrcSpanAnnA (IEWrappedName GhcPs)]
</span><a href="#local-6989586621681792345"><span class="hs-identifier hs-var hs-var">ies</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
-&gt; [GenLocated SrcSpanAnnA (IEWrappedName GhcPs)]
</span><a href="#local-6989586621681792337"><span class="hs-identifier hs-var">wrapped</span></a></span><span> </span><span class="annot"><span class="annottext">([LocatedA ImpExpQcSpec]
 -&gt; [GenLocated SrcSpanAnnA (IEWrappedName GhcPs)])
-&gt; [LocatedA ImpExpQcSpec]
-&gt; [GenLocated SrcSpanAnnA (IEWrappedName GhcPs)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA ImpExpQcSpec -&gt; Bool)
-&gt; [LocatedA ImpExpQcSpec] -&gt; [LocatedA ImpExpQcSpec]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#filter/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool)
-&gt; (LocatedA ImpExpQcSpec -&gt; Bool) -&gt; LocatedA ImpExpQcSpec -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var">isImpExpQcWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">(ImpExpQcSpec -&gt; Bool)
-&gt; (LocatedA ImpExpQcSpec -&gt; ImpExpQcSpec)
-&gt; LocatedA ImpExpQcSpec
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA ImpExpQcSpec -&gt; ImpExpQcSpec
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681792338"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-2813"></span><span>            </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681792346"><span class="annot"><span class="annottext">IEWrappedName GhcPs
</span><a href="#local-6989586621681792346"><span class="hs-identifier hs-var">newName</span></a></span></span><span>
</span><span id="line-2814"></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XIEThingWith GhcPs
-&gt; LIEWrappedName GhcPs
-&gt; IEWildcard
-&gt; [LIEWrappedName GhcPs]
-&gt; IE GhcPs
forall pass.
XIEThingWith pass
-&gt; LIEWrappedName pass
-&gt; IEWildcard
-&gt; [LIEWrappedName pass]
-&gt; IE pass
</span><a href="Language.Haskell.Syntax.ImpExp.html#IEThingWith"><span class="hs-identifier hs-var">IEThingWith</span></a></span><span> </span><span class="annot"><span class="annottext">XIEThingWith GhcPs
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792324"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; IEWrappedName GhcPs
-&gt; GenLocated SrcSpanAnnA (IEWrappedName GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792320"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">IEWrappedName GhcPs
</span><a href="#local-6989586621681792346"><span class="hs-identifier hs-var">newName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IEWildcard
</span><a href="#local-6989586621681792342"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">[LIEWrappedName GhcPs]
[GenLocated SrcSpanAnnA (IEWrappedName GhcPs)]
</span><a href="#local-6989586621681792345"><span class="hs-identifier hs-var">ies</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2815"></span><span>               </span><span class="annot"><span class="annottext">(IEWrappedName GhcPs -&gt; IE GhcPs)
-&gt; P (IEWrappedName GhcPs) -&gt; P (IE GhcPs)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">P (IEWrappedName GhcPs)
</span><a href="#local-6989586621681792331"><span class="hs-identifier hs-var">nameT</span></a></span><span>
</span><span id="line-2816"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P (IE GhcPs)
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P (IE GhcPs))
-&gt; MsgEnvelope PsMessage -&gt; P (IE GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792320"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2817"></span><span>                 </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIllegalPatSynExport"><span class="hs-identifier hs-var">PsErrIllegalPatSynExport</span></a></span><span>
</span><span id="line-2818"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2819"></span><span>    </span><span id="local-6989586621681792327"><span class="annot"><span class="annottext">name :: RdrName
</span><a href="#local-6989586621681792327"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; RdrName
</span><a href="#local-6989586621681792348"><span class="hs-identifier hs-var">ieNameVal</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="#local-6989586621681792321"><span class="hs-identifier hs-var">specname</span></a></span><span>
</span><span id="line-2820"></span><span>    </span><span id="local-6989586621681792331"><span class="annot"><span class="annottext">nameT :: P (IEWrappedName GhcPs)
</span><a href="#local-6989586621681792331"><span class="hs-identifier hs-var hs-var">nameT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2821"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier hs-var">isVarNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; NameSpace
</span><a href="GHC.Types.Name.Reader.html#rdrNameSpace"><span class="hs-identifier hs-var">rdrNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792327"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2822"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P (IEWrappedName GhcPs)
forall a. MsgEnvelope PsMessage -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P (IEWrappedName GhcPs))
-&gt; MsgEnvelope PsMessage -&gt; P (IEWrappedName GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792320"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2823"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrVarForTyCon"><span class="hs-identifier hs-var">PsErrVarForTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792327"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2824"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">IEWrappedName GhcPs -&gt; P (IEWrappedName GhcPs)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(IEWrappedName GhcPs -&gt; P (IEWrappedName GhcPs))
-&gt; IEWrappedName GhcPs -&gt; P (IEWrappedName GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; IEWrappedName GhcPs
</span><a href="#local-6989586621681792329"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="#local-6989586621681792321"><span class="hs-identifier hs-var">specname</span></a></span><span>
</span><span id="line-2825"></span><span>
</span><span id="line-2826"></span><span>    </span><span id="local-6989586621681792348"><span class="annot"><span class="annottext">ieNameVal :: ImpExpQcSpec -&gt; RdrName
</span><a href="#local-6989586621681792348"><span class="hs-identifier hs-var hs-var">ieNameVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcName"><span class="hs-identifier hs-type">ImpExpQcName</span></a></span><span> </span><span id="local-6989586621681792352"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792352"><span class="hs-identifier hs-var">ln</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792352"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-2827"></span><span>    </span><span class="annot"><a href="#local-6989586621681792348"><span class="hs-identifier hs-var">ieNameVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcType"><span class="hs-identifier hs-type">ImpExpQcType</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681792353"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792353"><span class="hs-identifier hs-var">ln</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792353"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-2828"></span><span>    </span><span class="annot"><a href="#local-6989586621681792348"><span class="hs-identifier hs-var">ieNameVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; RdrName
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ieNameVal got wildcard&quot;</span></span><span>
</span><span id="line-2829"></span><span>
</span><span id="line-2830"></span><span>    </span><span class="annot"><a href="#local-6989586621681792329"><span class="hs-identifier hs-type">ieNameFromSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEWrappedName"><span class="hs-identifier hs-type">IEWrappedName</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2831"></span><span>    </span><span id="local-6989586621681792329"><span class="annot"><span class="annottext">ieNameFromSpec :: ImpExpQcSpec -&gt; IEWrappedName GhcPs
</span><a href="#local-6989586621681792329"><span class="hs-identifier hs-var hs-var">ieNameFromSpec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcName"><span class="hs-identifier hs-type">ImpExpQcName</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792354"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681792354"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681792355"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792355"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XIEName GhcPs -&gt; XRec GhcPs (IdP GhcPs) -&gt; IEWrappedName GhcPs
forall p. XIEName p -&gt; LIdP p -&gt; IEWrappedName p
</span><a href="Language.Haskell.Syntax.ImpExp.html#IEName"><span class="hs-identifier hs-var">IEName</span></a></span><span> </span><span class="annot"><span class="annottext">XIEName GhcPs
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681792354"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792355"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2832"></span><span>    </span><span class="annot"><a href="#local-6989586621681792329"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcType"><span class="hs-identifier hs-type">ImpExpQcType</span></a></span><span> </span><span id="local-6989586621681792357"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681792357"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792358"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681792358"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681792359"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792359"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XIEType GhcPs -&gt; XRec GhcPs (IdP GhcPs) -&gt; IEWrappedName GhcPs
forall p. XIEType p -&gt; LIdP p -&gt; IEWrappedName p
</span><a href="Language.Haskell.Syntax.ImpExp.html#IEType"><span class="hs-identifier hs-var">IEType</span></a></span><span> </span><span class="annot"><span class="annottext">XIEType GhcPs
EpaLocation
</span><a href="#local-6989586621681792357"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681792358"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792359"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2833"></span><span>    </span><span class="annot"><a href="#local-6989586621681792329"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; IEWrappedName GhcPs
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ieName got wildcard&quot;</span></span><span>
</span><span id="line-2834"></span><span>
</span><span id="line-2835"></span><span>    </span><span id="local-6989586621681792337"><span class="annot"><span class="annottext">wrapped :: [LocatedA ImpExpQcSpec]
-&gt; [GenLocated SrcSpanAnnA (IEWrappedName GhcPs)]
</span><a href="#local-6989586621681792337"><span class="hs-identifier hs-var hs-var">wrapped</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LocatedA ImpExpQcSpec
 -&gt; GenLocated SrcSpanAnnA (IEWrappedName GhcPs))
-&gt; [LocatedA ImpExpQcSpec]
-&gt; [GenLocated SrcSpanAnnA (IEWrappedName GhcPs)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ImpExpQcSpec -&gt; IEWrappedName GhcPs)
-&gt; LocatedA ImpExpQcSpec
-&gt; GenLocated SrcSpanAnnA (IEWrappedName GhcPs)
forall a b.
(a -&gt; b) -&gt; GenLocated SrcSpanAnnA a -&gt; GenLocated SrcSpanAnnA b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; IEWrappedName GhcPs
</span><a href="#local-6989586621681792329"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2836"></span><span>
</span><span id="line-2837"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTypeImpExp"><span class="hs-identifier hs-type">mkTypeImpExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>   </span><span class="hs-comment">-- TcCls or Var name space</span><span>
</span><span id="line-2838"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2839"></span><span id="mkTypeImpExp"><span class="annot"><span class="annottext">mkTypeImpExp :: GenLocated SrcSpanAnnN RdrName
-&gt; P (GenLocated SrcSpanAnnN RdrName)
</span><a href="GHC.Parser.PostProcess.html#mkTypeImpExp"><span class="hs-identifier hs-var hs-var">mkTypeImpExp</span></a></span></span><span> </span><span id="local-6989586621681792362"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792362"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2840"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681792363"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792363"><span class="hs-identifier hs-var">allowed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; P Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#ExplicitNamespacesBit"><span class="hs-identifier hs-var">ExplicitNamespacesBit</span></a></span><span>
</span><span id="line-2841"></span><span>     </span><span class="annot"><span class="annottext">Bool -&gt; P () -&gt; P ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/Control.Monad.html#unless/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792363"><span class="hs-identifier hs-var">allowed</span></a></span><span> </span><span class="annot"><span class="annottext">(P () -&gt; P ()) -&gt; P () -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P ()) -&gt; MsgEnvelope PsMessage -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; SrcSpan
forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792362"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2842"></span><span>                                   </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIllegalExplicitNamespace"><span class="hs-identifier hs-var">PsErrIllegalExplicitNamespace</span></a></span><span>
</span><span id="line-2843"></span><span>     </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
-&gt; P (GenLocated SrcSpanAnnN RdrName)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RdrName -&gt; RdrName)
-&gt; GenLocated SrcSpanAnnN RdrName -&gt; GenLocated SrcSpanAnnN RdrName
forall a b.
(a -&gt; b) -&gt; GenLocated SrcSpanAnnN a -&gt; GenLocated SrcSpanAnnN b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-operator hs-var">`setRdrNameSpace`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier hs-var">tcClsName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792362"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2844"></span><span>
</span><span id="line-2845"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkImportSpec"><span class="hs-identifier hs-type">checkImportSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#LIE"><span class="hs-identifier hs-type">LIE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#LIE"><span class="hs-identifier hs-type">LIE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2846"></span><span id="checkImportSpec"><span class="annot"><span class="annottext">checkImportSpec :: LocatedL [LIE GhcPs] -&gt; P (LocatedL [LIE GhcPs])
</span><a href="GHC.Parser.PostProcess.html#checkImportSpec"><span class="hs-identifier hs-var hs-var">checkImportSpec</span></a></span></span><span> </span><span id="local-6989586621681792366"><span class="annot"><span class="annottext">ie :: LocatedL [LIE GhcPs]
</span><a href="#local-6989586621681792366"><span class="hs-identifier hs-var">ie</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnL
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681792367"><span class="annot"><span class="annottext">[LIE GhcPs]
</span><a href="#local-6989586621681792367"><span class="hs-identifier hs-var">specs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2847"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792368"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792368"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792368"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEThingWith"><span class="hs-identifier hs-type">IEThingWith</span></a></span><span> </span><span class="annot"><span class="annottext">XIEThingWith GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LIEWrappedName GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEWildcard"><span class="hs-identifier hs-type">IEWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIEWrappedName GhcPs]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LIE GhcPs]
[GenLocated SrcSpanAnnA (IE GhcPs)]
</span><a href="#local-6989586621681792367"><span class="hs-identifier hs-var">specs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2848"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LocatedL [GenLocated SrcSpanAnnA (IE GhcPs)]
-&gt; P (LocatedL [GenLocated SrcSpanAnnA (IE GhcPs)])
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedL [LIE GhcPs]
LocatedL [GenLocated SrcSpanAnnA (IE GhcPs)]
</span><a href="#local-6989586621681792366"><span class="hs-identifier hs-var">ie</span></a></span><span>
</span><span id="line-2849"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621681792369"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792369"><span class="hs-identifier hs-var">l</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[SrcSpanAnnA]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P (LocatedL [GenLocated SrcSpanAnnA (IE GhcPs)])
forall {m :: * -&gt; *} {a}. MonadP m =&gt; SrcSpan -&gt; m a
</span><a href="#local-6989586621681792370"><span class="hs-identifier hs-var">importSpecError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792369"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2850"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2851"></span><span>    </span><span id="local-6989586621681792370"><span class="annot"><span class="annottext">importSpecError :: SrcSpan -&gt; m a
</span><a href="#local-6989586621681792370"><span class="hs-identifier hs-var hs-var">importSpecError</span></a></span></span><span> </span><span id="local-6989586621681792380"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792380"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2852"></span><span>      </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; m a
forall a. MsgEnvelope PsMessage -&gt; m a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; m a) -&gt; MsgEnvelope PsMessage -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792380"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIllegalImportBundleForm"><span class="hs-identifier hs-var">PsErrIllegalImportBundleForm</span></a></span><span>
</span><span id="line-2853"></span><span>
</span><span id="line-2854"></span><span class="hs-comment">-- In the correct order</span><span>
</span><span id="line-2855"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier hs-type">mkImpExpSubSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpSubSpec"><span class="hs-identifier hs-type">ImpExpSubSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2856"></span><span id="mkImpExpSubSpec"><span class="annot"><span class="annottext">mkImpExpSubSpec :: [LocatedA ImpExpQcSpec] -&gt; P ([AddEpAnn], ImpExpSubSpec)
</span><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier hs-var hs-var">mkImpExpSubSpec</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([AddEpAnn], ImpExpSubSpec) -&gt; P ([AddEpAnn], ImpExpSubSpec)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec] -&gt; ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpList"><span class="hs-identifier hs-var">ImpExpList</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2857"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier hs-var">mkImpExpSubSpec</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792382"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792382"><span class="hs-identifier hs-var">la</span></a></span></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2858"></span><span>  </span><span class="annot"><span class="annottext">([AddEpAnn], ImpExpSubSpec) -&gt; P ([AddEpAnn], ImpExpSubSpec)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">AnnKeywordId -&gt; EpaLocation -&gt; AddEpAnn
</span><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-var">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="GHC.Parser.Annotation.html#AnnDotdot"><span class="hs-identifier hs-var">AnnDotdot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; EpaLocation
forall a. SrcSpanAnn' a -&gt; EpaLocation
</span><a href="GHC.Parser.Annotation.html#la2e"><span class="hs-identifier hs-var">la2e</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792382"><span class="hs-identifier hs-var">la</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpAll"><span class="hs-identifier hs-var">ImpExpAll</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2859"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier hs-var">mkImpExpSubSpec</span></a></span><span> </span><span id="local-6989586621681792385"><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681792385"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2860"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LocatedA ImpExpQcSpec -&gt; Bool) -&gt; [LocatedA ImpExpQcSpec] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#any/Data.Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var">isImpExpQcWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">(ImpExpQcSpec -&gt; Bool)
-&gt; (LocatedA ImpExpQcSpec -&gt; ImpExpQcSpec)
-&gt; LocatedA ImpExpQcSpec
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA ImpExpQcSpec -&gt; ImpExpQcSpec
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681792385"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2861"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">([AddEpAnn], ImpExpSubSpec) -&gt; P ([AddEpAnn], ImpExpSubSpec)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(([AddEpAnn], ImpExpSubSpec) -&gt; P ([AddEpAnn], ImpExpSubSpec))
-&gt; ([AddEpAnn], ImpExpSubSpec) -&gt; P ([AddEpAnn], ImpExpSubSpec)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec] -&gt; ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpAllWith"><span class="hs-identifier hs-var">ImpExpAllWith</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681792385"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2862"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([AddEpAnn], ImpExpSubSpec) -&gt; P ([AddEpAnn], ImpExpSubSpec)
forall a. a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(([AddEpAnn], ImpExpSubSpec) -&gt; P ([AddEpAnn], ImpExpSubSpec))
-&gt; ([AddEpAnn], ImpExpSubSpec) -&gt; P ([AddEpAnn], ImpExpSubSpec)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec] -&gt; ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpList"><span class="hs-identifier hs-var">ImpExpList</span></a></span><span> </span><span class="annot"><span class="annottext">[LocatedA ImpExpQcSpec]
</span><a href="#local-6989586621681792385"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2863"></span><span>
</span><span id="line-2864"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-type">isImpExpQcWildcard</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-2865"></span><span id="isImpExpQcWildcard"><span class="annot"><span class="annottext">isImpExpQcWildcard :: ImpExpQcSpec -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var hs-var">isImpExpQcWildcard</span></a></span></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2866"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var">isImpExpQcWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><span class="hs-identifier">_</span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-2867"></span><span>
</span><span id="line-2868"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2869"></span><span class="hs-comment">-- Warnings and failures</span><span>
</span><span id="line-2870"></span><span>
</span><span id="line-2871"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#warnPrepositiveQualifiedModule"><span class="hs-identifier hs-type">warnPrepositiveQualifiedModule</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2872"></span><span id="warnPrepositiveQualifiedModule"><span class="annot"><span class="annottext">warnPrepositiveQualifiedModule :: SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#warnPrepositiveQualifiedModule"><span class="hs-identifier hs-var hs-var">warnPrepositiveQualifiedModule</span></a></span></span><span> </span><span id="local-6989586621681792387"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792387"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2873"></span><span>  </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; P ()
</span><a href="GHC.Parser.Lexer.html#addPsMessage"><span class="hs-identifier hs-var">addPsMessage</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792387"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsWarnImportPreQualified"><span class="hs-identifier hs-var">PsWarnImportPreQualified</span></a></span><span>
</span><span id="line-2874"></span><span>
</span><span id="line-2875"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#failNotEnabledImportQualifiedPost"><span class="hs-identifier hs-type">failNotEnabledImportQualifiedPost</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2876"></span><span id="failNotEnabledImportQualifiedPost"><span class="annot"><span class="annottext">failNotEnabledImportQualifiedPost :: SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#failNotEnabledImportQualifiedPost"><span class="hs-identifier hs-var hs-var">failNotEnabledImportQualifiedPost</span></a></span></span><span> </span><span id="local-6989586621681792389"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792389"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2877"></span><span>  </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P ()) -&gt; MsgEnvelope PsMessage -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792389"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrImportPostQualified"><span class="hs-identifier hs-var">PsErrImportPostQualified</span></a></span><span>
</span><span id="line-2878"></span><span>
</span><span id="line-2879"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#failImportQualifiedTwice"><span class="hs-identifier hs-type">failImportQualifiedTwice</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2880"></span><span id="failImportQualifiedTwice"><span class="annot"><span class="annottext">failImportQualifiedTwice :: SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#failImportQualifiedTwice"><span class="hs-identifier hs-var hs-var">failImportQualifiedTwice</span></a></span></span><span> </span><span id="local-6989586621681792391"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792391"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2881"></span><span>  </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; P ()) -&gt; MsgEnvelope PsMessage -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792391"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrImportQualifiedTwice"><span class="hs-identifier hs-var">PsErrImportQualifiedTwice</span></a></span><span>
</span><span id="line-2882"></span><span>
</span><span id="line-2883"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#warnStarIsType"><span class="hs-identifier hs-type">warnStarIsType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2884"></span><span id="warnStarIsType"><span class="annot"><span class="annottext">warnStarIsType :: SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#warnStarIsType"><span class="hs-identifier hs-var hs-var">warnStarIsType</span></a></span></span><span> </span><span id="local-6989586621681792393"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792393"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; P ()
</span><a href="GHC.Parser.Lexer.html#addPsMessage"><span class="hs-identifier hs-var">addPsMessage</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792393"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsWarnStarIsType"><span class="hs-identifier hs-var">PsWarnStarIsType</span></a></span><span>
</span><span id="line-2885"></span><span>
</span><span id="line-2886"></span><span id="local-6989586621681788704"><span id="local-6989586621681788705"><span class="annot"><a href="GHC.Parser.PostProcess.html#failOpFewArgs"><span class="hs-identifier hs-type">failOpFewArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#MonadP"><span class="hs-identifier hs-type">MonadP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788704"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681788704"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788705"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-2887"></span><span id="failOpFewArgs"><span class="annot"><span class="annottext">failOpFewArgs :: forall (m :: * -&gt; *) a.
MonadP m =&gt;
GenLocated SrcSpanAnnN RdrName -&gt; m a
</span><a href="GHC.Parser.PostProcess.html#failOpFewArgs"><span class="hs-identifier hs-var hs-var">failOpFewArgs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792401"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681792401"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681792402"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792402"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2888"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621681792403"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792403"><span class="hs-identifier hs-var">star_is_type</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; m Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#StarIsTypeBit"><span class="hs-identifier hs-var">StarIsTypeBit</span></a></span><span>
</span><span id="line-2889"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681792405"><span class="annot"><span class="annottext">is_star_type :: StarIsType
</span><a href="#local-6989586621681792405"><span class="hs-identifier hs-var hs-var">is_star_type</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792403"><span class="hs-identifier hs-var">star_is_type</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">StarIsType
</span><a href="GHC.Types.Hint.html#StarIsType"><span class="hs-identifier hs-var">StarIsType</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">StarIsType
</span><a href="GHC.Types.Hint.html#StarIsNotType"><span class="hs-identifier hs-var">StarIsNotType</span></a></span><span>
</span><span id="line-2890"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; m a
forall a. MsgEnvelope PsMessage -&gt; m a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; m a) -&gt; MsgEnvelope PsMessage -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621681792401"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2891"></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StarIsType -&gt; RdrName -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrOpFewArgs"><span class="hs-identifier hs-var">PsErrOpFewArgs</span></a></span><span> </span><span class="annot"><span class="annottext">StarIsType
</span><a href="#local-6989586621681792405"><span class="hs-identifier hs-var">is_star_type</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621681792402"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2892"></span><span>
</span><span id="line-2893"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2894"></span><span class="hs-comment">-- Misc utils</span><span>
</span><span id="line-2895"></span><span>
</span><span id="line-2896"></span><span class="hs-keyword">data</span><span> </span><span id="PV_Context"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Context"><span class="hs-identifier hs-var">PV_Context</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2897"></span><span>  </span><span id="PV_Context"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Context"><span class="hs-identifier hs-var">PV_Context</span></a></span></span><span>
</span><span id="line-2898"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="pv_options"><span class="annot"><span class="annottext">PV_Context -&gt; ParserOpts
</span><a href="GHC.Parser.PostProcess.html#pv_options"><span class="hs-identifier hs-var hs-var">pv_options</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#ParserOpts"><span class="hs-identifier hs-type">ParserOpts</span></a></span><span>
</span><span id="line-2899"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="pv_details"><span class="annot"><span class="annottext">PV_Context -&gt; ParseContext
</span><a href="GHC.Parser.PostProcess.html#pv_details"><span class="hs-identifier hs-var hs-var">pv_details</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Errors.Types.html#ParseContext"><span class="hs-identifier hs-type">ParseContext</span></a></span><span> </span><span class="hs-comment">-- See Note [Parser-Validator Details]</span><span>
</span><span id="line-2900"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-2901"></span><span>
</span><span id="line-2902"></span><span class="hs-keyword">data</span><span> </span><span id="PV_Accum"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-var">PV_Accum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2903"></span><span>  </span><span id="PV_Accum"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-var">PV_Accum</span></a></span></span><span>
</span><span id="line-2904"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="pv_warnings"><span class="annot"><span class="annottext">PV_Accum -&gt; Messages PsMessage
</span><a href="GHC.Parser.PostProcess.html#pv_warnings"><span class="hs-identifier hs-var hs-var">pv_warnings</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Errors.Types.html#PsMessage"><span class="hs-identifier hs-type">PsMessage</span></a></span><span>
</span><span id="line-2905"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="pv_errors"><span class="annot"><span class="annottext">PV_Accum -&gt; Messages PsMessage
</span><a href="GHC.Parser.PostProcess.html#pv_errors"><span class="hs-identifier hs-var hs-var">pv_errors</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Errors.Types.html#PsMessage"><span class="hs-identifier hs-type">PsMessage</span></a></span><span>
</span><span id="line-2906"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="pv_header_comments"><span class="annot"><span class="annottext">PV_Accum -&gt; Maybe [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_header_comments"><span class="hs-identifier hs-var hs-var">pv_header_comments</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.Strict.html#Maybe"><span class="hs-identifier hs-type">Strict.Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LEpaComment"><span class="hs-identifier hs-type">LEpaComment</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2907"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="pv_comment_q"><span class="annot"><span class="annottext">PV_Accum -&gt; [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var hs-var">pv_comment_q</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LEpaComment"><span class="hs-identifier hs-type">LEpaComment</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2908"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-2909"></span><span>
</span><span id="line-2910"></span><span class="hs-keyword">data</span><span> </span><span id="PV_Result"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Result"><span class="hs-identifier hs-var">PV_Result</span></a></span></span><span> </span><span id="local-6989586621681788755"><span class="annot"><a href="#local-6989586621681788755"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PV_Ok"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-type">PV_Accum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788755"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="PV_Failed"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-var">PV_Failed</span></a></span></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-type">PV_Accum</span></a></span><span>
</span><span id="line-2911"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681792420"><span id="local-6989586621681792426"><span id="local-6989586621681792430"><span id="local-6989586621681792435"><span id="local-6989586621681792437"><span id="local-6989586621681792440"><span id="local-6989586621681792443"><span id="local-6989586621681792446"><span id="local-6989586621681792449"><span id="local-6989586621681792452"><span id="local-6989586621681792455"><span id="local-6989586621681792457"><span id="local-6989586621681792460"><span id="local-6989586621681792465"><span id="local-6989586621681792470"><span id="local-6989586621681792475"><span id="local-6989586621681792480"><span class="annot"><span class="annottext">(forall m. Monoid m =&gt; PV_Result m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; PV_Result a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; PV_Result a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; PV_Result a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; PV_Result a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; PV_Result a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; PV_Result a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; PV_Result a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; PV_Result a -&gt; a)
-&gt; (forall a. PV_Result a -&gt; [a])
-&gt; (forall a. PV_Result a -&gt; Bool)
-&gt; (forall a. PV_Result a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; PV_Result a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; PV_Result a -&gt; a)
-&gt; (forall a. Ord a =&gt; PV_Result a -&gt; a)
-&gt; (forall a. Num a =&gt; PV_Result a -&gt; a)
-&gt; (forall a. Num a =&gt; PV_Result a -&gt; a)
-&gt; Foldable PV_Result
forall a. Eq a =&gt; a -&gt; PV_Result a -&gt; Bool
forall a. Num a =&gt; PV_Result a -&gt; a
forall a. Ord a =&gt; PV_Result a -&gt; a
forall m. Monoid m =&gt; PV_Result m -&gt; m
forall a. PV_Result a -&gt; Bool
forall a. PV_Result a -&gt; Int
forall a. PV_Result a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; PV_Result a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; PV_Result a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; PV_Result a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; PV_Result a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
$cfold :: forall m. Monoid m =&gt; PV_Result m -&gt; m
fold :: forall m. Monoid m =&gt; PV_Result m -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; PV_Result a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; PV_Result a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; PV_Result a -&gt; m
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; PV_Result a -&gt; m
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; PV_Result a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; PV_Result a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; PV_Result a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; PV_Result a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; PV_Result a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; PV_Result a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; PV_Result a -&gt; b
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; PV_Result a -&gt; b
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; PV_Result a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; PV_Result a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; PV_Result a -&gt; a
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; PV_Result a -&gt; a
$ctoList :: forall a. PV_Result a -&gt; [a]
toList :: forall a. PV_Result a -&gt; [a]
$cnull :: forall a. PV_Result a -&gt; Bool
null :: forall a. PV_Result a -&gt; Bool
$clength :: forall a. PV_Result a -&gt; Int
length :: forall a. PV_Result a -&gt; Int
$celem :: forall a. Eq a =&gt; a -&gt; PV_Result a -&gt; Bool
elem :: forall a. Eq a =&gt; a -&gt; PV_Result a -&gt; Bool
$cmaximum :: forall a. Ord a =&gt; PV_Result a -&gt; a
maximum :: forall a. Ord a =&gt; PV_Result a -&gt; a
$cminimum :: forall a. Ord a =&gt; PV_Result a -&gt; a
minimum :: forall a. Ord a =&gt; PV_Result a -&gt; a
$csum :: forall a. Num a =&gt; PV_Result a -&gt; a
sum :: forall a. Num a =&gt; PV_Result a -&gt; a
$cproduct :: forall a. Num a =&gt; PV_Result a -&gt; a
product :: forall a. Num a =&gt; PV_Result a -&gt; a
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#Foldable/Data.Foldable.html#Foldable"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792486"><span id="local-6989586621681792488"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; PV_Result a -&gt; PV_Result b)
-&gt; (forall a b. a -&gt; PV_Result b -&gt; PV_Result a)
-&gt; Functor PV_Result
forall a b. a -&gt; PV_Result b -&gt; PV_Result a
forall a b. (a -&gt; b) -&gt; PV_Result a -&gt; PV_Result b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; PV_Result a -&gt; PV_Result b
fmap :: forall a b. (a -&gt; b) -&gt; PV_Result a -&gt; PV_Result b
$c&lt;$ :: forall a b. a -&gt; PV_Result b -&gt; PV_Result a
&lt;$ :: forall a b. a -&gt; PV_Result b -&gt; PV_Result a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#Functor/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792496"><span id="local-6989586621681792502"><span id="local-6989586621681792508"><span id="local-6989586621681792513"><span class="annot"><span class="annottext">Functor PV_Result
Foldable PV_Result
(Functor PV_Result, Foldable PV_Result) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; PV_Result a -&gt; f (PV_Result b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    PV_Result (f a) -&gt; f (PV_Result a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; PV_Result a -&gt; m (PV_Result b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    PV_Result (m a) -&gt; m (PV_Result a))
-&gt; Traversable PV_Result
forall (t :: * -&gt; *).
(Functor t, Foldable t) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a.
Monad m =&gt;
PV_Result (m a) -&gt; m (PV_Result a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
PV_Result (f a) -&gt; f (PV_Result a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; PV_Result a -&gt; m (PV_Result b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; PV_Result a -&gt; f (PV_Result b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; PV_Result a -&gt; f (PV_Result b)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; PV_Result a -&gt; f (PV_Result b)
$csequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
PV_Result (f a) -&gt; f (PV_Result a)
sequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
PV_Result (f a) -&gt; f (PV_Result a)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; PV_Result a -&gt; m (PV_Result b)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; PV_Result a -&gt; m (PV_Result b)
$csequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
PV_Result (m a) -&gt; m (PV_Result a)
sequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
PV_Result (m a) -&gt; m (PV_Result a)
</span><a href="../../base-4.18.3.0/src/Data.Traversable.html#Traversable/Data.Traversable.html#Traversable"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-2912"></span><span>
</span><span id="line-2913"></span><span class="hs-comment">-- During parsing, we make use of several monadic effects: reporting parse errors,</span><span>
</span><span id="line-2914"></span><span class="hs-comment">-- accumulating warnings, adding API annotations, and checking for extensions. These</span><span>
</span><span id="line-2915"></span><span class="hs-comment">-- effects are captured by the 'MonadP' type class.</span><span>
</span><span id="line-2916"></span><span class="hs-comment">--</span><span>
</span><span id="line-2917"></span><span class="hs-comment">-- Sometimes we need to postpone some of these effects to a later stage due to</span><span>
</span><span id="line-2918"></span><span class="hs-comment">-- ambiguities described in Note [Ambiguous syntactic categories].</span><span>
</span><span id="line-2919"></span><span class="hs-comment">-- We could use two layers of the P monad, one for each stage:</span><span>
</span><span id="line-2920"></span><span class="hs-comment">--</span><span>
</span><span id="line-2921"></span><span class="hs-comment">--   abParser :: forall x. DisambAB x =&gt; P (P x)</span><span>
</span><span id="line-2922"></span><span class="hs-comment">--</span><span>
</span><span id="line-2923"></span><span class="hs-comment">-- The outer layer of P consumes the input and builds the inner layer, which</span><span>
</span><span id="line-2924"></span><span class="hs-comment">-- validates the input. But this type is not particularly helpful, as it obscures</span><span>
</span><span id="line-2925"></span><span class="hs-comment">-- the fact that the inner layer of P never consumes any input.</span><span>
</span><span id="line-2926"></span><span class="hs-comment">--</span><span>
</span><span id="line-2927"></span><span class="hs-comment">-- For clarity, we introduce the notion of a parser-validator: a parser that does</span><span>
</span><span id="line-2928"></span><span class="hs-comment">-- not consume any input, but may fail or use other effects. Thus we have:</span><span>
</span><span id="line-2929"></span><span class="hs-comment">--</span><span>
</span><span id="line-2930"></span><span class="hs-comment">--   abParser :: forall x. DisambAB x =&gt; P (PV x)</span><span>
</span><span id="line-2931"></span><span class="hs-comment">--</span><span>
</span><span id="line-2932"></span><span class="hs-keyword">newtype</span><span> </span><span id="PV"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span></span><span> </span><span id="local-6989586621681788742"><span class="annot"><a href="#local-6989586621681788742"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PV"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unPV"><span class="annot"><span class="annottext">forall a. PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#unPV"><span class="hs-identifier hs-var hs-var">unPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Context"><span class="hs-identifier hs-type">PV_Context</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-type">PV_Accum</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Result"><span class="hs-identifier hs-type">PV_Result</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788742"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2933"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681792521"><span id="local-6989586621681792524"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; PV a -&gt; PV b)
-&gt; (forall a b. a -&gt; PV b -&gt; PV a) -&gt; Functor PV
forall a b. a -&gt; PV b -&gt; PV a
forall a b. (a -&gt; b) -&gt; PV a -&gt; PV b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; PV a -&gt; PV b
fmap :: forall a b. (a -&gt; b) -&gt; PV a -&gt; PV b
$c&lt;$ :: forall a b. a -&gt; PV b -&gt; PV a
&lt;$ :: forall a b. a -&gt; PV b -&gt; PV a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#Functor/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-2934"></span><span>
</span><span id="line-2935"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681792531"><span id="local-6989586621681792534"><span id="local-6989586621681792537"><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#Applicative/GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2936"></span><span>  </span><span id="local-6989586621681792540"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; PV a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#pure/GHC.Base.html#pure"><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></a></span></span><span> </span><span id="local-6989586621681792541"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681792541"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681792541"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; PV a -&gt; PV a
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">PV_Context
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681792542"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792542"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; a -&gt; PV_Result a
forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792542"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681792541"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2937"></span><span>  </span><span id="local-6989586621681792544"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b. PV (a -&gt; b) -&gt; PV a -&gt; PV b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3C%2A%3E/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;*&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (a -&gt; b) -&gt; PV a -&gt; PV b
forall (m :: * -&gt; *) a b. Monad m =&gt; m (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#ap/GHC.Base.html#ap"><span class="hs-identifier hs-var">ap</span></a></span><span>
</span><span id="line-2938"></span><span>
</span><span id="line-2939"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681792550"><span id="local-6989586621681792553"><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#Monad/GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2940"></span><span>  </span><span id="local-6989586621681792556"><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621681792556"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621681792557"><span class="annot"><span class="annottext">&gt;&gt;= :: forall a b. PV a -&gt; (a -&gt; PV b) -&gt; PV b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E%3D/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var hs-var hs-var hs-var">&gt;&gt;=</span></a></span></span><span> </span><span id="local-6989586621681792558"><span class="annot"><span class="annottext">a -&gt; PV b
</span><a href="#local-6989586621681792558"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result b) -&gt; PV b
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">((PV_Context -&gt; PV_Accum -&gt; PV_Result b) -&gt; PV b)
-&gt; (PV_Context -&gt; PV_Accum -&gt; PV_Result b) -&gt; PV b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681792559"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681792559"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621681792560"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792560"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2941"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
forall a. PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#unPV"><span class="hs-identifier hs-var">unPV</span></a></span><span> </span><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621681792556"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681792559"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792560"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2942"></span><span>      </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-type">PV_Ok</span></a></span><span> </span><span id="local-6989586621681792561"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792561"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span id="local-6989586621681792562"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681792562"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PV b -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result b
forall a. PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#unPV"><span class="hs-identifier hs-var">unPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; PV b
</span><a href="#local-6989586621681792558"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681792562"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681792559"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792561"><span class="hs-identifier hs-var">acc'</span></a></span><span>
</span><span id="line-2943"></span><span>      </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-type">PV_Failed</span></a></span><span> </span><span id="local-6989586621681792563"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792563"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; PV_Result b
forall a. PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-var">PV_Failed</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792563"><span class="hs-identifier hs-var">acc'</span></a></span><span>
</span><span id="line-2944"></span><span>
</span><span id="line-2945"></span><span id="local-6989586621681788414"><span class="annot"><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier hs-type">runPV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788414"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788414"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-2946"></span><span id="runPV"><span class="annot"><span class="annottext">runPV :: forall a. PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier hs-var hs-var">runPV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParseContext -&gt; PV a -&gt; P a
forall a. ParseContext -&gt; PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV_details"><span class="hs-identifier hs-var">runPV_details</span></a></span><span> </span><span class="annot"><span class="annottext">ParseContext
</span><a href="GHC.Parser.Errors.Types.html#noParseContext"><span class="hs-identifier hs-var">noParseContext</span></a></span><span>
</span><span id="line-2947"></span><span>
</span><span id="line-2948"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#askParseContext"><span class="hs-identifier hs-type">askParseContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Errors.Types.html#ParseContext"><span class="hs-identifier hs-type">ParseContext</span></a></span><span>
</span><span id="line-2949"></span><span id="askParseContext"><span class="annot"><span class="annottext">askParseContext :: PV ParseContext
</span><a href="GHC.Parser.PostProcess.html#askParseContext"><span class="hs-identifier hs-var hs-var">askParseContext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result ParseContext)
-&gt; PV ParseContext
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">((PV_Context -&gt; PV_Accum -&gt; PV_Result ParseContext)
 -&gt; PV ParseContext)
-&gt; (PV_Context -&gt; PV_Accum -&gt; PV_Result ParseContext)
-&gt; PV ParseContext
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Context"><span class="hs-identifier hs-type">PV_Context</span></a></span><span> </span><span class="annot"><span class="annottext">ParserOpts
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681792564"><span class="annot"><span class="annottext">ParseContext
</span><a href="#local-6989586621681792564"><span class="hs-identifier hs-var">details</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792565"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792565"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; ParseContext -&gt; PV_Result ParseContext
forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792565"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">ParseContext
</span><a href="#local-6989586621681792564"><span class="hs-identifier hs-var">details</span></a></span><span>
</span><span id="line-2950"></span><span>
</span><span id="line-2951"></span><span id="local-6989586621681788416"><span class="annot"><a href="GHC.Parser.PostProcess.html#runPV_details"><span class="hs-identifier hs-type">runPV_details</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Errors.Types.html#ParseContext"><span class="hs-identifier hs-type">ParseContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788416"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681788416"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-2952"></span><span id="runPV_details"><span class="annot"><span class="annottext">runPV_details :: forall a. ParseContext -&gt; PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV_details"><span class="hs-identifier hs-var hs-var">runPV_details</span></a></span></span><span> </span><span id="local-6989586621681792566"><span class="annot"><span class="annottext">ParseContext
</span><a href="#local-6989586621681792566"><span class="hs-identifier hs-var">details</span></a></span></span><span> </span><span id="local-6989586621681792567"><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621681792567"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2953"></span><span>  </span><span class="annot"><span class="annottext">(PState -&gt; ParseResult a) -&gt; P a
forall a. (PState -&gt; ParseResult a) -&gt; P a
</span><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-var">P</span></a></span><span> </span><span class="annot"><span class="annottext">((PState -&gt; ParseResult a) -&gt; P a)
-&gt; (PState -&gt; ParseResult a) -&gt; P a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681792569"><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621681792569"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2954"></span><span>    </span><span class="hs-keyword">let</span><span>
</span><span id="line-2955"></span><span>      </span><span id="local-6989586621681792570"><span class="annot"><span class="annottext">pv_ctx :: PV_Context
</span><a href="#local-6989586621681792570"><span class="hs-identifier hs-var hs-var">pv_ctx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Context"><span class="hs-identifier hs-type">PV_Context</span></a></span><span>
</span><span id="line-2956"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pv_options :: ParserOpts
</span><a href="GHC.Parser.PostProcess.html#pv_options"><span class="hs-identifier hs-var">pv_options</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; ParserOpts
</span><a href="GHC.Parser.Lexer.html#options"><span class="hs-identifier hs-var">options</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621681792569"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2957"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pv_details :: ParseContext
</span><a href="GHC.Parser.PostProcess.html#pv_details"><span class="hs-identifier hs-var">pv_details</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParseContext
</span><a href="#local-6989586621681792566"><span class="hs-identifier hs-var">details</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2958"></span><span>      </span><span id="local-6989586621681792572"><span class="annot"><span class="annottext">pv_acc :: PV_Accum
</span><a href="#local-6989586621681792572"><span class="hs-identifier hs-var hs-var">pv_acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-type">PV_Accum</span></a></span><span>
</span><span id="line-2959"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pv_warnings :: Messages PsMessage
</span><a href="GHC.Parser.PostProcess.html#pv_warnings"><span class="hs-identifier hs-var">pv_warnings</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; Messages PsMessage
</span><a href="GHC.Parser.Lexer.html#warnings"><span class="hs-identifier hs-var">warnings</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621681792569"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2960"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pv_errors :: Messages PsMessage
</span><a href="GHC.Parser.PostProcess.html#pv_errors"><span class="hs-identifier hs-var">pv_errors</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; Messages PsMessage
</span><a href="GHC.Parser.Lexer.html#errors"><span class="hs-identifier hs-var">errors</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621681792569"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2961"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pv_header_comments :: Maybe [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_header_comments"><span class="hs-identifier hs-var">pv_header_comments</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; Maybe [LEpaComment]
</span><a href="GHC.Parser.Lexer.html#header_comments"><span class="hs-identifier hs-var">header_comments</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621681792569"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2962"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pv_comment_q :: [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; [LEpaComment]
</span><a href="GHC.Parser.Lexer.html#comment_q"><span class="hs-identifier hs-var">comment_q</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621681792569"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2963"></span><span>      </span><span id="local-6989586621681792577"><span class="annot"><span class="annottext">mkPState :: PV_Accum -&gt; PState
</span><a href="#local-6989586621681792577"><span class="hs-identifier hs-var hs-var">mkPState</span></a></span></span><span> </span><span id="local-6989586621681792578"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792578"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2964"></span><span>        </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621681792569"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#warnings"><span class="hs-identifier hs-var">warnings</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#pv_warnings"><span class="hs-identifier hs-var">pv_warnings</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681792578"><span class="hs-identifier hs-type">acc'</span></a></span><span>
</span><span id="line-2965"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#errors"><span class="hs-identifier hs-var">errors</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#pv_errors"><span class="hs-identifier hs-var">pv_errors</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681792578"><span class="hs-identifier hs-type">acc'</span></a></span><span>
</span><span id="line-2966"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#comment_q"><span class="hs-identifier hs-var">comment_q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681792578"><span class="hs-identifier hs-type">acc'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2967"></span><span>    </span><span class="hs-keyword">in</span><span>
</span><span id="line-2968"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
forall a. PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#unPV"><span class="hs-identifier hs-var">unPV</span></a></span><span> </span><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621681792567"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681792570"><span class="hs-identifier hs-var">pv_ctx</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792572"><span class="hs-identifier hs-var">pv_acc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2969"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-type">PV_Ok</span></a></span><span> </span><span id="local-6989586621681792579"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792579"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span id="local-6989586621681792580"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681792580"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PState -&gt; a -&gt; ParseResult a
forall a. PState -&gt; a -&gt; ParseResult a
</span><a href="GHC.Parser.Lexer.html#POk"><span class="hs-identifier hs-var">POk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; PState
</span><a href="#local-6989586621681792577"><span class="hs-identifier hs-var">mkPState</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792579"><span class="hs-identifier hs-var">acc'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681792580"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-2970"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-type">PV_Failed</span></a></span><span> </span><span id="local-6989586621681792582"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792582"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PState -&gt; ParseResult a
forall a. PState -&gt; ParseResult a
</span><a href="GHC.Parser.Lexer.html#PFailed"><span class="hs-identifier hs-var">PFailed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; PState
</span><a href="#local-6989586621681792577"><span class="hs-identifier hs-var">mkPState</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792582"><span class="hs-identifier hs-var">acc'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2971"></span><span>
</span><span id="line-2972"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#MonadP"><span class="hs-identifier hs-type">MonadP</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2973"></span><span>  </span><span id="local-6989586621681792594"><span class="annot"><span class="annottext">addError :: MsgEnvelope PsMessage -&gt; PV ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var hs-var hs-var hs-var">addError</span></a></span></span><span> </span><span id="local-6989586621681792595"><span class="annot"><span class="annottext">MsgEnvelope PsMessage
</span><a href="#local-6989586621681792595"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2974"></span><span>    </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ()
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">((PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ())
-&gt; (PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681792596"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681792596"><span class="hs-identifier hs-var">_ctx</span></a></span></span><span> </span><span id="local-6989586621681792597"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792597"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; () -&gt; PV_Result ()
forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792597"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">{</span><span class="annot"><a href="GHC.Parser.PostProcess.html#pv_errors"><span class="hs-identifier hs-var">pv_errors</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681792595"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#addMessage"><span class="hs-operator hs-type">`addMessage`</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#pv_errors"><span class="hs-identifier hs-var">pv_errors</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681792597"><span class="hs-identifier hs-type">acc</span></a></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2975"></span><span>  </span><span id="local-6989586621681792599"><span class="annot"><span class="annottext">addWarning :: MsgEnvelope PsMessage -&gt; PV ()
</span><a href="#local-6989586621681792599"><span class="hs-identifier hs-var hs-var hs-var hs-var">addWarning</span></a></span></span><span> </span><span id="local-6989586621681792601"><span class="annot"><span class="annottext">MsgEnvelope PsMessage
</span><a href="#local-6989586621681792601"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2976"></span><span>    </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ()
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">((PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ())
-&gt; (PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681792602"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681792602"><span class="hs-identifier hs-var">_ctx</span></a></span></span><span> </span><span id="local-6989586621681792603"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792603"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2977"></span><span>      </span><span class="hs-comment">-- No need to check for the warning flag to be set, GHC will correctly discard suppressed</span><span>
</span><span id="line-2978"></span><span>      </span><span class="hs-comment">-- diagnostics.</span><span>
</span><span id="line-2979"></span><span>      </span><span class="annot"><span class="annottext">PV_Accum -&gt; () -&gt; PV_Result ()
forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792603"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">{</span><span class="annot"><a href="GHC.Parser.PostProcess.html#pv_warnings"><span class="hs-identifier hs-var">pv_warnings</span></a></span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681792601"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#addMessage"><span class="hs-operator hs-type">`addMessage`</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#pv_warnings"><span class="hs-identifier hs-var">pv_warnings</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681792603"><span class="hs-identifier hs-type">acc</span></a></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2980"></span><span>  </span><span id="local-6989586621681792606"><span class="annot"><span class="annottext">addFatalError :: forall a. MsgEnvelope PsMessage -&gt; PV a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var hs-var hs-var hs-var">addFatalError</span></a></span></span><span> </span><span id="local-6989586621681792607"><span class="annot"><span class="annottext">MsgEnvelope PsMessage
</span><a href="#local-6989586621681792607"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2981"></span><span>    </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage
</span><a href="#local-6989586621681792607"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="annot"><span class="annottext">PV () -&gt; PV a -&gt; PV a
forall a b. PV a -&gt; PV b -&gt; PV b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%3E%3E/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PV_Accum -&gt; PV_Result a) -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#const/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; PV_Result a
forall a. PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-var">PV_Failed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2982"></span><span>  </span><span id="local-6989586621681792609"><span class="annot"><span class="annottext">getBit :: ExtBits -&gt; PV Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var hs-var hs-var hs-var">getBit</span></a></span></span><span> </span><span id="local-6989586621681792610"><span class="annot"><span class="annottext">ExtBits
</span><a href="#local-6989586621681792610"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2983"></span><span>    </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result Bool) -&gt; PV Bool
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">((PV_Context -&gt; PV_Accum -&gt; PV_Result Bool) -&gt; PV Bool)
-&gt; (PV_Context -&gt; PV_Accum -&gt; PV_Result Bool) -&gt; PV Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681792611"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681792611"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621681792612"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792612"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2984"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681792613"><span class="annot"><span class="annottext">b :: Bool
</span><a href="#local-6989586621681792613"><span class="hs-identifier hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="#local-6989586621681792610"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; ExtsBitmap -&gt; Bool
</span><a href="GHC.Parser.Lexer.html#xtest"><span class="hs-operator hs-var">`xtest`</span></a></span><span> </span><span class="annot"><span class="annottext">ParserOpts -&gt; ExtsBitmap
</span><a href="GHC.Parser.Lexer.html#pExtsBitmap"><span class="hs-identifier hs-var">pExtsBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Context -&gt; ParserOpts
</span><a href="GHC.Parser.PostProcess.html#pv_options"><span class="hs-identifier hs-var">pv_options</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621681792611"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-2985"></span><span>      </span><span class="annot"><span class="annottext">PV_Accum -&gt; Bool -&gt; PV_Result Bool
forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792612"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; PV_Result Bool) -&gt; Bool -&gt; PV_Result Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24%21/GHC.Base.html#%24%21"><span class="hs-operator hs-var">$!</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792613"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-2986"></span><span>  </span><span id="local-6989586621681792617"><span class="annot"><span class="annottext">allocateCommentsP :: RealSrcSpan -&gt; PV EpAnnComments
</span><a href="#local-6989586621681792617"><span class="hs-identifier hs-var hs-var hs-var hs-var">allocateCommentsP</span></a></span></span><span> </span><span id="local-6989586621681792619"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681792619"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result EpAnnComments)
-&gt; PV EpAnnComments
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">((PV_Context -&gt; PV_Accum -&gt; PV_Result EpAnnComments)
 -&gt; PV EpAnnComments)
-&gt; (PV_Context -&gt; PV_Accum -&gt; PV_Result EpAnnComments)
-&gt; PV EpAnnComments
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">PV_Context
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681792620"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792620"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2987"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681792621"><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681792621"><span class="hs-identifier hs-var">comment_q'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792622"><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681792622"><span class="hs-identifier hs-var">newAnns</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; [LEpaComment] -&gt; ([LEpaComment], [LEpaComment])
</span><a href="GHC.Parser.Lexer.html#allocateComments"><span class="hs-identifier hs-var">allocateComments</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681792619"><span class="hs-identifier hs-var">ss</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792620"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-2988"></span><span>      </span><span class="annot"><span class="annottext">PV_Accum -&gt; EpAnnComments -&gt; PV_Result EpAnnComments
forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792620"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-2989"></span><span>         </span><span class="annot"><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681792621"><span class="hs-identifier hs-type">comment_q'</span></a></span><span>
</span><span id="line-2990"></span><span>       </span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LEpaComment] -&gt; EpAnnComments
</span><a href="GHC.Parser.Annotation.html#EpaComments"><span class="hs-identifier hs-var">EpaComments</span></a></span><span> </span><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681792622"><span class="hs-identifier hs-var">newAnns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2991"></span><span>  </span><span id="local-6989586621681792625"><span class="annot"><span class="annottext">allocatePriorCommentsP :: RealSrcSpan -&gt; PV EpAnnComments
</span><a href="#local-6989586621681792625"><span class="hs-identifier hs-var hs-var hs-var hs-var">allocatePriorCommentsP</span></a></span></span><span> </span><span id="local-6989586621681792627"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681792627"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result EpAnnComments)
-&gt; PV EpAnnComments
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">((PV_Context -&gt; PV_Accum -&gt; PV_Result EpAnnComments)
 -&gt; PV EpAnnComments)
-&gt; (PV_Context -&gt; PV_Accum -&gt; PV_Result EpAnnComments)
-&gt; PV EpAnnComments
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">PV_Context
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681792628"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792628"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2992"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681792629"><span class="annot"><span class="annottext">Maybe [LEpaComment]
</span><a href="#local-6989586621681792629"><span class="hs-identifier hs-var">header_comments'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792630"><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681792630"><span class="hs-identifier hs-var">comment_q'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792631"><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681792631"><span class="hs-identifier hs-var">newAnns</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2993"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
-&gt; [LEpaComment]
-&gt; Maybe [LEpaComment]
-&gt; (Maybe [LEpaComment], [LEpaComment], [LEpaComment])
</span><a href="GHC.Parser.Lexer.html#allocatePriorComments"><span class="hs-identifier hs-var">allocatePriorComments</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681792627"><span class="hs-identifier hs-var">ss</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792628"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; Maybe [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_header_comments"><span class="hs-identifier hs-var">pv_header_comments</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792628"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-2994"></span><span>      </span><span class="annot"><span class="annottext">PV_Accum -&gt; EpAnnComments -&gt; PV_Result EpAnnComments
forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792628"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-2995"></span><span>         </span><span class="annot"><a href="GHC.Parser.PostProcess.html#pv_header_comments"><span class="hs-identifier hs-var">pv_header_comments</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681792629"><span class="hs-identifier hs-type">header_comments'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-2996"></span><span>         </span><span class="annot"><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681792630"><span class="hs-identifier hs-type">comment_q'</span></a></span><span>
</span><span id="line-2997"></span><span>       </span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LEpaComment] -&gt; EpAnnComments
</span><a href="GHC.Parser.Annotation.html#EpaComments"><span class="hs-identifier hs-var">EpaComments</span></a></span><span> </span><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681792631"><span class="hs-identifier hs-var">newAnns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2998"></span><span>  </span><span id="local-6989586621681792633"><span class="annot"><span class="annottext">allocateFinalCommentsP :: RealSrcSpan -&gt; PV EpAnnComments
</span><a href="#local-6989586621681792633"><span class="hs-identifier hs-var hs-var hs-var hs-var">allocateFinalCommentsP</span></a></span></span><span> </span><span id="local-6989586621681792635"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681792635"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result EpAnnComments)
-&gt; PV EpAnnComments
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">((PV_Context -&gt; PV_Accum -&gt; PV_Result EpAnnComments)
 -&gt; PV EpAnnComments)
-&gt; (PV_Context -&gt; PV_Accum -&gt; PV_Result EpAnnComments)
-&gt; PV EpAnnComments
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">PV_Context
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681792636"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792636"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2999"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681792637"><span class="annot"><span class="annottext">Maybe [LEpaComment]
</span><a href="#local-6989586621681792637"><span class="hs-identifier hs-var">header_comments'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792638"><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681792638"><span class="hs-identifier hs-var">comment_q'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681792639"><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681792639"><span class="hs-identifier hs-var">newAnns</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-3000"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
-&gt; [LEpaComment]
-&gt; Maybe [LEpaComment]
-&gt; (Maybe [LEpaComment], [LEpaComment], [LEpaComment])
</span><a href="GHC.Parser.Lexer.html#allocateFinalComments"><span class="hs-identifier hs-var">allocateFinalComments</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681792635"><span class="hs-identifier hs-var">ss</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792636"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; Maybe [LEpaComment]
</span><a href="GHC.Parser.PostProcess.html#pv_header_comments"><span class="hs-identifier hs-var">pv_header_comments</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792636"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-3001"></span><span>      </span><span class="annot"><span class="annottext">PV_Accum -&gt; EpAnnComments -&gt; PV_Result EpAnnComments
forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621681792636"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-3002"></span><span>         </span><span class="annot"><a href="GHC.Parser.PostProcess.html#pv_header_comments"><span class="hs-identifier hs-var">pv_header_comments</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681792637"><span class="hs-identifier hs-type">header_comments'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-3003"></span><span>         </span><span class="annot"><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621681792638"><span class="hs-identifier hs-type">comment_q'</span></a></span><span>
</span><span id="line-3004"></span><span>       </span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LEpaComment] -&gt; [LEpaComment] -&gt; EpAnnComments
</span><a href="GHC.Parser.Annotation.html#EpaCommentsBalanced"><span class="hs-identifier hs-var">EpaCommentsBalanced</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LEpaComment] -&gt; Maybe [LEpaComment] -&gt; [LEpaComment]
forall a. a -&gt; Maybe a -&gt; a
</span><a href="GHC.Data.Strict.html#fromMaybe"><span class="hs-identifier hs-var">Strict.fromMaybe</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Maybe [LEpaComment]
</span><a href="#local-6989586621681792637"><span class="hs-identifier hs-var">header_comments'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LEpaComment]
</span><a href="#local-6989586621681792639"><span class="hs-identifier hs-var">newAnns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3005"></span><span>
</span><span id="line-3006"></span><span class="hs-comment">{- Note [Parser-Validator Details]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
A PV computation is parameterized by some 'ParseContext' for diagnostic messages, which can be set
depending on validation context. We use this in checkPattern to fix #984.

Consider this example, where the user has forgotten a 'do':

  f _ = do
    x &lt;- computation
    case () of
      _ -&gt;
        result &lt;- computation
        case () of () -&gt; undefined

GHC parses it as follows:

  f _ = do
    x &lt;- computation
    (case () of
      _ -&gt;
        result) &lt;- computation
        case () of () -&gt; undefined

Note that this fragment is parsed as a pattern:

  case () of
    _ -&gt;
      result

We attempt to detect such cases and add a hint to the diagnostic messages:

  T984.hs:6:9:
    Parse error in pattern: case () of { _ -&gt; result }
    Possibly caused by a missing 'do'?

The &quot;Possibly caused by a missing 'do'?&quot; suggestion is the hint that is computed
out of the 'ParseContext', which are read by functions like 'patFail' when
constructing the 'PsParseErrorInPatDetails' data structure. When validating in a
context other than 'bindpat' (a pattern to the left of &lt;-), we set the
details to 'noParseContext' and it has no effect on the diagnostic messages.

-}</span><span>
</span><span id="line-3048"></span><span>
</span><span id="line-3049"></span><span class="annot"><span class="hs-comment">-- | Hint about bang patterns, assuming @BangPatterns@ is off.</span></span><span>
</span><span id="line-3050"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#hintBangPat"><span class="hs-identifier hs-type">hintBangPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3051"></span><span id="hintBangPat"><span class="annot"><span class="annottext">hintBangPat :: SrcSpan -&gt; Pat GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#hintBangPat"><span class="hs-identifier hs-var hs-var">hintBangPat</span></a></span></span><span> </span><span id="local-6989586621681792643"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792643"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span id="local-6989586621681792644"><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681792644"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3052"></span><span>    </span><span id="local-6989586621681792645"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792645"><span class="hs-identifier hs-var">bang_on</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; PV Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#BangPatBit"><span class="hs-identifier hs-var">BangPatBit</span></a></span><span>
</span><span id="line-3053"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; PV () -&gt; PV ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base-4.18.3.0/src/Control.Monad.html#unless/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792645"><span class="hs-identifier hs-var">bang_on</span></a></span><span> </span><span class="annot"><span class="annottext">(PV () -&gt; PV ()) -&gt; PV () -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-3054"></span><span>      </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; MsgEnvelope PsMessage -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV ()) -&gt; MsgEnvelope PsMessage -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792643"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrIllegalBangPattern"><span class="hs-identifier hs-var">PsErrIllegalBangPattern</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621681792644"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-3055"></span><span>
</span><span id="line-3056"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-type">mkSumOrTupleExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#SumOrTuple"><span class="hs-identifier hs-type">SumOrTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3057"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3058"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3059"></span><span>
</span><span id="line-3060"></span><span class="hs-comment">-- Tuple</span><span>
</span><span id="line-3061"></span><span id="mkSumOrTupleExpr"><span class="annot"><span class="annottext">mkSumOrTupleExpr :: SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (HsExpr GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-var hs-var">mkSumOrTupleExpr</span></a></span></span><span> </span><span id="local-6989586621681792648"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792648"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681792649"><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621681792649"><span class="hs-identifier hs-var">boxity</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#Tuple"><span class="hs-identifier hs-type">Tuple</span></a></span><span> </span><span id="local-6989586621681792651"><span class="annot"><span class="annottext">[Either
   (EpAnn EpaLocation) (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
</span><a href="#local-6989586621681792651"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792652"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681792652"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3062"></span><span>    </span><span id="local-6989586621681792653"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681792653"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792648"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3063"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792648"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XExplicitTuple GhcPs -&gt; [HsTupArg GhcPs] -&gt; Boxity -&gt; HsExpr GhcPs
forall p. XExplicitTuple p -&gt; [HsTupArg p] -&gt; Boxity -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#ExplicitTuple"><span class="hs-identifier hs-var">ExplicitTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; Anchor) -&gt; SrcSpan -&gt; Anchor
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792648"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681792652"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681792653"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Either (EpAnn EpaLocation) (GenLocated SrcSpanAnnA (HsExpr GhcPs))
 -&gt; HsTupArg GhcPs)
-&gt; [Either
      (EpAnn EpaLocation) (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
-&gt; [HsTupArg GhcPs]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Either (EpAnn EpaLocation) (LHsExpr GhcPs) -&gt; HsTupArg GhcPs
Either (EpAnn EpaLocation) (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; HsTupArg GhcPs
</span><a href="#local-6989586621681792655"><span class="hs-identifier hs-var">toTupArg</span></a></span><span> </span><span class="annot"><span class="annottext">[Either
   (EpAnn EpaLocation) (GenLocated SrcSpanAnnA (HsExpr GhcPs))]
</span><a href="#local-6989586621681792651"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621681792649"><span class="hs-identifier hs-var">boxity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3064"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3065"></span><span>    </span><span class="annot"><a href="#local-6989586621681792655"><span class="hs-identifier hs-type">toTupArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Either.html#Either/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaLocation"><span class="hs-identifier hs-type">EpaLocation</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsTupArg"><span class="hs-identifier hs-type">HsTupArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-3066"></span><span>    </span><span id="local-6989586621681792655"><span class="annot"><span class="annottext">toTupArg :: Either (EpAnn EpaLocation) (LHsExpr GhcPs) -&gt; HsTupArg GhcPs
</span><a href="#local-6989586621681792655"><span class="hs-identifier hs-var hs-var">toTupArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Either.html#Left/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621681792656"><span class="annot"><span class="annottext">EpAnn EpaLocation
</span><a href="#local-6989586621681792656"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpAnn EpaLocation -&gt; HsTupArg GhcPs
</span><a href="GHC.Hs.Utils.html#missingTupArg"><span class="hs-identifier hs-var">missingTupArg</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn EpaLocation
</span><a href="#local-6989586621681792656"><span class="hs-identifier hs-var">ann</span></a></span><span>
</span><span id="line-3067"></span><span>    </span><span class="annot"><a href="#local-6989586621681792655"><span class="hs-identifier hs-var">toTupArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Either.html#Right/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621681792658"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681792658"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XPresent GhcPs -&gt; LHsExpr GhcPs -&gt; HsTupArg GhcPs
forall id. XPresent id -&gt; LHsExpr id -&gt; HsTupArg id
</span><a href="Language.Haskell.Syntax.Expr.html#Present"><span class="hs-identifier hs-var">Present</span></a></span><span> </span><span class="annot"><span class="annottext">XPresent GhcPs
EpAnn [AddEpAnn]
forall a. EpAnn a
</span><a href="GHC.Parser.Annotation.html#noAnn"><span class="hs-identifier hs-var">noAnn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681792658"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-3068"></span><span>
</span><span id="line-3069"></span><span class="hs-comment">-- Sum</span><span>
</span><span id="line-3070"></span><span class="hs-comment">-- mkSumOrTupleExpr l Unboxed (Sum alt arity e) =</span><span>
</span><span id="line-3071"></span><span class="hs-comment">--     return $ L l (ExplicitSum noExtField alt arity e)</span><span>
</span><span id="line-3072"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-var">mkSumOrTupleExpr</span></a></span><span> </span><span id="local-6989586621681792660"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792660"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#Sum"><span class="hs-identifier hs-type">Sum</span></a></span><span> </span><span id="local-6989586621681792663"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681792663"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span id="local-6989586621681792664"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681792664"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span id="local-6989586621681792665"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681792665"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621681792666"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681792666"><span class="hs-identifier hs-var">barsp</span></a></span></span><span> </span><span id="local-6989586621681792667"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681792667"><span class="hs-identifier hs-var">barsa</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792668"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681792668"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3073"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681792669"><span class="annot"><span class="annottext">an :: AnnExplicitSum
</span><a href="#local-6989586621681792669"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681792668"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-3074"></span><span>               </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="GHC.Parser.Annotation.html#AnnOpenPH"><span class="hs-identifier hs-var">AnnOpenPH</span></a></span><span> </span><span id="local-6989586621681792671"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681792671"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="GHC.Parser.Annotation.html#AnnClosePH"><span class="hs-identifier hs-var">AnnClosePH</span></a></span><span> </span><span id="local-6989586621681792673"><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681792673"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-3075"></span><span>                 </span><span class="annot"><span class="annottext">EpaLocation
-&gt; [EpaLocation] -&gt; [EpaLocation] -&gt; EpaLocation -&gt; AnnExplicitSum
</span><a href="GHC.Hs.Expr.html#AnnExplicitSum"><span class="hs-identifier hs-var">AnnExplicitSum</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681792671"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681792666"><span class="hs-identifier hs-var">barsp</span></a></span><span> </span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681792667"><span class="hs-identifier hs-var">barsa</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><a href="#local-6989586621681792673"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-3076"></span><span>               </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; AnnExplicitSum
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkSumOrTupleExpr&quot;</span></span><span>
</span><span id="line-3077"></span><span>    </span><span id="local-6989586621681792675"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681792675"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792660"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3078"></span><span>    </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcPs)
 -&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
-&gt; PV (GenLocated SrcSpanAnnA (HsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792660"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XExplicitSum GhcPs -&gt; Int -&gt; Int -&gt; LHsExpr GhcPs -&gt; HsExpr GhcPs
forall p. XExplicitSum p -&gt; Int -&gt; Int -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#ExplicitSum"><span class="hs-identifier hs-var">ExplicitSum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; AnnExplicitSum -&gt; EpAnnComments -&gt; EpAnn AnnExplicitSum
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; Anchor) -&gt; SrcSpan -&gt; Anchor
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792660"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnExplicitSum
</span><a href="#local-6989586621681792669"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681792675"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681792663"><span class="hs-identifier hs-var">alt</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681792664"><span class="hs-identifier hs-var">arity</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681792665"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3079"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-var">mkSumOrTupleExpr</span></a></span><span> </span><span id="local-6989586621681792677"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792677"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span id="local-6989586621681792678"><span class="annot"><span class="annottext">a :: SumOrTuple (HsExpr GhcPs)
</span><a href="#local-6989586621681792678"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.Parser.Types.html#Sum"><span class="hs-identifier hs-type">Sum</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3080"></span><span>    </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (LHsExpr GhcPs)
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (LHsExpr GhcPs))
-&gt; MsgEnvelope PsMessage -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792677"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SumOrTuple (HsExpr GhcPs) -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrUnsupportedBoxedSumExpr"><span class="hs-identifier hs-var">PsErrUnsupportedBoxedSumExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SumOrTuple (HsExpr GhcPs)
</span><a href="#local-6989586621681792678"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-3081"></span><span>
</span><span id="line-3082"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-type">mkSumOrTuplePat</span></a></span><span>
</span><span id="line-3083"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Types.html#SumOrTuple"><span class="hs-identifier hs-type">SumOrTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3084"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3085"></span><span>
</span><span id="line-3086"></span><span class="hs-comment">-- Tuple</span><span>
</span><span id="line-3087"></span><span id="mkSumOrTuplePat"><span class="annot"><span class="annottext">mkSumOrTuplePat :: SrcSpanAnnA
-&gt; Boxity
-&gt; SumOrTuple (PatBuilder GhcPs)
-&gt; [AddEpAnn]
-&gt; PV (LocatedA (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-var hs-var">mkSumOrTuplePat</span></a></span></span><span> </span><span id="local-6989586621681792680"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792680"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681792681"><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621681792681"><span class="hs-identifier hs-var">boxity</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#Tuple"><span class="hs-identifier hs-type">Tuple</span></a></span><span> </span><span id="local-6989586621681792682"><span class="annot"><span class="annottext">[Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))]
</span><a href="#local-6989586621681792682"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792683"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681792683"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3088"></span><span>  </span><span id="local-6989586621681792684"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681792684"><span class="hs-identifier hs-var">ps'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))
 -&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs)))
-&gt; [Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))]
-&gt; PV [GenLocated SrcSpanAnnA (Pat GhcPs)]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><a href="../../base-4.18.3.0/src/Data.Traversable.html#traverse/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))
-&gt; PV (LPat GhcPs)
Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))
-&gt; PV (GenLocated SrcSpanAnnA (Pat GhcPs))
</span><a href="#local-6989586621681792685"><span class="hs-identifier hs-var">toTupPat</span></a></span><span> </span><span class="annot"><span class="annottext">[Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))]
</span><a href="#local-6989586621681792682"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-3089"></span><span>  </span><span id="local-6989586621681792686"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681792686"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792680"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3090"></span><span>  </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792680"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XTuplePat GhcPs -&gt; [LPat GhcPs] -&gt; Boxity -&gt; Pat GhcPs
forall p. XTuplePat p -&gt; [LPat p] -&gt; Boxity -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#TuplePat"><span class="hs-identifier hs-var">TuplePat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Anchor -&gt; [AddEpAnn] -&gt; EpAnnComments -&gt; EpAnn [AddEpAnn]
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; Anchor) -&gt; SrcSpan -&gt; Anchor
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792680"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681792683"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681792686"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
[GenLocated SrcSpanAnnA (Pat GhcPs)]
</span><a href="#local-6989586621681792684"><span class="hs-identifier hs-var">ps'</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621681792681"><span class="hs-identifier hs-var">boxity</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3091"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3092"></span><span>    </span><span class="annot"><a href="#local-6989586621681792685"><span class="hs-identifier hs-type">toTupPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Either.html#Either/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaLocation"><span class="hs-identifier hs-type">EpaLocation</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3093"></span><span>    </span><span class="hs-comment">-- Ignore the element location so that the error message refers to the</span><span>
</span><span id="line-3094"></span><span>    </span><span class="hs-comment">-- entire tuple. See #19504 (and the discussion) for details.</span><span>
</span><span id="line-3095"></span><span>    </span><span id="local-6989586621681792685"><span class="annot"><span class="annottext">toTupPat :: Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))
-&gt; PV (LPat GhcPs)
</span><a href="#local-6989586621681792685"><span class="hs-identifier hs-var hs-var">toTupPat</span></a></span></span><span> </span><span id="local-6989586621681792688"><span class="annot"><span class="annottext">Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681792688"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either (EpAnn EpaLocation) (LocatedA (PatBuilder GhcPs))
</span><a href="#local-6989586621681792688"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-3096"></span><span>      </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Either.html#Left/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn EpaLocation
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (LPat GhcPs)
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (LPat GhcPs))
-&gt; MsgEnvelope PsMessage -&gt; PV (LPat GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-3097"></span><span>                  </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792680"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrTupleSectionInPat"><span class="hs-identifier hs-var">PsErrTupleSectionInPat</span></a></span><span>
</span><span id="line-3098"></span><span>      </span><span class="annot"><a href="../../base-4.18.3.0/src/Data.Either.html#Right/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621681792690"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681792690"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681792690"><span class="hs-identifier hs-var">p'</span></a></span><span>
</span><span id="line-3099"></span><span>
</span><span id="line-3100"></span><span class="hs-comment">-- Sum</span><span>
</span><span id="line-3101"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-var">mkSumOrTuplePat</span></a></span><span> </span><span id="local-6989586621681792691"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792691"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Types.html#Sum"><span class="hs-identifier hs-type">Sum</span></a></span><span> </span><span id="local-6989586621681792692"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681792692"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span id="local-6989586621681792693"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681792693"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span id="local-6989586621681792694"><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681792694"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621681792695"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681792695"><span class="hs-identifier hs-var">barsb</span></a></span></span><span> </span><span id="local-6989586621681792696"><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681792696"><span class="hs-identifier hs-var">barsa</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792697"><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681792697"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3102"></span><span>   </span><span id="local-6989586621681792698"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681792698"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs)
</span><a href="#local-6989586621681792694"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-3103"></span><span>   </span><span id="local-6989586621681792699"><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681792699"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PV EpAnnComments
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; m EpAnnComments
</span><a href="GHC.Parser.Lexer.html#getCommentsFor"><span class="hs-identifier hs-var">getCommentsFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792691"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3104"></span><span>   </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681792700"><span class="annot"><span class="annottext">an :: EpAnn EpAnnSumPat
</span><a href="#local-6989586621681792700"><span class="hs-identifier hs-var hs-var">an</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Anchor -&gt; EpAnnSumPat -&gt; EpAnnComments -&gt; EpAnn EpAnnSumPat
forall ann. Anchor -&gt; ann -&gt; EpAnnComments -&gt; EpAnn ann
</span><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-var">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Anchor
</span><a href="GHC.Parser.Annotation.html#spanAsAnchor"><span class="hs-identifier hs-var">spanAsAnchor</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; Anchor) -&gt; SrcSpan -&gt; Anchor
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792691"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddEpAnn] -&gt; [EpaLocation] -&gt; [EpaLocation] -&gt; EpAnnSumPat
</span><a href="GHC.Hs.Pat.html#EpAnnSumPat"><span class="hs-identifier hs-var">EpAnnSumPat</span></a></span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><a href="#local-6989586621681792697"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681792695"><span class="hs-identifier hs-var">barsb</span></a></span><span> </span><span class="annot"><span class="annottext">[EpaLocation]
</span><a href="#local-6989586621681792696"><span class="hs-identifier hs-var">barsa</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><a href="#local-6989586621681792699"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-3105"></span><span>   </span><span class="annot"><span class="annottext">LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. a -&gt; PV a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; LocatedA (PatBuilder GhcPs) -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; PatBuilder GhcPs -&gt; LocatedA (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792691"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.Types.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSumPat GhcPs -&gt; LPat GhcPs -&gt; Int -&gt; Int -&gt; Pat GhcPs
forall p. XSumPat p -&gt; LPat p -&gt; Int -&gt; Int -&gt; Pat p
</span><a href="Language.Haskell.Syntax.Pat.html#SumPat"><span class="hs-identifier hs-var">SumPat</span></a></span><span> </span><span class="annot"><span class="annottext">XSumPat GhcPs
EpAnn EpAnnSumPat
</span><a href="#local-6989586621681792700"><span class="hs-identifier hs-var">an</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
GenLocated SrcSpanAnnA (Pat GhcPs)
</span><a href="#local-6989586621681792698"><span class="hs-identifier hs-var">p'</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681792692"><span class="hs-identifier hs-var">alt</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681792693"><span class="hs-identifier hs-var">arity</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3106"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-var">mkSumOrTuplePat</span></a></span><span> </span><span id="local-6989586621681792703"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792703"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="Language.Haskell.Syntax.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span id="local-6989586621681792704"><span class="annot"><span class="annottext">a :: SumOrTuple (PatBuilder GhcPs)
</span><a href="#local-6989586621681792704"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.Parser.Types.html#Sum"><span class="hs-identifier hs-type">Sum</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="annot"><span class="annottext">[AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3107"></span><span>    </span><span class="annot"><span class="annottext">MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a. MsgEnvelope PsMessage -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; MsgEnvelope PsMessage -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">(MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs)))
-&gt; MsgEnvelope PsMessage -&gt; PV (LocatedA (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-3108"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall e. Diagnostic e =&gt; SrcSpan -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Utils.Error.html#mkPlainErrorMsgEnvelope"><span class="hs-identifier hs-var">mkPlainErrorMsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792703"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PsMessage -&gt; MsgEnvelope PsMessage)
-&gt; PsMessage -&gt; MsgEnvelope PsMessage
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SumOrTuple (PatBuilder GhcPs) -&gt; PsMessage
</span><a href="GHC.Parser.Errors.Types.html#PsErrUnsupportedBoxedSumPat"><span class="hs-identifier hs-var">PsErrUnsupportedBoxedSumPat</span></a></span><span> </span><span class="annot"><span class="annottext">SumOrTuple (PatBuilder GhcPs)
</span><a href="#local-6989586621681792704"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-3109"></span><span>
</span><span id="line-3110"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkLHsOpTy"><span class="hs-identifier hs-type">mkLHsOpTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PromotionFlag"><span class="hs-identifier hs-type">PromotionFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-3111"></span><span id="mkLHsOpTy"><span class="annot"><span class="annottext">mkLHsOpTy :: PromotionFlag
-&gt; LHsType GhcPs
-&gt; GenLocated SrcSpanAnnN RdrName
-&gt; LHsType GhcPs
-&gt; LHsType GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkLHsOpTy"><span class="hs-identifier hs-var hs-var">mkLHsOpTy</span></a></span></span><span> </span><span id="local-6989586621681792706"><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621681792706"><span class="hs-identifier hs-var">prom</span></a></span></span><span> </span><span id="local-6989586621681792707"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681792707"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681792708"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792708"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681792709"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681792709"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3112"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681792710"><span class="annot"><span class="annottext">loc :: SrcSpanAnnA
</span><a href="#local-6989586621681792710"><span class="hs-identifier hs-var hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; SrcSpanAnnA
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681792707"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpanAnnA -&gt; SrcSpanAnnA
forall a. Semigroup a =&gt; SrcAnn a -&gt; SrcAnn a -&gt; SrcAnn a
</span><a href="GHC.Parser.Annotation.html#combineSrcSpansA"><span class="hs-operator hs-var">`combineSrcSpansA`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; SrcSpanAnnA) -&gt; SrcSpan -&gt; SrcSpanAnnA
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName -&gt; SrcSpan
forall a e. GenLocated (SrcSpanAnn' a) e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792708"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpanAnnA -&gt; SrcSpanAnnA
forall a. Semigroup a =&gt; SrcAnn a -&gt; SrcAnn a -&gt; SrcAnn a
</span><a href="GHC.Parser.Annotation.html#combineSrcSpansA"><span class="hs-operator hs-var">`combineSrcSpansA`</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; SrcSpanAnnA
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681792709"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-3113"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsType GhcPs -&gt; GenLocated SrcSpanAnnA (HsType GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792710"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PromotionFlag
-&gt; LHsType GhcPs
-&gt; LocatedN (IdP GhcPs)
-&gt; LHsType GhcPs
-&gt; HsType GhcPs
forall (p :: Pass).
(Anno (IdGhcP p) ~ SrcSpanAnnN) =&gt;
PromotionFlag
-&gt; LHsType (GhcPass p)
-&gt; LocatedN (IdP (GhcPass p))
-&gt; LHsType (GhcPass p)
-&gt; HsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#mkHsOpTy"><span class="hs-identifier hs-var">mkHsOpTy</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621681792706"><span class="hs-identifier hs-var">prom</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681792707"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedN (IdP GhcPs)
GenLocated SrcSpanAnnN RdrName
</span><a href="#local-6989586621681792708"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681792709"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3114"></span><span>
</span><span id="line-3115"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkMultTy"><span class="hs-identifier hs-type">mkMultTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Concrete.html#LHsToken"><span class="hs-identifier hs-type">LHsToken</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;%&quot;</span></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Concrete.html#LHsUniToken"><span class="hs-identifier hs-type">LHsUniToken</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;-&gt;&quot;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&#8594;&quot;</span></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsArrow"><span class="hs-identifier hs-type">HsArrow</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-3116"></span><span id="mkMultTy"><span class="annot"><span class="annottext">mkMultTy :: LHsToken &quot;%&quot; GhcPs
-&gt; LHsType GhcPs -&gt; LHsUniToken &quot;-&gt;&quot; &quot;\8594&quot; GhcPs -&gt; HsArrow GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkMultTy"><span class="hs-identifier hs-var hs-var">mkMultTy</span></a></span></span><span> </span><span id="local-6989586621681792712"><span class="annot"><span class="annottext">LHsToken &quot;%&quot; GhcPs
</span><a href="#local-6989586621681792712"><span class="hs-identifier hs-var">pct</span></a></span></span><span> </span><span id="local-6989586621681792713"><span class="annot"><span class="annottext">t :: LHsType GhcPs
</span><a href="#local-6989586621681792713"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyLit"><span class="hs-identifier hs-type">HsTyLit</span></a></span><span> </span><span class="annot"><span class="annottext">XTyLit GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsNumTy"><span class="hs-identifier hs-type">HsNumTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SourceText.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;1&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792716"><span class="annot"><span class="annottext">LHsUniToken &quot;-&gt;&quot; &quot;\8594&quot; GhcPs
</span><a href="#local-6989586621681792716"><span class="hs-identifier hs-var">arr</span></a></span></span><span>
</span><span id="line-3117"></span><span>  </span><span class="hs-comment">-- See #18888 for the use of (SourceText &quot;1&quot;) above</span><span>
</span><span id="line-3118"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsLinearArrowTokens GhcPs -&gt; HsArrow GhcPs
forall pass. HsLinearArrowTokens pass -&gt; HsArrow pass
</span><a href="Language.Haskell.Syntax.Type.html#HsLinearArrow"><span class="hs-identifier hs-var">HsLinearArrow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsToken &quot;%1&quot; GhcPs
-&gt; LHsUniToken &quot;-&gt;&quot; &quot;\8594&quot; GhcPs -&gt; HsLinearArrowTokens GhcPs
forall pass.
LHsToken &quot;%1&quot; pass
-&gt; LHsUniToken &quot;-&gt;&quot; &quot;\8594&quot; pass -&gt; HsLinearArrowTokens pass
</span><a href="Language.Haskell.Syntax.Type.html#HsPct1"><span class="hs-identifier hs-var">HsPct1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TokenLocation
-&gt; HsToken &quot;%1&quot; -&gt; GenLocated TokenLocation (HsToken &quot;%1&quot;)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">TokenLocation
</span><a href="#local-6989586621681792719"><span class="hs-identifier hs-var">locOfPct1</span></a></span><span> </span><span class="annot"><span class="annottext">HsToken &quot;%1&quot;
forall (tok :: Symbol). HsToken tok
</span><a href="Language.Haskell.Syntax.Concrete.html#HsTok"><span class="hs-identifier hs-var">HsTok</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsUniToken &quot;-&gt;&quot; &quot;\8594&quot; GhcPs
</span><a href="#local-6989586621681792716"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3119"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3120"></span><span>    </span><span class="hs-comment">-- The location of &quot;%&quot; combined with the location of &quot;1&quot;.</span><span>
</span><span id="line-3121"></span><span>    </span><span class="annot"><a href="#local-6989586621681792719"><span class="hs-identifier hs-type">locOfPct1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#TokenLocation"><span class="hs-identifier hs-type">TokenLocation</span></a></span><span>
</span><span id="line-3122"></span><span>    </span><span id="local-6989586621681792719"><span class="annot"><span class="annottext">locOfPct1 :: TokenLocation
</span><a href="#local-6989586621681792719"><span class="hs-identifier hs-var hs-var">locOfPct1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TokenLocation -&gt; SrcSpan -&gt; TokenLocation
</span><a href="GHC.Parser.PostProcess.html#token_location_widenR"><span class="hs-identifier hs-var">token_location_widenR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated TokenLocation (HsToken &quot;%&quot;) -&gt; TokenLocation
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;%&quot; GhcPs
GenLocated TokenLocation (HsToken &quot;%&quot;)
</span><a href="#local-6989586621681792712"><span class="hs-identifier hs-var">pct</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. SrcSpanAnn' a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcPs) -&gt; SrcSpanAnnA
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
GenLocated SrcSpanAnnA (HsType GhcPs)
</span><a href="#local-6989586621681792713"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3123"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkMultTy"><span class="hs-identifier hs-var">mkMultTy</span></a></span><span> </span><span id="local-6989586621681792722"><span class="annot"><span class="annottext">LHsToken &quot;%&quot; GhcPs
</span><a href="#local-6989586621681792722"><span class="hs-identifier hs-var">pct</span></a></span></span><span> </span><span id="local-6989586621681792723"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681792723"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681792724"><span class="annot"><span class="annottext">LHsUniToken &quot;-&gt;&quot; &quot;\8594&quot; GhcPs
</span><a href="#local-6989586621681792724"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;%&quot; GhcPs
-&gt; LHsType GhcPs -&gt; LHsUniToken &quot;-&gt;&quot; &quot;\8594&quot; GhcPs -&gt; HsArrow GhcPs
forall pass.
LHsToken &quot;%&quot; pass
-&gt; LHsType pass -&gt; LHsUniToken &quot;-&gt;&quot; &quot;\8594&quot; pass -&gt; HsArrow pass
</span><a href="Language.Haskell.Syntax.Type.html#HsExplicitMult"><span class="hs-identifier hs-var">HsExplicitMult</span></a></span><span> </span><span class="annot"><span class="annottext">LHsToken &quot;%&quot; GhcPs
</span><a href="#local-6989586621681792722"><span class="hs-identifier hs-var">pct</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621681792723"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">LHsUniToken &quot;-&gt;&quot; &quot;\8594&quot; GhcPs
</span><a href="#local-6989586621681792724"><span class="hs-identifier hs-var">arr</span></a></span><span>
</span><span id="line-3124"></span><span>
</span><span id="line-3125"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTokenLocation"><span class="hs-identifier hs-type">mkTokenLocation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#TokenLocation"><span class="hs-identifier hs-type">TokenLocation</span></a></span><span>
</span><span id="line-3126"></span><span id="mkTokenLocation"><span class="annot"><span class="annottext">mkTokenLocation :: SrcSpan -&gt; TokenLocation
</span><a href="GHC.Parser.PostProcess.html#mkTokenLocation"><span class="hs-identifier hs-var hs-var">mkTokenLocation</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#UnhelpfulSpan"><span class="hs-identifier hs-type">UnhelpfulSpan</span></a></span><span> </span><span class="annot"><span class="annottext">UnhelpfulSpanReason
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TokenLocation
</span><a href="GHC.Parser.Annotation.html#NoTokenLoc"><span class="hs-identifier hs-var">NoTokenLoc</span></a></span><span>
</span><span id="line-3127"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTokenLocation"><span class="hs-identifier hs-var">mkTokenLocation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span id="local-6989586621681792728"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681792728"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681792729"><span class="annot"><span class="annottext">Maybe BufSpan
</span><a href="#local-6989586621681792729"><span class="hs-identifier hs-var">mb</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpaLocation -&gt; TokenLocation
</span><a href="GHC.Parser.Annotation.html#TokenLoc"><span class="hs-identifier hs-var">TokenLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Maybe BufSpan -&gt; EpaLocation
</span><a href="GHC.Parser.Annotation.html#EpaSpan"><span class="hs-identifier hs-var">EpaSpan</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681792728"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><a href="#local-6989586621681792729"><span class="hs-identifier hs-var">mb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3128"></span><span>
</span><span id="line-3129"></span><span class="hs-comment">-- Precondition: the TokenLocation has EpaSpan, never EpaDelta.</span><span>
</span><span id="line-3130"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#token_location_widenR"><span class="hs-identifier hs-type">token_location_widenR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#TokenLocation"><span class="hs-identifier hs-type">TokenLocation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#TokenLocation"><span class="hs-identifier hs-type">TokenLocation</span></a></span><span>
</span><span id="line-3131"></span><span id="token_location_widenR"><span class="annot"><span class="annottext">token_location_widenR :: TokenLocation -&gt; SrcSpan -&gt; TokenLocation
</span><a href="GHC.Parser.PostProcess.html#token_location_widenR"><span class="hs-identifier hs-var hs-var">token_location_widenR</span></a></span></span><span> </span><span class="annot"><span class="annottext">TokenLocation
</span><a href="GHC.Parser.Annotation.html#NoTokenLoc"><span class="hs-identifier hs-var">NoTokenLoc</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TokenLocation
</span><a href="GHC.Parser.Annotation.html#NoTokenLoc"><span class="hs-identifier hs-var">NoTokenLoc</span></a></span><span>
</span><span id="line-3132"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#token_location_widenR"><span class="hs-identifier hs-var">token_location_widenR</span></a></span><span> </span><span id="local-6989586621681792731"><span class="annot"><span class="annottext">TokenLocation
</span><a href="#local-6989586621681792731"><span class="hs-identifier hs-var">tl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#UnhelpfulSpan"><span class="hs-identifier hs-type">UnhelpfulSpan</span></a></span><span> </span><span class="annot"><span class="annottext">UnhelpfulSpanReason
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TokenLocation
</span><a href="#local-6989586621681792731"><span class="hs-identifier hs-var">tl</span></a></span><span>
</span><span id="line-3133"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#token_location_widenR"><span class="hs-identifier hs-var">token_location_widenR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#TokenLoc"><span class="hs-identifier hs-type">TokenLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaSpan"><span class="hs-identifier hs-type">EpaSpan</span></a></span><span> </span><span id="local-6989586621681792732"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681792732"><span class="hs-identifier hs-var">r1</span></a></span></span><span> </span><span id="local-6989586621681792733"><span class="annot"><span class="annottext">Maybe BufSpan
</span><a href="#local-6989586621681792733"><span class="hs-identifier hs-var">mb1</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span id="local-6989586621681792734"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681792734"><span class="hs-identifier hs-var">r2</span></a></span></span><span> </span><span id="local-6989586621681792735"><span class="annot"><span class="annottext">Maybe BufSpan
</span><a href="#local-6989586621681792735"><span class="hs-identifier hs-var">mb2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3134"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpaLocation -&gt; TokenLocation
</span><a href="GHC.Parser.Annotation.html#TokenLoc"><span class="hs-identifier hs-var">TokenLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Maybe BufSpan -&gt; EpaLocation
</span><a href="GHC.Parser.Annotation.html#EpaSpan"><span class="hs-identifier hs-var">EpaSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; RealSrcSpan -&gt; RealSrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineRealSrcSpans"><span class="hs-identifier hs-var">combineRealSrcSpans</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681792732"><span class="hs-identifier hs-var">r1</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681792734"><span class="hs-identifier hs-var">r2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(BufSpan -&gt; BufSpan -&gt; BufSpan)
-&gt; Maybe BufSpan -&gt; Maybe BufSpan -&gt; Maybe BufSpan
forall a b c. (a -&gt; b -&gt; c) -&gt; Maybe a -&gt; Maybe b -&gt; Maybe c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#liftA2/GHC.Base.html#liftA2"><span class="hs-identifier hs-var">liftA2</span></a></span><span> </span><span class="annot"><span class="annottext">BufSpan -&gt; BufSpan -&gt; BufSpan
</span><a href="GHC.Types.SrcLoc.html#combineBufSpans"><span class="hs-identifier hs-var">combineBufSpans</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><a href="#local-6989586621681792733"><span class="hs-identifier hs-var">mb1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><a href="#local-6989586621681792735"><span class="hs-identifier hs-var">mb2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3135"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#token_location_widenR"><span class="hs-identifier hs-var">token_location_widenR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#TokenLoc"><span class="hs-identifier hs-type">TokenLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpaDelta"><span class="hs-identifier hs-type">EpaDelta</span></a></span><span> </span><span class="annot"><span class="annottext">DeltaPos
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LEpaComment]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3136"></span><span>  </span><span class="hs-comment">-- Never happens because the parser does not produce EpaDelta.</span><span>
</span><span id="line-3137"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; TokenLocation
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;token_location_widenR: EpaDelta&quot;</span></span><span>
</span><span id="line-3138"></span><span>
</span><span id="line-3139"></span><span>
</span><span id="line-3140"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-3141"></span><span class="hs-comment">-- Token symbols</span><span>
</span><span id="line-3142"></span><span>
</span><span id="line-3143"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier hs-type">starSym</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>
</span><span id="line-3144"></span><span id="starSym"><span class="annot"><span class="annottext">starSym :: Bool -&gt; FastString
</span><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier hs-var hs-var">starSym</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&#9733;&quot;</span></span><span>
</span><span id="line-3145"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier hs-var">starSym</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*&quot;</span></span><span>
</span><span id="line-3146"></span><span>
</span><span id="line-3147"></span><span class="hs-comment">-----------------------------------------</span><span>
</span><span id="line-3148"></span><span class="hs-comment">-- Bits and pieces for RecordDotSyntax.</span><span>
</span><span id="line-3149"></span><span>
</span><span id="line-3150"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrGetField"><span class="hs-identifier hs-type">mkRdrGetField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedAn"><span class="hs-identifier hs-type">LocatedAn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-type">NoEpAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#DotFieldOcc"><span class="hs-identifier hs-type">DotFieldOcc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3151"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnnCO"><span class="hs-identifier hs-type">EpAnnCO</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-3152"></span><span id="mkRdrGetField"><span class="annot"><span class="annottext">mkRdrGetField :: SrcSpanAnnA
-&gt; LHsExpr GhcPs
-&gt; LocatedAn NoEpAnns (DotFieldOcc GhcPs)
-&gt; EpAnn NoEpAnns
-&gt; LHsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkRdrGetField"><span class="hs-identifier hs-var hs-var">mkRdrGetField</span></a></span></span><span> </span><span id="local-6989586621681792739"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792739"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621681792740"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681792740"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681792741"><span class="annot"><span class="annottext">LocatedAn NoEpAnns (DotFieldOcc GhcPs)
</span><a href="#local-6989586621681792741"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span id="local-6989586621681792742"><span class="annot"><span class="annottext">EpAnn NoEpAnns
</span><a href="#local-6989586621681792742"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3153"></span><span>  </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcPs -&gt; GenLocated SrcSpanAnnA (HsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792739"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsGetField"><span class="hs-identifier hs-type">HsGetField</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-3154"></span><span>      </span><span class="annot"><span class="annottext">gf_ext :: XGetField GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#gf_ext"><span class="hs-identifier hs-var">gf_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XGetField GhcPs
EpAnn NoEpAnns
</span><a href="#local-6989586621681792742"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-3155"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gf_expr :: LHsExpr GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#gf_expr"><span class="hs-identifier hs-var">gf_expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681792740"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-3156"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gf_field :: XRec GhcPs (DotFieldOcc GhcPs)
</span><a href="Language.Haskell.Syntax.Expr.html#gf_field"><span class="hs-identifier hs-var">gf_field</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcPs (DotFieldOcc GhcPs)
LocatedAn NoEpAnns (DotFieldOcc GhcPs)
</span><a href="#local-6989586621681792741"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-3157"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-3158"></span><span>
</span><span id="line-3159"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrProjection"><span class="hs-identifier hs-type">mkRdrProjection</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#NonEmpty/GHC.Base.html#NonEmpty"><span class="hs-identifier hs-type">NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedAn"><span class="hs-identifier hs-type">LocatedAn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-type">NoEpAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#DotFieldOcc"><span class="hs-identifier hs-type">DotFieldOcc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#AnnProjection"><span class="hs-identifier hs-type">AnnProjection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-3160"></span><span id="mkRdrProjection"><span class="annot"><span class="annottext">mkRdrProjection :: NonEmpty (LocatedAn NoEpAnns (DotFieldOcc GhcPs))
-&gt; EpAnn AnnProjection -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkRdrProjection"><span class="hs-identifier hs-var hs-var">mkRdrProjection</span></a></span></span><span> </span><span id="local-6989586621681792747"><span class="annot"><span class="annottext">NonEmpty (LocatedAn NoEpAnns (DotFieldOcc GhcPs))
</span><a href="#local-6989586621681792747"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span id="local-6989586621681792748"><span class="annot"><span class="annottext">EpAnn AnnProjection
</span><a href="#local-6989586621681792748"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3161"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsProjection"><span class="hs-identifier hs-type">HsProjection</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-3162"></span><span>      </span><span class="annot"><span class="annottext">proj_ext :: XProjection GhcPs
</span><a href="Language.Haskell.Syntax.Expr.html#proj_ext"><span class="hs-identifier hs-var">proj_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XProjection GhcPs
EpAnn AnnProjection
</span><a href="#local-6989586621681792748"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-3163"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">proj_flds :: NonEmpty (XRec GhcPs (DotFieldOcc GhcPs))
</span><a href="Language.Haskell.Syntax.Expr.html#proj_flds"><span class="hs-identifier hs-var">proj_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty (XRec GhcPs (DotFieldOcc GhcPs))
NonEmpty (LocatedAn NoEpAnns (DotFieldOcc GhcPs))
</span><a href="#local-6989586621681792747"><span class="hs-identifier hs-var">flds</span></a></span><span>
</span><span id="line-3164"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-3165"></span><span>
</span><span id="line-3166"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrProjUpdate"><span class="hs-identifier hs-type">mkRdrProjUpdate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnA"><span class="hs-identifier hs-type">SrcSpanAnnA</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedAn"><span class="hs-identifier hs-type">LocatedAn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-type">NoEpAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#DotFieldOcc"><span class="hs-identifier hs-type">DotFieldOcc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3167"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddEpAnn"><span class="hs-identifier hs-type">AddEpAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3168"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsRecProj"><span class="hs-identifier hs-type">LHsRecProj</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3169"></span><span id="mkRdrProjUpdate"><span class="annot"><span class="annottext">mkRdrProjUpdate :: SrcSpanAnnA
-&gt; Located [LocatedAn NoEpAnns (DotFieldOcc GhcPs)]
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; EpAnn [AddEpAnn]
-&gt; LHsRecProj GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRdrProjUpdate"><span class="hs-identifier hs-var hs-var">mkRdrProjUpdate</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; GenLocated
     SrcSpanAnnA
     (HsFieldBind
        (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
        (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkRdrProjUpdate: The impossible has happened!&quot;</span></span><span>
</span><span id="line-3170"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrProjUpdate"><span class="hs-identifier hs-var">mkRdrProjUpdate</span></a></span><span> </span><span id="local-6989586621681792752"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792752"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621681792753"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792753"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621681792754"><span class="annot"><span class="annottext">[LocatedAn NoEpAnns (DotFieldOcc GhcPs)]
</span><a href="#local-6989586621681792754"><span class="hs-identifier hs-var">flds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681792755"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621681792755"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681792756"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792756"><span class="hs-identifier hs-var">isPun</span></a></span></span><span> </span><span id="local-6989586621681792757"><span class="annot"><span class="annottext">EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792757"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3171"></span><span>  </span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsFieldBind
     (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
     (GenLocated SrcSpanAnnA (HsExpr GhcPs))
-&gt; GenLocated
     SrcSpanAnnA
     (HsFieldBind
        (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
        (GenLocated SrcSpanAnnA (HsExpr GhcPs)))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621681792752"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsFieldBind"><span class="hs-identifier hs-type">HsFieldBind</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-3172"></span><span>      </span><span class="annot"><span class="annottext">hfbAnn :: XHsFieldBind
  (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
</span><a href="Language.Haskell.Syntax.Pat.html#hfbAnn"><span class="hs-identifier hs-var">hfbAnn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XHsFieldBind
  (GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs))
EpAnn [AddEpAnn]
</span><a href="#local-6989586621681792757"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-3173"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hfbLHS :: GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs)
</span><a href="Language.Haskell.Syntax.Pat.html#hfbLHS"><span class="hs-identifier hs-var">hfbLHS</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcAnn NoEpAnns
-&gt; FieldLabelStrings GhcPs
-&gt; GenLocated (SrcAnn NoEpAnns) (FieldLabelStrings GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcAnn NoEpAnns
forall ann. SrcSpan -&gt; SrcAnn ann
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681792753"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[XRec GhcPs (DotFieldOcc GhcPs)] -&gt; FieldLabelStrings GhcPs
forall p. [XRec p (DotFieldOcc p)] -&gt; FieldLabelStrings p
</span><a href="Language.Haskell.Syntax.Expr.html#FieldLabelStrings"><span class="hs-identifier hs-var">FieldLabelStrings</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcPs (DotFieldOcc GhcPs)]
[LocatedAn NoEpAnns (DotFieldOcc GhcPs)]
</span><a href="#local-6989586621681792754"><span class="hs-identifier hs-var">flds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3174"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hfbRHS :: GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="Language.Haskell.Syntax.Pat.html#hfbRHS"><span class="hs-identifier hs-var">hfbRHS</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
GenLocated SrcSpanAnnA (HsExpr GhcPs)
</span><a href="#local-6989586621681792755"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-3175"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hfbPun :: Bool
</span><a href="Language.Haskell.Syntax.Pat.html#hfbPun"><span class="hs-identifier hs-var">hfbPun</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681792756"><span class="hs-identifier hs-var">isPun</span></a></span><span>
</span><span id="line-3176"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-3177"></span></pre></body></html>