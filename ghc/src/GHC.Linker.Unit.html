<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span>
</span><span id="line-2"></span><span class="annot"><span class="hs-comment">-- | Linking Haskell units</span></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Linker.Unit</span><span>
</span><span id="line-4"></span><span>   </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Linker.Unit.html#collectLinkOpts"><span class="hs-identifier">collectLinkOpts</span></a></span><span>
</span><span id="line-5"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Linker.Unit.html#collectArchives"><span class="hs-identifier">collectArchives</span></a></span><span>
</span><span id="line-6"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Linker.Unit.html#getUnitLinkOpts"><span class="hs-identifier">getUnitLinkOpts</span></a></span><span>
</span><span id="line-7"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Linker.Unit.html#getLibs"><span class="hs-identifier">getLibs</span></a></span><span>
</span><span id="line-8"></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span class="hs-keyword">where</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.Ways.html"><span class="hs-identifier">GHC.Platform.Ways</span></a></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html"><span class="hs-identifier">GHC.Unit.Types</span></a></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Info.html"><span class="hs-identifier">GHC.Unit.Info</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.State.html"><span class="hs-identifier">GHC.Unit.State</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Env.html"><span class="hs-identifier">GHC.Unit.Env</span></a></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../ghc-boot-9.6.7/src/GHC.Data.ShortText.html#/GHC.Data.ShortText.html"><span class="hs-identifier">GHC.Data.ShortText</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ST</span></span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Settings.html"><span class="hs-identifier">GHC.Settings</span></a></span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.18.3.0/src/Control.Monad.html#/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../directory-1.3.8.5/src/System.Directory.html#/System.Directory.html"><span class="hs-identifier">System.Directory</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../template-haskell-2.20.0.0/src/System.FilePath.html#/System.FilePath.html"><span class="hs-identifier">System.FilePath</span></a></span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-comment">-- | Find all the link options in these and the preload packages,</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- returning (package hs lib options, extra library options, other flags)</span><span>
</span><span id="line-29"></span><span class="annot"><a href="GHC.Linker.Unit.html#getUnitLinkOpts"><span class="hs-identifier hs-type">getUnitLinkOpts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Settings.html#GhcNameVersion"><span class="hs-identifier hs-type">GhcNameVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Platform.Ways.html#Ways"><span class="hs-identifier hs-type">Ways</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Env.html#UnitEnv"><span class="hs-identifier hs-type">UnitEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Unit.Types.html#UnitId"><span class="hs-identifier hs-type">UnitId</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span id="getUnitLinkOpts"><span class="annot"><span class="annottext">getUnitLinkOpts :: GhcNameVersion
-&gt; Ways -&gt; UnitEnv -&gt; [UnitId] -&gt; IO ([[Char]], [[Char]], [[Char]])
</span><a href="GHC.Linker.Unit.html#getUnitLinkOpts"><span class="hs-identifier hs-var hs-var">getUnitLinkOpts</span></a></span></span><span> </span><span id="local-6989586621681918754"><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621681918754"><span class="hs-identifier hs-var">namever</span></a></span></span><span> </span><span id="local-6989586621681918755"><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621681918755"><span class="hs-identifier hs-var">ways</span></a></span></span><span> </span><span id="local-6989586621681918756"><span class="annot"><span class="annottext">UnitEnv
</span><a href="#local-6989586621681918756"><span class="hs-identifier hs-var">unit_env</span></a></span></span><span> </span><span id="local-6989586621681918757"><span class="annot"><span class="annottext">[UnitId]
</span><a href="#local-6989586621681918757"><span class="hs-identifier hs-var">pkgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-31"></span><span>    </span><span id="local-6989586621681918758"><span class="annot"><span class="annottext">[UnitInfo]
</span><a href="#local-6989586621681918758"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MaybeErr UnitErr [UnitInfo] -&gt; IO [UnitInfo]
forall a. MaybeErr UnitErr a -&gt; IO a
</span><a href="GHC.Unit.State.html#mayThrowUnitErr"><span class="hs-identifier hs-var">mayThrowUnitErr</span></a></span><span> </span><span class="annot"><span class="annottext">(MaybeErr UnitErr [UnitInfo] -&gt; IO [UnitInfo])
-&gt; MaybeErr UnitErr [UnitInfo] -&gt; IO [UnitInfo]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEnv -&gt; [UnitId] -&gt; MaybeErr UnitErr [UnitInfo]
</span><a href="GHC.Unit.Env.html#preloadUnitsInfo%27"><span class="hs-identifier hs-var">preloadUnitsInfo'</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEnv
</span><a href="#local-6989586621681918756"><span class="hs-identifier hs-var">unit_env</span></a></span><span> </span><span class="annot"><span class="annottext">[UnitId]
</span><a href="#local-6989586621681918757"><span class="hs-identifier hs-var">pkgs</span></a></span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><span class="annottext">([[Char]], [[Char]], [[Char]]) -&gt; IO ([[Char]], [[Char]], [[Char]])
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#return/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GhcNameVersion
-&gt; Ways -&gt; [UnitInfo] -&gt; ([[Char]], [[Char]], [[Char]])
</span><a href="GHC.Linker.Unit.html#collectLinkOpts"><span class="hs-identifier hs-var">collectLinkOpts</span></a></span><span> </span><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621681918754"><span class="hs-identifier hs-var">namever</span></a></span><span> </span><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621681918755"><span class="hs-identifier hs-var">ways</span></a></span><span> </span><span class="annot"><span class="annottext">[UnitInfo]
</span><a href="#local-6989586621681918758"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="annot"><a href="GHC.Linker.Unit.html#collectLinkOpts"><span class="hs-identifier hs-type">collectLinkOpts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Settings.html#GhcNameVersion"><span class="hs-identifier hs-type">GhcNameVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Platform.Ways.html#Ways"><span class="hs-identifier hs-type">Ways</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Unit.Info.html#UnitInfo"><span class="hs-identifier hs-type">UnitInfo</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span id="collectLinkOpts"><span class="annot"><span class="annottext">collectLinkOpts :: GhcNameVersion
-&gt; Ways -&gt; [UnitInfo] -&gt; ([[Char]], [[Char]], [[Char]])
</span><a href="GHC.Linker.Unit.html#collectLinkOpts"><span class="hs-identifier hs-var hs-var">collectLinkOpts</span></a></span></span><span> </span><span id="local-6989586621681918761"><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621681918761"><span class="hs-identifier hs-var">namever</span></a></span></span><span> </span><span id="local-6989586621681918762"><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621681918762"><span class="hs-identifier hs-var">ways</span></a></span></span><span> </span><span id="local-6989586621681918763"><span class="annot"><span class="annottext">[UnitInfo]
</span><a href="#local-6989586621681918763"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">(</span><span>
</span><span id="line-37"></span><span>        </span><span class="annot"><span class="annottext">(UnitInfo -&gt; [[Char]]) -&gt; [UnitInfo] -&gt; [[Char]]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#concatMap/Data.Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Char] -&gt; [Char]) -&gt; [[Char]] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;-l&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([[Char]] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [[Char]]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">GhcNameVersion -&gt; Ways -&gt; UnitInfo -&gt; [[Char]]
</span><a href="GHC.Unit.Info.html#unitHsLibs"><span class="hs-identifier hs-var">unitHsLibs</span></a></span><span> </span><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621681918761"><span class="hs-identifier hs-var">namever</span></a></span><span> </span><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621681918762"><span class="hs-identifier hs-var">ways</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[UnitInfo]
</span><a href="#local-6989586621681918763"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>        </span><span class="annot"><span class="annottext">(UnitInfo -&gt; [[Char]]) -&gt; [UnitInfo] -&gt; [[Char]]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#concatMap/Data.Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Char] -&gt; [Char]) -&gt; [[Char]] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;-l&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([[Char]] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [[Char]]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; [Char]) -&gt; [ShortText] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; [Char]
</span><a href="../../ghc-boot-9.6.7/src/GHC.Data.ShortText.html#unpack/GHC.Data.ShortText.html#unpack"><span class="hs-identifier hs-var">ST.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">([ShortText] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [ShortText]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UnitInfo -&gt; [ShortText]
forall srcpkgid srcpkgname uid modulename mod.
GenericUnitInfo srcpkgid srcpkgname uid modulename mod
-&gt; [ShortText]
</span><a href="../../ghc-boot-9.6.7/src/GHC.Unit.Database.html#unitExtDepLibsSys/GHC.Unit.Database.html#unitExtDepLibsSys"><span class="hs-identifier hs-var">unitExtDepLibsSys</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[UnitInfo]
</span><a href="#local-6989586621681918763"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>        </span><span class="annot"><span class="annottext">(UnitInfo -&gt; [[Char]]) -&gt; [UnitInfo] -&gt; [[Char]]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#concatMap/Data.Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ShortText -&gt; [Char]) -&gt; [ShortText] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; [Char]
</span><a href="../../ghc-boot-9.6.7/src/GHC.Data.ShortText.html#unpack/GHC.Data.ShortText.html#unpack"><span class="hs-identifier hs-var">ST.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">([ShortText] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [ShortText]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UnitInfo -&gt; [ShortText]
forall srcpkgid srcpkgname uid modulename mod.
GenericUnitInfo srcpkgid srcpkgname uid modulename mod
-&gt; [ShortText]
</span><a href="../../ghc-boot-9.6.7/src/GHC.Unit.Database.html#unitLinkerOptions/GHC.Unit.Database.html#unitLinkerOptions"><span class="hs-identifier hs-var">unitLinkerOptions</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[UnitInfo]
</span><a href="#local-6989586621681918763"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="annot"><a href="GHC.Linker.Unit.html#collectArchives"><span class="hs-identifier hs-type">collectArchives</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Settings.html#GhcNameVersion"><span class="hs-identifier hs-type">GhcNameVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Platform.Ways.html#Ways"><span class="hs-identifier hs-type">Ways</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Info.html#UnitInfo"><span class="hs-identifier hs-type">UnitInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.IO.html#FilePath/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-43"></span><span id="collectArchives"><span class="annot"><span class="annottext">collectArchives :: GhcNameVersion -&gt; Ways -&gt; UnitInfo -&gt; IO [[Char]]
</span><a href="GHC.Linker.Unit.html#collectArchives"><span class="hs-identifier hs-var hs-var">collectArchives</span></a></span></span><span> </span><span id="local-6989586621681918771"><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621681918771"><span class="hs-identifier hs-var">namever</span></a></span></span><span> </span><span id="local-6989586621681918772"><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621681918772"><span class="hs-identifier hs-var">ways</span></a></span></span><span> </span><span id="local-6989586621681918773"><span class="annot"><span class="annottext">UnitInfo
</span><a href="#local-6989586621681918773"><span class="hs-identifier hs-var">pc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><span class="annottext">([Char] -&gt; IO Bool) -&gt; [[Char]] -&gt; IO [[Char]]
forall (m :: * -&gt; *) a.
Applicative m =&gt;
(a -&gt; m Bool) -&gt; [a] -&gt; m [a]
</span><a href="../../base-4.18.3.0/src/Control.Monad.html#filterM/Control.Monad.html#filterM"><span class="hs-identifier hs-var">filterM</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO Bool
</span><a href="../../directory-1.3.8.5/src/System.Directory.html#doesFileExist/System.Directory.html#doesFileExist"><span class="hs-identifier hs-var">doesFileExist</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681918776"><span class="hs-identifier hs-var">searchPath</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
</span><a href="../../filepath-1.4.301.0/src/System.FilePath.Posix.html#%3C%2F%3E/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;lib&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681918778"><span class="hs-identifier hs-var">lib</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;.a&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681918776"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681918776"><span class="hs-identifier hs-var">searchPath</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[[Char]]
</span><a href="#local-6989586621681918779"><span class="hs-identifier hs-var">searchPaths</span></a></span><span>
</span><span id="line-46"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681918778"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681918778"><span class="hs-identifier hs-var">lib</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[[Char]]
</span><a href="#local-6989586621681918780"><span class="hs-identifier hs-var">libs</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681918779"><span class="annot"><span class="annottext">searchPaths :: [[Char]]
</span><a href="#local-6989586621681918779"><span class="hs-identifier hs-var hs-var">searchPaths</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [[Char]]
forall a. Ord a =&gt; [a] -&gt; [a]
</span><a href="GHC.Utils.Misc.html#ordNub"><span class="hs-identifier hs-var">ordNub</span></a></span><span> </span><span class="annot"><span class="annottext">([[Char]] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [[Char]]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Bool) -&gt; [[Char]] -&gt; [[Char]]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.List.html#filter/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Bool
forall (f :: * -&gt; *) a. Foldable f =&gt; f a -&gt; Bool
</span><a href="GHC.Utils.Misc.html#notNull"><span class="hs-identifier hs-var">notNull</span></a></span><span> </span><span class="annot"><span class="annottext">([[Char]] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [[Char]]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Ways -&gt; UnitInfo -&gt; [[Char]]
</span><a href="GHC.Linker.Unit.html#libraryDirsForWay"><span class="hs-identifier hs-var">libraryDirsForWay</span></a></span><span> </span><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621681918772"><span class="hs-identifier hs-var">ways</span></a></span><span> </span><span class="annot"><span class="annottext">(UnitInfo -&gt; [[Char]]) -&gt; UnitInfo -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UnitInfo
</span><a href="#local-6989586621681918773"><span class="hs-identifier hs-var">pc</span></a></span><span>
</span><span id="line-48"></span><span>        </span><span id="local-6989586621681918780"><span class="annot"><span class="annottext">libs :: [[Char]]
</span><a href="#local-6989586621681918780"><span class="hs-identifier hs-var hs-var">libs</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GhcNameVersion -&gt; Ways -&gt; UnitInfo -&gt; [[Char]]
</span><a href="GHC.Unit.Info.html#unitHsLibs"><span class="hs-identifier hs-var">unitHsLibs</span></a></span><span> </span><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621681918771"><span class="hs-identifier hs-var">namever</span></a></span><span> </span><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621681918772"><span class="hs-identifier hs-var">ways</span></a></span><span> </span><span class="annot"><span class="annottext">UnitInfo
</span><a href="#local-6989586621681918773"><span class="hs-identifier hs-var">pc</span></a></span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [[Char]] -&gt; [[Char]]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; [Char]) -&gt; [ShortText] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; [Char]
</span><a href="../../ghc-boot-9.6.7/src/GHC.Data.ShortText.html#unpack/GHC.Data.ShortText.html#unpack"><span class="hs-identifier hs-var">ST.unpack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitInfo -&gt; [ShortText]
forall srcpkgid srcpkgname uid modulename mod.
GenericUnitInfo srcpkgid srcpkgname uid modulename mod
-&gt; [ShortText]
</span><a href="../../ghc-boot-9.6.7/src/GHC.Unit.Database.html#unitExtDepLibsSys/GHC.Unit.Database.html#unitExtDepLibsSys"><span class="hs-identifier hs-var">unitExtDepLibsSys</span></a></span><span> </span><span class="annot"><span class="annottext">UnitInfo
</span><a href="#local-6989586621681918773"><span class="hs-identifier hs-var">pc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="annot"><span class="hs-comment">-- | Either the 'unitLibraryDirs' or 'unitLibraryDynDirs' as appropriate for the way.</span></span><span>
</span><span id="line-51"></span><span class="annot"><a href="GHC.Linker.Unit.html#libraryDirsForWay"><span class="hs-identifier hs-type">libraryDirsForWay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.Ways.html#Ways"><span class="hs-identifier hs-type">Ways</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Info.html#UnitInfo"><span class="hs-identifier hs-type">UnitInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-52"></span><span id="libraryDirsForWay"><span class="annot"><span class="annottext">libraryDirsForWay :: Ways -&gt; UnitInfo -&gt; [[Char]]
</span><a href="GHC.Linker.Unit.html#libraryDirsForWay"><span class="hs-identifier hs-var hs-var">libraryDirsForWay</span></a></span></span><span> </span><span id="local-6989586621681918786"><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621681918786"><span class="hs-identifier hs-var">ws</span></a></span></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Ways -&gt; Way -&gt; Bool
</span><a href="GHC.Platform.Ways.html#hasWay"><span class="hs-identifier hs-var">hasWay</span></a></span><span> </span><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621681918786"><span class="hs-identifier hs-var">ws</span></a></span><span> </span><span class="annot"><span class="annottext">Way
</span><a href="GHC.Platform.Ways.html#WayDyn"><span class="hs-identifier hs-var">WayDyn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; [Char]) -&gt; [ShortText] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; [Char]
</span><a href="../../ghc-boot-9.6.7/src/GHC.Data.ShortText.html#unpack/GHC.Data.ShortText.html#unpack"><span class="hs-identifier hs-var">ST.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">([ShortText] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [ShortText]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UnitInfo -&gt; [ShortText]
forall srcpkgid srcpkgname uid modulename mod.
GenericUnitInfo srcpkgid srcpkgname uid modulename mod
-&gt; [ShortText]
</span><a href="../../ghc-boot-9.6.7/src/GHC.Unit.Database.html#unitLibraryDynDirs/GHC.Unit.Database.html#unitLibraryDynDirs"><span class="hs-identifier hs-var">unitLibraryDynDirs</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; [Char]) -&gt; [ShortText] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#map/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; [Char]
</span><a href="../../ghc-boot-9.6.7/src/GHC.Data.ShortText.html#unpack/GHC.Data.ShortText.html#unpack"><span class="hs-identifier hs-var">ST.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">([ShortText] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [ShortText]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UnitInfo -&gt; [ShortText]
forall srcpkgid srcpkgname uid modulename mod.
GenericUnitInfo srcpkgid srcpkgname uid modulename mod
-&gt; [ShortText]
</span><a href="../../ghc-boot-9.6.7/src/GHC.Unit.Database.html#unitLibraryDirs/GHC.Unit.Database.html#unitLibraryDirs"><span class="hs-identifier hs-var">unitLibraryDirs</span></a></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="annot"><a href="GHC.Linker.Unit.html#getLibs"><span class="hs-identifier hs-type">getLibs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Settings.html#GhcNameVersion"><span class="hs-identifier hs-type">GhcNameVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Platform.Ways.html#Ways"><span class="hs-identifier hs-type">Ways</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Env.html#UnitEnv"><span class="hs-identifier hs-type">UnitEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Unit.Types.html#UnitId"><span class="hs-identifier hs-type">UnitId</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span class="annot"><a href="../../base-4.18.3.0/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-57"></span><span id="getLibs"><span class="annot"><span class="annottext">getLibs :: GhcNameVersion
-&gt; Ways -&gt; UnitEnv -&gt; [UnitId] -&gt; IO [([Char], [Char])]
</span><a href="GHC.Linker.Unit.html#getLibs"><span class="hs-identifier hs-var hs-var">getLibs</span></a></span></span><span> </span><span id="local-6989586621681918789"><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621681918789"><span class="hs-identifier hs-var">namever</span></a></span></span><span> </span><span id="local-6989586621681918790"><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621681918790"><span class="hs-identifier hs-var">ways</span></a></span></span><span> </span><span id="local-6989586621681918791"><span class="annot"><span class="annottext">UnitEnv
</span><a href="#local-6989586621681918791"><span class="hs-identifier hs-var">unit_env</span></a></span></span><span> </span><span id="local-6989586621681918792"><span class="annot"><span class="annottext">[UnitId]
</span><a href="#local-6989586621681918792"><span class="hs-identifier hs-var">pkgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-58"></span><span>  </span><span id="local-6989586621681918793"><span class="annot"><span class="annottext">[UnitInfo]
</span><a href="#local-6989586621681918793"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MaybeErr UnitErr [UnitInfo] -&gt; IO [UnitInfo]
forall a. MaybeErr UnitErr a -&gt; IO a
</span><a href="GHC.Unit.State.html#mayThrowUnitErr"><span class="hs-identifier hs-var">mayThrowUnitErr</span></a></span><span> </span><span class="annot"><span class="annottext">(MaybeErr UnitErr [UnitInfo] -&gt; IO [UnitInfo])
-&gt; MaybeErr UnitErr [UnitInfo] -&gt; IO [UnitInfo]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEnv -&gt; [UnitId] -&gt; MaybeErr UnitErr [UnitInfo]
</span><a href="GHC.Unit.Env.html#preloadUnitsInfo%27"><span class="hs-identifier hs-var">preloadUnitsInfo'</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEnv
</span><a href="#local-6989586621681918791"><span class="hs-identifier hs-var">unit_env</span></a></span><span> </span><span class="annot"><span class="annottext">[UnitId]
</span><a href="#local-6989586621681918792"><span class="hs-identifier hs-var">pkgs</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><span class="annottext">([[([Char], [Char])]] -&gt; [([Char], [Char])])
-&gt; IO [[([Char], [Char])]] -&gt; IO [([Char], [Char])]
forall a b. (a -&gt; b) -&gt; IO a -&gt; IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#fmap/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">[[([Char], [Char])]] -&gt; [([Char], [Char])]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/Data.Foldable.html#concat/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="annot"><span class="annottext">(IO [[([Char], [Char])]] -&gt; IO [([Char], [Char])])
-&gt; ((UnitInfo -&gt; IO [([Char], [Char])]) -&gt; IO [[([Char], [Char])]])
-&gt; (UnitInfo -&gt; IO [([Char], [Char])])
-&gt; IO [([Char], [Char])]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[UnitInfo]
-&gt; (UnitInfo -&gt; IO [([Char], [Char])]) -&gt; IO [[([Char], [Char])]]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="../../base-4.18.3.0/src/Data.Traversable.html#forM/Data.Traversable.html#forM"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="annot"><span class="annottext">[UnitInfo]
</span><a href="#local-6989586621681918793"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">((UnitInfo -&gt; IO [([Char], [Char])]) -&gt; IO [([Char], [Char])])
-&gt; (UnitInfo -&gt; IO [([Char], [Char])]) -&gt; IO [([Char], [Char])]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681918796"><span class="annot"><span class="annottext">UnitInfo
</span><a href="#local-6989586621681918796"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-60"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681918797"><span class="annot"><span class="annottext">candidates :: [([Char], [Char])]
</span><a href="#local-6989586621681918797"><span class="hs-identifier hs-var hs-var">candidates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681918798"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
</span><a href="../../filepath-1.4.301.0/src/System.FilePath.Posix.html#%3C%2F%3E/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681918799"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681918799"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681918798"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681918798"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ways -&gt; [UnitInfo] -&gt; [[Char]]
</span><a href="GHC.Unit.Info.html#collectLibraryDirs"><span class="hs-identifier hs-var">collectLibraryDirs</span></a></span><span> </span><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621681918790"><span class="hs-identifier hs-var">ways</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">UnitInfo
</span><a href="#local-6989586621681918796"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-61"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681918799"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681918799"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681918801"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681918801"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;lib&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621681918801"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#%2B%2B/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;.a&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; [Char]) -&gt; [[Char]] -&gt; [[Char]]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.18.3.0/src/Data.Functor.html#%3C%24%3E/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">GhcNameVersion -&gt; Ways -&gt; UnitInfo -&gt; [[Char]]
</span><a href="GHC.Unit.Info.html#unitHsLibs"><span class="hs-identifier hs-var">unitHsLibs</span></a></span><span> </span><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621681918789"><span class="hs-identifier hs-var">namever</span></a></span><span> </span><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621681918790"><span class="hs-identifier hs-var">ways</span></a></span><span> </span><span class="annot"><span class="annottext">UnitInfo
</span><a href="#local-6989586621681918796"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-62"></span><span>    </span><span class="annot"><span class="annottext">(([Char], [Char]) -&gt; IO Bool)
-&gt; [([Char], [Char])] -&gt; IO [([Char], [Char])]
forall (m :: * -&gt; *) a.
Applicative m =&gt;
(a -&gt; m Bool) -&gt; [a] -&gt; m [a]
</span><a href="../../base-4.18.3.0/src/Control.Monad.html#filterM/Control.Monad.html#filterM"><span class="hs-identifier hs-var">filterM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; IO Bool
</span><a href="../../directory-1.3.8.5/src/System.Directory.html#doesFileExist/System.Directory.html#doesFileExist"><span class="hs-identifier hs-var">doesFileExist</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; IO Bool)
-&gt; (([Char], [Char]) -&gt; [Char]) -&gt; ([Char], [Char]) -&gt; IO Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.18.3.0/src/GHC.Base.html#./GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">([Char], [Char]) -&gt; [Char]
forall a b. (a, b) -&gt; a
</span><a href="../../base-4.18.3.0/src/Data.Tuple.html#fst/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[([Char], [Char])]
</span><a href="#local-6989586621681918797"><span class="hs-identifier hs-var">candidates</span></a></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span></pre></body></html>