<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE MultiWayIf #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="annot"><span class="hs-comment">{-|
Module      : GHC.Driver.Backend
Description : Back ends for code generation

This module exports the `Backend` type and all the available values
of that type.  The type is abstract, and GHC assumes a &quot;closed world&quot;:
all the back ends are known and are known here.  The compiler driver
chooses a `Backend` value based on how it is asked to generate code.

A `Backend` value encapsulates the knowledge needed to take Cmm, STG,
or Core and write assembly language to a file.  A back end also
provides a function that enables the compiler driver to run an
assembler on the code that is written, if any (the &quot;post-backend
pipeline&quot;).  Finally, a back end has myriad /properties/.  Properties
mediate interactions between a back end and the rest of the compiler,
especially the driver.  Examples include the following:

 * Property `backendValidityOfCImport` says whether the back end can
   import foreign C functions.

 * Property `backendForcesOptimization0` says whether the back end can
   be used with optimization levels higher than `-O0`.

 * Property `backendCDefs` tells the compiler driver, &quot;if you're using
   this back end, then these are the command-line flags you should add
   to any invocation of the C compiler.&quot;

These properties are used elsewhere in GHC, primarily in the driver, to
fine-tune operations according to the capabilities of the chosen back
end.  You might use a property to make GHC aware of a potential
limitation of certain back ends, or a special feature available only
in certain back ends.  If your client code needs to know a fact that
is not exposed in an existing property, you would define and export a
new property.  Conditioning client code on the /identity/ or /name/ of
a back end is Not Done.

For full details, see the documentation of each property.
-}</span></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Driver.Backend</span><span>
</span><span id="line-43"></span><span>   </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * The @Backend@ type</span></span><span>
</span><span id="line-44"></span><span>     </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier">Backend</span></a></span><span>  </span><span class="hs-comment">-- note: type is abstract</span><span>
</span><span id="line-45"></span><span>   </span><span class="annot"><span class="hs-comment">-- * Available back ends</span></span><span>
</span><span id="line-46"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#ncgBackend"><span class="hs-identifier">ncgBackend</span></a></span><span>
</span><span id="line-47"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#llvmBackend"><span class="hs-identifier">llvmBackend</span></a></span><span>
</span><span id="line-48"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#jsBackend"><span class="hs-identifier">jsBackend</span></a></span><span>
</span><span id="line-49"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#viaCBackend"><span class="hs-identifier">viaCBackend</span></a></span><span>
</span><span id="line-50"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#interpreterBackend"><span class="hs-identifier">interpreterBackend</span></a></span><span>
</span><span id="line-51"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#noBackend"><span class="hs-identifier">noBackend</span></a></span><span>
</span><span id="line-52"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#allBackends"><span class="hs-identifier">allBackends</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Types used to specify properties of back ends</span></span><span>
</span><span id="line-55"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#PrimitiveImplementation"><span class="hs-identifier">PrimitiveImplementation</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span>     </span><span class="annot"><span class="hs-comment">-- ** Properties that stand for functions</span></span><span>
</span><span id="line-57"></span><span>     </span><span class="annot"><span class="hs-comment">-- *** Back-end function for code generation</span></span><span>
</span><span id="line-58"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedCodeOutput"><span class="hs-identifier">DefunctionalizedCodeOutput</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>     </span><span class="annot"><span class="hs-comment">-- *** Back-end functions for assembly</span></span><span>
</span><span id="line-60"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedPostHscPipeline"><span class="hs-identifier">DefunctionalizedPostHscPipeline</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedAssemblerProg"><span class="hs-identifier">DefunctionalizedAssemblerProg</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedAssemblerInfoGetter"><span class="hs-identifier">DefunctionalizedAssemblerInfoGetter</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>     </span><span class="annot"><span class="hs-comment">-- *** Other back-end functions</span></span><span>
</span><span id="line-64"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedCDefs"><span class="hs-identifier">DefunctionalizedCDefs</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>     </span><span class="annot"><span class="hs-comment">-- ** Names of back ends (for API clients of version 9.4 or earlier)</span></span><span>
</span><span id="line-66"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.Internal.html#BackendName"><span class="hs-identifier">BackendName</span></a></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span>     </span><span class="annot"><span class="hs-comment">-- * Properties of back ends</span></span><span>
</span><span id="line-71"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendDescription"><span class="hs-identifier">backendDescription</span></a></span><span>
</span><span id="line-72"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendWritesFiles"><span class="hs-identifier">backendWritesFiles</span></a></span><span>
</span><span id="line-73"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendPipelineOutput"><span class="hs-identifier">backendPipelineOutput</span></a></span><span>
</span><span id="line-74"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendCanReuseLoadedCode"><span class="hs-identifier">backendCanReuseLoadedCode</span></a></span><span>
</span><span id="line-75"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesCode"><span class="hs-identifier">backendGeneratesCode</span></a></span><span>
</span><span id="line-76"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesCodeForHsBoot"><span class="hs-identifier">backendGeneratesCodeForHsBoot</span></a></span><span>
</span><span id="line-77"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsInterfaceWriting"><span class="hs-identifier">backendSupportsInterfaceWriting</span></a></span><span>
</span><span id="line-78"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendRespectsSpecialise"><span class="hs-identifier">backendRespectsSpecialise</span></a></span><span>
</span><span id="line-79"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendWantsGlobalBindings"><span class="hs-identifier">backendWantsGlobalBindings</span></a></span><span>
</span><span id="line-80"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendHasNativeSwitch"><span class="hs-identifier">backendHasNativeSwitch</span></a></span><span>
</span><span id="line-81"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendPrimitiveImplementation"><span class="hs-identifier">backendPrimitiveImplementation</span></a></span><span>
</span><span id="line-82"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendSimdValidity"><span class="hs-identifier">backendSimdValidity</span></a></span><span>
</span><span id="line-83"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsEmbeddedBlobs"><span class="hs-identifier">backendSupportsEmbeddedBlobs</span></a></span><span>
</span><span id="line-84"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendNeedsPlatformNcgSupport"><span class="hs-identifier">backendNeedsPlatformNcgSupport</span></a></span><span>
</span><span id="line-85"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsUnsplitProcPoints"><span class="hs-identifier">backendSupportsUnsplitProcPoints</span></a></span><span>
</span><span id="line-86"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendSwappableWithViaC"><span class="hs-identifier">backendSwappableWithViaC</span></a></span><span>
</span><span id="line-87"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendUnregisterisedAbiOnly"><span class="hs-identifier">backendUnregisterisedAbiOnly</span></a></span><span>
</span><span id="line-88"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesHc"><span class="hs-identifier">backendGeneratesHc</span></a></span><span>
</span><span id="line-89"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendSptIsDynamic"><span class="hs-identifier">backendSptIsDynamic</span></a></span><span>
</span><span id="line-90"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendWantsBreakpointTicks"><span class="hs-identifier">backendWantsBreakpointTicks</span></a></span><span>
</span><span id="line-91"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendForcesOptimization0"><span class="hs-identifier">backendForcesOptimization0</span></a></span><span>
</span><span id="line-92"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendNeedsFullWays"><span class="hs-identifier">backendNeedsFullWays</span></a></span><span>
</span><span id="line-93"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendSpecialModuleSource"><span class="hs-identifier">backendSpecialModuleSource</span></a></span><span>
</span><span id="line-94"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsHpc"><span class="hs-identifier">backendSupportsHpc</span></a></span><span>
</span><span id="line-95"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsCImport"><span class="hs-identifier">backendSupportsCImport</span></a></span><span>
</span><span id="line-96"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsCExport"><span class="hs-identifier">backendSupportsCExport</span></a></span><span>
</span><span id="line-97"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendAssemblerProg"><span class="hs-identifier">backendAssemblerProg</span></a></span><span>
</span><span id="line-98"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendAssemblerInfoGetter"><span class="hs-identifier">backendAssemblerInfoGetter</span></a></span><span>
</span><span id="line-99"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendCDefs"><span class="hs-identifier">backendCDefs</span></a></span><span>
</span><span id="line-100"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendCodeOutput"><span class="hs-identifier">backendCodeOutput</span></a></span><span>
</span><span id="line-101"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendUseJSLinker"><span class="hs-identifier">backendUseJSLinker</span></a></span><span>
</span><span id="line-102"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendPostHscPipeline"><span class="hs-identifier">backendPostHscPipeline</span></a></span><span>
</span><span id="line-103"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendNormalSuccessorPhase"><span class="hs-identifier">backendNormalSuccessorPhase</span></a></span><span>
</span><span id="line-104"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendName"><span class="hs-identifier">backendName</span></a></span><span>
</span><span id="line-105"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendValidityOfCImport"><span class="hs-identifier">backendValidityOfCImport</span></a></span><span>
</span><span id="line-106"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendValidityOfCExport"><span class="hs-identifier">backendValidityOfCExport</span></a></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span>   </span><span class="annot"><span class="hs-comment">-- * Other functions of back ends</span></span><span>
</span><span id="line-109"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#platformDefaultBackend"><span class="hs-identifier">platformDefaultBackend</span></a></span><span>
</span><span id="line-110"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#platformNcgSupported"><span class="hs-identifier">platformNcgSupported</span></a></span><span>
</span><span id="line-111"></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-keyword">where</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.Internal.html"><span class="hs-identifier">GHC.Driver.Backend.Internal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.Internal.html#BackendName"><span class="hs-identifier">BackendName</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Phases.html"><span class="hs-identifier">GHC.Driver.Phases</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html"><span class="hs-identifier">GHC.Utils.Error</span></a></span><span>
</span><span id="line-123"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Pipeline.Monad.html"><span class="hs-identifier">GHC.Driver.Pipeline.Monad</span></a></span><span>
</span><span id="line-126"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.html"><span class="hs-identifier">GHC.Platform</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-comment">---------------------------------------------------------------------------------</span><span>
</span><span id="line-130"></span><span class="hs-comment">--</span><span>
</span><span id="line-131"></span><span class="hs-comment">--   DESIGN CONSIDERATIONS</span><span>
</span><span id="line-132"></span><span class="hs-comment">--</span><span>
</span><span id="line-133"></span><span class="hs-comment">--</span><span>
</span><span id="line-134"></span><span class="hs-comment">--</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- The `Backend` type is made abstract in order to make it possible to</span><span>
</span><span id="line-136"></span><span class="hs-comment">-- add new back ends without having to inspect or modify much code</span><span>
</span><span id="line-137"></span><span class="hs-comment">-- elsewhere in GHC.  Adding a new back end would be /easiest/ if</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- `Backend` were represented as a record type, but in peer review,</span><span>
</span><span id="line-139"></span><span class="hs-comment">-- the clear will of the majority was to use a sum type.  As a result,</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- when adding a new back end it is necessary to modify /every/</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- function in this module that expects `Backend` as its first argument.</span><span>
</span><span id="line-142"></span><span class="annot"><span class="hs-comment">-- **By design, these functions have no default/wildcard cases.** This</span></span><span>
</span><span id="line-143"></span><span class="hs-comment">-- design forces the author of a new back end to consider the semantics</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- in every case, rather than relying on a default that may be wrong.</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- The names and documentation of the functions defined in the `Backend`</span><span>
</span><span id="line-146"></span><span class="hs-comment">-- record are sufficiently descriptive that the author of a new back</span><span>
</span><span id="line-147"></span><span class="hs-comment">-- end will be able to identify correct result values without having to go</span><span>
</span><span id="line-148"></span><span class="hs-comment">-- spelunking throughout the compiler.</span><span>
</span><span id="line-149"></span><span class="hs-comment">--</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- While the design localizes /most/ back-end logic in this module,</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- the author of a new back end will still have to make changes</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- elsewhere in the compiler:</span><span>
</span><span id="line-153"></span><span class="hs-comment">--</span><span>
</span><span id="line-154"></span><span class="hs-comment">--   * For reasons described in Note [Backend Defunctionalization],</span><span>
</span><span id="line-155"></span><span class="hs-comment">--     code-generation and post-backend pipeline functions, among other</span><span>
</span><span id="line-156"></span><span class="hs-comment">--     functions, cannot be placed in the `Backend` record itself.</span><span>
</span><span id="line-157"></span><span class="hs-comment">--     Instead, the /names/ of those functions are placed.  Each name is</span><span>
</span><span id="line-158"></span><span class="hs-comment">--     a value constructor in one of the algebraic data types defined in</span><span>
</span><span id="line-159"></span><span class="hs-comment">--     this module.  The named function is then defined near its point</span><span>
</span><span id="line-160"></span><span class="hs-comment">--     of use.</span><span>
</span><span id="line-161"></span><span class="hs-comment">--</span><span>
</span><span id="line-162"></span><span class="hs-comment">--     The author of a new back end will have to consider whether an</span><span>
</span><span id="line-163"></span><span class="hs-comment">--     existing function will do or whether a new function needs to be</span><span>
</span><span id="line-164"></span><span class="hs-comment">--     defined.  When a new function needs to be defined, the author</span><span>
</span><span id="line-165"></span><span class="hs-comment">--     must take two steps:</span><span>
</span><span id="line-166"></span><span class="hs-comment">--</span><span>
</span><span id="line-167"></span><span class="hs-comment">--       - Add a value constructor to the relevant data type here</span><span>
</span><span id="line-168"></span><span class="hs-comment">--         in the `Backend` module</span><span>
</span><span id="line-169"></span><span class="hs-comment">--</span><span>
</span><span id="line-170"></span><span class="hs-comment">--       - Add a case to the location in the compiler (there should be</span><span>
</span><span id="line-171"></span><span class="hs-comment">--         exactly one) where the value constructors of the relevant</span><span>
</span><span id="line-172"></span><span class="hs-comment">--         data type are used</span><span>
</span><span id="line-173"></span><span class="hs-comment">--</span><span>
</span><span id="line-174"></span><span class="hs-comment">--   * When a new back end is defined, it's quite possible that the</span><span>
</span><span id="line-175"></span><span class="hs-comment">--     compiler driver will have to be changed in some way.  Just because</span><span>
</span><span id="line-176"></span><span class="hs-comment">--     the driver supports five back ends doesn't mean it will support a sixth</span><span>
</span><span id="line-177"></span><span class="hs-comment">--     without changes.</span><span>
</span><span id="line-178"></span><span class="hs-comment">--</span><span>
</span><span id="line-179"></span><span class="hs-comment">-- The collection of functions exported from this module hasn't</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- really been &quot;designed&quot;; it's what emerged from a refactoring of</span><span>
</span><span id="line-181"></span><span class="hs-comment">-- older code.  The real design criterion was &quot;make it crystal clear</span><span>
</span><span id="line-182"></span><span class="hs-comment">-- what has to be done to add a new back end.&quot;</span><span>
</span><span id="line-183"></span><span class="hs-comment">--</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- One issue remains unresolved: some of the error messages and</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- warning messages used in the driver assume a &quot;closed world&quot;: they</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- think they know all the back ends that exist, and they are not shy</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- about enumerating them.  Just one set of error messages has been</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- ported to have an open-world assumption: these are the error</span><span>
</span><span id="line-189"></span><span class="hs-comment">-- messages associated with type checking of foreign imports and</span><span>
</span><span id="line-190"></span><span class="hs-comment">-- exports.  To&#160;allow other errors to be issued with an open-world</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- assumption, use functions `backendValidityOfCImport` and</span><span>
</span><span id="line-192"></span><span class="hs-comment">-- `backendValidityOfCExport` as models, and have a look at how the</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- 'expected back ends' are used in modules &quot;GHC.Tc.Gen.Foreign&quot; and</span><span>
</span><span id="line-194"></span><span class="hs-comment">-- &quot;GHC.Tc.Errors.Ppr&quot;</span><span>
</span><span id="line-195"></span><span class="hs-comment">--</span><span>
</span><span id="line-196"></span><span class="hs-comment">---------------------------------------------------------------------------------</span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="annot"><a href="GHC.Driver.Backend.html#platformDefaultBackend"><span class="hs-identifier hs-type">platformDefaultBackend</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span>
</span><span id="line-200"></span><span id="platformDefaultBackend"><span class="annot"><span class="annottext">platformDefaultBackend :: Platform -&gt; Backend
</span><a href="GHC.Driver.Backend.html#platformDefaultBackend"><span class="hs-identifier hs-var hs-var">platformDefaultBackend</span></a></span></span><span> </span><span id="local-6989586621681588672"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681588672"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span>
</span><span id="line-201"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Bool
</span><a href="GHC.Platform.html#platformUnregisterised"><span class="hs-identifier hs-var">platformUnregisterised</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681588672"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Backend
</span><a href="GHC.Driver.Backend.html#viaCBackend"><span class="hs-identifier hs-var">viaCBackend</span></a></span><span>
</span><span id="line-202"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Bool
</span><a href="GHC.Driver.Backend.html#platformNcgSupported"><span class="hs-identifier hs-var">platformNcgSupported</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681588672"><span class="hs-identifier hs-var">platform</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Backend
</span><a href="GHC.Driver.Backend.html#ncgBackend"><span class="hs-identifier hs-var">ncgBackend</span></a></span><span>
</span><span id="line-203"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Bool
</span><a href="GHC.Driver.Backend.html#platformJSSupported"><span class="hs-identifier hs-var">platformJSSupported</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681588672"><span class="hs-identifier hs-var">platform</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Backend
</span><a href="GHC.Driver.Backend.html#jsBackend"><span class="hs-identifier hs-var">jsBackend</span></a></span><span>
</span><span id="line-204"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Backend
</span><a href="GHC.Driver.Backend.html#llvmBackend"><span class="hs-identifier hs-var">llvmBackend</span></a></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span class="annot"><span class="hs-comment">-- | Is the platform supported by the Native Code Generator?</span></span><span>
</span><span id="line-207"></span><span class="annot"><a href="GHC.Driver.Backend.html#platformNcgSupported"><span class="hs-identifier hs-type">platformNcgSupported</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-208"></span><span id="platformNcgSupported"><span class="annot"><span class="annottext">platformNcgSupported :: Platform -&gt; Bool
</span><a href="GHC.Driver.Backend.html#platformNcgSupported"><span class="hs-identifier hs-var hs-var">platformNcgSupported</span></a></span></span><span> </span><span id="local-6989586621681588675"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681588675"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span>
</span><span id="line-209"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Bool
</span><a href="GHC.Platform.html#platformUnregisterised"><span class="hs-identifier hs-var">platformUnregisterised</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681588675"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-comment">-- NCG doesn't support unregisterised ABI</span><span>
</span><span id="line-210"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681588676"><span class="hs-identifier hs-var">ncgValidArch</span></a></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-211"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-212"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-213"></span><span>      </span><span id="local-6989586621681588676"><span class="annot"><span class="annottext">ncgValidArch :: Bool
</span><a href="#local-6989586621681588676"><span class="hs-identifier hs-var hs-var">ncgValidArch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681588675"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-214"></span><span>         </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot-9.6.6/src/GHC.Platform.ArchOS.html#ArchX86/GHC.Platform.ArchOS.html#ArchX86"><span class="hs-identifier hs-var">ArchX86</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-215"></span><span>         </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot-9.6.6/src/GHC.Platform.ArchOS.html#ArchX86_64/GHC.Platform.ArchOS.html#ArchX86_64"><span class="hs-identifier hs-var">ArchX86_64</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-216"></span><span>         </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot-9.6.6/src/GHC.Platform.ArchOS.html#ArchPPC/GHC.Platform.ArchOS.html#ArchPPC"><span class="hs-identifier hs-var">ArchPPC</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-217"></span><span>         </span><span class="annot"><a href="../../ghc-boot-9.6.6/src/GHC.Platform.ArchOS.html#ArchPPC_64/GHC.Platform.ArchOS.html#ArchPPC_64"><span class="hs-identifier hs-type">ArchPPC_64</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-218"></span><span>         </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot-9.6.6/src/GHC.Platform.ArchOS.html#ArchAArch64/GHC.Platform.ArchOS.html#ArchAArch64"><span class="hs-identifier hs-var">ArchAArch64</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-219"></span><span>         </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot-9.6.6/src/GHC.Platform.ArchOS.html#ArchWasm32/GHC.Platform.ArchOS.html#ArchWasm32"><span class="hs-identifier hs-var">ArchWasm32</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-220"></span><span>         </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span class="annot"><span class="hs-comment">-- | Is the platform supported by the JS backend?</span></span><span>
</span><span id="line-223"></span><span class="annot"><a href="GHC.Driver.Backend.html#platformJSSupported"><span class="hs-identifier hs-type">platformJSSupported</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-224"></span><span id="platformJSSupported"><span class="annot"><span class="annottext">platformJSSupported :: Platform -&gt; Bool
</span><a href="GHC.Driver.Backend.html#platformJSSupported"><span class="hs-identifier hs-var hs-var">platformJSSupported</span></a></span></span><span> </span><span id="local-6989586621681588684"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681588684"><span class="hs-identifier hs-var">platform</span></a></span></span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621681588684"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Arch -&gt; Arch -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot-9.6.6/src/GHC.Platform.ArchOS.html#ArchJavaScript/GHC.Platform.ArchOS.html#ArchJavaScript"><span class="hs-identifier hs-var">ArchJavaScript</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-226"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#otherwise/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-comment">-- | A&#160;value of type @Backend@ represents one of GHC's back ends.</span><span>
</span><span id="line-230"></span><span class="hs-comment">-- The set of back ends cannot be extended except by modifying the</span><span>
</span><span id="line-231"></span><span class="hs-comment">-- definition of @Backend@ in this module.</span><span>
</span><span id="line-232"></span><span class="hs-comment">--</span><span>
</span><span id="line-233"></span><span class="hs-comment">-- The @Backend@ type is abstract; that&#160;is, its value constructors are</span><span>
</span><span id="line-234"></span><span class="hs-comment">-- not exported.  It's crucial that they not be exported, because a</span><span>
</span><span id="line-235"></span><span class="hs-comment">-- value of type @Backend@ carries only the back end's /name/, not its</span><span>
</span><span id="line-236"></span><span class="hs-comment">-- behavior or properties.  If @Backend@ were not abstract, then code</span><span>
</span><span id="line-237"></span><span class="hs-comment">-- elsewhere in the compiler could depend directly on the name, not on</span><span>
</span><span id="line-238"></span><span class="hs-comment">-- the semantics, which would make it challenging to create a new back end.</span><span>
</span><span id="line-239"></span><span class="hs-comment">-- Because @Backend@ /is/ abstract, all the obligations of a new back</span><span>
</span><span id="line-240"></span><span class="hs-comment">-- end are enumerated in this module, in the form of functions that</span><span>
</span><span id="line-241"></span><span class="hs-comment">-- take @Backend@ as an argument.</span><span>
</span><span id="line-242"></span><span class="hs-comment">--</span><span>
</span><span id="line-243"></span><span class="hs-comment">-- The issue of abstraction is discussed at great length in #20927 and !7442.</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span class="hs-keyword">newtype</span><span> </span><span id="Backend"><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-var">Backend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Named"><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-var">Named</span></a></span></span><span> </span><span class="annot"><a href="GHC.Driver.Backend.Internal.html#BackendName"><span class="hs-identifier hs-type">BackendName</span></a></span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-comment">-- Must be a newtype so that it has no `Eq` instance and</span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-comment">-- a different `Show` instance.</span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span class="hs-comment">-- | The Show instance is for messages /only/.  If code depends on</span><span>
</span><span id="line-251"></span><span class="hs-comment">-- what's in the string, you deserve what happens to you.</span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681588688"><span id="local-6989586621681588693"><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Show.html#Show/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-254"></span><span>  </span><span id="local-6989586621681588696"><span class="annot"><span class="annottext">show :: Backend -&gt; String
</span><a href="#local-6989586621681588696"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Backend -&gt; String
</span><a href="GHC.Driver.Backend.html#backendDescription"><span class="hs-identifier hs-var">backendDescription</span></a></span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span class="annot"><a href="GHC.Driver.Backend.html#ncgBackend"><span class="hs-identifier hs-type">ncgBackend</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#llvmBackend"><span class="hs-identifier hs-type">llvmBackend</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#viaCBackend"><span class="hs-identifier hs-type">viaCBackend</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#interpreterBackend"><span class="hs-identifier hs-type">interpreterBackend</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#jsBackend"><span class="hs-identifier hs-type">jsBackend</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#noBackend"><span class="hs-identifier hs-type">noBackend</span></a></span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span class="hs-comment">-- | The native code generator.</span><span>
</span><span id="line-261"></span><span class="hs-comment">-- Compiles Cmm code into textual assembler, then relies on</span><span>
</span><span id="line-262"></span><span class="hs-comment">-- an external assembler toolchain to produce machine code.</span><span>
</span><span id="line-263"></span><span class="hs-comment">--</span><span>
</span><span id="line-264"></span><span class="hs-comment">-- Only supports a few platforms (X86, PowerPC, SPARC).</span><span>
</span><span id="line-265"></span><span class="hs-comment">--</span><span>
</span><span id="line-266"></span><span class="hs-comment">-- See &quot;GHC.CmmToAsm&quot;.</span><span>
</span><span id="line-267"></span><span id="ncgBackend"><span class="annot"><span class="annottext">ncgBackend :: Backend
</span><a href="GHC.Driver.Backend.html#ncgBackend"><span class="hs-identifier hs-var hs-var">ncgBackend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BackendName -&gt; Backend
</span><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-var">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span class="hs-comment">-- | The LLVM backend.</span><span>
</span><span id="line-270"></span><span class="hs-comment">--</span><span>
</span><span id="line-271"></span><span class="hs-comment">-- Compiles Cmm code into LLVM textual IR, then relies on</span><span>
</span><span id="line-272"></span><span class="hs-comment">-- LLVM toolchain to produce machine code.</span><span>
</span><span id="line-273"></span><span class="hs-comment">--</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- It relies on LLVM support for the calling convention used</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- by the NCG backend to produce code objects ABI compatible</span><span>
</span><span id="line-276"></span><span class="hs-comment">-- with it (see &quot;cc 10&quot; or &quot;ghccc&quot; calling convention in</span><span>
</span><span id="line-277"></span><span class="hs-comment">-- https://llvm.org/docs/LangRef.html#calling-conventions).</span><span>
</span><span id="line-278"></span><span class="hs-comment">--</span><span>
</span><span id="line-279"></span><span class="hs-comment">-- Supports a few platforms (X86, AArch64, s390x, ARM).</span><span>
</span><span id="line-280"></span><span class="hs-comment">--</span><span>
</span><span id="line-281"></span><span class="hs-comment">-- See &quot;GHC.CmmToLlvm&quot;</span><span>
</span><span id="line-282"></span><span id="llvmBackend"><span class="annot"><span class="annottext">llvmBackend :: Backend
</span><a href="GHC.Driver.Backend.html#llvmBackend"><span class="hs-identifier hs-var hs-var">llvmBackend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BackendName -&gt; Backend
</span><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-var">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span class="hs-comment">-- | The JavaScript Backend</span><span>
</span><span id="line-285"></span><span class="hs-comment">--</span><span>
</span><span id="line-286"></span><span class="hs-comment">-- See documentation in GHC.StgToJS</span><span>
</span><span id="line-287"></span><span id="jsBackend"><span class="annot"><span class="annottext">jsBackend :: Backend
</span><a href="GHC.Driver.Backend.html#jsBackend"><span class="hs-identifier hs-var hs-var">jsBackend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BackendName -&gt; Backend
</span><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-var">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span class="hs-comment">-- | Via-C (&quot;unregisterised&quot;) backend.</span><span>
</span><span id="line-290"></span><span class="hs-comment">--</span><span>
</span><span id="line-291"></span><span class="hs-comment">-- Compiles Cmm code into C code, then relies on a C compiler</span><span>
</span><span id="line-292"></span><span class="hs-comment">-- to produce machine code.</span><span>
</span><span id="line-293"></span><span class="hs-comment">--</span><span>
</span><span id="line-294"></span><span class="hs-comment">-- It produces code objects that are /not/ ABI compatible</span><span>
</span><span id="line-295"></span><span class="hs-comment">-- with those produced by NCG and LLVM backends.</span><span>
</span><span id="line-296"></span><span class="hs-comment">--</span><span>
</span><span id="line-297"></span><span class="hs-comment">-- Produced code is expected to be less efficient than the</span><span>
</span><span id="line-298"></span><span class="hs-comment">-- one produced by NCG and LLVM backends because STG</span><span>
</span><span id="line-299"></span><span class="hs-comment">-- registers are not pinned into real registers.  On the</span><span>
</span><span id="line-300"></span><span class="hs-comment">-- other hand, it supports more target platforms (those</span><span>
</span><span id="line-301"></span><span class="hs-comment">-- having a valid C toolchain).</span><span>
</span><span id="line-302"></span><span class="hs-comment">--</span><span>
</span><span id="line-303"></span><span class="hs-comment">-- See &quot;GHC.CmmToC&quot;</span><span>
</span><span id="line-304"></span><span id="viaCBackend"><span class="annot"><span class="annottext">viaCBackend :: Backend
</span><a href="GHC.Driver.Backend.html#viaCBackend"><span class="hs-identifier hs-var hs-var">viaCBackend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BackendName -&gt; Backend
</span><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-var">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span class="hs-comment">-- | The ByteCode interpreter.</span><span>
</span><span id="line-307"></span><span class="hs-comment">--</span><span>
</span><span id="line-308"></span><span class="hs-comment">-- Produce ByteCode objects (BCO, see &quot;GHC.ByteCode&quot;) that</span><span>
</span><span id="line-309"></span><span class="hs-comment">-- can be interpreted. It is used by GHCi.</span><span>
</span><span id="line-310"></span><span class="hs-comment">--</span><span>
</span><span id="line-311"></span><span class="hs-comment">-- Currently some extensions are not supported</span><span>
</span><span id="line-312"></span><span class="hs-comment">-- (foreign primops).</span><span>
</span><span id="line-313"></span><span class="hs-comment">--</span><span>
</span><span id="line-314"></span><span class="hs-comment">-- See &quot;GHC.StgToByteCode&quot;</span><span>
</span><span id="line-315"></span><span id="interpreterBackend"><span class="annot"><span class="annottext">interpreterBackend :: Backend
</span><a href="GHC.Driver.Backend.html#interpreterBackend"><span class="hs-identifier hs-var hs-var">interpreterBackend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BackendName -&gt; Backend
</span><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-var">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span class="hs-comment">-- | A dummy back end that generates no code.</span><span>
</span><span id="line-318"></span><span class="hs-comment">--</span><span>
</span><span id="line-319"></span><span class="hs-comment">-- Use this back end to disable code generation. It is particularly</span><span>
</span><span id="line-320"></span><span class="hs-comment">-- useful when GHC is used as a library for other purpose than</span><span>
</span><span id="line-321"></span><span class="hs-comment">-- generating code (e.g. to generate documentation with Haddock) or</span><span>
</span><span id="line-322"></span><span class="hs-comment">-- when the user requested it (via `-fno-code`) for some reason.</span><span>
</span><span id="line-323"></span><span id="noBackend"><span class="annot"><span class="annottext">noBackend :: Backend
</span><a href="GHC.Driver.Backend.html#noBackend"><span class="hs-identifier hs-var hs-var">noBackend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BackendName -&gt; Backend
</span><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-var">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span class="hs-comment">---------------------------------------------------------------------------------</span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span class="hs-comment">-- | This enumeration type specifies how the back end wishes GHC's</span><span>
</span><span id="line-331"></span><span class="hs-comment">-- primitives to be implemented.  (Module &quot;GHC.StgToCmm.Prim&quot; provides</span><span>
</span><span id="line-332"></span><span class="hs-comment">-- a generic implementation of every primitive, but some primitives,</span><span>
</span><span id="line-333"></span><span class="hs-comment">-- like `IntQuotRemOp`, can be implemented more efficiently by</span><span>
</span><span id="line-334"></span><span class="hs-comment">-- certain back ends on certain platforms.  For example, by using a</span><span>
</span><span id="line-335"></span><span class="hs-comment">-- machine instruction that simultaneously computes quotient and remainder.)</span><span>
</span><span id="line-336"></span><span class="hs-comment">--</span><span>
</span><span id="line-337"></span><span class="hs-comment">-- For the meaning of each alternative, consult</span><span>
</span><span id="line-338"></span><span class="hs-comment">-- &quot;GHC.StgToCmm.Config&quot;.  (In a perfect world, type</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- `PrimitiveImplementation` would be defined there, in the module</span><span>
</span><span id="line-340"></span><span class="hs-comment">-- that determines its meaning.  But I could not figure out how to do</span><span>
</span><span id="line-341"></span><span class="hs-comment">-- it without mutual recursion across module boundaries.)</span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span class="hs-keyword">data</span><span> </span><span id="PrimitiveImplementation"><span class="annot"><a href="GHC.Driver.Backend.html#PrimitiveImplementation"><span class="hs-identifier hs-var">PrimitiveImplementation</span></a></span></span><span>
</span><span id="line-344"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="LlvmPrimitives"><span class="annot"><a href="GHC.Driver.Backend.html#LlvmPrimitives"><span class="hs-identifier hs-var">LlvmPrimitives</span></a></span></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Primitives supported by LLVM</span></span><span>
</span><span id="line-345"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="NcgPrimitives"><span class="annot"><a href="GHC.Driver.Backend.html#NcgPrimitives"><span class="hs-identifier hs-var">NcgPrimitives</span></a></span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ Primitives supported by the native code generator</span></span><span>
</span><span id="line-346"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="JSPrimitives"><span class="annot"><a href="GHC.Driver.Backend.html#JSPrimitives"><span class="hs-identifier hs-var">JSPrimitives</span></a></span></span><span>      </span><span class="annot"><span class="hs-comment">-- ^ Primitives supported by JS backend</span></span><span>
</span><span id="line-347"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="GenericPrimitives"><span class="annot"><a href="GHC.Driver.Backend.html#GenericPrimitives"><span class="hs-identifier hs-var">GenericPrimitives</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Primitives supported by all back ends</span></span><span>
</span><span id="line-348"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621681588709"><span id="local-6989586621681588711"><span id="local-6989586621681588715"><span class="annot"><span class="annottext">Int -&gt; PrimitiveImplementation -&gt; ShowS
[PrimitiveImplementation] -&gt; ShowS
PrimitiveImplementation -&gt; String
(Int -&gt; PrimitiveImplementation -&gt; ShowS)
-&gt; (PrimitiveImplementation -&gt; String)
-&gt; ([PrimitiveImplementation] -&gt; ShowS)
-&gt; Show PrimitiveImplementation
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; PrimitiveImplementation -&gt; ShowS
showsPrec :: Int -&gt; PrimitiveImplementation -&gt; ShowS
$cshow :: PrimitiveImplementation -&gt; String
show :: PrimitiveImplementation -&gt; String
$cshowList :: [PrimitiveImplementation] -&gt; ShowS
showList :: [PrimitiveImplementation] -&gt; ShowS
</span><a href="../../base-4.18.2.1/src/GHC.Show.html#Show/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span class="hs-comment">-- | Names a function that runs the assembler, of this type:</span><span>
</span><span id="line-352"></span><span class="hs-comment">--</span><span>
</span><span id="line-353"></span><span class="hs-comment">-- &gt; Logger -&gt; DynFlags -&gt; Platform -&gt; [Option] -&gt; IO ()</span><span>
</span><span id="line-354"></span><span class="hs-comment">--</span><span>
</span><span id="line-355"></span><span class="hs-comment">-- The functions so named are defined in &quot;GHC.Driver.Pipeline.Execute&quot;.</span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span class="hs-keyword">data</span><span> </span><span id="DefunctionalizedAssemblerProg"><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedAssemblerProg"><span class="hs-identifier hs-var">DefunctionalizedAssemblerProg</span></a></span></span><span>
</span><span id="line-358"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="StandardAssemblerProg"><span class="annot"><a href="GHC.Driver.Backend.html#StandardAssemblerProg"><span class="hs-identifier hs-var">StandardAssemblerProg</span></a></span></span><span>
</span><span id="line-359"></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ Use the standard system assembler</span></span><span>
</span><span id="line-360"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="JSAssemblerProg"><span class="annot"><a href="GHC.Driver.Backend.html#JSAssemblerProg"><span class="hs-identifier hs-var">JSAssemblerProg</span></a></span></span><span>
</span><span id="line-361"></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ JS Backend compile to JS via Stg, and so does not use any assembler</span></span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DarwinClangAssemblerProg"><span class="annot"><a href="GHC.Driver.Backend.html#DarwinClangAssemblerProg"><span class="hs-identifier hs-var">DarwinClangAssemblerProg</span></a></span></span><span>
</span><span id="line-363"></span><span>       </span><span class="hs-comment">-- ^ If running on Darwin, use the assembler from the @clang@</span><span>
</span><span id="line-364"></span><span>       </span><span class="hs-comment">-- toolchain.  Otherwise use the standard system assembler.</span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span class="hs-comment">-- | Names a function that discover from what toolchain the assembler</span><span>
</span><span id="line-369"></span><span class="hs-comment">-- is coming, of this type:</span><span>
</span><span id="line-370"></span><span class="hs-comment">--</span><span>
</span><span id="line-371"></span><span class="hs-comment">-- &gt; Logger -&gt; DynFlags -&gt; Platform -&gt; IO CompilerInfo</span><span>
</span><span id="line-372"></span><span class="hs-comment">--</span><span>
</span><span id="line-373"></span><span class="hs-comment">-- The functions so named are defined in &quot;GHC.Driver.Pipeline.Execute&quot;.</span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span class="hs-keyword">data</span><span> </span><span id="DefunctionalizedAssemblerInfoGetter"><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedAssemblerInfoGetter"><span class="hs-identifier hs-var">DefunctionalizedAssemblerInfoGetter</span></a></span></span><span>
</span><span id="line-376"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="StandardAssemblerInfoGetter"><span class="annot"><a href="GHC.Driver.Backend.html#StandardAssemblerInfoGetter"><span class="hs-identifier hs-var">StandardAssemblerInfoGetter</span></a></span></span><span>
</span><span id="line-377"></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ Interrogate the standard system assembler</span></span><span>
</span><span id="line-378"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="JSAssemblerInfoGetter"><span class="annot"><a href="GHC.Driver.Backend.html#JSAssemblerInfoGetter"><span class="hs-identifier hs-var">JSAssemblerInfoGetter</span></a></span></span><span>
</span><span id="line-379"></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ If using the JS backend; return 'Emscripten'</span></span><span>
</span><span id="line-380"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DarwinClangAssemblerInfoGetter"><span class="annot"><a href="GHC.Driver.Backend.html#DarwinClangAssemblerInfoGetter"><span class="hs-identifier hs-var">DarwinClangAssemblerInfoGetter</span></a></span></span><span>
</span><span id="line-381"></span><span>       </span><span class="hs-comment">-- ^ If running on Darwin, return `Clang`; otherwise</span><span>
</span><span id="line-382"></span><span>       </span><span class="hs-comment">-- interrogate the standard system assembler.</span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="hs-comment">-- | Names a function that generates code and writes the results to a</span><span>
</span><span id="line-386"></span><span class="hs-comment">--  file, of this type:</span><span>
</span><span id="line-387"></span><span class="hs-comment">--</span><span>
</span><span id="line-388"></span><span class="hs-comment">--  &gt;    Logger</span><span>
</span><span id="line-389"></span><span class="hs-comment">--  &gt; -&gt; DynFlags</span><span>
</span><span id="line-390"></span><span class="hs-comment">--  &gt; -&gt; Module -- ^ module being compiled</span><span>
</span><span id="line-391"></span><span class="hs-comment">--  &gt; -&gt; ModLocation</span><span>
</span><span id="line-392"></span><span class="hs-comment">--  &gt; -&gt; FilePath -- ^ Where to write output</span><span>
</span><span id="line-393"></span><span class="hs-comment">--  &gt; -&gt; Set UnitId -- ^ dependencies</span><span>
</span><span id="line-394"></span><span class="hs-comment">--  &gt; -&gt; Stream IO RawCmmGroup a -- results from `StgToCmm`</span><span>
</span><span id="line-395"></span><span class="hs-comment">--  &gt; -&gt; IO a</span><span>
</span><span id="line-396"></span><span class="hs-comment">--</span><span>
</span><span id="line-397"></span><span class="hs-comment">-- The functions so named are defined in &quot;GHC.Driver.CodeOutput&quot;.</span><span>
</span><span id="line-398"></span><span class="hs-comment">--</span><span>
</span><span id="line-399"></span><span class="hs-comment">-- We expect one function per back end&#8212;or more precisely, one function</span><span>
</span><span id="line-400"></span><span class="hs-comment">-- for each back end that writes code to a file.  (The interpreter</span><span>
</span><span id="line-401"></span><span class="hs-comment">-- does not write to files; its output lives only in memory.)</span><span>
</span><span id="line-402"></span><span>
</span><span id="line-403"></span><span class="hs-keyword">data</span><span> </span><span id="DefunctionalizedCodeOutput"><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedCodeOutput"><span class="hs-identifier hs-var">DefunctionalizedCodeOutput</span></a></span></span><span>
</span><span id="line-404"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="NcgCodeOutput"><span class="annot"><a href="GHC.Driver.Backend.html#NcgCodeOutput"><span class="hs-identifier hs-var">NcgCodeOutput</span></a></span></span><span>
</span><span id="line-405"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ViaCCodeOutput"><span class="annot"><a href="GHC.Driver.Backend.html#ViaCCodeOutput"><span class="hs-identifier hs-var">ViaCCodeOutput</span></a></span></span><span>
</span><span id="line-406"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LlvmCodeOutput"><span class="annot"><a href="GHC.Driver.Backend.html#LlvmCodeOutput"><span class="hs-identifier hs-var">LlvmCodeOutput</span></a></span></span><span>
</span><span id="line-407"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="JSCodeOutput"><span class="annot"><a href="GHC.Driver.Backend.html#JSCodeOutput"><span class="hs-identifier hs-var">JSCodeOutput</span></a></span></span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="hs-comment">-- | Names a function that tells the driver what should happen after</span><span>
</span><span id="line-411"></span><span class="hs-comment">-- assembly code is written.  This might include running a C compiler,</span><span>
</span><span id="line-412"></span><span class="hs-comment">-- running LLVM, running an assembler, or various similar activities.</span><span>
</span><span id="line-413"></span><span class="hs-comment">-- The function named normally has this type:</span><span>
</span><span id="line-414"></span><span class="hs-comment">--</span><span>
</span><span id="line-415"></span><span class="hs-comment">-- &gt;    TPipelineClass TPhase m</span><span>
</span><span id="line-416"></span><span class="hs-comment">-- &gt; =&gt; PipeEnv</span><span>
</span><span id="line-417"></span><span class="hs-comment">-- &gt; -&gt; HscEnv</span><span>
</span><span id="line-418"></span><span class="hs-comment">-- &gt; -&gt; Maybe ModLocation</span><span>
</span><span id="line-419"></span><span class="hs-comment">-- &gt; -&gt; FilePath</span><span>
</span><span id="line-420"></span><span class="hs-comment">-- &gt; -&gt; m (Maybe FilePath)</span><span>
</span><span id="line-421"></span><span class="hs-comment">--</span><span>
</span><span id="line-422"></span><span class="hs-comment">-- The functions so named are defined in &quot;GHC.Driver.Pipeline&quot;.</span><span>
</span><span id="line-423"></span><span>
</span><span id="line-424"></span><span class="hs-keyword">data</span><span> </span><span id="DefunctionalizedPostHscPipeline"><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedPostHscPipeline"><span class="hs-identifier hs-var">DefunctionalizedPostHscPipeline</span></a></span></span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="NcgPostHscPipeline"><span class="annot"><a href="GHC.Driver.Backend.html#NcgPostHscPipeline"><span class="hs-identifier hs-var">NcgPostHscPipeline</span></a></span></span><span>
</span><span id="line-426"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ViaCPostHscPipeline"><span class="annot"><a href="GHC.Driver.Backend.html#ViaCPostHscPipeline"><span class="hs-identifier hs-var">ViaCPostHscPipeline</span></a></span></span><span>
</span><span id="line-427"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LlvmPostHscPipeline"><span class="annot"><a href="GHC.Driver.Backend.html#LlvmPostHscPipeline"><span class="hs-identifier hs-var">LlvmPostHscPipeline</span></a></span></span><span>
</span><span id="line-428"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="JSPostHscPipeline"><span class="annot"><a href="GHC.Driver.Backend.html#JSPostHscPipeline"><span class="hs-identifier hs-var">JSPostHscPipeline</span></a></span></span><span>
</span><span id="line-429"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NoPostHscPipeline"><span class="annot"><a href="GHC.Driver.Backend.html#NoPostHscPipeline"><span class="hs-identifier hs-var">NoPostHscPipeline</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ After code generation, nothing else need happen.</span></span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span class="hs-comment">-- | Names a function that tells the driver what command-line options</span><span>
</span><span id="line-432"></span><span class="hs-comment">-- to include when invoking a C compiler.  It's meant for @-D@ options that</span><span>
</span><span id="line-433"></span><span class="hs-comment">-- define symbols for the C preprocessor.  Because the exact symbols</span><span>
</span><span id="line-434"></span><span class="hs-comment">-- defined might depend on versions of tools located in the file</span><span>
</span><span id="line-435"></span><span class="hs-comment">-- system (/cough/ LLVM /cough/), the function requires an `IO` action.</span><span>
</span><span id="line-436"></span><span class="hs-comment">-- The function named has this type:</span><span>
</span><span id="line-437"></span><span class="hs-comment">--</span><span>
</span><span id="line-438"></span><span class="hs-comment">-- &gt; Logger -&gt; DynFlags -&gt; IO [String]</span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span class="hs-keyword">data</span><span> </span><span id="DefunctionalizedCDefs"><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedCDefs"><span class="hs-identifier hs-var">DefunctionalizedCDefs</span></a></span></span><span>
</span><span id="line-441"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="NoCDefs"><span class="annot"><a href="GHC.Driver.Backend.html#NoCDefs"><span class="hs-identifier hs-var">NoCDefs</span></a></span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ No additional command-line options are needed</span></span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LlvmCDefs"><span class="annot"><a href="GHC.Driver.Backend.html#LlvmCDefs"><span class="hs-identifier hs-var">LlvmCDefs</span></a></span></span><span> </span><span class="hs-comment">-- ^ Return command-line options that tell GHC about the</span><span>
</span><span id="line-444"></span><span>              </span><span class="hs-comment">-- LLVM version.</span><span>
</span><span id="line-445"></span><span>
</span><span id="line-446"></span><span class="hs-comment">---------------------------------------------------------------------------------</span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span class="hs-comment">-- | An informal description of the back end, for use in</span><span>
</span><span id="line-451"></span><span class="hs-comment">-- issuing warning messages /only/.  If code depends on</span><span>
</span><span id="line-452"></span><span class="hs-comment">-- what's in the string, you deserve what happens to you.</span><span>
</span><span id="line-453"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendDescription"><span class="hs-identifier hs-type">backendDescription</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-454"></span><span id="backendDescription"><span class="annot"><span class="annottext">backendDescription :: Backend -&gt; String
</span><a href="GHC.Driver.Backend.html#backendDescription"><span class="hs-identifier hs-var hs-var">backendDescription</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;native code generator&quot;</span></span><span>
</span><span id="line-455"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendDescription"><span class="hs-identifier hs-var">backendDescription</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;LLVM&quot;</span></span><span>
</span><span id="line-456"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendDescription"><span class="hs-identifier hs-var">backendDescription</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;compiling via C&quot;</span></span><span>
</span><span id="line-457"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendDescription"><span class="hs-identifier hs-var">backendDescription</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;compiling to JavaScript&quot;</span></span><span>
</span><span id="line-458"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendDescription"><span class="hs-identifier hs-var">backendDescription</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;byte-code interpreter&quot;</span></span><span>
</span><span id="line-459"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendDescription"><span class="hs-identifier hs-var">backendDescription</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no code generated&quot;</span></span><span>
</span><span id="line-460"></span><span>
</span><span id="line-461"></span><span class="hs-comment">-- | This flag tells the compiler driver whether the back</span><span>
</span><span id="line-462"></span><span class="hs-comment">-- end will write files: interface files and object files.</span><span>
</span><span id="line-463"></span><span class="hs-comment">-- It is typically true for &quot;real&quot; back ends that generate</span><span>
</span><span id="line-464"></span><span class="hs-comment">-- code into the filesystem.  (That means, not the interpreter.)</span><span>
</span><span id="line-465"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWritesFiles"><span class="hs-identifier hs-type">backendWritesFiles</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-466"></span><span id="backendWritesFiles"><span class="annot"><span class="annottext">backendWritesFiles :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendWritesFiles"><span class="hs-identifier hs-var hs-var">backendWritesFiles</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-467"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWritesFiles"><span class="hs-identifier hs-var">backendWritesFiles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-468"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWritesFiles"><span class="hs-identifier hs-var">backendWritesFiles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-469"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWritesFiles"><span class="hs-identifier hs-var">backendWritesFiles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-470"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWritesFiles"><span class="hs-identifier hs-var">backendWritesFiles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-471"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWritesFiles"><span class="hs-identifier hs-var">backendWritesFiles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span class="hs-comment">-- | When the back end does write files, this value tells</span><span>
</span><span id="line-474"></span><span class="hs-comment">-- the compiler in what manner of file the output should go:</span><span>
</span><span id="line-475"></span><span class="hs-comment">-- temporary, persistent, or specific.</span><span>
</span><span id="line-476"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPipelineOutput"><span class="hs-identifier hs-type">backendPipelineOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Driver.Pipeline.Monad.html#PipelineOutput"><span class="hs-identifier hs-type">PipelineOutput</span></a></span><span>
</span><span id="line-477"></span><span id="backendPipelineOutput"><span class="annot"><span class="annottext">backendPipelineOutput :: Backend -&gt; PipelineOutput
</span><a href="GHC.Driver.Backend.html#backendPipelineOutput"><span class="hs-identifier hs-var hs-var">backendPipelineOutput</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PipelineOutput
</span><a href="GHC.Driver.Pipeline.Monad.html#Persistent"><span class="hs-identifier hs-var">Persistent</span></a></span><span>
</span><span id="line-478"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPipelineOutput"><span class="hs-identifier hs-var">backendPipelineOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PipelineOutput
</span><a href="GHC.Driver.Pipeline.Monad.html#Persistent"><span class="hs-identifier hs-var">Persistent</span></a></span><span>
</span><span id="line-479"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPipelineOutput"><span class="hs-identifier hs-var">backendPipelineOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PipelineOutput
</span><a href="GHC.Driver.Pipeline.Monad.html#Persistent"><span class="hs-identifier hs-var">Persistent</span></a></span><span>
</span><span id="line-480"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPipelineOutput"><span class="hs-identifier hs-var">backendPipelineOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PipelineOutput
</span><a href="GHC.Driver.Pipeline.Monad.html#Persistent"><span class="hs-identifier hs-var">Persistent</span></a></span><span>
</span><span id="line-481"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPipelineOutput"><span class="hs-identifier hs-var">backendPipelineOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PipelineOutput
</span><a href="GHC.Driver.Pipeline.Monad.html#NoOutputFile"><span class="hs-identifier hs-var">NoOutputFile</span></a></span><span>
</span><span id="line-482"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPipelineOutput"><span class="hs-identifier hs-var">backendPipelineOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PipelineOutput
</span><a href="GHC.Driver.Pipeline.Monad.html#NoOutputFile"><span class="hs-identifier hs-var">NoOutputFile</span></a></span><span>
</span><span id="line-483"></span><span>
</span><span id="line-484"></span><span class="hs-comment">-- | This flag tells the driver whether the back end can</span><span>
</span><span id="line-485"></span><span class="hs-comment">-- reuse code (bytecode or object code) that has been</span><span>
</span><span id="line-486"></span><span class="hs-comment">-- loaded dynamically.  Likely true only of the interpreter.</span><span>
</span><span id="line-487"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCanReuseLoadedCode"><span class="hs-identifier hs-type">backendCanReuseLoadedCode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-488"></span><span id="backendCanReuseLoadedCode"><span class="annot"><span class="annottext">backendCanReuseLoadedCode :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendCanReuseLoadedCode"><span class="hs-identifier hs-var hs-var">backendCanReuseLoadedCode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-489"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCanReuseLoadedCode"><span class="hs-identifier hs-var">backendCanReuseLoadedCode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-490"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCanReuseLoadedCode"><span class="hs-identifier hs-var">backendCanReuseLoadedCode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-491"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCanReuseLoadedCode"><span class="hs-identifier hs-var">backendCanReuseLoadedCode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-492"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCanReuseLoadedCode"><span class="hs-identifier hs-var">backendCanReuseLoadedCode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-493"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCanReuseLoadedCode"><span class="hs-identifier hs-var">backendCanReuseLoadedCode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-494"></span><span>
</span><span id="line-495"></span><span class="hs-comment">-- | It is is true of every back end except @-fno-code@</span><span>
</span><span id="line-496"></span><span class="hs-comment">-- that it &quot;generates code.&quot;  Surprisingly, this property</span><span>
</span><span id="line-497"></span><span class="hs-comment">-- influences the driver in a ton of ways.  Some examples:</span><span>
</span><span id="line-498"></span><span class="hs-comment">--</span><span>
</span><span id="line-499"></span><span class="hs-comment">--   * If the back end does not generate code, then the</span><span>
</span><span id="line-500"></span><span class="hs-comment">--     driver needs to turn on code generation for</span><span>
</span><span id="line-501"></span><span class="hs-comment">--     Template Haskell (because that code needs to be</span><span>
</span><span id="line-502"></span><span class="hs-comment">--     generated and run at compile time).</span><span>
</span><span id="line-503"></span><span class="hs-comment">--</span><span>
</span><span id="line-504"></span><span class="hs-comment">--   * If the back end does not generate code, then the</span><span>
</span><span id="line-505"></span><span class="hs-comment">--     driver does not need to deal with an output file.</span><span>
</span><span id="line-506"></span><span class="hs-comment">--</span><span>
</span><span id="line-507"></span><span class="hs-comment">--   * If the back end /does/ generated code, then the</span><span>
</span><span id="line-508"></span><span class="hs-comment">--     driver supports `HscRecomp`.  If not, recompilation</span><span>
</span><span id="line-509"></span><span class="hs-comment">--     does not need a linkable (and is automatically up</span><span>
</span><span id="line-510"></span><span class="hs-comment">--     to date).</span><span>
</span><span id="line-511"></span><span class="hs-comment">--</span><span>
</span><span id="line-512"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesCode"><span class="hs-identifier hs-type">backendGeneratesCode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-513"></span><span id="backendGeneratesCode"><span class="annot"><span class="annottext">backendGeneratesCode :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendGeneratesCode"><span class="hs-identifier hs-var hs-var">backendGeneratesCode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-514"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesCode"><span class="hs-identifier hs-var">backendGeneratesCode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-515"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesCode"><span class="hs-identifier hs-var">backendGeneratesCode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-516"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesCode"><span class="hs-identifier hs-var">backendGeneratesCode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-517"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesCode"><span class="hs-identifier hs-var">backendGeneratesCode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-518"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesCode"><span class="hs-identifier hs-var">backendGeneratesCode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesCodeForHsBoot"><span class="hs-identifier hs-type">backendGeneratesCodeForHsBoot</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-521"></span><span id="backendGeneratesCodeForHsBoot"><span class="annot"><span class="annottext">backendGeneratesCodeForHsBoot :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendGeneratesCodeForHsBoot"><span class="hs-identifier hs-var hs-var">backendGeneratesCodeForHsBoot</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-522"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesCodeForHsBoot"><span class="hs-identifier hs-var">backendGeneratesCodeForHsBoot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-523"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesCodeForHsBoot"><span class="hs-identifier hs-var">backendGeneratesCodeForHsBoot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-524"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesCodeForHsBoot"><span class="hs-identifier hs-var">backendGeneratesCodeForHsBoot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-525"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesCodeForHsBoot"><span class="hs-identifier hs-var">backendGeneratesCodeForHsBoot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-526"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesCodeForHsBoot"><span class="hs-identifier hs-var">backendGeneratesCodeForHsBoot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span class="hs-comment">-- | When set, this flag turns on interface writing for</span><span>
</span><span id="line-529"></span><span class="hs-comment">-- Backpack.  It should probably be the same as</span><span>
</span><span id="line-530"></span><span class="hs-comment">-- `backendGeneratesCode`, but it is kept distinct for</span><span>
</span><span id="line-531"></span><span class="hs-comment">-- reasons described in Note [-fno-code mode].</span><span>
</span><span id="line-532"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsInterfaceWriting"><span class="hs-identifier hs-type">backendSupportsInterfaceWriting</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-533"></span><span id="backendSupportsInterfaceWriting"><span class="annot"><span class="annottext">backendSupportsInterfaceWriting :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendSupportsInterfaceWriting"><span class="hs-identifier hs-var hs-var">backendSupportsInterfaceWriting</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-534"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsInterfaceWriting"><span class="hs-identifier hs-var">backendSupportsInterfaceWriting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-535"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsInterfaceWriting"><span class="hs-identifier hs-var">backendSupportsInterfaceWriting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-536"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsInterfaceWriting"><span class="hs-identifier hs-var">backendSupportsInterfaceWriting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-537"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsInterfaceWriting"><span class="hs-identifier hs-var">backendSupportsInterfaceWriting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-538"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsInterfaceWriting"><span class="hs-identifier hs-var">backendSupportsInterfaceWriting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-539"></span><span>
</span><span id="line-540"></span><span class="hs-comment">-- | When preparing code for this back end, the type</span><span>
</span><span id="line-541"></span><span class="hs-comment">-- checker should pay attention to SPECIALISE pragmas.  If</span><span>
</span><span id="line-542"></span><span class="hs-comment">-- this flag is `False`, then the type checker ignores</span><span>
</span><span id="line-543"></span><span class="hs-comment">-- SPECIALISE pragmas (for imported things?).</span><span>
</span><span id="line-544"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendRespectsSpecialise"><span class="hs-identifier hs-type">backendRespectsSpecialise</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-545"></span><span id="backendRespectsSpecialise"><span class="annot"><span class="annottext">backendRespectsSpecialise :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendRespectsSpecialise"><span class="hs-identifier hs-var hs-var">backendRespectsSpecialise</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-546"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendRespectsSpecialise"><span class="hs-identifier hs-var">backendRespectsSpecialise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-547"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendRespectsSpecialise"><span class="hs-identifier hs-var">backendRespectsSpecialise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-548"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendRespectsSpecialise"><span class="hs-identifier hs-var">backendRespectsSpecialise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-549"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendRespectsSpecialise"><span class="hs-identifier hs-var">backendRespectsSpecialise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-550"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendRespectsSpecialise"><span class="hs-identifier hs-var">backendRespectsSpecialise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span class="hs-comment">-- | This back end wants the `mi_globals` field of a</span><span>
</span><span id="line-553"></span><span class="hs-comment">-- `ModIface` to be populated (with the top-level bindings</span><span>
</span><span id="line-554"></span><span class="hs-comment">-- of the original source).  True for the interpreter, and</span><span>
</span><span id="line-555"></span><span class="hs-comment">-- also true for &quot;no backend&quot;, which is used by Haddock.</span><span>
</span><span id="line-556"></span><span class="hs-comment">-- (After typechecking a module, Haddock wants access to</span><span>
</span><span id="line-557"></span><span class="hs-comment">-- the module's `GlobalRdrEnv`.)</span><span>
</span><span id="line-558"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWantsGlobalBindings"><span class="hs-identifier hs-type">backendWantsGlobalBindings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-559"></span><span id="backendWantsGlobalBindings"><span class="annot"><span class="annottext">backendWantsGlobalBindings :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendWantsGlobalBindings"><span class="hs-identifier hs-var hs-var">backendWantsGlobalBindings</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-560"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWantsGlobalBindings"><span class="hs-identifier hs-var">backendWantsGlobalBindings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-561"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWantsGlobalBindings"><span class="hs-identifier hs-var">backendWantsGlobalBindings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-562"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWantsGlobalBindings"><span class="hs-identifier hs-var">backendWantsGlobalBindings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-563"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWantsGlobalBindings"><span class="hs-identifier hs-var">backendWantsGlobalBindings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-564"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWantsGlobalBindings"><span class="hs-identifier hs-var">backendWantsGlobalBindings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-565"></span><span>
</span><span id="line-566"></span><span class="hs-comment">-- | The back end targets a technology that implements</span><span>
</span><span id="line-567"></span><span class="hs-comment">-- `switch` natively.  (For example, LLVM or C.) Therefore</span><span>
</span><span id="line-568"></span><span class="hs-comment">-- it is not necessary for GHC to ccompile a Cmm `Switch`</span><span>
</span><span id="line-569"></span><span class="hs-comment">-- form into a decision tree with jump tables at the</span><span>
</span><span id="line-570"></span><span class="hs-comment">-- leaves.</span><span>
</span><span id="line-571"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendHasNativeSwitch"><span class="hs-identifier hs-type">backendHasNativeSwitch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-572"></span><span id="backendHasNativeSwitch"><span class="annot"><span class="annottext">backendHasNativeSwitch :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendHasNativeSwitch"><span class="hs-identifier hs-var hs-var">backendHasNativeSwitch</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-573"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendHasNativeSwitch"><span class="hs-identifier hs-var">backendHasNativeSwitch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-574"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendHasNativeSwitch"><span class="hs-identifier hs-var">backendHasNativeSwitch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-575"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendHasNativeSwitch"><span class="hs-identifier hs-var">backendHasNativeSwitch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-576"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendHasNativeSwitch"><span class="hs-identifier hs-var">backendHasNativeSwitch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-577"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendHasNativeSwitch"><span class="hs-identifier hs-var">backendHasNativeSwitch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-578"></span><span>
</span><span id="line-579"></span><span class="hs-comment">-- | As noted in the documentation for</span><span>
</span><span id="line-580"></span><span class="hs-comment">-- `PrimitiveImplementation`, certain primitives have</span><span>
</span><span id="line-581"></span><span class="hs-comment">-- multiple implementations, depending on the capabilities</span><span>
</span><span id="line-582"></span><span class="hs-comment">-- of the back end.  This field signals to module</span><span>
</span><span id="line-583"></span><span class="hs-comment">-- &quot;GHC.StgToCmm.Prim&quot; what implementations to use with</span><span>
</span><span id="line-584"></span><span class="hs-comment">-- this back end.</span><span>
</span><span id="line-585"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPrimitiveImplementation"><span class="hs-identifier hs-type">backendPrimitiveImplementation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#PrimitiveImplementation"><span class="hs-identifier hs-type">PrimitiveImplementation</span></a></span><span>
</span><span id="line-586"></span><span id="backendPrimitiveImplementation"><span class="annot"><span class="annottext">backendPrimitiveImplementation :: Backend -&gt; PrimitiveImplementation
</span><a href="GHC.Driver.Backend.html#backendPrimitiveImplementation"><span class="hs-identifier hs-var hs-var">backendPrimitiveImplementation</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimitiveImplementation
</span><a href="GHC.Driver.Backend.html#NcgPrimitives"><span class="hs-identifier hs-var">NcgPrimitives</span></a></span><span>
</span><span id="line-587"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPrimitiveImplementation"><span class="hs-identifier hs-var">backendPrimitiveImplementation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimitiveImplementation
</span><a href="GHC.Driver.Backend.html#LlvmPrimitives"><span class="hs-identifier hs-var">LlvmPrimitives</span></a></span><span>
</span><span id="line-588"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPrimitiveImplementation"><span class="hs-identifier hs-var">backendPrimitiveImplementation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimitiveImplementation
</span><a href="GHC.Driver.Backend.html#JSPrimitives"><span class="hs-identifier hs-var">JSPrimitives</span></a></span><span>
</span><span id="line-589"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPrimitiveImplementation"><span class="hs-identifier hs-var">backendPrimitiveImplementation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimitiveImplementation
</span><a href="GHC.Driver.Backend.html#GenericPrimitives"><span class="hs-identifier hs-var">GenericPrimitives</span></a></span><span>
</span><span id="line-590"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPrimitiveImplementation"><span class="hs-identifier hs-var">backendPrimitiveImplementation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimitiveImplementation
</span><a href="GHC.Driver.Backend.html#GenericPrimitives"><span class="hs-identifier hs-var">GenericPrimitives</span></a></span><span>
</span><span id="line-591"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPrimitiveImplementation"><span class="hs-identifier hs-var">backendPrimitiveImplementation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimitiveImplementation
</span><a href="GHC.Driver.Backend.html#GenericPrimitives"><span class="hs-identifier hs-var">GenericPrimitives</span></a></span><span>
</span><span id="line-592"></span><span>
</span><span id="line-593"></span><span class="hs-comment">-- | When this value is `IsValid`, the back end is</span><span>
</span><span id="line-594"></span><span class="hs-comment">-- compatible with vector instructions.  When it is</span><span>
</span><span id="line-595"></span><span class="hs-comment">-- `NotValid`, it carries a message that is shown to</span><span>
</span><span id="line-596"></span><span class="hs-comment">-- users.</span><span>
</span><span id="line-597"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSimdValidity"><span class="hs-identifier hs-type">backendSimdValidity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#Validity%27"><span class="hs-identifier hs-type">Validity'</span></a></span><span> </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-598"></span><span id="backendSimdValidity"><span class="annot"><span class="annottext">backendSimdValidity :: Backend -&gt; Validity' String
</span><a href="GHC.Driver.Backend.html#backendSimdValidity"><span class="hs-identifier hs-var hs-var">backendSimdValidity</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Validity' String
forall a. a -&gt; Validity' a
</span><a href="GHC.Utils.Error.html#NotValid"><span class="hs-identifier hs-var">NotValid</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Validity' String) -&gt; String -&gt; Validity' String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../base-4.18.2.1/src/Data.OldList.html#unlines/Data.OldList.html#unlines"><span class="hs-identifier hs-var">unlines</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SIMD vector instructions require the LLVM back-end.&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Please use -fllvm.&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-599"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSimdValidity"><span class="hs-identifier hs-var">backendSimdValidity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validity' String
forall a. Validity' a
</span><a href="GHC.Utils.Error.html#IsValid"><span class="hs-identifier hs-var">IsValid</span></a></span><span>
</span><span id="line-600"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSimdValidity"><span class="hs-identifier hs-var">backendSimdValidity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Validity' String
forall a. a -&gt; Validity' a
</span><a href="GHC.Utils.Error.html#NotValid"><span class="hs-identifier hs-var">NotValid</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Validity' String) -&gt; String -&gt; Validity' String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../base-4.18.2.1/src/Data.OldList.html#unlines/Data.OldList.html#unlines"><span class="hs-identifier hs-var">unlines</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SIMD vector instructions require the LLVM back-end.&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Please use -fllvm.&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-601"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSimdValidity"><span class="hs-identifier hs-var">backendSimdValidity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Validity' String
forall a. a -&gt; Validity' a
</span><a href="GHC.Utils.Error.html#NotValid"><span class="hs-identifier hs-var">NotValid</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Validity' String) -&gt; String -&gt; Validity' String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../base-4.18.2.1/src/Data.OldList.html#unlines/Data.OldList.html#unlines"><span class="hs-identifier hs-var">unlines</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SIMD vector instructions require the LLVM back-end.&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Please use -fllvm.&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-602"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSimdValidity"><span class="hs-identifier hs-var">backendSimdValidity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Validity' String
forall a. a -&gt; Validity' a
</span><a href="GHC.Utils.Error.html#NotValid"><span class="hs-identifier hs-var">NotValid</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Validity' String) -&gt; String -&gt; Validity' String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../base-4.18.2.1/src/Data.OldList.html#unlines/Data.OldList.html#unlines"><span class="hs-identifier hs-var">unlines</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SIMD vector instructions require the LLVM back-end.&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Please use -fllvm.&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-603"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSimdValidity"><span class="hs-identifier hs-var">backendSimdValidity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Validity' String
forall a. a -&gt; Validity' a
</span><a href="GHC.Utils.Error.html#NotValid"><span class="hs-identifier hs-var">NotValid</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Validity' String) -&gt; String -&gt; Validity' String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../base-4.18.2.1/src/Data.OldList.html#unlines/Data.OldList.html#unlines"><span class="hs-identifier hs-var">unlines</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SIMD vector instructions require the LLVM back-end.&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Please use -fllvm.&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-604"></span><span>
</span><span id="line-605"></span><span class="hs-comment">-- | This flag says whether the back end supports large</span><span>
</span><span id="line-606"></span><span class="hs-comment">-- binary blobs.  See Note [Embedding large binary blobs]</span><span>
</span><span id="line-607"></span><span class="hs-comment">-- in &quot;GHC.CmmToAsm.Ppr&quot;.</span><span>
</span><span id="line-608"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsEmbeddedBlobs"><span class="hs-identifier hs-type">backendSupportsEmbeddedBlobs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-609"></span><span id="backendSupportsEmbeddedBlobs"><span class="annot"><span class="annottext">backendSupportsEmbeddedBlobs :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendSupportsEmbeddedBlobs"><span class="hs-identifier hs-var hs-var">backendSupportsEmbeddedBlobs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-610"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsEmbeddedBlobs"><span class="hs-identifier hs-var">backendSupportsEmbeddedBlobs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-611"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsEmbeddedBlobs"><span class="hs-identifier hs-var">backendSupportsEmbeddedBlobs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-612"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsEmbeddedBlobs"><span class="hs-identifier hs-var">backendSupportsEmbeddedBlobs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-613"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsEmbeddedBlobs"><span class="hs-identifier hs-var">backendSupportsEmbeddedBlobs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-614"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsEmbeddedBlobs"><span class="hs-identifier hs-var">backendSupportsEmbeddedBlobs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-615"></span><span>
</span><span id="line-616"></span><span class="hs-comment">-- | This flag tells the compiler driver that the back end</span><span>
</span><span id="line-617"></span><span class="hs-comment">-- does not support every target platform; it supports</span><span>
</span><span id="line-618"></span><span class="hs-comment">-- only platforms that claim NCG support.  (It's set only</span><span>
</span><span id="line-619"></span><span class="hs-comment">-- for the native code generator.)  Crufty.  If the driver</span><span>
</span><span id="line-620"></span><span class="hs-comment">-- tries to use the native code generator /without/</span><span>
</span><span id="line-621"></span><span class="hs-comment">-- platform support, the driver fails over to the LLVM</span><span>
</span><span id="line-622"></span><span class="hs-comment">-- back end.</span><span>
</span><span id="line-623"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNeedsPlatformNcgSupport"><span class="hs-identifier hs-type">backendNeedsPlatformNcgSupport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-624"></span><span id="backendNeedsPlatformNcgSupport"><span class="annot"><span class="annottext">backendNeedsPlatformNcgSupport :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendNeedsPlatformNcgSupport"><span class="hs-identifier hs-var hs-var">backendNeedsPlatformNcgSupport</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-625"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNeedsPlatformNcgSupport"><span class="hs-identifier hs-var">backendNeedsPlatformNcgSupport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-626"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNeedsPlatformNcgSupport"><span class="hs-identifier hs-var">backendNeedsPlatformNcgSupport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-627"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNeedsPlatformNcgSupport"><span class="hs-identifier hs-var">backendNeedsPlatformNcgSupport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-628"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNeedsPlatformNcgSupport"><span class="hs-identifier hs-var">backendNeedsPlatformNcgSupport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-629"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNeedsPlatformNcgSupport"><span class="hs-identifier hs-var">backendNeedsPlatformNcgSupport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-630"></span><span>
</span><span id="line-631"></span><span class="hs-comment">-- | This flag is set if the back end can generate code</span><span>
</span><span id="line-632"></span><span class="hs-comment">-- for proc points.  If the flag is not set, then a Cmm</span><span>
</span><span id="line-633"></span><span class="hs-comment">-- pass needs to split proc points (that is, turn each</span><span>
</span><span id="line-634"></span><span class="hs-comment">-- proc point into a standalone procedure).</span><span>
</span><span id="line-635"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsUnsplitProcPoints"><span class="hs-identifier hs-type">backendSupportsUnsplitProcPoints</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-636"></span><span id="backendSupportsUnsplitProcPoints"><span class="annot"><span class="annottext">backendSupportsUnsplitProcPoints :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendSupportsUnsplitProcPoints"><span class="hs-identifier hs-var hs-var">backendSupportsUnsplitProcPoints</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-637"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsUnsplitProcPoints"><span class="hs-identifier hs-var">backendSupportsUnsplitProcPoints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-638"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsUnsplitProcPoints"><span class="hs-identifier hs-var">backendSupportsUnsplitProcPoints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-639"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsUnsplitProcPoints"><span class="hs-identifier hs-var">backendSupportsUnsplitProcPoints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-640"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsUnsplitProcPoints"><span class="hs-identifier hs-var">backendSupportsUnsplitProcPoints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-641"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsUnsplitProcPoints"><span class="hs-identifier hs-var">backendSupportsUnsplitProcPoints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-642"></span><span>
</span><span id="line-643"></span><span class="hs-comment">-- | This flag guides the driver in resolving issues about</span><span>
</span><span id="line-644"></span><span class="hs-comment">-- API support on the target platform. If the flag is set,</span><span>
</span><span id="line-645"></span><span class="hs-comment">-- then these things are true:</span><span>
</span><span id="line-646"></span><span class="hs-comment">--</span><span>
</span><span id="line-647"></span><span class="hs-comment">--    * When the target platform supports /only/ an unregisterised API,</span><span>
</span><span id="line-648"></span><span class="hs-comment">--      this backend can be replaced with compilation via C.</span><span>
</span><span id="line-649"></span><span class="hs-comment">--</span><span>
</span><span id="line-650"></span><span class="hs-comment">--    * When the target does /not/ support an unregisterised API,</span><span>
</span><span id="line-651"></span><span class="hs-comment">--      this back end can replace compilation via C.</span><span>
</span><span id="line-652"></span><span class="hs-comment">--</span><span>
</span><span id="line-653"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSwappableWithViaC"><span class="hs-identifier hs-type">backendSwappableWithViaC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-654"></span><span id="backendSwappableWithViaC"><span class="annot"><span class="annottext">backendSwappableWithViaC :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendSwappableWithViaC"><span class="hs-identifier hs-var hs-var">backendSwappableWithViaC</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-655"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSwappableWithViaC"><span class="hs-identifier hs-var">backendSwappableWithViaC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-656"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSwappableWithViaC"><span class="hs-identifier hs-var">backendSwappableWithViaC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-657"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSwappableWithViaC"><span class="hs-identifier hs-var">backendSwappableWithViaC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-658"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSwappableWithViaC"><span class="hs-identifier hs-var">backendSwappableWithViaC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-659"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSwappableWithViaC"><span class="hs-identifier hs-var">backendSwappableWithViaC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-660"></span><span>
</span><span id="line-661"></span><span class="hs-comment">-- | This flag is true if the back end works *only* with</span><span>
</span><span id="line-662"></span><span class="hs-comment">-- the unregisterised ABI.</span><span>
</span><span id="line-663"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendUnregisterisedAbiOnly"><span class="hs-identifier hs-type">backendUnregisterisedAbiOnly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-664"></span><span id="backendUnregisterisedAbiOnly"><span class="annot"><span class="annottext">backendUnregisterisedAbiOnly :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendUnregisterisedAbiOnly"><span class="hs-identifier hs-var hs-var">backendUnregisterisedAbiOnly</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-665"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendUnregisterisedAbiOnly"><span class="hs-identifier hs-var">backendUnregisterisedAbiOnly</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-666"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendUnregisterisedAbiOnly"><span class="hs-identifier hs-var">backendUnregisterisedAbiOnly</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-667"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendUnregisterisedAbiOnly"><span class="hs-identifier hs-var">backendUnregisterisedAbiOnly</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-668"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendUnregisterisedAbiOnly"><span class="hs-identifier hs-var">backendUnregisterisedAbiOnly</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-669"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendUnregisterisedAbiOnly"><span class="hs-identifier hs-var">backendUnregisterisedAbiOnly</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-670"></span><span>
</span><span id="line-671"></span><span class="hs-comment">-- | This flag is set if the back end generates C code in</span><span>
</span><span id="line-672"></span><span class="hs-comment">-- a @.hc@ file.  The flag lets the compiler driver know</span><span>
</span><span id="line-673"></span><span class="hs-comment">-- if the command-line flag @-C@ is meaningful.</span><span>
</span><span id="line-674"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesHc"><span class="hs-identifier hs-type">backendGeneratesHc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-675"></span><span id="backendGeneratesHc"><span class="annot"><span class="annottext">backendGeneratesHc :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendGeneratesHc"><span class="hs-identifier hs-var hs-var">backendGeneratesHc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-676"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesHc"><span class="hs-identifier hs-var">backendGeneratesHc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-677"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesHc"><span class="hs-identifier hs-var">backendGeneratesHc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-678"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesHc"><span class="hs-identifier hs-var">backendGeneratesHc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-679"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesHc"><span class="hs-identifier hs-var">backendGeneratesHc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-680"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendGeneratesHc"><span class="hs-identifier hs-var">backendGeneratesHc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-681"></span><span>
</span><span id="line-682"></span><span class="hs-comment">-- | This flag says whether SPT (static pointer table)</span><span>
</span><span id="line-683"></span><span class="hs-comment">-- entries will be inserted dynamically if needed.  If</span><span>
</span><span id="line-684"></span><span class="hs-comment">-- this flag is `False`, then &quot;GHC.Iface.Tidy&quot; should emit C</span><span>
</span><span id="line-685"></span><span class="hs-comment">-- stubs that initialize the SPT entries.</span><span>
</span><span id="line-686"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSptIsDynamic"><span class="hs-identifier hs-type">backendSptIsDynamic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-687"></span><span id="backendSptIsDynamic"><span class="annot"><span class="annottext">backendSptIsDynamic :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendSptIsDynamic"><span class="hs-identifier hs-var hs-var">backendSptIsDynamic</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-688"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSptIsDynamic"><span class="hs-identifier hs-var">backendSptIsDynamic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-689"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSptIsDynamic"><span class="hs-identifier hs-var">backendSptIsDynamic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-690"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSptIsDynamic"><span class="hs-identifier hs-var">backendSptIsDynamic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-691"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSptIsDynamic"><span class="hs-identifier hs-var">backendSptIsDynamic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-692"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSptIsDynamic"><span class="hs-identifier hs-var">backendSptIsDynamic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-693"></span><span>
</span><span id="line-694"></span><span class="hs-comment">-- | If this flag is set, then &quot;GHC.HsToCore.Ticks&quot;</span><span>
</span><span id="line-695"></span><span class="hs-comment">-- inserts `Breakpoint` ticks.  Used only for the</span><span>
</span><span id="line-696"></span><span class="hs-comment">-- interpreter.</span><span>
</span><span id="line-697"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWantsBreakpointTicks"><span class="hs-identifier hs-type">backendWantsBreakpointTicks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-698"></span><span id="backendWantsBreakpointTicks"><span class="annot"><span class="annottext">backendWantsBreakpointTicks :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendWantsBreakpointTicks"><span class="hs-identifier hs-var hs-var">backendWantsBreakpointTicks</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-699"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWantsBreakpointTicks"><span class="hs-identifier hs-var">backendWantsBreakpointTicks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-700"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWantsBreakpointTicks"><span class="hs-identifier hs-var">backendWantsBreakpointTicks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-701"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWantsBreakpointTicks"><span class="hs-identifier hs-var">backendWantsBreakpointTicks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-702"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWantsBreakpointTicks"><span class="hs-identifier hs-var">backendWantsBreakpointTicks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-703"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendWantsBreakpointTicks"><span class="hs-identifier hs-var">backendWantsBreakpointTicks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-704"></span><span>
</span><span id="line-705"></span><span class="hs-comment">-- | If this flag is set, then the driver forces the</span><span>
</span><span id="line-706"></span><span class="hs-comment">-- optimization level to 0, issuing a warning message if</span><span>
</span><span id="line-707"></span><span class="hs-comment">-- the command line requested a higher optimization level.</span><span>
</span><span id="line-708"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendForcesOptimization0"><span class="hs-identifier hs-type">backendForcesOptimization0</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-709"></span><span id="backendForcesOptimization0"><span class="annot"><span class="annottext">backendForcesOptimization0 :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendForcesOptimization0"><span class="hs-identifier hs-var hs-var">backendForcesOptimization0</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-710"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendForcesOptimization0"><span class="hs-identifier hs-var">backendForcesOptimization0</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-711"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendForcesOptimization0"><span class="hs-identifier hs-var">backendForcesOptimization0</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-712"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendForcesOptimization0"><span class="hs-identifier hs-var">backendForcesOptimization0</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-713"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendForcesOptimization0"><span class="hs-identifier hs-var">backendForcesOptimization0</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-714"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendForcesOptimization0"><span class="hs-identifier hs-var">backendForcesOptimization0</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-715"></span><span>
</span><span id="line-716"></span><span class="hs-comment">-- | I don't understand exactly how this works.  But if</span><span>
</span><span id="line-717"></span><span class="hs-comment">-- this flag is set *and* another condition is met, then</span><span>
</span><span id="line-718"></span><span class="hs-comment">-- @ghc/Main.hs@ will alter the `DynFlags` so that all the</span><span>
</span><span id="line-719"></span><span class="hs-comment">-- `hostFullWays` are asked for.  It is set only for the interpreter.</span><span>
</span><span id="line-720"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNeedsFullWays"><span class="hs-identifier hs-type">backendNeedsFullWays</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-721"></span><span id="backendNeedsFullWays"><span class="annot"><span class="annottext">backendNeedsFullWays :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendNeedsFullWays"><span class="hs-identifier hs-var hs-var">backendNeedsFullWays</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-722"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNeedsFullWays"><span class="hs-identifier hs-var">backendNeedsFullWays</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-723"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNeedsFullWays"><span class="hs-identifier hs-var">backendNeedsFullWays</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-724"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNeedsFullWays"><span class="hs-identifier hs-var">backendNeedsFullWays</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-725"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNeedsFullWays"><span class="hs-identifier hs-var">backendNeedsFullWays</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-726"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNeedsFullWays"><span class="hs-identifier hs-var">backendNeedsFullWays</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-727"></span><span>
</span><span id="line-728"></span><span class="hs-comment">-- | This flag is also special for the interpreter: if a</span><span>
</span><span id="line-729"></span><span class="hs-comment">-- message about a module needs to be shown, do we know</span><span>
</span><span id="line-730"></span><span class="hs-comment">-- anything special about where the module came from?  The</span><span>
</span><span id="line-731"></span><span class="hs-comment">-- Boolean argument is a `recomp` flag.</span><span>
</span><span id="line-732"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSpecialModuleSource"><span class="hs-identifier hs-type">backendSpecialModuleSource</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Maybe/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../base-4.18.2.1/src/GHC.Base.html#String/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-733"></span><span id="backendSpecialModuleSource"><span class="annot"><span class="annottext">backendSpecialModuleSource :: Backend -&gt; Bool -&gt; Maybe String
</span><a href="GHC.Driver.Backend.html#backendSpecialModuleSource"><span class="hs-identifier hs-var hs-var">backendSpecialModuleSource</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Bool -&gt; Maybe String
forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#const/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-734"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSpecialModuleSource"><span class="hs-identifier hs-var">backendSpecialModuleSource</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Bool -&gt; Maybe String
forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#const/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-735"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSpecialModuleSource"><span class="hs-identifier hs-var">backendSpecialModuleSource</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Bool -&gt; Maybe String
forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#const/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-736"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSpecialModuleSource"><span class="hs-identifier hs-var">backendSpecialModuleSource</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Bool -&gt; Maybe String
forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#const/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-737"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSpecialModuleSource"><span class="hs-identifier hs-var">backendSpecialModuleSource</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681588740"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681588740"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681588740"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;interpreted&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Nothing/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-738"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSpecialModuleSource"><span class="hs-identifier hs-var">backendSpecialModuleSource</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Bool -&gt; Maybe String
forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#const/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><a href="../../base-4.18.2.1/src/GHC.Maybe.html#Just/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;nothing&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-739"></span><span>
</span><span id="line-740"></span><span class="hs-comment">-- | This flag says whether the back end supports Haskell</span><span>
</span><span id="line-741"></span><span class="hs-comment">-- Program Coverage (HPC). If not, the compiler driver</span><span>
</span><span id="line-742"></span><span class="hs-comment">-- will ignore the `-fhpc` option (and will issue a</span><span>
</span><span id="line-743"></span><span class="hs-comment">-- warning message if it is used).</span><span>
</span><span id="line-744"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsHpc"><span class="hs-identifier hs-type">backendSupportsHpc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-745"></span><span id="backendSupportsHpc"><span class="annot"><span class="annottext">backendSupportsHpc :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendSupportsHpc"><span class="hs-identifier hs-var hs-var">backendSupportsHpc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-746"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsHpc"><span class="hs-identifier hs-var">backendSupportsHpc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-747"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsHpc"><span class="hs-identifier hs-var">backendSupportsHpc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-748"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsHpc"><span class="hs-identifier hs-var">backendSupportsHpc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-749"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsHpc"><span class="hs-identifier hs-var">backendSupportsHpc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-750"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsHpc"><span class="hs-identifier hs-var">backendSupportsHpc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-751"></span><span>
</span><span id="line-752"></span><span class="hs-comment">-- | This flag says whether the back end supports foreign</span><span>
</span><span id="line-753"></span><span class="hs-comment">-- import of C functions.  (&quot;Supports&quot; means &quot;does not</span><span>
</span><span id="line-754"></span><span class="hs-comment">-- barf on,&quot; so @-fno-code@ supports foreign C imports.)</span><span>
</span><span id="line-755"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsCImport"><span class="hs-identifier hs-type">backendSupportsCImport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-756"></span><span id="backendSupportsCImport"><span class="annot"><span class="annottext">backendSupportsCImport :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendSupportsCImport"><span class="hs-identifier hs-var hs-var">backendSupportsCImport</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-757"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsCImport"><span class="hs-identifier hs-var">backendSupportsCImport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-758"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsCImport"><span class="hs-identifier hs-var">backendSupportsCImport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-759"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsCImport"><span class="hs-identifier hs-var">backendSupportsCImport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-760"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsCImport"><span class="hs-identifier hs-var">backendSupportsCImport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-761"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsCImport"><span class="hs-identifier hs-var">backendSupportsCImport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-762"></span><span>
</span><span id="line-763"></span><span class="hs-comment">-- | This flag says whether the back end supports foreign</span><span>
</span><span id="line-764"></span><span class="hs-comment">-- export of Haskell functions to C.</span><span>
</span><span id="line-765"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsCExport"><span class="hs-identifier hs-type">backendSupportsCExport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-766"></span><span id="backendSupportsCExport"><span class="annot"><span class="annottext">backendSupportsCExport :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendSupportsCExport"><span class="hs-identifier hs-var hs-var">backendSupportsCExport</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-767"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsCExport"><span class="hs-identifier hs-var">backendSupportsCExport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-768"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsCExport"><span class="hs-identifier hs-var">backendSupportsCExport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-769"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsCExport"><span class="hs-identifier hs-var">backendSupportsCExport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-770"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsCExport"><span class="hs-identifier hs-var">backendSupportsCExport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-771"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendSupportsCExport"><span class="hs-identifier hs-var">backendSupportsCExport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-772"></span><span>
</span><span id="line-773"></span><span class="hs-comment">-- | This (defunctionalized) function runs the assembler</span><span>
</span><span id="line-774"></span><span class="hs-comment">-- used on the code that is written by this back end.  A</span><span>
</span><span id="line-775"></span><span class="hs-comment">-- program determined by a combination of back end,</span><span>
</span><span id="line-776"></span><span class="hs-comment">-- `DynFlags`, and `Platform` is run with the given</span><span>
</span><span id="line-777"></span><span class="hs-comment">-- `Option`s.</span><span>
</span><span id="line-778"></span><span class="hs-comment">--</span><span>
</span><span id="line-779"></span><span class="hs-comment">-- The function's type is</span><span>
</span><span id="line-780"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-781"></span><span class="hs-comment">-- Logger -&gt; DynFlags -&gt; Platform -&gt; [Option] -&gt; IO ()</span><span>
</span><span id="line-782"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-783"></span><span class="hs-comment">--</span><span>
</span><span id="line-784"></span><span class="hs-comment">-- This field is usually defaulted.</span><span>
</span><span id="line-785"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendAssemblerProg"><span class="hs-identifier hs-type">backendAssemblerProg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedAssemblerProg"><span class="hs-identifier hs-type">DefunctionalizedAssemblerProg</span></a></span><span>
</span><span id="line-786"></span><span id="backendAssemblerProg"><span class="annot"><span class="annottext">backendAssemblerProg :: Backend -&gt; DefunctionalizedAssemblerProg
</span><a href="GHC.Driver.Backend.html#backendAssemblerProg"><span class="hs-identifier hs-var hs-var">backendAssemblerProg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedAssemblerProg
</span><a href="GHC.Driver.Backend.html#StandardAssemblerProg"><span class="hs-identifier hs-var">StandardAssemblerProg</span></a></span><span>
</span><span id="line-787"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendAssemblerProg"><span class="hs-identifier hs-var">backendAssemblerProg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedAssemblerProg
</span><a href="GHC.Driver.Backend.html#DarwinClangAssemblerProg"><span class="hs-identifier hs-var">DarwinClangAssemblerProg</span></a></span><span>
</span><span id="line-788"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendAssemblerProg"><span class="hs-identifier hs-var">backendAssemblerProg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedAssemblerProg
</span><a href="GHC.Driver.Backend.html#StandardAssemblerProg"><span class="hs-identifier hs-var">StandardAssemblerProg</span></a></span><span>
</span><span id="line-789"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendAssemblerProg"><span class="hs-identifier hs-var">backendAssemblerProg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedAssemblerProg
</span><a href="GHC.Driver.Backend.html#JSAssemblerProg"><span class="hs-identifier hs-var">JSAssemblerProg</span></a></span><span>
</span><span id="line-790"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendAssemblerProg"><span class="hs-identifier hs-var">backendAssemblerProg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedAssemblerProg
</span><a href="GHC.Driver.Backend.html#StandardAssemblerProg"><span class="hs-identifier hs-var">StandardAssemblerProg</span></a></span><span>
</span><span id="line-791"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendAssemblerProg"><span class="hs-identifier hs-var">backendAssemblerProg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedAssemblerProg
</span><a href="GHC.Driver.Backend.html#StandardAssemblerProg"><span class="hs-identifier hs-var">StandardAssemblerProg</span></a></span><span>
</span><span id="line-792"></span><span>
</span><span id="line-793"></span><span class="hs-comment">-- | This (defunctionalized) function is used to retrieve</span><span>
</span><span id="line-794"></span><span class="hs-comment">-- an enumeration value that characterizes the C/assembler</span><span>
</span><span id="line-795"></span><span class="hs-comment">-- part of a toolchain.  The function caches the info in a</span><span>
</span><span id="line-796"></span><span class="hs-comment">-- mutable variable that is part of the `DynFlags`.</span><span>
</span><span id="line-797"></span><span class="hs-comment">--</span><span>
</span><span id="line-798"></span><span class="hs-comment">-- The function's type is</span><span>
</span><span id="line-799"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-800"></span><span class="hs-comment">-- Logger -&gt; DynFlags -&gt; Platform -&gt; IO CompilerInfo</span><span>
</span><span id="line-801"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-802"></span><span class="hs-comment">--</span><span>
</span><span id="line-803"></span><span class="hs-comment">-- This field is usually defaulted.</span><span>
</span><span id="line-804"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendAssemblerInfoGetter"><span class="hs-identifier hs-type">backendAssemblerInfoGetter</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedAssemblerInfoGetter"><span class="hs-identifier hs-type">DefunctionalizedAssemblerInfoGetter</span></a></span><span>
</span><span id="line-805"></span><span id="backendAssemblerInfoGetter"><span class="annot"><span class="annottext">backendAssemblerInfoGetter :: Backend -&gt; DefunctionalizedAssemblerInfoGetter
</span><a href="GHC.Driver.Backend.html#backendAssemblerInfoGetter"><span class="hs-identifier hs-var hs-var">backendAssemblerInfoGetter</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedAssemblerInfoGetter
</span><a href="GHC.Driver.Backend.html#StandardAssemblerInfoGetter"><span class="hs-identifier hs-var">StandardAssemblerInfoGetter</span></a></span><span>
</span><span id="line-806"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendAssemblerInfoGetter"><span class="hs-identifier hs-var">backendAssemblerInfoGetter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedAssemblerInfoGetter
</span><a href="GHC.Driver.Backend.html#DarwinClangAssemblerInfoGetter"><span class="hs-identifier hs-var">DarwinClangAssemblerInfoGetter</span></a></span><span>
</span><span id="line-807"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendAssemblerInfoGetter"><span class="hs-identifier hs-var">backendAssemblerInfoGetter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedAssemblerInfoGetter
</span><a href="GHC.Driver.Backend.html#StandardAssemblerInfoGetter"><span class="hs-identifier hs-var">StandardAssemblerInfoGetter</span></a></span><span>
</span><span id="line-808"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendAssemblerInfoGetter"><span class="hs-identifier hs-var">backendAssemblerInfoGetter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedAssemblerInfoGetter
</span><a href="GHC.Driver.Backend.html#JSAssemblerInfoGetter"><span class="hs-identifier hs-var">JSAssemblerInfoGetter</span></a></span><span>
</span><span id="line-809"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendAssemblerInfoGetter"><span class="hs-identifier hs-var">backendAssemblerInfoGetter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedAssemblerInfoGetter
</span><a href="GHC.Driver.Backend.html#StandardAssemblerInfoGetter"><span class="hs-identifier hs-var">StandardAssemblerInfoGetter</span></a></span><span>
</span><span id="line-810"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendAssemblerInfoGetter"><span class="hs-identifier hs-var">backendAssemblerInfoGetter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedAssemblerInfoGetter
</span><a href="GHC.Driver.Backend.html#StandardAssemblerInfoGetter"><span class="hs-identifier hs-var">StandardAssemblerInfoGetter</span></a></span><span>
</span><span id="line-811"></span><span>
</span><span id="line-812"></span><span class="hs-comment">-- | When using this back end, it may be necessary or</span><span>
</span><span id="line-813"></span><span class="hs-comment">-- advisable to pass some `-D` options to a C compiler.</span><span>
</span><span id="line-814"></span><span class="hs-comment">-- This (defunctionalized) function produces those</span><span>
</span><span id="line-815"></span><span class="hs-comment">-- options, if any.  An IO action may be necessary in</span><span>
</span><span id="line-816"></span><span class="hs-comment">-- order to interrogate external tools about what version</span><span>
</span><span id="line-817"></span><span class="hs-comment">-- they are, for example.</span><span>
</span><span id="line-818"></span><span class="hs-comment">--</span><span>
</span><span id="line-819"></span><span class="hs-comment">-- The function's type is</span><span>
</span><span id="line-820"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-821"></span><span class="hs-comment">-- Logger -&gt; DynFlags -&gt; IO [String]</span><span>
</span><span id="line-822"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-823"></span><span class="hs-comment">--</span><span>
</span><span id="line-824"></span><span class="hs-comment">-- This field is usually defaulted.</span><span>
</span><span id="line-825"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCDefs"><span class="hs-identifier hs-type">backendCDefs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedCDefs"><span class="hs-identifier hs-type">DefunctionalizedCDefs</span></a></span><span>
</span><span id="line-826"></span><span id="backendCDefs"><span class="annot"><span class="annottext">backendCDefs :: Backend -&gt; DefunctionalizedCDefs
</span><a href="GHC.Driver.Backend.html#backendCDefs"><span class="hs-identifier hs-var hs-var">backendCDefs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedCDefs
</span><a href="GHC.Driver.Backend.html#NoCDefs"><span class="hs-identifier hs-var">NoCDefs</span></a></span><span>
</span><span id="line-827"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCDefs"><span class="hs-identifier hs-var">backendCDefs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedCDefs
</span><a href="GHC.Driver.Backend.html#LlvmCDefs"><span class="hs-identifier hs-var">LlvmCDefs</span></a></span><span>
</span><span id="line-828"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCDefs"><span class="hs-identifier hs-var">backendCDefs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedCDefs
</span><a href="GHC.Driver.Backend.html#NoCDefs"><span class="hs-identifier hs-var">NoCDefs</span></a></span><span>
</span><span id="line-829"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCDefs"><span class="hs-identifier hs-var">backendCDefs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedCDefs
</span><a href="GHC.Driver.Backend.html#NoCDefs"><span class="hs-identifier hs-var">NoCDefs</span></a></span><span>
</span><span id="line-830"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCDefs"><span class="hs-identifier hs-var">backendCDefs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedCDefs
</span><a href="GHC.Driver.Backend.html#NoCDefs"><span class="hs-identifier hs-var">NoCDefs</span></a></span><span>
</span><span id="line-831"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCDefs"><span class="hs-identifier hs-var">backendCDefs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedCDefs
</span><a href="GHC.Driver.Backend.html#NoCDefs"><span class="hs-identifier hs-var">NoCDefs</span></a></span><span>
</span><span id="line-832"></span><span>
</span><span id="line-833"></span><span class="hs-comment">-- | This (defunctionalized) function generates code and</span><span>
</span><span id="line-834"></span><span class="hs-comment">-- writes it to a file.  The type of the function is</span><span>
</span><span id="line-835"></span><span class="hs-comment">--</span><span>
</span><span id="line-836"></span><span class="hs-comment">-- &gt;    Logger</span><span>
</span><span id="line-837"></span><span class="hs-comment">-- &gt; -&gt; DynFlags</span><span>
</span><span id="line-838"></span><span class="hs-comment">-- &gt; -&gt; Module -- ^ module being compiled</span><span>
</span><span id="line-839"></span><span class="hs-comment">-- &gt; -&gt; ModLocation</span><span>
</span><span id="line-840"></span><span class="hs-comment">-- &gt; -&gt; FilePath -- ^ Where to write output</span><span>
</span><span id="line-841"></span><span class="hs-comment">-- &gt; -&gt; Set UnitId -- ^ dependencies</span><span>
</span><span id="line-842"></span><span class="hs-comment">-- &gt; -&gt; Stream IO RawCmmGroup a -- results from `StgToCmm`</span><span>
</span><span id="line-843"></span><span class="hs-comment">-- &gt; -&gt; IO a</span><span>
</span><span id="line-844"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCodeOutput"><span class="hs-identifier hs-type">backendCodeOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedCodeOutput"><span class="hs-identifier hs-type">DefunctionalizedCodeOutput</span></a></span><span>
</span><span id="line-845"></span><span id="backendCodeOutput"><span class="annot"><span class="annottext">backendCodeOutput :: Backend -&gt; DefunctionalizedCodeOutput
</span><a href="GHC.Driver.Backend.html#backendCodeOutput"><span class="hs-identifier hs-var hs-var">backendCodeOutput</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedCodeOutput
</span><a href="GHC.Driver.Backend.html#NcgCodeOutput"><span class="hs-identifier hs-var">NcgCodeOutput</span></a></span><span>
</span><span id="line-846"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCodeOutput"><span class="hs-identifier hs-var">backendCodeOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedCodeOutput
</span><a href="GHC.Driver.Backend.html#LlvmCodeOutput"><span class="hs-identifier hs-var">LlvmCodeOutput</span></a></span><span>
</span><span id="line-847"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCodeOutput"><span class="hs-identifier hs-var">backendCodeOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedCodeOutput
</span><a href="GHC.Driver.Backend.html#ViaCCodeOutput"><span class="hs-identifier hs-var">ViaCCodeOutput</span></a></span><span>
</span><span id="line-848"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCodeOutput"><span class="hs-identifier hs-var">backendCodeOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedCodeOutput
</span><a href="GHC.Driver.Backend.html#JSCodeOutput"><span class="hs-identifier hs-var">JSCodeOutput</span></a></span><span>
</span><span id="line-849"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCodeOutput"><span class="hs-identifier hs-var">backendCodeOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; DefunctionalizedCodeOutput
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;backendCodeOutput: interpreterBackend&quot;</span></span><span>
</span><span id="line-850"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendCodeOutput"><span class="hs-identifier hs-var">backendCodeOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; DefunctionalizedCodeOutput
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;backendCodeOutput: noBackend&quot;</span></span><span>
</span><span id="line-851"></span><span>
</span><span id="line-852"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendUseJSLinker"><span class="hs-identifier hs-type">backendUseJSLinker</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-853"></span><span id="backendUseJSLinker"><span class="annot"><span class="annottext">backendUseJSLinker :: Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendUseJSLinker"><span class="hs-identifier hs-var hs-var">backendUseJSLinker</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-854"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendUseJSLinker"><span class="hs-identifier hs-var">backendUseJSLinker</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-855"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendUseJSLinker"><span class="hs-identifier hs-var">backendUseJSLinker</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-856"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendUseJSLinker"><span class="hs-identifier hs-var">backendUseJSLinker</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-857"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendUseJSLinker"><span class="hs-identifier hs-var">backendUseJSLinker</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-858"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendUseJSLinker"><span class="hs-identifier hs-var">backendUseJSLinker</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-859"></span><span>
</span><span id="line-860"></span><span class="hs-comment">-- | This (defunctionalized) function tells the compiler</span><span>
</span><span id="line-861"></span><span class="hs-comment">-- driver what else has to be run after code output.</span><span>
</span><span id="line-862"></span><span class="hs-comment">-- The type of the function is</span><span>
</span><span id="line-863"></span><span class="hs-comment">--</span><span>
</span><span id="line-864"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-865"></span><span class="hs-comment">-- &gt;    TPipelineClass TPhase m</span><span>
</span><span id="line-866"></span><span class="hs-comment">-- &gt; =&gt; PipeEnv</span><span>
</span><span id="line-867"></span><span class="hs-comment">-- &gt; -&gt; HscEnv</span><span>
</span><span id="line-868"></span><span class="hs-comment">-- &gt; -&gt; Maybe ModLocation</span><span>
</span><span id="line-869"></span><span class="hs-comment">-- &gt; -&gt; FilePath</span><span>
</span><span id="line-870"></span><span class="hs-comment">-- &gt; -&gt; m (Maybe FilePath)</span><span>
</span><span id="line-871"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPostHscPipeline"><span class="hs-identifier hs-type">backendPostHscPipeline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#DefunctionalizedPostHscPipeline"><span class="hs-identifier hs-type">DefunctionalizedPostHscPipeline</span></a></span><span>
</span><span id="line-872"></span><span id="backendPostHscPipeline"><span class="annot"><span class="annottext">backendPostHscPipeline :: Backend -&gt; DefunctionalizedPostHscPipeline
</span><a href="GHC.Driver.Backend.html#backendPostHscPipeline"><span class="hs-identifier hs-var hs-var">backendPostHscPipeline</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedPostHscPipeline
</span><a href="GHC.Driver.Backend.html#NcgPostHscPipeline"><span class="hs-identifier hs-var">NcgPostHscPipeline</span></a></span><span>
</span><span id="line-873"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPostHscPipeline"><span class="hs-identifier hs-var">backendPostHscPipeline</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedPostHscPipeline
</span><a href="GHC.Driver.Backend.html#LlvmPostHscPipeline"><span class="hs-identifier hs-var">LlvmPostHscPipeline</span></a></span><span>
</span><span id="line-874"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPostHscPipeline"><span class="hs-identifier hs-var">backendPostHscPipeline</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedPostHscPipeline
</span><a href="GHC.Driver.Backend.html#ViaCPostHscPipeline"><span class="hs-identifier hs-var">ViaCPostHscPipeline</span></a></span><span>
</span><span id="line-875"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPostHscPipeline"><span class="hs-identifier hs-var">backendPostHscPipeline</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedPostHscPipeline
</span><a href="GHC.Driver.Backend.html#JSPostHscPipeline"><span class="hs-identifier hs-var">JSPostHscPipeline</span></a></span><span>
</span><span id="line-876"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPostHscPipeline"><span class="hs-identifier hs-var">backendPostHscPipeline</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedPostHscPipeline
</span><a href="GHC.Driver.Backend.html#NoPostHscPipeline"><span class="hs-identifier hs-var">NoPostHscPipeline</span></a></span><span>
</span><span id="line-877"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendPostHscPipeline"><span class="hs-identifier hs-var">backendPostHscPipeline</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefunctionalizedPostHscPipeline
</span><a href="GHC.Driver.Backend.html#NoPostHscPipeline"><span class="hs-identifier hs-var">NoPostHscPipeline</span></a></span><span>
</span><span id="line-878"></span><span>
</span><span id="line-879"></span><span class="hs-comment">-- | Somewhere in the compiler driver, when compiling</span><span>
</span><span id="line-880"></span><span class="hs-comment">-- Haskell source (as opposed to a boot file or a sig</span><span>
</span><span id="line-881"></span><span class="hs-comment">-- file), it needs to know what to do with the code that</span><span>
</span><span id="line-882"></span><span class="hs-comment">-- the `backendCodeOutput` writes to a file.  This `Phase`</span><span>
</span><span id="line-883"></span><span class="hs-comment">-- value gives instructions like &quot;run the C compiler&quot;,</span><span>
</span><span id="line-884"></span><span class="hs-comment">-- &quot;run the assembler,&quot; or &quot;run the LLVM Optimizer.&quot;</span><span>
</span><span id="line-885"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNormalSuccessorPhase"><span class="hs-identifier hs-type">backendNormalSuccessorPhase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Driver.Phases.html#Phase"><span class="hs-identifier hs-type">Phase</span></a></span><span>
</span><span id="line-886"></span><span id="backendNormalSuccessorPhase"><span class="annot"><span class="annottext">backendNormalSuccessorPhase :: Backend -&gt; Phase
</span><a href="GHC.Driver.Backend.html#backendNormalSuccessorPhase"><span class="hs-identifier hs-var hs-var">backendNormalSuccessorPhase</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Phase
</span><a href="GHC.Driver.Phases.html#As"><span class="hs-identifier hs-var">As</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-887"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNormalSuccessorPhase"><span class="hs-identifier hs-var">backendNormalSuccessorPhase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Phase
</span><a href="GHC.Driver.Phases.html#LlvmOpt"><span class="hs-identifier hs-var">LlvmOpt</span></a></span><span>
</span><span id="line-888"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNormalSuccessorPhase"><span class="hs-identifier hs-var">backendNormalSuccessorPhase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Phase
</span><a href="GHC.Driver.Phases.html#HCc"><span class="hs-identifier hs-var">HCc</span></a></span><span>
</span><span id="line-889"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNormalSuccessorPhase"><span class="hs-identifier hs-var">backendNormalSuccessorPhase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Phase
</span><a href="GHC.Driver.Phases.html#StopLn"><span class="hs-identifier hs-var">StopLn</span></a></span><span>
</span><span id="line-890"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNormalSuccessorPhase"><span class="hs-identifier hs-var">backendNormalSuccessorPhase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Phase
</span><a href="GHC.Driver.Phases.html#StopLn"><span class="hs-identifier hs-var">StopLn</span></a></span><span>
</span><span id="line-891"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendNormalSuccessorPhase"><span class="hs-identifier hs-var">backendNormalSuccessorPhase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Phase
</span><a href="GHC.Driver.Phases.html#StopLn"><span class="hs-identifier hs-var">StopLn</span></a></span><span>
</span><span id="line-892"></span><span>
</span><span id="line-893"></span><span class="hs-comment">-- | Name of the back end, if any.  Used to migrate legacy</span><span>
</span><span id="line-894"></span><span class="hs-comment">-- clients of the GHC API.  Code within the GHC source</span><span>
</span><span id="line-895"></span><span class="hs-comment">-- tree should not refer to a back end's name.</span><span>
</span><span id="line-896"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendName"><span class="hs-identifier hs-type">backendName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.Internal.html#BackendName"><span class="hs-identifier hs-type">BackendName</span></a></span><span>
</span><span id="line-897"></span><span id="backendName"><span class="annot"><span class="annottext">backendName :: Backend -&gt; BackendName
</span><a href="GHC.Driver.Backend.html#backendName"><span class="hs-identifier hs-var hs-var">backendName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span>
</span><span id="line-898"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendName"><span class="hs-identifier hs-var">backendName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span>
</span><span id="line-899"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendName"><span class="hs-identifier hs-var">backendName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#ViaC"><span class="hs-identifier hs-var">ViaC</span></a></span><span>
</span><span id="line-900"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendName"><span class="hs-identifier hs-var">backendName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#JavaScript"><span class="hs-identifier hs-var">JavaScript</span></a></span><span>
</span><span id="line-901"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendName"><span class="hs-identifier hs-var">backendName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span>
</span><span id="line-902"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendName"><span class="hs-identifier hs-var">backendName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Backend.html#Named"><span class="hs-identifier hs-type">Named</span></a></span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BackendName
</span><a href="GHC.Driver.Backend.Internal.html#NoBackend"><span class="hs-identifier hs-var">NoBackend</span></a></span><span>
</span><span id="line-903"></span><span>
</span><span id="line-904"></span><span>
</span><span id="line-905"></span><span>
</span><span id="line-906"></span><span class="hs-comment">-- | A list of all back ends.  They are ordered as we wish them to</span><span>
</span><span id="line-907"></span><span class="hs-comment">-- appear when they are enumerated in error messages.</span><span>
</span><span id="line-908"></span><span>
</span><span id="line-909"></span><span class="annot"><a href="GHC.Driver.Backend.html#allBackends"><span class="hs-identifier hs-type">allBackends</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-910"></span><span id="allBackends"><span class="annot"><span class="annottext">allBackends :: [Backend]
</span><a href="GHC.Driver.Backend.html#allBackends"><span class="hs-identifier hs-var hs-var">allBackends</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Backend
</span><a href="GHC.Driver.Backend.html#ncgBackend"><span class="hs-identifier hs-var">ncgBackend</span></a></span><span>
</span><span id="line-911"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Backend
</span><a href="GHC.Driver.Backend.html#llvmBackend"><span class="hs-identifier hs-var">llvmBackend</span></a></span><span>
</span><span id="line-912"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Backend
</span><a href="GHC.Driver.Backend.html#viaCBackend"><span class="hs-identifier hs-var">viaCBackend</span></a></span><span>
</span><span id="line-913"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Backend
</span><a href="GHC.Driver.Backend.html#jsBackend"><span class="hs-identifier hs-var">jsBackend</span></a></span><span>
</span><span id="line-914"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Backend
</span><a href="GHC.Driver.Backend.html#interpreterBackend"><span class="hs-identifier hs-var">interpreterBackend</span></a></span><span>
</span><span id="line-915"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Backend
</span><a href="GHC.Driver.Backend.html#noBackend"><span class="hs-identifier hs-var">noBackend</span></a></span><span>
</span><span id="line-916"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-917"></span><span>
</span><span id="line-918"></span><span class="hs-comment">-- | When foreign C import or export is invalid, the carried value</span><span>
</span><span id="line-919"></span><span class="hs-comment">-- enumerates the /valid/ back ends.</span><span>
</span><span id="line-920"></span><span>
</span><span id="line-921"></span><span class="annot"><a href="GHC.Driver.Backend.html#backendValidityOfCImport"><span class="hs-identifier hs-type">backendValidityOfCImport</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#backendValidityOfCExport"><span class="hs-identifier hs-type">backendValidityOfCExport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#Validity%27"><span class="hs-identifier hs-type">Validity'</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Driver.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-922"></span><span>
</span><span id="line-923"></span><span id="backendValidityOfCImport"><span class="annot"><span class="annottext">backendValidityOfCImport :: Backend -&gt; Validity' [Backend]
</span><a href="GHC.Driver.Backend.html#backendValidityOfCImport"><span class="hs-identifier hs-var hs-var">backendValidityOfCImport</span></a></span></span><span> </span><span id="local-6989586621681588747"><span class="annot"><span class="annottext">Backend
</span><a href="#local-6989586621681588747"><span class="hs-identifier hs-var">backend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-924"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendSupportsCImport"><span class="hs-identifier hs-var">backendSupportsCImport</span></a></span><span> </span><span class="annot"><span class="annottext">Backend
</span><a href="#local-6989586621681588747"><span class="hs-identifier hs-var">backend</span></a></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-925"></span><span>        </span><span class="annot"><span class="annottext">Validity' [Backend]
forall a. Validity' a
</span><a href="GHC.Utils.Error.html#IsValid"><span class="hs-identifier hs-var">IsValid</span></a></span><span>
</span><span id="line-926"></span><span>    </span><span class="hs-keyword">else</span><span>
</span><span id="line-927"></span><span>        </span><span class="annot"><span class="annottext">[Backend] -&gt; Validity' [Backend]
forall a. a -&gt; Validity' a
</span><a href="GHC.Utils.Error.html#NotValid"><span class="hs-identifier hs-var">NotValid</span></a></span><span> </span><span class="annot"><span class="annottext">([Backend] -&gt; Validity' [Backend])
-&gt; [Backend] -&gt; Validity' [Backend]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Backend -&gt; Bool) -&gt; [Backend] -&gt; [Backend]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.List.html#filter/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendSupportsCImport"><span class="hs-identifier hs-var">backendSupportsCImport</span></a></span><span> </span><span class="annot"><span class="annottext">[Backend]
</span><a href="GHC.Driver.Backend.html#allBackends"><span class="hs-identifier hs-var">allBackends</span></a></span><span>
</span><span id="line-928"></span><span>
</span><span id="line-929"></span><span id="backendValidityOfCExport"><span class="annot"><span class="annottext">backendValidityOfCExport :: Backend -&gt; Validity' [Backend]
</span><a href="GHC.Driver.Backend.html#backendValidityOfCExport"><span class="hs-identifier hs-var hs-var">backendValidityOfCExport</span></a></span></span><span> </span><span id="local-6989586621681588748"><span class="annot"><span class="annottext">Backend
</span><a href="#local-6989586621681588748"><span class="hs-identifier hs-var">backend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-930"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendSupportsCExport"><span class="hs-identifier hs-var">backendSupportsCExport</span></a></span><span> </span><span class="annot"><span class="annottext">Backend
</span><a href="#local-6989586621681588748"><span class="hs-identifier hs-var">backend</span></a></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-931"></span><span>        </span><span class="annot"><span class="annottext">Validity' [Backend]
forall a. Validity' a
</span><a href="GHC.Utils.Error.html#IsValid"><span class="hs-identifier hs-var">IsValid</span></a></span><span>
</span><span id="line-932"></span><span>    </span><span class="hs-keyword">else</span><span>
</span><span id="line-933"></span><span>        </span><span class="annot"><span class="annottext">[Backend] -&gt; Validity' [Backend]
forall a. a -&gt; Validity' a
</span><a href="GHC.Utils.Error.html#NotValid"><span class="hs-identifier hs-var">NotValid</span></a></span><span> </span><span class="annot"><span class="annottext">([Backend] -&gt; Validity' [Backend])
-&gt; [Backend] -&gt; Validity' [Backend]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.18.2.1/src/GHC.Base.html#%24/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Backend -&gt; Bool) -&gt; [Backend] -&gt; [Backend]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.18.2.1/src/GHC.List.html#filter/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">Backend -&gt; Bool
</span><a href="GHC.Driver.Backend.html#backendSupportsCExport"><span class="hs-identifier hs-var">backendSupportsCExport</span></a></span><span> </span><span class="annot"><span class="annottext">[Backend]
</span><a href="GHC.Driver.Backend.html#allBackends"><span class="hs-identifier hs-var">allBackends</span></a></span><span>
</span><span id="line-934"></span><span>
</span><span id="line-935"></span><span>
</span><span id="line-936"></span><span>
</span><span id="line-937"></span><span>
</span><span id="line-938"></span><span class="hs-comment">{-
Note [Backend Defunctionalization]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
I had hoped to include code-output and post-hsc-pipeline functions
directly in the `Backend` record itself.  But this agenda was derailed
by mutual recursion in the types:

  - A `DynFlags` record contains a back end of type `Backend`.
  - A `Backend` contains a code-output function.
  - A code-output function takes Cmm as input.
  - Cmm can include a `CLabel`.
  - A `CLabel` can have elements that are defined in
    `GHC.Driver.Session`, where `DynFlags` is defined.

There is also a nasty issue in the values: a typical post-backend
pipeline function both depends on and is depended upon by functions in
&quot;GHC.Driver.Pipeline&quot;.

I'm cut the Gordian not by removing the function types from the
`Backend` record.  Instead, a function is represented by its /name/.
This representation is an example of an old trick called
/defunctionalization/, which has been used in both compilers and
interpreters for languages with first-class, nested functions.  Here,
a function's name is a value of an algebraic data type.  For example,
a code-output function is represented by a value of this type:

    data DefunctionalizedCodeOutput
      = NcgCodeOutput
      | ViaCCodeOutput
      | LlvmCodeOutput

Such a function may be applied in one of two ways:

  - In this particular example, a `case` expression in module
    &quot;GHC.Driver.CodeOutput&quot; discriminates on the value and calls the
    designated function.

  - In another example, a function of type `DefunctionalizedCDefs` is
    applied by calling function `applyCDefs`, which has this type:

    @
    applyCDefs :: DefunctionalizedCDefs -&gt; Logger -&gt; DynFlags -&gt; IO [String]
    @

    Function `applyCDefs` is defined in module &quot;GHC.SysTools.Cpp&quot;.

I don't love this solution, but defunctionalization is a standard
thing, and it makes the meanings of the enumeration values clear.

Anyone defining a new back end will need to extend both the
`DefunctionalizedCodeOutput` type and the corresponding apply
function.
-}</span><span>
</span><span id="line-991"></span></pre></body></html>