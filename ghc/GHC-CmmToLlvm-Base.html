<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>GHC.CmmToLlvm.Base</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ghc-9.6.7: The GHC API</span><ul class="links" id="page-menu"><li><a href="src/GHC.CmmToLlvm.Base.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">GHC.CmmToLlvm.Base</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Base LLVM Code Generation module</p><p>Contains functions useful through out the code generator.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:LlvmCmmDecl">LlvmCmmDecl</a> = <a href="GHC-Cmm.html#t:GenCmmDecl" title="GHC.Cmm">GenCmmDecl</a> [<a href="GHC-CmmToLlvm-Base.html#t:LlvmData" title="GHC.CmmToLlvm.Base">LlvmData</a>] (<a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Cmm.html#t:RawCmmStatics" title="GHC.Cmm">RawCmmStatics</a>) (<a href="GHC-Cmm.html#t:ListGraph" title="GHC.Cmm">ListGraph</a> <a href="GHC-Llvm-Syntax.html#t:LlvmStatement" title="GHC.Llvm.Syntax">LlvmStatement</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:LlvmBasicBlock">LlvmBasicBlock</a> = <a href="GHC-Cmm.html#t:GenBasicBlock" title="GHC.Cmm">GenBasicBlock</a> <a href="GHC-Llvm-Syntax.html#t:LlvmStatement" title="GHC.Llvm.Syntax">LlvmStatement</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:LiveGlobalRegs">LiveGlobalRegs</a> = [<a href="GHC-Cmm-Reg.html#t:GlobalReg" title="GHC.Cmm.Reg">GlobalReg</a>]</li><li class="src short"><span class="keyword">type</span> <a href="#t:LlvmUnresData">LlvmUnresData</a> = (<a href="GHC-Cmm-CLabel.html#t:CLabel" title="GHC.Cmm.CLabel">CLabel</a>, <a href="GHC-Cmm.html#t:Section" title="GHC.Cmm">Section</a>, <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a>, [<a href="GHC-CmmToLlvm-Base.html#t:UnresStatic" title="GHC.CmmToLlvm.Base">UnresStatic</a>])</li><li class="src short"><span class="keyword">type</span> <a href="#t:LlvmData">LlvmData</a> = ([<a href="GHC-Llvm-Types.html#t:LMGlobal" title="GHC.Llvm.Types">LMGlobal</a>], [<a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a>])</li><li class="src short"><span class="keyword">type</span> <a href="#t:UnresLabel">UnresLabel</a> = <a href="GHC-Cmm-Expr.html#t:CmmLit" title="GHC.Cmm.Expr">CmmLit</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:UnresStatic">UnresStatic</a> = <a href="GHC-Prelude-Basic.html#t:Either" title="GHC.Prelude.Basic">Either</a> <a href="GHC-CmmToLlvm-Base.html#t:UnresLabel" title="GHC.CmmToLlvm.Base">UnresLabel</a> <a href="GHC-Llvm-Types.html#t:LlvmStatic" title="GHC.Llvm.Types">LlvmStatic</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:LlvmM">LlvmM</a> a</li><li class="src short"><a href="#v:runLlvm">runLlvm</a> :: <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-CmmToLlvm-Config.html#t:LlvmCgConfig" title="GHC.CmmToLlvm.Config">LlvmCgConfig</a> -&gt; <a href="GHC-CmmToLlvm-Config.html#t:LlvmVersion" title="GHC.CmmToLlvm.Config">LlvmVersion</a> -&gt; <a href="GHC-Utils-BufHandle.html#t:BufHandle" title="GHC.Utils.BufHandle">BufHandle</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> a</li><li class="src short"><a href="#v:withClearVars">withClearVars</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a</li><li class="src short"><a href="#v:varLookup">varLookup</a> :: <a href="GHC-Types-Unique.html#t:Uniquable" title="GHC.Types.Unique">Uniquable</a> key =&gt; key -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> (<a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a>)</li><li class="src short"><a href="#v:varInsert">varInsert</a> :: <a href="GHC-Types-Unique.html#t:Uniquable" title="GHC.Types.Unique">Uniquable</a> key =&gt; key -&gt; <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> ()</li><li class="src short"><a href="#v:markStackReg">markStackReg</a> :: <a href="GHC-Cmm-Reg.html#t:GlobalReg" title="GHC.Cmm.Reg">GlobalReg</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> ()</li><li class="src short"><a href="#v:checkStackReg">checkStackReg</a> :: <a href="GHC-Cmm-Reg.html#t:GlobalReg" title="GHC.Cmm.Reg">GlobalReg</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:funLookup">funLookup</a> :: <a href="GHC-Types-Unique.html#t:Uniquable" title="GHC.Types.Unique">Uniquable</a> key =&gt; key -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> (<a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a>)</li><li class="src short"><a href="#v:funInsert">funInsert</a> :: <a href="GHC-Types-Unique.html#t:Uniquable" title="GHC.Types.Unique">Uniquable</a> key =&gt; key -&gt; <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> ()</li><li class="src short"><a href="#v:getLlvmVer">getLlvmVer</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-CmmToLlvm-Config.html#t:LlvmVersion" title="GHC.CmmToLlvm.Config">LlvmVersion</a></li><li class="src short"><a href="#v:dumpIfSetLlvm">dumpIfSetLlvm</a> :: <a href="GHC-Driver-Flags.html#t:DumpFlag" title="GHC.Driver.Flags">DumpFlag</a> -&gt; <a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a> -&gt; <a href="GHC-Utils-Logger.html#t:DumpFormat" title="GHC.Utils.Logger">DumpFormat</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> ()</li><li class="src short"><a href="#v:renderLlvm">renderLlvm</a> :: <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> ()</li><li class="src short"><a href="#v:markUsedVar">markUsedVar</a> :: <a href="GHC-Llvm-Types.html#t:LlvmVar" title="GHC.Llvm.Types">LlvmVar</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> ()</li><li class="src short"><a href="#v:getUsedVars">getUsedVars</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> [<a href="GHC-Llvm-Types.html#t:LlvmVar" title="GHC.Llvm.Types">LlvmVar</a>]</li><li class="src short"><a href="#v:ghcInternalFunctions">ghcInternalFunctions</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> ()</li><li class="src short"><a href="#v:getPlatform">getPlatform</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a></li><li class="src short"><a href="#v:getConfig">getConfig</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-CmmToLlvm-Config.html#t:LlvmCgConfig" title="GHC.CmmToLlvm.Config">LlvmCgConfig</a></li><li class="src short"><a href="#v:getMetaUniqueId">getMetaUniqueId</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Llvm-MetaData.html#t:MetaId" title="GHC.Llvm.MetaData">MetaId</a></li><li class="src short"><a href="#v:setUniqMeta">setUniqMeta</a> :: <a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a> -&gt; <a href="GHC-Llvm-MetaData.html#t:MetaId" title="GHC.Llvm.MetaData">MetaId</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> ()</li><li class="src short"><a href="#v:getUniqMeta">getUniqMeta</a> :: <a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> (<a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Llvm-MetaData.html#t:MetaId" title="GHC.Llvm.MetaData">MetaId</a>)</li><li class="src short"><a href="#v:liftIO">liftIO</a> :: <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> a -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a</li><li class="src short"><a href="#v:cmmToLlvmType">cmmToLlvmType</a> :: <a href="GHC-Cmm-Type.html#t:CmmType" title="GHC.Cmm.Type">CmmType</a> -&gt; <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a></li><li class="src short"><a href="#v:widthToLlvmFloat">widthToLlvmFloat</a> :: <a href="GHC-Cmm-Type.html#t:Width" title="GHC.Cmm.Type">Width</a> -&gt; <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a></li><li class="src short"><a href="#v:widthToLlvmInt">widthToLlvmInt</a> :: <a href="GHC-Cmm-Type.html#t:Width" title="GHC.Cmm.Type">Width</a> -&gt; <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a></li><li class="src short"><a href="#v:llvmFunTy">llvmFunTy</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LiveGlobalRegs" title="GHC.CmmToLlvm.Base">LiveGlobalRegs</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a></li><li class="src short"><a href="#v:llvmFunSig">llvmFunSig</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LiveGlobalRegs" title="GHC.CmmToLlvm.Base">LiveGlobalRegs</a> -&gt; <a href="GHC-Cmm-CLabel.html#t:CLabel" title="GHC.Cmm.CLabel">CLabel</a> -&gt; <a href="GHC-Llvm-Types.html#t:LlvmLinkageType" title="GHC.Llvm.Types">LlvmLinkageType</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Llvm-Types.html#t:LlvmFunctionDecl" title="GHC.Llvm.Types">LlvmFunctionDecl</a></li><li class="src short"><a href="#v:llvmFunArgs">llvmFunArgs</a> :: <a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LiveGlobalRegs" title="GHC.CmmToLlvm.Base">LiveGlobalRegs</a> -&gt; [<a href="GHC-Llvm-Types.html#t:LlvmVar" title="GHC.Llvm.Types">LlvmVar</a>]</li><li class="src short"><a href="#v:llvmStdFunAttrs">llvmStdFunAttrs</a> :: [<a href="GHC-Llvm-Types.html#t:LlvmFuncAttr" title="GHC.Llvm.Types">LlvmFuncAttr</a>]</li><li class="src short"><a href="#v:llvmFunAlign">llvmFunAlign</a> :: <a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a> -&gt; <a href="GHC-Llvm-Types.html#t:LMAlign" title="GHC.Llvm.Types">LMAlign</a></li><li class="src short"><a href="#v:llvmInfAlign">llvmInfAlign</a> :: <a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a> -&gt; <a href="GHC-Llvm-Types.html#t:LMAlign" title="GHC.Llvm.Types">LMAlign</a></li><li class="src short"><a href="#v:llvmPtrBits">llvmPtrBits</a> :: <a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Int" title="GHC.Prelude.Basic">Int</a></li><li class="src short"><a href="#v:tysToParams">tysToParams</a> :: [<a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a>] -&gt; [<a href="GHC-Llvm-Types.html#t:LlvmParameter" title="GHC.Llvm.Types">LlvmParameter</a>]</li><li class="src short"><a href="#v:llvmFunSection">llvmFunSection</a> :: <a href="GHC-CmmToLlvm-Config.html#t:LlvmCgConfig" title="GHC.CmmToLlvm.Config">LlvmCgConfig</a> -&gt; <a href="GHC-Llvm-Types.html#t:LMString" title="GHC.Llvm.Types">LMString</a> -&gt; <a href="GHC-Llvm-Types.html#t:LMSection" title="GHC.Llvm.Types">LMSection</a></li><li class="src short"><a href="#v:padLiveArgs">padLiveArgs</a> :: <a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LiveGlobalRegs" title="GHC.CmmToLlvm.Base">LiveGlobalRegs</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LiveGlobalRegs" title="GHC.CmmToLlvm.Base">LiveGlobalRegs</a></li><li class="src short"><a href="#v:isFPR">isFPR</a> :: <a href="GHC-Cmm-Reg.html#t:GlobalReg" title="GHC.Cmm.Reg">GlobalReg</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a></li><li class="src short"><a href="#v:strCLabel_llvm">strCLabel_llvm</a> :: <a href="GHC-Cmm-CLabel.html#t:CLabel" title="GHC.Cmm.CLabel">CLabel</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Llvm-Types.html#t:LMString" title="GHC.Llvm.Types">LMString</a></li><li class="src short"><a href="#v:getGlobalPtr">getGlobalPtr</a> :: <a href="GHC-Llvm-Types.html#t:LMString" title="GHC.Llvm.Types">LMString</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Llvm-Types.html#t:LlvmVar" title="GHC.Llvm.Types">LlvmVar</a></li><li class="src short"><a href="#v:generateExternDecls">generateExternDecls</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> ([<a href="GHC-Llvm-Types.html#t:LMGlobal" title="GHC.Llvm.Types">LMGlobal</a>], [<a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a>])</li><li class="src short"><a href="#v:aliasify">aliasify</a> :: <a href="GHC-Llvm-Types.html#t:LMGlobal" title="GHC.Llvm.Types">LMGlobal</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> [<a href="GHC-Llvm-Types.html#t:LMGlobal" title="GHC.Llvm.Types">LMGlobal</a>]</li><li class="src short"><a href="#v:llvmDefLabel">llvmDefLabel</a> :: <a href="GHC-Llvm-Types.html#t:LMString" title="GHC.Llvm.Types">LMString</a> -&gt; <a href="GHC-Llvm-Types.html#t:LMString" title="GHC.Llvm.Types">LMString</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:LlvmCmmDecl" class="def">LlvmCmmDecl</a> = <a href="GHC-Cmm.html#t:GenCmmDecl" title="GHC.Cmm">GenCmmDecl</a> [<a href="GHC-CmmToLlvm-Base.html#t:LlvmData" title="GHC.CmmToLlvm.Base">LlvmData</a>] (<a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Cmm.html#t:RawCmmStatics" title="GHC.Cmm">RawCmmStatics</a>) (<a href="GHC-Cmm.html#t:ListGraph" title="GHC.Cmm">ListGraph</a> <a href="GHC-Llvm-Syntax.html#t:LlvmStatement" title="GHC.Llvm.Syntax">LlvmStatement</a>) <a href="src/GHC.CmmToLlvm.Base.html#LlvmCmmDecl" class="link">Source</a> <a href="#t:LlvmCmmDecl" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:LlvmBasicBlock" class="def">LlvmBasicBlock</a> = <a href="GHC-Cmm.html#t:GenBasicBlock" title="GHC.Cmm">GenBasicBlock</a> <a href="GHC-Llvm-Syntax.html#t:LlvmStatement" title="GHC.Llvm.Syntax">LlvmStatement</a> <a href="src/GHC.CmmToLlvm.Base.html#LlvmBasicBlock" class="link">Source</a> <a href="#t:LlvmBasicBlock" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:LiveGlobalRegs" class="def">LiveGlobalRegs</a> = [<a href="GHC-Cmm-Reg.html#t:GlobalReg" title="GHC.Cmm.Reg">GlobalReg</a>] <a href="src/GHC.CmmToLlvm.Base.html#LiveGlobalRegs" class="link">Source</a> <a href="#t:LiveGlobalRegs" class="selflink">#</a></p><div class="doc"><p>Global registers live on proc entry</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:LlvmUnresData" class="def">LlvmUnresData</a> = (<a href="GHC-Cmm-CLabel.html#t:CLabel" title="GHC.Cmm.CLabel">CLabel</a>, <a href="GHC-Cmm.html#t:Section" title="GHC.Cmm">Section</a>, <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a>, [<a href="GHC-CmmToLlvm-Base.html#t:UnresStatic" title="GHC.CmmToLlvm.Base">UnresStatic</a>]) <a href="src/GHC.CmmToLlvm.Base.html#LlvmUnresData" class="link">Source</a> <a href="#t:LlvmUnresData" class="selflink">#</a></p><div class="doc"><p>Unresolved code.
 Of the form: (data label, data type, unresolved data)</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:LlvmData" class="def">LlvmData</a> = ([<a href="GHC-Llvm-Types.html#t:LMGlobal" title="GHC.Llvm.Types">LMGlobal</a>], [<a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a>]) <a href="src/GHC.CmmToLlvm.Base.html#LlvmData" class="link">Source</a> <a href="#t:LlvmData" class="selflink">#</a></p><div class="doc"><p>Top level LLVM Data (globals and type aliases)</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UnresLabel" class="def">UnresLabel</a> = <a href="GHC-Cmm-Expr.html#t:CmmLit" title="GHC.Cmm.Expr">CmmLit</a> <a href="src/GHC.CmmToLlvm.Base.html#UnresLabel" class="link">Source</a> <a href="#t:UnresLabel" class="selflink">#</a></p><div class="doc"><p>An unresolved Label.</p><p>Labels are unresolved when we haven't yet determined if they are defined in
 the module we are currently compiling, or an external one.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UnresStatic" class="def">UnresStatic</a> = <a href="GHC-Prelude-Basic.html#t:Either" title="GHC.Prelude.Basic">Either</a> <a href="GHC-CmmToLlvm-Base.html#t:UnresLabel" title="GHC.CmmToLlvm.Base">UnresLabel</a> <a href="GHC-Llvm-Types.html#t:LlvmStatic" title="GHC.Llvm.Types">LlvmStatic</a> <a href="src/GHC.CmmToLlvm.Base.html#UnresStatic" class="link">Source</a> <a href="#t:UnresStatic" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LlvmM" class="def">LlvmM</a> a <a href="src/GHC.CmmToLlvm.Base.html#LlvmM" class="link">Source</a> <a href="#t:LlvmM" class="selflink">#</a></p><div class="doc"><p>The Llvm monad. Wraps <code>LlvmEnv</code> state as well as the <code>IO</code> monad</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:LlvmM">Instances</h4><details id="i:LlvmM" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LlvmM:Applicative:1"></span> <a href="GHC-Utils-Monad.html#t:Applicative" title="GHC.Utils.Monad">Applicative</a> <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a></span> <a href="src/GHC.CmmToLlvm.Base.html#line-280" class="link">Source</a> <a href="#t:LlvmM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LlvmM:Applicative:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-CmmToLlvm-Base.html">GHC.CmmToLlvm.Base</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a <a href="../base-4.18.3.0/src/GHC.Base.html#pure" class="link">Source</a> <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> (a -&gt; b) -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> b <a href="../base-4.18.3.0/src/GHC.Base.html#%3C%2A%3E" class="link">Source</a> <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> b -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> c <a href="../base-4.18.3.0/src/GHC.Base.html#liftA2" class="link">Source</a> <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> b -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> b <a href="../base-4.18.3.0/src/GHC.Base.html#%2A%3E" class="link">Source</a> <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> b -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a <a href="../base-4.18.3.0/src/GHC.Base.html#%3C%2A" class="link">Source</a> <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LlvmM:Functor:2"></span> <a href="GHC-Prelude-Basic.html#t:Functor" title="GHC.Prelude.Basic">Functor</a> <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a></span> <a href="src/GHC.CmmToLlvm.Base.html#line-279" class="link">Source</a> <a href="#t:LlvmM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LlvmM:Functor:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-CmmToLlvm-Base.html">GHC.CmmToLlvm.Base</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> b <a href="../base-4.18.3.0/src/GHC.Base.html#fmap" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> b -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a <a href="../base-4.18.3.0/src/GHC.Base.html#%3C%24" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LlvmM:Monad:3"></span> <a href="GHC-Prelude-Basic.html#t:Monad" title="GHC.Prelude.Basic">Monad</a> <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a></span> <a href="src/GHC.CmmToLlvm.Base.html#line-280" class="link">Source</a> <a href="#t:LlvmM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LlvmM:Monad:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-CmmToLlvm-Base.html">GHC.CmmToLlvm.Base</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a -&gt; (a -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> b) -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> b <a href="../base-4.18.3.0/src/GHC.Base.html#%3E%3E%3D" class="link">Source</a> <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> b -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> b <a href="../base-4.18.3.0/src/GHC.Base.html#%3E%3E" class="link">Source</a> <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a <a href="../base-4.18.3.0/src/GHC.Base.html#return" class="link">Source</a> <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LlvmM:MonadUnique:4"></span> <a href="GHC-Types-Unique-Supply.html#t:MonadUnique" title="GHC.Types.Unique.Supply">MonadUnique</a> <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a></span> <a href="src/GHC.CmmToLlvm.Base.html#line-293" class="link">Source</a> <a href="#t:LlvmM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LlvmM:MonadUnique:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-CmmToLlvm-Base.html">GHC.CmmToLlvm.Base</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getUniqueSupplyM">getUniqueSupplyM</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Types-Unique-Supply.html#t:UniqSupply" title="GHC.Types.Unique.Supply">UniqSupply</a> <a href="src/GHC.Types.Unique.Supply.html#getUniqueSupplyM" class="link">Source</a> <a href="#v:getUniqueSupplyM" class="selflink">#</a></p><p class="src"><a href="#v:getUniqueM">getUniqueM</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a> <a href="src/GHC.Types.Unique.Supply.html#getUniqueM" class="link">Source</a> <a href="#v:getUniqueM" class="selflink">#</a></p><p class="src"><a href="#v:getUniquesM">getUniquesM</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> [<a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a>] <a href="src/GHC.Types.Unique.Supply.html#getUniquesM" class="link">Source</a> <a href="#v:getUniquesM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LlvmM:HasLogger:5"></span> <a href="GHC-Utils-Logger.html#t:HasLogger" title="GHC.Utils.Logger">HasLogger</a> <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a></span> <a href="src/GHC.CmmToLlvm.Base.html#line-282" class="link">Source</a> <a href="#t:LlvmM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LlvmM:HasLogger:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="GHC-CmmToLlvm-Base.html">GHC.CmmToLlvm.Base</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getLogger">getLogger</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> <a href="src/GHC.Utils.Logger.html#getLogger" class="link">Source</a> <a href="#v:getLogger" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:runLlvm" class="def">runLlvm</a> :: <a href="GHC-Utils-Logger.html#t:Logger" title="GHC.Utils.Logger">Logger</a> -&gt; <a href="GHC-CmmToLlvm-Config.html#t:LlvmCgConfig" title="GHC.CmmToLlvm.Config">LlvmCgConfig</a> -&gt; <a href="GHC-CmmToLlvm-Config.html#t:LlvmVersion" title="GHC.CmmToLlvm.Config">LlvmVersion</a> -&gt; <a href="GHC-Utils-BufHandle.html#t:BufHandle" title="GHC.Utils.BufHandle">BufHandle</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a -&gt; <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> a <a href="src/GHC.CmmToLlvm.Base.html#runLlvm" class="link">Source</a> <a href="#v:runLlvm" class="selflink">#</a></p><div class="doc"><p>Get initial Llvm environment.</p></div></div><div class="top"><p class="src"><a id="v:withClearVars" class="def">withClearVars</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a <a href="src/GHC.CmmToLlvm.Base.html#withClearVars" class="link">Source</a> <a href="#v:withClearVars" class="selflink">#</a></p><div class="doc"><p>Clear variables from the environment for a subcomputation</p></div></div><div class="top"><p class="src"><a id="v:varLookup" class="def">varLookup</a> :: <a href="GHC-Types-Unique.html#t:Uniquable" title="GHC.Types.Unique">Uniquable</a> key =&gt; key -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> (<a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a>) <a href="src/GHC.CmmToLlvm.Base.html#varLookup" class="link">Source</a> <a href="#v:varLookup" class="selflink">#</a></p><div class="doc"><p>Lookup variables or functions in the environment.</p></div></div><div class="top"><p class="src"><a id="v:varInsert" class="def">varInsert</a> :: <a href="GHC-Types-Unique.html#t:Uniquable" title="GHC.Types.Unique">Uniquable</a> key =&gt; key -&gt; <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> () <a href="src/GHC.CmmToLlvm.Base.html#varInsert" class="link">Source</a> <a href="#v:varInsert" class="selflink">#</a></p><div class="doc"><p>Insert variables or functions into the environment.</p></div></div><div class="top"><p class="src"><a id="v:markStackReg" class="def">markStackReg</a> :: <a href="GHC-Cmm-Reg.html#t:GlobalReg" title="GHC.Cmm.Reg">GlobalReg</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> () <a href="src/GHC.CmmToLlvm.Base.html#markStackReg" class="link">Source</a> <a href="#v:markStackReg" class="selflink">#</a></p><div class="doc"><p>Set a register as allocated on the stack</p></div></div><div class="top"><p class="src"><a id="v:checkStackReg" class="def">checkStackReg</a> :: <a href="GHC-Cmm-Reg.html#t:GlobalReg" title="GHC.Cmm.Reg">GlobalReg</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.CmmToLlvm.Base.html#checkStackReg" class="link">Source</a> <a href="#v:checkStackReg" class="selflink">#</a></p><div class="doc"><p>Check whether a register is allocated on the stack</p></div></div><div class="top"><p class="src"><a id="v:funLookup" class="def">funLookup</a> :: <a href="GHC-Types-Unique.html#t:Uniquable" title="GHC.Types.Unique">Uniquable</a> key =&gt; key -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> (<a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a>) <a href="src/GHC.CmmToLlvm.Base.html#funLookup" class="link">Source</a> <a href="#v:funLookup" class="selflink">#</a></p><div class="doc"><p>Lookup variables or functions in the environment.</p></div></div><div class="top"><p class="src"><a id="v:funInsert" class="def">funInsert</a> :: <a href="GHC-Types-Unique.html#t:Uniquable" title="GHC.Types.Unique">Uniquable</a> key =&gt; key -&gt; <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> () <a href="src/GHC.CmmToLlvm.Base.html#funInsert" class="link">Source</a> <a href="#v:funInsert" class="selflink">#</a></p><div class="doc"><p>Insert variables or functions into the environment.</p></div></div><div class="top"><p class="src"><a id="v:getLlvmVer" class="def">getLlvmVer</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-CmmToLlvm-Config.html#t:LlvmVersion" title="GHC.CmmToLlvm.Config">LlvmVersion</a> <a href="src/GHC.CmmToLlvm.Base.html#getLlvmVer" class="link">Source</a> <a href="#v:getLlvmVer" class="selflink">#</a></p><div class="doc"><p>Get the LLVM version we are generating code for</p></div></div><div class="top"><p class="src"><a id="v:dumpIfSetLlvm" class="def">dumpIfSetLlvm</a> :: <a href="GHC-Driver-Flags.html#t:DumpFlag" title="GHC.Driver.Flags">DumpFlag</a> -&gt; <a href="GHC-Prelude-Basic.html#t:String" title="GHC.Prelude.Basic">String</a> -&gt; <a href="GHC-Utils-Logger.html#t:DumpFormat" title="GHC.Utils.Logger">DumpFormat</a> -&gt; <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> () <a href="src/GHC.CmmToLlvm.Base.html#dumpIfSetLlvm" class="link">Source</a> <a href="#v:dumpIfSetLlvm" class="selflink">#</a></p><div class="doc"><p>Dumps the document if the corresponding flag has been set by the user</p></div></div><div class="top"><p class="src"><a id="v:renderLlvm" class="def">renderLlvm</a> :: <a href="GHC-Utils-Outputable.html#t:SDoc" title="GHC.Utils.Outputable">SDoc</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> () <a href="src/GHC.CmmToLlvm.Base.html#renderLlvm" class="link">Source</a> <a href="#v:renderLlvm" class="selflink">#</a></p><div class="doc"><p>Prints the given contents to the output handle</p></div></div><div class="top"><p class="src"><a id="v:markUsedVar" class="def">markUsedVar</a> :: <a href="GHC-Llvm-Types.html#t:LlvmVar" title="GHC.Llvm.Types">LlvmVar</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> () <a href="src/GHC.CmmToLlvm.Base.html#markUsedVar" class="link">Source</a> <a href="#v:markUsedVar" class="selflink">#</a></p><div class="doc"><p>Marks a variable as &quot;used&quot;</p></div></div><div class="top"><p class="src"><a id="v:getUsedVars" class="def">getUsedVars</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> [<a href="GHC-Llvm-Types.html#t:LlvmVar" title="GHC.Llvm.Types">LlvmVar</a>] <a href="src/GHC.CmmToLlvm.Base.html#getUsedVars" class="link">Source</a> <a href="#v:getUsedVars" class="selflink">#</a></p><div class="doc"><p>Return all variables marked as &quot;used&quot; so far</p></div></div><div class="top"><p class="src"><a id="v:ghcInternalFunctions" class="def">ghcInternalFunctions</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> () <a href="src/GHC.CmmToLlvm.Base.html#ghcInternalFunctions" class="link">Source</a> <a href="#v:ghcInternalFunctions" class="selflink">#</a></p><div class="doc"><p>Here we pre-initialise some functions that are used internally by GHC
 so as to make sure they have the most general type in the case that
 user code also uses these functions but with a different type than GHC
 internally. (Main offender is treating return type as <code>void</code> instead of
 'void *'). Fixes trac #5486.</p></div></div><div class="top"><p class="src"><a id="v:getPlatform" class="def">getPlatform</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a> <a href="src/GHC.CmmToLlvm.Base.html#getPlatform" class="link">Source</a> <a href="#v:getPlatform" class="selflink">#</a></p><div class="doc"><p>Get target platform</p></div></div><div class="top"><p class="src"><a id="v:getConfig" class="def">getConfig</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-CmmToLlvm-Config.html#t:LlvmCgConfig" title="GHC.CmmToLlvm.Config">LlvmCgConfig</a> <a href="src/GHC.CmmToLlvm.Base.html#getConfig" class="link">Source</a> <a href="#v:getConfig" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getMetaUniqueId" class="def">getMetaUniqueId</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Llvm-MetaData.html#t:MetaId" title="GHC.Llvm.MetaData">MetaId</a> <a href="src/GHC.CmmToLlvm.Base.html#getMetaUniqueId" class="link">Source</a> <a href="#v:getMetaUniqueId" class="selflink">#</a></p><div class="doc"><p>Allocate a new global unnamed metadata identifier</p></div></div><div class="top"><p class="src"><a id="v:setUniqMeta" class="def">setUniqMeta</a> :: <a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a> -&gt; <a href="GHC-Llvm-MetaData.html#t:MetaId" title="GHC.Llvm.MetaData">MetaId</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> () <a href="src/GHC.CmmToLlvm.Base.html#setUniqMeta" class="link">Source</a> <a href="#v:setUniqMeta" class="selflink">#</a></p><div class="doc"><p>Sets metadata node for a given unique</p></div></div><div class="top"><p class="src"><a id="v:getUniqMeta" class="def">getUniqMeta</a> :: <a href="GHC-Types-Unique.html#t:Unique" title="GHC.Types.Unique">Unique</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> (<a href="GHC-Prelude-Basic.html#t:Maybe" title="GHC.Prelude.Basic">Maybe</a> <a href="GHC-Llvm-MetaData.html#t:MetaId" title="GHC.Llvm.MetaData">MetaId</a>) <a href="src/GHC.CmmToLlvm.Base.html#getUniqMeta" class="link">Source</a> <a href="#v:getUniqMeta" class="selflink">#</a></p><div class="doc"><p>Gets metadata node for given unique</p></div></div><div class="top"><p class="src"><a id="v:liftIO" class="def">liftIO</a> :: <a href="GHC-Prelude-Basic.html#t:IO" title="GHC.Prelude.Basic">IO</a> a -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> a <a href="src/GHC.CmmToLlvm.Base.html#liftIO" class="link">Source</a> <a href="#v:liftIO" class="selflink">#</a></p><div class="doc"><p>Lifting of IO actions. Not exported, as we want to encapsulate IO.</p></div></div><div class="top"><p class="src"><a id="v:cmmToLlvmType" class="def">cmmToLlvmType</a> :: <a href="GHC-Cmm-Type.html#t:CmmType" title="GHC.Cmm.Type">CmmType</a> -&gt; <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a> <a href="src/GHC.CmmToLlvm.Base.html#cmmToLlvmType" class="link">Source</a> <a href="#v:cmmToLlvmType" class="selflink">#</a></p><div class="doc"><p>Translate a basic CmmType to an LlvmType.</p></div></div><div class="top"><p class="src"><a id="v:widthToLlvmFloat" class="def">widthToLlvmFloat</a> :: <a href="GHC-Cmm-Type.html#t:Width" title="GHC.Cmm.Type">Width</a> -&gt; <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a> <a href="src/GHC.CmmToLlvm.Base.html#widthToLlvmFloat" class="link">Source</a> <a href="#v:widthToLlvmFloat" class="selflink">#</a></p><div class="doc"><p>Translate a Cmm Float Width to a LlvmType.</p></div></div><div class="top"><p class="src"><a id="v:widthToLlvmInt" class="def">widthToLlvmInt</a> :: <a href="GHC-Cmm-Type.html#t:Width" title="GHC.Cmm.Type">Width</a> -&gt; <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a> <a href="src/GHC.CmmToLlvm.Base.html#widthToLlvmInt" class="link">Source</a> <a href="#v:widthToLlvmInt" class="selflink">#</a></p><div class="doc"><p>Translate a Cmm Bit Width to a LlvmType.</p></div></div><div class="top"><p class="src"><a id="v:llvmFunTy" class="def">llvmFunTy</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LiveGlobalRegs" title="GHC.CmmToLlvm.Base">LiveGlobalRegs</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a> <a href="src/GHC.CmmToLlvm.Base.html#llvmFunTy" class="link">Source</a> <a href="#v:llvmFunTy" class="selflink">#</a></p><div class="doc"><p>Llvm Function type for Cmm function</p></div></div><div class="top"><p class="src"><a id="v:llvmFunSig" class="def">llvmFunSig</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LiveGlobalRegs" title="GHC.CmmToLlvm.Base">LiveGlobalRegs</a> -&gt; <a href="GHC-Cmm-CLabel.html#t:CLabel" title="GHC.Cmm.CLabel">CLabel</a> -&gt; <a href="GHC-Llvm-Types.html#t:LlvmLinkageType" title="GHC.Llvm.Types">LlvmLinkageType</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Llvm-Types.html#t:LlvmFunctionDecl" title="GHC.Llvm.Types">LlvmFunctionDecl</a> <a href="src/GHC.CmmToLlvm.Base.html#llvmFunSig" class="link">Source</a> <a href="#v:llvmFunSig" class="selflink">#</a></p><div class="doc"><p>Llvm Function signature</p></div></div><div class="top"><p class="src"><a id="v:llvmFunArgs" class="def">llvmFunArgs</a> :: <a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LiveGlobalRegs" title="GHC.CmmToLlvm.Base">LiveGlobalRegs</a> -&gt; [<a href="GHC-Llvm-Types.html#t:LlvmVar" title="GHC.Llvm.Types">LlvmVar</a>] <a href="src/GHC.CmmToLlvm.Base.html#llvmFunArgs" class="link">Source</a> <a href="#v:llvmFunArgs" class="selflink">#</a></p><div class="doc"><p>A Function's arguments</p></div></div><div class="top"><p class="src"><a id="v:llvmStdFunAttrs" class="def">llvmStdFunAttrs</a> :: [<a href="GHC-Llvm-Types.html#t:LlvmFuncAttr" title="GHC.Llvm.Types">LlvmFuncAttr</a>] <a href="src/GHC.CmmToLlvm.Base.html#llvmStdFunAttrs" class="link">Source</a> <a href="#v:llvmStdFunAttrs" class="selflink">#</a></p><div class="doc"><p>Llvm standard fun attributes</p></div></div><div class="top"><p class="src"><a id="v:llvmFunAlign" class="def">llvmFunAlign</a> :: <a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a> -&gt; <a href="GHC-Llvm-Types.html#t:LMAlign" title="GHC.Llvm.Types">LMAlign</a> <a href="src/GHC.CmmToLlvm.Base.html#llvmFunAlign" class="link">Source</a> <a href="#v:llvmFunAlign" class="selflink">#</a></p><div class="doc"><p>Alignment to use for functions</p></div></div><div class="top"><p class="src"><a id="v:llvmInfAlign" class="def">llvmInfAlign</a> :: <a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a> -&gt; <a href="GHC-Llvm-Types.html#t:LMAlign" title="GHC.Llvm.Types">LMAlign</a> <a href="src/GHC.CmmToLlvm.Base.html#llvmInfAlign" class="link">Source</a> <a href="#v:llvmInfAlign" class="selflink">#</a></p><div class="doc"><p>Alignment to use for into tables</p></div></div><div class="top"><p class="src"><a id="v:llvmPtrBits" class="def">llvmPtrBits</a> :: <a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Int" title="GHC.Prelude.Basic">Int</a> <a href="src/GHC.CmmToLlvm.Base.html#llvmPtrBits" class="link">Source</a> <a href="#v:llvmPtrBits" class="selflink">#</a></p><div class="doc"><p>Pointer width</p></div></div><div class="top"><p class="src"><a id="v:tysToParams" class="def">tysToParams</a> :: [<a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a>] -&gt; [<a href="GHC-Llvm-Types.html#t:LlvmParameter" title="GHC.Llvm.Types">LlvmParameter</a>] <a href="src/GHC.CmmToLlvm.Base.html#tysToParams" class="link">Source</a> <a href="#v:tysToParams" class="selflink">#</a></p><div class="doc"><p>Convert a list of types to a list of function parameters
 (each with no parameter attributes)</p></div></div><div class="top"><p class="src"><a id="v:llvmFunSection" class="def">llvmFunSection</a> :: <a href="GHC-CmmToLlvm-Config.html#t:LlvmCgConfig" title="GHC.CmmToLlvm.Config">LlvmCgConfig</a> -&gt; <a href="GHC-Llvm-Types.html#t:LMString" title="GHC.Llvm.Types">LMString</a> -&gt; <a href="GHC-Llvm-Types.html#t:LMSection" title="GHC.Llvm.Types">LMSection</a> <a href="src/GHC.CmmToLlvm.Base.html#llvmFunSection" class="link">Source</a> <a href="#v:llvmFunSection" class="selflink">#</a></p><div class="doc"><p>Section to use for a function</p></div></div><div class="top"><p class="src"><a id="v:padLiveArgs" class="def">padLiveArgs</a> :: <a href="GHC-Platform.html#t:Platform" title="GHC.Platform">Platform</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LiveGlobalRegs" title="GHC.CmmToLlvm.Base">LiveGlobalRegs</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LiveGlobalRegs" title="GHC.CmmToLlvm.Base">LiveGlobalRegs</a> <a href="src/GHC.CmmToLlvm.Base.html#padLiveArgs" class="link">Source</a> <a href="#v:padLiveArgs" class="selflink">#</a></p><div class="doc"><p>Return a list of &quot;padding&quot; registers for LLVM function calls.</p><p>When we generate LLVM function signatures, we can't just make any register
 alive on function entry. Instead, we need to insert fake arguments of the
 same register class until we are sure that one of them is mapped to the
 register we want alive. E.g. to ensure that F5 is alive, we may need to
 insert fake arguments mapped to F1, F2, F3 and F4.</p><p>Invariant: Cmm FPR regs with number &quot;n&quot; maps to real registers with number
 &quot;n&quot; If the calling convention uses registers in a different order or if the
 invariant doesn't hold, this code probably won't be correct.</p></div></div><div class="top"><p class="src"><a id="v:isFPR" class="def">isFPR</a> :: <a href="GHC-Cmm-Reg.html#t:GlobalReg" title="GHC.Cmm.Reg">GlobalReg</a> -&gt; <a href="GHC-Prelude-Basic.html#t:Bool" title="GHC.Prelude.Basic">Bool</a> <a href="src/GHC.CmmToLlvm.Base.html#isFPR" class="link">Source</a> <a href="#v:isFPR" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:strCLabel_llvm" class="def">strCLabel_llvm</a> :: <a href="GHC-Cmm-CLabel.html#t:CLabel" title="GHC.Cmm.CLabel">CLabel</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Llvm-Types.html#t:LMString" title="GHC.Llvm.Types">LMString</a> <a href="src/GHC.CmmToLlvm.Base.html#strCLabel_llvm" class="link">Source</a> <a href="#v:strCLabel_llvm" class="selflink">#</a></p><div class="doc"><p>Pretty print a <code><a href="GHC-Cmm-CLabel.html#t:CLabel" title="GHC.Cmm.CLabel">CLabel</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:getGlobalPtr" class="def">getGlobalPtr</a> :: <a href="GHC-Llvm-Types.html#t:LMString" title="GHC.Llvm.Types">LMString</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> <a href="GHC-Llvm-Types.html#t:LlvmVar" title="GHC.Llvm.Types">LlvmVar</a> <a href="src/GHC.CmmToLlvm.Base.html#getGlobalPtr" class="link">Source</a> <a href="#v:getGlobalPtr" class="selflink">#</a></p><div class="doc"><p>Create/get a pointer to a global value. Might return an alias if
 the value in question hasn't been defined yet. We especially make
 no guarantees on the type of the returned pointer.</p></div></div><div class="top"><p class="src"><a id="v:generateExternDecls" class="def">generateExternDecls</a> :: <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> ([<a href="GHC-Llvm-Types.html#t:LMGlobal" title="GHC.Llvm.Types">LMGlobal</a>], [<a href="GHC-Llvm-Types.html#t:LlvmType" title="GHC.Llvm.Types">LlvmType</a>]) <a href="src/GHC.CmmToLlvm.Base.html#generateExternDecls" class="link">Source</a> <a href="#v:generateExternDecls" class="selflink">#</a></p><div class="doc"><p>Generate definitions for aliases forward-referenced by <code>getGlobalPtr</code>.</p><p>Must be called at a point where we are sure that no new global definitions
 will be generated anymore!</p></div></div><div class="top"><p class="src"><a id="v:aliasify" class="def">aliasify</a> :: <a href="GHC-Llvm-Types.html#t:LMGlobal" title="GHC.Llvm.Types">LMGlobal</a> -&gt; <a href="GHC-CmmToLlvm-Base.html#t:LlvmM" title="GHC.CmmToLlvm.Base">LlvmM</a> [<a href="GHC-Llvm-Types.html#t:LMGlobal" title="GHC.Llvm.Types">LMGlobal</a>] <a href="src/GHC.CmmToLlvm.Base.html#aliasify" class="link">Source</a> <a href="#v:aliasify" class="selflink">#</a></p><div class="doc"><p>Here we take a global variable definition, rename it with a
 <code>$def</code> suffix, and generate the appropriate alias.</p></div></div><div class="top"><p class="src"><a id="v:llvmDefLabel" class="def">llvmDefLabel</a> :: <a href="GHC-Llvm-Types.html#t:LMString" title="GHC.Llvm.Types">LMString</a> -&gt; <a href="GHC-Llvm-Types.html#t:LMString" title="GHC.Llvm.Types">LMString</a> <a href="src/GHC.CmmToLlvm.Base.html#llvmDefLabel" class="link">Source</a> <a href="#v:llvmDefLabel" class="selflink">#</a></p><div class="doc"><p>Derive the definition label. It has an identified
 structure type.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>